/*! For license information please see main.96136e41.js.LICENSE.txt */
(()=>{var e={3746:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe,B:()=>S,C:()=>se,E:()=>E,F:()=>ce,a:()=>x,b:()=>ye,c:()=>q,d:()=>we,e:()=>p,f:()=>K,i:()=>w,u:()=>_});var r=n(9408),i=n(5043),a=n(7205);function o(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){const n=r(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}const s="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?i.useEffect:i.useLayoutEffect;var l=n(2016),u=n.n(l),c=n(8784),d=n(2906),f=n(579);const h={},p=e=>{Object.assign(h,e)};var m,g;const v=e=>"colorSpace"in e||"outputColorSpace"in e,y=()=>{var e;return null!=(e=h.ColorManagement)?e:null},b=e=>e&&e.isOrthographicCamera,w=e=>e&&e.hasOwnProperty("current"),x="undefined"!==typeof window&&(null!=(m=window.document)&&m.createElement||"ReactNative"===(null==(g=window.navigator)?void 0:g.product))?i.useLayoutEffect:i.useEffect;function _(e){const t=i.useRef(e);return x((()=>{t.current=e}),[e]),t}function S(e){let{set:t}=e;return x((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class E extends i.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}E.getDerivedStateFromError=()=>({error:!0});const k="__default",C=new Map,M=e=>e&&!!e.memoized&&!!e.changes;function P(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const T=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function A(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const R={obj:e=>e===Object(e)&&!R.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(R.str(e)||R.num(e)||R.boo(e))return e===t;const a=R.obj(e);if(a&&"reference"===r)return e===t;const o=R.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!R.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(R.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function I(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function O(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function z(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const L=/-\d+$/;function D(e,t,n){if(R.str(n)){if(L.test(n)){const t=n.replace(L,""),{target:r,key:i}=z(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=z(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function N(e,t,n){var r,i;if(R.str(n)){const{target:r,key:i}=z(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function U(e,t){let{children:n,key:r,ref:i,...a}=t,{children:o,key:s,ref:l,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const d=e.__r3f,f=Object.entries(a),h=[];if(c){const e=Object.keys(u);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||f.unshift([e[t],k+"remove"])}f.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n)return;if(R.equ(r,u[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return h.push([n,r,!0,[]]);let o=[];n.includes("-")&&(o=n.split("-")),h.push([n,r,!1,o]);for(const e in a){const t=a[e];e.startsWith("".concat(n,"-"))&&h.push([e,t,!1,e.split("-")])}}));const p={...a};return null!=d&&d.memoizedProps&&null!=d&&d.memoizedProps.args&&(p.args=d.memoizedProps.args),null!=d&&d.memoizedProps&&null!=d&&d.memoizedProps.attach&&(p.attach=d.memoizedProps.attach),{memoized:p,changes:h}}const j="undefined"!==typeof process&&!1;function F(e,t){var n;const i=e.__r3f,a=null==i?void 0:i.root,o=null==a||null==a.getState?void 0:a.getState(),{memoized:s,changes:l}=M(t)?t:U(e,t),u=null==i?void 0:i.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let c=0;c<l.length;c++){let[t,n,a,s]=l[c];if(v(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let u=e,d=u[t];if(s.length&&(d=s.reduce(((e,t)=>e[t]),e),!d||!d.set)){const[n,...r]=s.reverse();u=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===k+"remove")if(u.constructor){let e=C.get(u.constructor);e||(e=new u.constructor,C.set(u.constructor,e)),n=e[t]}else n=0;if(a&&i)n?i.handlers[t]=n:delete i.handlers[t],i.eventCount=Object.keys(i.handlers).length;else if(d&&d.set&&(d.copy||d instanceof r.Layers)){if(Array.isArray(n))d.fromArray?d.fromArray(n):d.set(...n);else if(d.copy&&n&&n.constructor&&(j?d.constructor.name===n.constructor.name:d.constructor===n.constructor))d.copy(n);else if(void 0!==n){const e=d instanceof r.Color;!e&&d.setScalar?d.setScalar(n):d instanceof r.Layers&&n instanceof r.Layers?d.mask=n.mask:d.set(n),!y()&&o&&!o.linear&&e&&d.convertSRGBToLinear()}}else if(u[t]=n,u[t]instanceof r.Texture&&u[t].format===r.RGBAFormat&&u[t].type===r.UnsignedByteType&&o){const e=u[t];v(e)&&v(o.gl)?e.colorSpace=o.gl.outputColorSpace:e.encoding=o.gl.outputEncoding}B(e)}if(i&&i.parent&&e.raycast&&u!==i.eventCount){const t=A(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),i.eventCount&&t.interaction.push(e)}return!(1===l.length&&"onUpdate"===l[0][0])&&l.length&&null!=(n=e.__r3f)&&n.parent&&V(e),e}function B(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function V(e){null==e.onUpdate||e.onUpdate(e)}function H(e,t){e.manual||(b(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function W(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function G(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function q(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(W(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function i(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(o){const{onPointerMissed:s,internal:l}=e.getState();l.lastEvent.current=o;const u="onPointerMove"===a,c="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,d=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=T(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap((function(e){const n=T(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=T(e.object),r=T(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=W(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(W(e.intersection))||a.push(e.intersection);return a}(o,u?t:void 0),f=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===a&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=d.map((e=>e.eventObject))),c&&!d.length&&f<=2&&(i(o,l.interaction),s&&s(o)),u&&n(d),function(t,i,a,o){const s=e.getState();if(t.length){const e={stopped:!1};for(const l of t){const u=T(l.object)||s,{raycaster:c,pointer:d,camera:f,internal:h}=u,p=new r.Vector3(d.x,d.y,0).unproject(f),m=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},g=e=>{const t={intersection:l,target:i.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(l.eventObject,t):h.capturedMap.set(e,new Map([[l.eventObject,t]])),i.target.setPointerCapture(e)},v=e=>{const t=h.capturedMap.get(e);t&&G(h.capturedMap,l.eventObject,t,e)};let y={};for(let e in i){let t=i[e];"function"!==typeof t&&(y[e]=t)}let b={...l,...y,pointer:d,intersections:t,stopped:e.stopped,delta:a,unprojectedPoint:p,ray:c.ray,camera:f,stopPropagation(){const r="pointerId"in i&&h.capturedMap.get(i.pointerId);(!r||r.has(l.eventObject))&&(b.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((e=>e.eventObject===l.eventObject)))&&n([...t.slice(0,t.indexOf(l)),l])},target:{hasPointerCapture:m,setPointerCapture:g,releasePointerCapture:v},currentTarget:{hasPointerCapture:m,setPointerCapture:g,releasePointerCapture:v},nativeEvent:i};if(o(b),!0===e.stopped)break}}}(d,o,f,(function(e){const t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(u){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){const t=W(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{const n=r[a];n?c&&!l.initialHits.includes(t)||(i(o,l.interaction.filter((e=>!l.initialHits.includes(e)))),n(e)):c&&l.initialHits.includes(t)&&i(o,l.interaction.filter((e=>!l.initialHits.includes(e))))}}))}}}}const X=e=>!(null==e||!e.render),K=i.createContext(null),Y=(e,t)=>{const n=function(e){const t="function"===typeof e?o(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,r]=(0,i.useReducer)((e=>e+1),0),a=t.getState(),o=(0,i.useRef)(a),l=(0,i.useRef)(e),u=(0,i.useRef)(n),c=(0,i.useRef)(!1),d=(0,i.useRef)();let f;void 0===d.current&&(d.current=e(a));let h=!1;(o.current!==a||l.current!==e||u.current!==n||c.current)&&(f=e(a),h=!n(d.current,f)),s((()=>{h&&(d.current=f),o.current=a,l.current=e,u.current=n,c.current=!1}));const p=(0,i.useRef)(a);s((()=>{const e=()=>{try{const e=t.getState(),n=l.current(e);u.current(d.current,n)||(o.current=e,d.current=n,r())}catch(e){c.current=!0,r()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);const m=h?f:d.current;return(0,i.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}(((n,a)=>{const o=new r.Vector3,s=new r.Vector3,l=new r.Vector3;function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a().size;const{width:i,height:u,top:c,left:d}=n,f=i/u;t instanceof r.Vector3?l.copy(t):l.set(...t);const h=e.getWorldPosition(o).distanceTo(l);if(b(e))return{width:i/e.zoom,height:u/e.zoom,top:c,left:d,factor:1,distance:h,aspect:f};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,r=n*(i/u);return{width:r,height:n,top:c,left:d,factor:i/r,distance:h,aspect:f}}}let c;const d=e=>n((t=>({performance:{...t.performance,current:e}}))),f=new r.Vector2,h={set:n,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(a(),t)},advance:(e,n)=>t(e,n,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new r.Clock,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=a();c&&clearTimeout(c),e.performance.current!==e.performance.min&&d(e.performance.min),c=setTimeout((()=>d(a().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,i,o)=>{const l=a().camera,c={width:e,height:t,top:i||0,left:o||0,updateStyle:r};n((e=>({size:c,viewport:{...e.viewport,...u(l,s,c)}})))},setDpr:e=>n((t=>{const n=P(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=a().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:i.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=a().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=a().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),a=n.getState();let l=a.size,u=a.viewport.dpr,c=a.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:i,set:a}=n.getState();if(t.width!==l.width||t.height!==l.height||r.dpr!==u){var o;l=t,u=r.dpr,H(e,t),i.setPixelRatio(r.dpr);const n=null!=(o=t.updateStyle)?o:"undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==c&&(c=e,a((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let Q,Z=new Set,J=new Set,$=new Set;function ee(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function te(e,t){switch(e){case"before":return ee(Z,t);case"after":return ee(J,t);case"tail":return ee($,t)}}let ne,re;function ie(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ne=t.internal.subscribers,Q=0;Q<ne.length;Q++)re=ne[Q],re.ref.current(re.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ae(){const e=i.useContext(K);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ae()(e,t)}function se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=ae(),r=n.getState().internal.subscribe,i=_(e);return x((()=>r(i,t,n)),[t,r,n]),null}const le=new WeakMap;function ue(e,t){return function(n){let r=le.get(n);r||(r=new n,le.set(n,r)),e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,I(e.scene)),n(e)}),t,(t=>i(new Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message))))))))))}}function ce(e,t,n,r){const i=Array.isArray(t)?t:[t],a=(0,d.DY)(ue(n,r),[e,...i],{equal:R.equ});return Array.isArray(t)?a:a[0]}ce.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return(0,d.uv)(ue(n),[e,...r])},ce.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,d.IU)([e,...n])};const de=new Map,{invalidate:fe,advance:he}=function(e){let t,n,r,i=!1,a=!1;function o(s){n=requestAnimationFrame(o),i=!0,t=0,te("before",s),a=!0;for(const n of e.values()){var l;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=ie(s,r))}if(a=!1,te("after",s),0===t)return te("tail",s),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var s;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(s=n.gl.xr)&&s.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):a?2:1,i||(i=!0,requestAnimationFrame(o)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&te("before",t),r)ie(t,r,i);else for(const a of e.values())ie(t,a.store.getState());n&&te("after",t)}}}(de),{reconciler:pe,applyProps:me}=function(e,t){function n(e,t,n){let i,{args:a=[],attach:o,...s}=t,l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");i=O(s.object,{type:e,root:n,attach:o,primitive:!0})}else{const t=h[l];if(!t)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");i=O(new t(...a),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===i.__r3f.attach&&(i instanceof r.BufferGeometry?i.__r3f.attach="geometry":i instanceof r.Material&&(i.__r3f.attach="material")),"inject"!==l&&F(i,s),i}function i(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?D(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||O(t,{}),t.__r3f.parent=e,V(t),B(t))}function o(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)D(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter((e=>e!==t)),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||O(t,{}),t.__r3f.parent=e,V(t),B(t)}}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>l(t,e,n)))}function l(e,t,n){if(t){var r,i,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)N(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{G(n.capturedMap,t,e,r)}))}(A(t),t)}const u=null==(a=t.__r3f)?void 0:a.primitive,d=!u&&(void 0===n?null!==t.dispose:n);var l;if(!u)s(null==(l=t.__r3f)?void 0:l.objects,t,d),s(t.children,t,d);if(delete t.__r3f,d&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,c.unstable_scheduleCallback)(c.unstable_IdlePriority,e):e()}B(e)}}const d=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:u()({createInstance:n,removeChild:l,appendChild:i,appendInitialChild:i,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,i(n,t))},removeChildFromContainer:(e,t)=>{t&&l(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&o(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==o[t])))return[!0];const u=U(e,a,l,!0);return u.changes.length?[!1,u]:null}},commitUpdate(e,t,r,a,o,s){let[u,c]=t;u?function(e,t,r,a){var o;const s=null==(o=e.__r3f)?void 0:o.parent;if(!s)return;const u=n(t,r,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&i(u,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>i(u,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||l(s,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),i(s,u),u.raycast&&u.__r3f.eventCount&&A(u).getState().internal.interaction.push(u);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=u,e.ref&&("function"===typeof e.ref?e.ref(u):e.ref.current=u))}))}(e,r,o,s):F(e,c)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&A(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>O(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&N(r,e,n),e.isObject3D&&(e.visible=!1),B(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&D(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),B(e)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>t?t():a.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&R.fun(performance.now)?performance.now:R.fun(Date.now)?Date.now:()=>0,scheduleTimeout:R.fun(setTimeout)?setTimeout:void 0,cancelTimeout:R.fun(clearTimeout)?clearTimeout:void 0}),applyProps:F}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return a.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return a.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return a.ContinuousEventPriority;default:return a.DefaultEventPriority}})),ge={objects:"shallow",strict:!1},ve=(e,t)=>{const n="function"===typeof e?e(t):e;return X(n)?n:new r.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ye(e){const t=de.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const o="function"===typeof reportError?reportError:console.error,s=i||Y(fe,he),l=n||pe.createContainer(s,a.ConcurrentRoot,null,!1,null,"",o,null);let u;t||de.set(e,{fiber:l,store:s});let c,d=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:i,scene:a,events:o,onCreated:l,shadows:f=!1,linear:h=!1,flat:p=!1,legacy:m=!1,orthographic:g=!1,frameloop:v="always",dpr:b=[1,2],performance:w,raycaster:x,camera:_,onPointerMissed:S}=t,E=s.getState(),k=E.gl;E.gl||E.set({gl:k=ve(n,e)});let C=E.raycaster;C||E.set({raycaster:C=new r.Raycaster});const{params:M,...T}=x||{};if(R.equ(T,C,ge)||me(C,{...T}),R.equ(M,C.params,ge)||me(C,{params:{...C.params,...M}}),!E.camera||E.camera===c&&!R.equ(c,_,ge)){c=_;const e=_ instanceof r.Camera,t=e?_:g?new r.OrthographicCamera(0,0,0,0,.1,1e3):new r.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,_&&(me(t,_),("aspect"in _||"left"in _||"right"in _||"bottom"in _||"top"in _)&&(t.manual=!0,t.updateProjectionMatrix())),E.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),E.set({camera:t}),C.camera=t}if(!E.scene){let e;a instanceof r.Scene?e=a:(e=new r.Scene,a&&me(e,a)),E.set({scene:O(e)})}if(!E.xr){var A;const e=(e,t)=>{const n=s.getState();"never"!==n.frameloop&&he(e,!0,n,t)},t=()=>{const t=s.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||fe(t)},n={connect(){const e=s.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=s.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(A=k.xr)?void 0:A.addEventListener)&&n.connect(),E.set({xr:n})}if(k.shadowMap){const e=k.shadowMap.enabled,t=k.shadowMap.type;if(k.shadowMap.enabled=!!f,R.boo(f))k.shadowMap.type=r.PCFSoftShadowMap;else if(R.str(f)){var I;const e={basic:r.BasicShadowMap,percentage:r.PCFShadowMap,soft:r.PCFSoftShadowMap,variance:r.VSMShadowMap};k.shadowMap.type=null!=(I=e[f])?I:r.PCFSoftShadowMap}else R.obj(f)&&Object.assign(k.shadowMap,f);e===k.shadowMap.enabled&&t===k.shadowMap.type||(k.shadowMap.needsUpdate=!0)}const z=y();if(z&&("enabled"in z?z.enabled=!m:"legacyMode"in z&&(z.legacyMode=m)),!d){me(k,{outputEncoding:h?3e3:3001,toneMapping:p?r.NoToneMapping:r.ACESFilmicToneMapping})}E.legacy!==m&&E.set((()=>({legacy:m}))),E.linear!==h&&E.set((()=>({linear:h}))),E.flat!==p&&E.set((()=>({flat:p}))),!n||R.fun(n)||X(n)||R.equ(n,k,ge)||me(k,n),o&&!E.events.handlers&&E.set({events:o(s)});const L=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:a,updateStyle:o=n}=t;return{width:e,height:r,top:i,left:a,updateStyle:o}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,i);return R.equ(L,E.size,ge)||E.setSize(L.width,L.height,L.updateStyle,L.top,L.left),b&&E.viewport.dpr!==P(b)&&E.setDpr(b),E.frameloop!==v&&E.setFrameloop(v),E.onPointerMissed||E.set({onPointerMissed:S}),w&&!R.equ(w,E.performance,ge)&&E.set((e=>({performance:{...e.performance,...w}}))),u=l,d=!0,this},render(t){return d||this.configure(),pe.updateContainer((0,f.jsx)(be,{store:s,children:t,onCreated:u,rootElement:e}),l,null,(()=>{})),s},unmount(){we(e)}}}function be(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return x((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),(0,f.jsx)(K.Provider,{value:t,children:n})}function we(e,t){const n=de.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),pe.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),de.delete(e),t&&t(e)}catch(s){}}),500)}))}}pe.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:i.version});i.unstable_act},9813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(_);else{var t=r(c);null!==t&&z(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&z(x,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,M=5,P=-1;function T(){return!(t.unstable_now()-P<M)}function A(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){v(A,0)};function O(e){k=e,E||(E=!0,S())}function z(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,z(x,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8784:(e,t,n)=>{"use strict";e.exports=n(9813)},5194:(e,t,n)=>{var r=Object.defineProperty,i=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{Atom:()=>Mt,PointerProxy:()=>zt,Ticker:()=>It,getPointerParts:()=>Ke,isPointer:()=>Ze,isPrism:()=>et,iterateAndCountTicks:()=>Rt,iterateOver:()=>Ot,pointer:()=>Qe,pointerToPrism:()=>Tt,prism:()=>_t,val:()=>At});var c=Array.isArray,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),p=h.Symbol,m=Object.prototype,g=m.hasOwnProperty,v=m.toString,y=p?p.toStringTag:void 0;var b=function(e){var t=g.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(a){}var i=v.call(e);return r&&(t?e[y]=n:delete e[y]),i},w=Object.prototype.toString;var x=function(e){return w.call(e)},_=p?p.toStringTag:void 0;var S=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?b(e):x(e)};var E=function(e){return null!=e&&"object"==typeof e};var k=function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==S(e)},C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var P=function(e,t){if(c(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!k(e))||(M.test(e)||!C.test(e)||null!=t&&e in Object(t))};var T=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var A=function(e){if(!T(e))return!1;var t=S(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=h["__core-js_shared__"],I=function(){var e=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var O=function(e){return!!I&&I in e},z=Function.prototype.toString;var L=function(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""},D=/^\[object .+?Constructor\]$/,N=Function.prototype,U=Object.prototype,j=N.toString,F=U.hasOwnProperty,B=RegExp("^"+j.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var V=function(e){return!(!T(e)||O(e))&&(A(e)?B:D).test(L(e))};var H=function(e,t){return null==e?void 0:e[t]};var W=function(e,t){var n=H(e,t);return V(n)?n:void 0},G=W(Object,"create");var q=function(){this.__data__=G?G(null):{},this.size=0};var X=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(G){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return K.call(t,e)?t[e]:void 0},Q=Object.prototype.hasOwnProperty;var Z=function(e){var t=this.__data__;return G?void 0!==t[e]:Q.call(t,e)};var J=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this};function $(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$.prototype.clear=q,$.prototype.delete=X,$.prototype.get=Y,$.prototype.has=Z,$.prototype.set=J;var ee=$;var te=function(){this.__data__=[],this.size=0};var ne=function(e,t){return e===t||e!==e&&t!==t};var re=function(e,t){for(var n=e.length;n--;)if(ne(e[n][0],t))return n;return-1},ie=Array.prototype.splice;var ae=function(e){var t=this.__data__,n=re(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)};var oe=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]};var se=function(e){return re(this.__data__,e)>-1};var le=function(e,t){var n=this.__data__,r=re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ue.prototype.clear=te,ue.prototype.delete=ae,ue.prototype.get=oe,ue.prototype.has=se,ue.prototype.set=le;var ce=ue,de=W(h,"Map");var fe=function(){this.size=0,this.__data__={hash:new ee,map:new(de||ce),string:new ee}};var he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var pe=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};var me=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t};var ge=function(e){return pe(this,e).get(e)};var ve=function(e){return pe(this,e).has(e)};var ye=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=fe,be.prototype.delete=me,be.prototype.get=ge,be.prototype.has=ve,be.prototype.set=ye;var we=be;function xe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(xe.Cache||we),n}xe.Cache=we;var _e=xe;var Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/\\(\\)?/g,ke=function(e){var t=_e(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Se,(function(e,n,r,i){t.push(r?i.replace(Ee,"$1"):n||e)})),t}));var Ce=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Me=p?p.prototype:void 0,Pe=Me?Me.toString:void 0;var Te=function e(t){if("string"==typeof t)return t;if(c(t))return Ce(t,e)+"";if(k(t))return Pe?Pe.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var Ae=function(e){return null==e?"":Te(e)};var Re=function(e,t){return c(e)?e:P(e,t)?[e]:ke(Ae(e))};var Ie=function(e){if("string"==typeof e||k(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Oe=function(e,t){for(var n=0,r=(t=Re(t,e)).length;null!=e&&n<r;)e=e[Ie(t[n++])];return n&&n==r?e:void 0};var ze=function(e,t,n){var r=null==e?void 0:Oe(e,t);return void 0===r?n:r};var Le=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),De=Function.prototype,Ne=Object.prototype,Ue=De.toString,je=Ne.hasOwnProperty,Fe=Ue.call(Object);var Be=function(e){if(!E(e)||"[object Object]"!=S(e))return!1;var t=Le(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ue.call(n)==Fe};var Ve=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},He=new WeakMap,We=new WeakMap,Ge=Symbol("pointerMeta"),qe={get(e,t){if(t===Ge)return He.get(e);let n=We.get(e);n||(n=new Map,We.set(e,n));const r=n.get(t);if(void 0!==r)return r;const i=He.get(e),a=Ye({root:i.root,path:[...i.path,t]});return n.set(t,a),a}},Xe=e=>e[Ge],Ke=e=>{const{root:t,path:n}=Xe(e);return{root:t,path:n}};function Ye(e){var t;const n={root:e.root,path:null!=(t=e.path)?t:[]},r={};return He.set(r,n),new Proxy(r,qe)}var Qe=Ye,Ze=e=>e&&!!Xe(e);var Je=(e,t,n)=>{if(0===t.length)return n(e);if(Array.isArray(e)){let[r,...i]=t;r=parseInt(String(r),10),isNaN(r)&&(r=0);const a=e[r],o=Je(a,i,n);if(a===o)return e;const s=[...e];return s.splice(r,1,o),s}if("object"===typeof e&&null!==e){const[c,...d]=t,f=e[c],h=Je(f,d,n);if(f===h)return e;const p=(r=((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&u(e,n,t[n]);return e})({},e),i(r,a({[c]:h})));return p}{const[e,...r]=t;return{[e]:Je(void 0,r,n)}}var r},$e=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const e=this._head;if(e)return this._head=e.next,e.data}push(e){const t={next:this._head,data:e};this._head=t}};function et(e){return!(!e||!e.isPrism||!0!==e.isPrism)}function tt(){const e=new $e,t=()=>{};return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{e.push(t)},stopIgnoringDependencies:()=>{e.peek()!==t||e.pop()},reportResolutionStart:n=>{const r=e.peek();r&&r(n),e.push(t)},reportResolutionEnd:t=>{e.pop()},pushCollector:t=>{e.push(t)},popCollector:t=>{if(e.peek()!==t)throw new Error("Popped collector is not on top of the stack");e.pop()}}}var{startIgnoringDependencies:nt,stopIgnoringDependencies:rt,reportResolutionEnd:it,reportResolutionStart:at,pushCollector:ot,popCollector:st}=function(){const e="__dataverse_discoveryMechanism_sharedStack",t="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};if(t){const n=t[e];if(n&&"object"===typeof n&&"Dataverse_discoveryMechanism"===n.type)return n;{const n=tt();return t[e]=n,n}}return tt()}(),lt=()=>{},ut=class{constructor(e,t){this._fn=e,this._prismInstance=t,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new ft(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=e=>{this._possiblyStaleDeps.add(e),this._markAsStale()};for(const n of this._dependencies)n._addDependent(this._reactToDependencyGoingStale);nt(),this.getValue(),rt()}get hasDependents(){return this._dependents.size>0}removeDependent(e){this._dependents.delete(e)}addDependent(e){this._dependents.add(e)}destroy(){for(const e of this._dependencies)e._removeDependent(this._reactToDependencyGoingStale);ht(this._scope)}getValue(){if(!this._isFresh){const e=this._recalculate();this._lastValue=e,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let e;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let e=!1;nt();for(const t of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(t)!==t.getValue()){e=!0;break}if(rt(),this._possiblyStaleDeps.clear(),!e)return this._lastValue}const t=new Set;this._cacheOfDendencyValues.clear();const n=e=>{t.add(e),this._addDependency(e)};ot(n),mt.push(this._scope);try{e=this._fn()}catch(r){console.error(r)}finally{mt.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}st(n);for(const i of this._dependencies)t.has(i)||this._removeDependency(i);this._dependencies=t,nt();for(const i of t)this._cacheOfDendencyValues.set(i,i.getValue());return rt(),e}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const e of this._dependents)e(this._prismInstance)}}_addDependency(e){this._dependencies.has(e)||(this._dependencies.add(e),e._addDependent(this._reactToDependencyGoingStale))}_removeDependency(e){this._dependencies.has(e)&&(this._dependencies.delete(e),e._removeDependent(this._reactToDependencyGoingStale))}},ct={},dt=class{constructor(e){this._fn=e,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=()=>{e.onThisOrNextTick(a)};let i=ct;const a=()=>{const e=this.getValue();e!==i&&(i=e,t(e))};this._addDependent(r),n&&(i=this.getValue(),t(i));return()=>{this._removeDependent(r),e.offThisOrNextTick(a),e.offNextTick(a)}}onStale(e){const t=()=>e();return this._addDependent(t),()=>{this._removeDependent(t)}}keepHot(){return this.onStale((()=>{}))}_addDependent(e){this._state.hot||this._goHot(),this._state.handle.addDependent(e)}_goHot(){const e=new ut(this._fn,this);this._state={hot:!0,handle:e}}_removeDependent(e){const t=this._state;if(!t.hot)return;const n=t.handle;n.removeDependent(e),n.hasDependents||(this._state={hot:!1,handle:void 0},n.destroy())}getValue(){at(this);const e=this._state;let t;return t=e.hot?e.handle.getValue():function(e){const t=new bt;let n;mt.push(t);try{n=e()}catch(r){console.error(r)}finally{mt.pop()!==t&&console.warn("The Prism hook stack has slipped. This is a bug.")}return n}(this._fn),it(this),t}},ft=class{constructor(e){this._hotHandle=e,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(e,t){let n=this._refs.get(e);if(void 0!==n)return n;{const n={current:t};return this._refs.set(e,n),n}}effect(e,t,n){let r=this.effects.get(e);void 0===r&&(r={cleanup:lt,deps:void 0},this.effects.set(e,r)),gt(r.deps,n)&&(r.cleanup(),nt(),r.cleanup=pt(t,lt).value,rt(),r.deps=n)}memo(e,t,n){let r=this.memos.get(e);return void 0===r&&(r={cachedValue:null,deps:void 0},this.memos.set(e,r)),gt(r.deps,n)&&(nt(),r.cachedValue=pt(t,void 0).value,rt(),r.deps=n),r.cachedValue}state(e,t){const{value:n,setValue:r}=this.memo("state/"+e,(()=>{const e={current:t};return{value:e,setValue:t=>{e.current=t,this._hotHandle.forceStale()}}}),[]);return[n.current,r]}sub(e){return this.subs[e]||(this.subs[e]=new ft(this._hotHandle)),this.subs[e]}cleanupEffects(){for(const e of this.effects.values())pt(e.cleanup,void 0);this.effects.clear()}source(e,t){return this.effect("$$source/blah",(()=>e((()=>{this._hotHandle.forceStale()}))),[e]),t()}};function ht(e){for(const t of Object.values(e.subs))ht(t);e.cleanupEffects()}function pt(e,t){try{return{value:e(),ok:!0}}catch(n){return setTimeout((function(){throw n})),{value:t,ok:!1}}}var mt=new $e;function gt(e,t){if(void 0===e||void 0===t)return!0;const n=e.length;if(n!==t.length)return!0;for(let r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}function vt(e,t,n){const r=mt.peek();if(!r)throw new Error("prism.memo() is called outside of a prism() call.");return r.memo(e,t,n)}var yt=e=>new dt(e),bt=class{effect(e,t,n){console.warn("prism.effect() does not run in cold prisms")}memo(e,t,n){return t()}state(e,t){return[t,()=>{}]}ref(e,t){return{current:t}}sub(e){return new bt}source(e,t){return t()}};yt.ref=function(e,t){const n=mt.peek();if(!n)throw new Error("prism.ref() is called outside of a prism() call.");return n.ref(e,t)},yt.effect=function(e,t,n){const r=mt.peek();if(!r)throw new Error("prism.effect() is called outside of a prism() call.");return r.effect(e,t,n)},yt.memo=vt,yt.ensurePrism=function(){if(!mt.peek())throw new Error("The parent function is called outside of a prism() call.")},yt.state=function(e,t){const n=mt.peek();if(!n)throw new Error("prism.state() is called outside of a prism() call.");return n.state(e,t)},yt.scope=function(e,t){const n=mt.peek();if(!n)throw new Error("prism.scope() is called outside of a prism() call.");const r=n.sub(e);mt.push(r);const i=pt(t,void 0).value;return mt.pop(),i},yt.sub=function(e,t,n){return vt(e,(()=>yt(t)),n).getValue()},yt.inPrism=function(){return!!mt.peek()},yt.source=function(e,t){const n=mt.peek();if(!n)throw new Error("prism.source() is called outside of a prism() call.");return n.source(e,t)};var wt,xt,_t=yt;(xt=wt||(wt={}))[xt.Dict=0]="Dict",xt[xt.Array=1]="Array",xt[xt.Other=2]="Other";var St=e=>Array.isArray(e)?1:Be(e)?0:2,Et=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St(e);return 0===n&&"string"===typeof t||1===n&&kt(t)?e[t]:void 0},kt=e=>{const t="number"===typeof e?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(0|t)===t},Ct=class{constructor(e,t){this._parent=e,this._path=t,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(e){this.identityChangeListeners.add(e)}removeIdentityChangeListener(e){this.identityChangeListeners.delete(e),this._checkForGC()}removeChild(e){this.children.delete(e),this._checkForGC()}getChild(e){return this.children.get(e)}getOrCreateChild(e){let t=this.children.get(e);return t||(t=t=new Ct(this,this._path.concat([e])),this.children.set(e,t)),t}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Ve(this._path))}},Mt=class{constructor(e){this.$$isPointerToPrismProvider=!0,this.pointer=Qe({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(e,t)=>{const{path:n}=Ke(e),r=this._getOrCreateScopeForPath(n);r.identityChangeListeners.add(t);return()=>{r.identityChangeListeners.delete(t)}},this._currentState=e,this._rootScope=new Ct(void 0,[])}set(e){const t=this._currentState;this._currentState=e,this._checkUpdates(this._rootScope,t,e)}get(){return this._currentState}getByPointer(e){const t=Ze(e)?e:e(this.pointer),n=Ke(t).path;return this._getIn(n)}_getIn(e){return 0===e.length?this.get():ze(this.get(),e)}reduce(e){this.set(e(this.get()))}reduceByPointer(e,t){const n=Ze(e)?e:e(this.pointer),r=Ke(n).path,i=function(e,t,n){return 0===t.length?n(e):Je(e,t,n)}(this.get(),r,t);this.set(i)}setByPointer(e,t){this.reduceByPointer(e,(()=>t))}_checkUpdates(e,t,n){if(t===n)return;for(const a of e.identityChangeListeners)a(n);if(0===e.children.size)return;const r=St(t),i=St(n);if(2!==r||r!==i)for(const[a,o]of e.children){const e=Et(t,a,r),s=Et(n,a,i);this._checkUpdates(o,e,s)}}_getOrCreateScopeForPath(e){let t=this._rootScope;for(const n of e)t=t.getOrCreateChild(n);return t}pointerToPrism(e){const{path:t}=Ke(e),n=t=>this._onPointerValueChange(e,t),r=()=>this._getIn(t);return _t((()=>_t.source(n,r)))}},Pt=new WeakMap;var Tt=e=>{const t=Xe(e);let n=Pt.get(t);if(!n){const i=t.root;if("object"!==typeof(r=i)||null===r||!0!==r.$$isPointerToPrismProvider)throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");n=i.pointerToPrism(e),Pt.set(t,n)}var r;return n},At=e=>Ze(e)?Tt(e).getValue():et(e)?e.getValue():e;function*Rt(e){let t;if(Ze(e))t=Tt(e);else{if(!et(e))throw new Error("Only pointers and prisms are supported");t=e}let n=0;const r=t.onStale((()=>{n++}));try{for(;;){const e=n;n=0,yield{value:t.getValue(),ticks:e}}}finally{r()}}var It=class{constructor(e){this._conf=e,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(e){this._scheduledForThisOrNextTick.add(e),this._dormant&&this._goActive()}onNextTick(e){this._scheduledForNextTick.add(e),this._dormant&&this._goActive()}offThisOrNextTick(e){this._scheduledForThisOrNextTick.delete(e)}offNextTick(e){this._scheduledForNextTick.delete(e)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var e,t;this._dormant&&(this._dormant=!1,null==(t=null==(e=this._conf)?void 0:e.onActive)||t.call(e))}_goDormant(){var e,t;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,null==(t=null==(e=this._conf)?void 0:e.onDormant)||t.call(e))}tick(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(this.__ticks++,!this._dormant&&0===this._scheduledForNextTick.size&&0===this._scheduledForThisOrNextTick.size&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=180))this._goDormant();else{this._ticking=!0,this._timeAtCurrentTick=e;for(const e of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(e);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}}_tick(e){const t=this.time;if(e>10&&console.warn("_tick() recursing for 10 times"),e>100)throw new Error("Maximum recursion limit for _tick()");const n=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const r of n)r(t);if(this._scheduledForThisOrNextTick.size>0)return this._tick(e+1)}};function*Ot(e){let t;if(Ze(e))t=Tt(e);else{if(!et(e))throw new Error("Only pointers and prisms are supported");t=e}const n=new It,r=t.onChange(n,(e=>{}));try{for(;;)n.tick(),yield t.getValue()}finally{r()}}var zt=class{constructor(e){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new Mt(e),this.pointer=Qe({root:this,path:[]})}setPointer(e){this._currentPointerBox.set(e)}pointerToPrism(e){const{path:t}=Xe(e);return _t((()=>{const e=this._currentPointerBox.prism.getValue(),n=t.reduce(((e,t)=>e[t]),e);return At(n)}))}}},8507:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{A:()=>Fu});var i,a,o,s,l,u,c,d,f,h,p,m,g=n(9408),v=n(5345),y=n(3195),b=n.n(y),w=n(5194),x=n(4871);e=n.hmd(e);var _=Object.create,S=Object.defineProperty,E=Object.defineProperties,k=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,T=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,I=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&I(e,n,t[n]);if(P)for(var n of P(t))R.call(t,n)&&I(e,n,t[n]);return e},z=(e,t)=>E(e,C(t)),L=(e,t)=>{var n={};for(var r in e)A.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&P)for(var r of P(e))t.indexOf(r)<0&&R.call(e,r)&&(n[r]=e[r]);return n},D=(e,t)=>function(){return e&&(t=(0,e[M(e)[0]])(e=0)),t},N=(e,t)=>function(){return t||(0,e[M(e)[0]])((t={exports:{}}).exports,t),t.exports},U=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of M(t))!A.call(e,i)&&i!==n&&S(e,i,{get:()=>t[i],enumerable:!(r=k(t,i))||r.enumerable});return e},j=(e,t,n)=>(n=null!=e?_(T(e)):{},U(!t&&e&&e.__esModule?n:S(n,"default",{value:e,enumerable:!0}),e)),F=(e,t,n)=>(I(e,"symbol"!=typeof t?t+"":t,n),n),B=N({"../../node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,r,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+M(s=e[u],u);l+=P(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,r,i,c=a+M(s,u++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)}),(function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};e.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=g,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)x.call(n,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=k,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return R.current.useCallback(e,t)},e.useContext=function(e){return R.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return R.current.useDeferredValue(e)},e.useEffect=function(e,t){return R.current.useEffect(e,t)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return R.current.useMemo(e,t)},e.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},e.useRef=function(e){return R.current.useRef(e)},e.useState=function(e){return R.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"}}),V=N({"../../node_modules/react/index.js"(e,t){t.exports=B()}}),H=N({"../../node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js"(e){e.ConcurrentRoot=1,e.ContinuousEventPriority=4,e.DefaultEventPriority=16,e.DiscreteEventPriority=1,e.IdleEventPriority=536870912,e.LegacyRoot=0}}),W=N({"../../node_modules/react-reconciler/constants.js"(e,t){t.exports=H()}}),G=N({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,I(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function R(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function I(e){C=e,k||(k=!0,_())}function O(t,n){M=g((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(R)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=R,_=function(){E.postMessage(null)}):_=function(){g(R,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}}),q=N({"../../node_modules/scheduler/index.js"(e,t){t.exports=G()}}),X=N({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(e,t){t.exports=function(e){var t={},n=V(),r=q(),i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function x(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case l:return"Portal";case d:return"Profiler";case c:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(E(e)!==e)throw Error(a(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return k(i),e;if(o===r)return k(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function M(e){return null!==(e=C(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=T(e);if(null!==t)return t}e=e.sibling}return null}var A,R=Array.isArray,I=e.getPublicInstance,O=e.getRootHostContext,z=e.getChildHostContext,L=e.prepareForCommit,D=e.resetAfterCommit,N=e.createInstance,U=e.appendInitialChild,j=e.finalizeInitialChildren,F=e.prepareUpdate,B=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,X=e.noTimeout,K=e.isPrimaryRenderer,Y=e.supportsMutation,Q=e.supportsPersistence,Z=e.supportsHydration,J=e.getInstanceFromNode,$=e.preparePortalMount,ee=e.getCurrentEventPriority,te=e.detachDeletedInstance,ne=e.supportsMicrotasks,re=e.scheduleMicrotask,ie=e.supportsTestSelectors,ae=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,le=e.isHiddenSubtree,ue=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,de=e.setupIntersectionObserver,fe=e.appendChild,he=e.appendChildToContainer,pe=e.commitTextUpdate,me=e.commitMount,ge=e.commitUpdate,ve=e.insertBefore,ye=e.insertInContainerBefore,be=e.removeChild,we=e.removeChildFromContainer,xe=e.resetTextContent,_e=e.hideInstance,Se=e.hideTextInstance,Ee=e.unhideInstance,ke=e.unhideTextInstance,Ce=e.clearContainer,Me=e.cloneInstance,Pe=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ae=e.finalizeContainerChildren,Re=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Oe=e.cloneHiddenTextInstance,ze=e.canHydrateInstance,Le=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Ne=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,je=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,Ve=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,We=e.hydrateInstance,Ge=e.hydrateTextInstance,qe=e.hydrateSuspenseInstance,Xe=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,Qe=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var it=Object.prototype.hasOwnProperty,at=[],ot=-1;function st(e){return{current:e}}function lt(e){0>ot||(e.current=at[ot],at[ot]=null,ot--)}function ut(e,t){ot++,at[ot]=e.current,e.current=t}var ct={},dt=st(ct),ft=st(!1),ht=ct;function pt(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mt(e){return null!=(e=e.childContextTypes)}function gt(){lt(ft),lt(dt)}function vt(e,t,n){if(dt.current!==ct)throw Error(a(168));ut(dt,t),ut(ft,n)}function yt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,S(e)||"Unknown",o));return i({},n,r)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,ht=dt.current,ut(dt,e),ut(ft,ft.current),!0}function wt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,lt(ft),lt(dt),ut(dt,e)):lt(ft),ut(ft,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/St|0)|0},_t=Math.log,St=Math.LN2;var Et=64,kt=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Ct(s):0!==(a&=o)&&(r=Ct(a))}else 0!==(o=n&~i)?r=Ct(o):0!==a&&(r=Ct(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ot=0;function zt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Lt=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,Nt=r.unstable_shouldYield,Ut=r.unstable_requestPaint,jt=r.unstable_now,Ft=r.unstable_ImmediatePriority,Bt=r.unstable_UserBlockingPriority,Vt=r.unstable_NormalPriority,Ht=r.unstable_IdlePriority,Wt=null,Gt=null;var qt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Xt=null,Kt=!1,Yt=!1;function Qt(e){null===Xt?Xt=[e]:Xt.push(e)}function Zt(){if(!Yt&&null!==Xt){Yt=!0;var e=0,t=Ot;try{var n=Xt;for(Ot=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Xt=null,Kt=!1}catch(i){throw null!==Xt&&(Xt=Xt.slice(e+1)),Lt(Ft,Zt),i}finally{Ot=t,Yt=!1}}return null}var Jt=o.ReactCurrentBatchConfig;function $t(e,t){if(qt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!it.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function en(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=rt(e.type,!1);case 11:return e=rt(e.type.render,!1);case 1:return e=rt(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=st(null),rn=null,an=null,on=null;function sn(){on=an=rn=null}function ln(e,t,n){K?(ut(nn,t._currentValue),t._currentValue=n):(ut(nn,t._currentValue2),t._currentValue2=n)}function un(e){var t=nn.current;lt(nn),K?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dn(e,t){rn=e,on=an=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(Ni=!0),e.firstContext=null)}function fn(e){var t=K?e._currentValue:e._currentValue2;if(on!==e)if(e={context:e,memoizedValue:t,next:null},null===an){if(null===rn)throw Error(a(308));an=e,rn.dependencies={lanes:0,firstContext:e}}else an=an.next=e;return t}var hn=null,pn=!1;function mn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ya&&1&e.mode&&!(2&Ka)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function bn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function wn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var a=e.updateQueue;pn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=a.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=g.payload)?m.call(p,f,h):m))break e;f=i({},f,h);break e;case 2:pn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);no|=s,e.lanes=s,e.memoizedState=f}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var Sn=(new n.Component).refs;function En(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var kn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),i=So(e),a=vn(r,i);a.payload=t,null!=n&&(a.callback=n),yn(e,a),null!==(t=Eo(e,i,r))&&bn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),i=So(e),a=vn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),yn(e,a),null!==(t=Eo(e,i,r))&&bn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=So(e),i=vn(n,r);i.tag=2,null!=t&&(i.callback=t),yn(e,i),null!==(t=Eo(e,r,n))&&bn(t,e,r)}};function Cn(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(i,a))}function Mn(e,t,n){var r=!1,i=ct,a=t.contextType;return"object"==typeof a&&null!==a?a=fn(a):(i=mt(t)?ht:dt.current,a=(r=null!=(r=t.contextTypes))?pt(e,i):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sn,mn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=fn(a):(a=mt(t)?ht:dt.current,i.context=pt(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(En(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&kn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var An=[],Rn=0,In=null,On=0,zn=[],Ln=0,Dn=null,Nn=1,Un="";function jn(e,t){An[Rn++]=On,An[Rn++]=In,In=e,On=t}function Fn(e,t,n){zn[Ln++]=Nn,zn[Ln++]=Un,zn[Ln++]=Dn,Dn=e;var r=Nn;e=Un;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-xt(t)+i|n<<i|r,Un=a+e}else Nn=1<<a|n<<i|r,Un=e}function Bn(e){null!==e.return&&(jn(e,1),Fn(e,1,0))}function Vn(e){for(;e===In;)In=An[--Rn],An[Rn]=null,On=An[--Rn],An[Rn]=null;for(;e===Dn;)Dn=zn[--Ln],zn[Ln]=null,Un=zn[--Ln],zn[Ln]=null,Nn=zn[--Ln],zn[Ln]=null}var Hn=null,Wn=null,Gn=!1,qn=!1,Xn=null;function Kn(e,t){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Yn(e,t){switch(e.tag){case 5:return null!==(t=ze(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Wn=Be(t),!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Wn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:Nn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$o(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Wn=null,!0}return!1;default:return!1}}function Qn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Zn(e){if(Gn){var t=Wn;if(t){var n=t;if(!Yn(e,t)){if(Qn(e))throw Error(a(418));t=Fe(n);var r=Hn;t&&Yn(e,t)?Kn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,Hn=e)}}else{if(Qn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Gn=!1,Hn=e}}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function $n(e){if(!Z||e!==Hn)return!1;if(!Gn)return Jn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!B(e.type,e.memoizedProps))){var t=Wn;if(t){if(Qn(e)){for(e=Wn;e;)e=Fe(e);throw Error(a(418))}for(;t;)Kn(e,t),t=Fe(t)}}if(Jn(e),13===e.tag){if(!Z)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Wn=Xe(e)}else Wn=Hn?Fe(e.stateNode):null;return!0}function er(){Z&&(Wn=Hn=null,qn=Gn=!1)}function tr(e){null===Xn?Xn=[e]:Xn.push(e)}function nr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Sn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function rr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ir(e){return(0,e._init)(e._payload)}function ar(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ts(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function c(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===u?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===y&&ir(a)===t.type)?((r=i(t,n.props)).ref=nr(e,t,n),r.return=e,r):((r=ns(n.type,n.key,n.props,null,e.mode,r)).ref=nr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=os(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=rs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=as(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case s:return(n=ns(t.type,t.key,t.props,null,e.mode,n)).ref=nr(e,null,t),n.return=e,n;case l:return(t=os(t,e.mode,n)).return=e,t;case y:return m(e,(0,t._init)(t._payload),n)}if(R(t)||x(t))return(t=rs(t,e.mode,n,null)).return=e,t;rr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:d(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?f(e,t,n,r):null;case l:return n.key===i?h(e,t,n,r):null;case y:return g(e,t,(i=n._init)(n._payload),r)}if(R(n)||x(n))return null!==i?null:p(e,t,n,r,null);rr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case s:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return v(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||x(r))return p(t,e=e.get(n)||null,r,i,null);rr(t,r)}return null}return function d(f,h,p,b){if("object"==typeof p&&null!==p&&p.type===u&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case s:e:{for(var w=p.key,_=h;null!==_;){if(_.key===w){if((w=p.type)===u){if(7===_.tag){n(f,_.sibling),(h=i(_,p.props.children)).return=f,f=h;break e}}else if(_.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===y&&ir(w)===_.type){n(f,_.sibling),(h=i(_,p.props)).ref=nr(f,_,p),h.return=f,f=h;break e}n(f,_);break}t(f,_),_=_.sibling}p.type===u?((h=rs(p.props.children,f.mode,b,p.key)).return=f,f=h):((b=ns(p.type,p.key,p.props,null,f.mode,b)).ref=nr(f,h,p),b.return=f,f=b)}return c(f);case l:e:{for(_=p.key;null!==h;){if(h.key===_){if(4===h.tag&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(f,h.sibling),(h=i(h,p.children||[])).return=f,f=h;break e}n(f,h);break}t(f,h),h=h.sibling}(h=os(p,f.mode,b)).return=f,f=h}return c(f);case y:return d(f,h,(_=p._init)(p._payload),b)}if(R(p))return function(i,a,s,l){for(var u=null,c=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Gn&&jn(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=m(i,s[f],l))&&(a=o(d,a,f),null===c?u=d:c.sibling=d,c=d);return Gn&&jn(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=v(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=o(h,a,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),Gn&&jn(i,f),u}(f,h,p,b);if(x(p))return function(i,s,l,u){var c=x(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=g(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=o(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),Gn&&jn(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=m(i,y.value,u))&&(s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return Gn&&jn(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=v(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=o(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Gn&&jn(i,h),c}(f,h,p,b);rr(f,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==h&&6===h.tag?(n(f,h.sibling),(h=i(h,p)).return=f,f=h):(n(f,h),(h=as(p,f.mode,b)).return=f,f=h),c(f)):n(f,h)}}var or=ar(!0),sr=ar(!1),lr={},ur=st(lr),cr=st(lr),dr=st(lr);function fr(e){if(e===lr)throw Error(a(174));return e}function hr(e,t){ut(dr,t),ut(cr,e),ut(ur,lr),e=O(t),lt(ur),ut(ur,e)}function pr(){lt(ur),lt(cr),lt(dr)}function mr(e){var t=fr(dr.current),n=fr(ur.current);n!==(t=z(n,e.type,t))&&(ut(cr,e),ut(ur,t))}function gr(e){cr.current===e&&(lt(ur),lt(cr))}var vr=st(0);function yr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var br=[];function wr(){for(var e=0;e<br.length;e++){var t=br[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}br.length=0}var xr=o.ReactCurrentDispatcher,_r=o.ReactCurrentBatchConfig,Sr=0,Er=null,kr=null,Cr=null,Mr=!1,Pr=!1,Tr=0,Ar=0;function Rr(){throw Error(a(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function Or(e,t,n,r,i,o){if(Sr=o,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?mi:gi,e=n(r,i),Pr){o=0;do{if(Pr=!1,Tr=0,25<=o)throw Error(a(301));o+=1,Cr=kr=null,t.updateQueue=null,xr.current=vi,e=n(r,i)}while(Pr)}if(xr.current=pi,t=null!==kr&&null!==kr.next,Sr=0,Cr=kr=Er=null,Mr=!1,t)throw Error(a(300));return e}function zr(){var e=0!==Tr;return Tr=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Dr(){if(null===kr){var e=Er.alternate;e=null!==e?e.memoizedState:null}else e=kr.next;var t=null===Cr?Er.memoizedState:Cr.next;if(null!==t)Cr=t,kr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(kr=e).memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function Nr(e,t){return"function"==typeof t?t(e):t}function Ur(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=kr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((Sr&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,Er.lanes|=d,no|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,qt(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,Er.lanes|=o,no|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qt(o,t.memoizedState)||(Ni=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fr(){}function Br(e,t){var n=Er,r=Dr(),i=t(),o=!qt(r.memoizedState,i);if(o&&(r.memoizedState=i,Ni=!0),r=r.queue,Jr(Wr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Cr&&1&Cr.memoizedState.tag){if(n.flags|=2048,Xr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Ya)throw Error(a(349));30&Sr||Vr(n,t,i)}return i}function Vr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&Eo(e,1,-1)}function Wr(e,t,n){return n((function(){Gr(t)&&Eo(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch(r){return!0}}function qr(e){var t=Lr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,Er,e),[t.memoizedState,e]}function Xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Kr(){return Dr().memoizedState}function Yr(e,t,n,r){var i=Lr();Er.flags|=e,i.memoizedState=Xr(1|t,n,void 0,void 0===r?null:r)}function Qr(e,t,n,r){var i=Dr();r=void 0===r?null:r;var a=void 0;if(null!==kr){var o=kr.memoizedState;if(a=o.destroy,null!==r&&Ir(r,o.deps))return void(i.memoizedState=Xr(t,n,a,r))}Er.flags|=e,i.memoizedState=Xr(1|t,n,a,r)}function Zr(e,t){return Yr(8390656,8,e,t)}function Jr(e,t){return Qr(2048,8,e,t)}function $r(e,t){return Qr(4,2,e,t)}function ei(e,t){return Qr(4,4,e,t)}function ti(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ni(e,t,n){return n=null!=n?n.concat([e]):null,Qr(4,4,ti.bind(null,t,e),n)}function ri(){}function ii(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ai(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oi(e,t){var n=Ot;Ot=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Ot=n,_r.transition=r}}function si(){return Dr().memoizedState}function li(e,t,n){var r=So(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?di(t,n):(fi(e,t,n),null!==(e=Eo(e,r,n=_o()))&&hi(e,t,r))}function ui(e,t,n){var r=So(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))di(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qt(s,o))return}catch(l){}null!==(e=Eo(e,r,n=_o()))&&hi(e,t,r)}}function ci(e){var t=e.alternate;return e===Er||null!==t&&t===Er}function di(e,t){Pr=Mr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Ya&&1&e.mode&&!(2&Ka)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var pi={readContext:fn,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:function(e,t){return Lr().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Zr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4194308,4,ti.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=li.bind(null,Er,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lr().memoizedState=e},useState:qr,useDebugValue:ri,useDeferredValue:function(e){var t=qr(e),n=t[0],r=t[1];return Zr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=qr(!1),t=e[0];return e=oi.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Er,i=Lr();if(Gn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ya)throw Error(a(349));30&Sr||Vr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zr(Wr.bind(null,r,o,e),[e]),r.flags|=2048,Xr(9,Hr.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Ya.identifierPrefix;if(Gn){var n=Un;t=":"+t+"R"+(n=(Nn&~(1<<32-xt(Nn)-1)).toString(32)+n),0<(n=Tr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ar++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gi={readContext:fn,useCallback:ii,useContext:fn,useEffect:Jr,useImperativeHandle:ni,useInsertionEffect:$r,useLayoutEffect:ei,useMemo:ai,useReducer:Ur,useRef:Kr,useState:function(){return Ur(Nr)},useDebugValue:ri,useDeferredValue:function(e){var t=Ur(Nr),n=t[0],r=t[1];return Jr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Ur(Nr)[0],Dr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:si,unstable_isNewReconciler:!1},vi={readContext:fn,useCallback:ii,useContext:fn,useEffect:Jr,useImperativeHandle:ni,useInsertionEffect:$r,useLayoutEffect:ei,useMemo:ai,useReducer:jr,useRef:Kr,useState:function(){return jr(Nr)},useDebugValue:ri,useDeferredValue:function(e){var t=jr(Nr),n=t[0],r=t[1];return Jr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[jr(Nr)[0],Dr().memoizedState]},useMutableSource:Fr,useSyncExternalStore:Br,useId:si,unstable_isNewReconciler:!1};function yi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function bi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var wi,xi,_i,Si,Ei="function"==typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,ho=r),bi(0,t)},n}function Ci(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){bi(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){bi(0,t),"function"!=typeof r&&(null===po?po=new Set([this]):po.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ei;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xo.bind(null,e,t,n),t.then(e,e))}function Pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ti(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=vn(-1,1)).tag=2,yn(n,t))),n.lanes|=1),e)}function Ai(e){e.flags|=4}function Ri(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(Y)wi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},_i=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(ur.current);n=F(a,n,e,r,i,o),(t.updateQueue=n)&&Ai(t)}},Si=function(e,t,n,r){n!==r&&Ai(t)};else if(Q){wi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),U(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Oe(a,i.memoizedProps,i)),U(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),wi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),Te(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Oe(a,i.memoizedProps,i)),Te(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Ii(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};xi=function(e,t){var n=t.stateNode;if(!Ri(e,t)){e=n.containerInfo;var r=Pe(e);Ii(r,t,!1,!1),n.pendingChildren=r,Ai(t),Ae(e,r)}},_i=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ri(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=fr(ur.current),u=null;o!==r&&(u=F(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Me(a,u,n,o,r,t,e,s),j(a,n,r,i,l)&&Ai(t),t.stateNode=a,e?Ai(t):wi(a,t,!1,!1))}},Si=function(e,t,n,r){n!==r?(e=fr(dr.current),n=fr(ur.current),t.stateNode=H(r,e,n,t),Ai(t)):t.stateNode=e.stateNode}}else xi=function(){},_i=function(){},Si=function(){};function Oi(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Li(e,t,n){var r=t.pendingProps;switch(Vn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:case 17:return mt(t.type)&&gt(),zi(t),null;case 3:return r=t.stateNode,pr(),lt(ft),lt(dt),wr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&($n(t)?Ai(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Xn&&(To(Xn),Xn=null))),xi(e,t),zi(t),null;case 5:gr(t),n=fr(dr.current);var i=t.type;if(null!==e&&null!=t.stateNode)_i(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return zi(t),null}if(e=fr(ur.current),$n(t)){if(!Z)throw Error(a(175));e=We(t.stateNode,t.type,t.memoizedProps,n,e,t,!qn),t.updateQueue=e,null!==e&&Ai(t)}else{var o=N(i,r,n,e,t);wi(o,t,!1,!1),t.stateNode=o,j(o,i,r,n,e)&&Ai(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&null!=t.stateNode)Si(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=fr(dr.current),n=fr(ur.current),$n(t)){if(!Z)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!qn))&&null!==(i=Hn))switch(o=0!==(1&i.mode),i.tag){case 3:$e(i.stateNode.containerInfo,e,r,o);break;case 5:et(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Ai(t)}else t.stateNode=H(r,e,n,t)}return zi(t),null;case 13:if(lt(vr),r=t.memoizedState,Gn&&null!==Wn&&1&t.mode&&!(128&t.flags)){for(e=Wn;e;)e=Fe(e);return er(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=$n(t),null===e){if(!r)throw Error(a(318));if(!Z)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));qe(e,t)}else er(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return zi(t),null}return null!==Xn&&(To(Xn),Xn=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?$n(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&vr.current?0===eo&&(eo=3):No())),null!==t.updateQueue&&(t.flags|=4),zi(t),null);case 4:return pr(),xi(e,t),null===e&&$(t.stateNode.containerInfo),zi(t),null;case 10:return un(t.type._context),zi(t),null;case 19:if(lt(vr),null===(i=t.memoizedState))return zi(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Oi(i,!1);else{if(0!==eo||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=yr(e))){for(t.flags|=128,Oi(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(vr,1&vr.current|2),t.child}e=e.sibling}null!==i.tail&&jt()>lo&&(t.flags|=128,r=!0,Oi(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=yr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Oi(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Gn)return zi(t),null}else 2*jt()-i.renderingStartTime>lo&&1073741824!==n&&(t.flags|=128,r=!0,Oi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jt(),t.sibling=null,e=vr.current,ut(vr,r?1&e|2:1&e),t):(zi(t),null);case 22:case 23:return Oo(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Ja&&(zi(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):zi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Di=o.ReactCurrentOwner,Ni=!1;function Ui(e,t,n,r){t.child=null===e?sr(t,null,n,r):or(t,e.child,n,r)}function ji(e,t,n,r,i){n=n.render;var a=t.ref;return dn(t,i),r=Or(e,t,n,r,a,i),n=zr(),null===e||Ni?(Gn&&n&&Bn(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Fi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||es(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ns(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bi(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$t)(o,r)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,(e=ts(a,r)).ref=t.ref,e.return=t,t.child=e}function Bi(e,t,n,r,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Ni=!1,0===(e.lanes&i))return t.lanes=e.lanes,aa(e,t,i);131072&e.flags&&(Ni=!0)}return Wi(e,t,n,r,i)}function Vi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut($a,Ja),Ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut($a,Ja),Ja|=r}else t.memoizedState={baseLanes:0,cachePool:null},ut($a,Ja),Ja|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut($a,Ja),Ja|=r;return Ui(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wi(e,t,n,r,i){var a=mt(n)?ht:dt.current;return a=pt(t,a),dn(t,i),n=Or(e,t,n,r,a,i),r=zr(),null===e||Ni?(Gn&&r&&Bn(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i))}function Gi(e,t,n,r,i){if(mt(n)){var a=!0;bt(t)}else a=!1;if(dn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=fn(u):u=pt(t,u=mt(n)?ht:dt.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Pn(t,o,r,u),pn=!1;var f=t.memoizedState;o.state=f,xn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||ft.current||pn?("function"==typeof c&&(En(t,n,c,r),l=t.memoizedState),(s=pn||Cn(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tn(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=fn(l):l=pt(t,l=mt(n)?ht:dt.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Pn(t,o,r,l),pn=!1,f=t.memoizedState,o.state=f,xn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||ft.current||pn?("function"==typeof h&&(En(t,n,h,r),p=t.memoizedState),(u=pn||Cn(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return qi(e,t,n,r,a,i)}function qi(e,t,n,r,i,a){Hi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&wt(t,n,!1),aa(e,t,a);r=t.stateNode,Di.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=or(t,e.child,null,a),t.child=or(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&wt(t,n,!0),t.child}function Xi(e){var t=e.stateNode;t.pendingContext?vt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vt(0,t.context,!1),hr(e,t.containerInfo)}function Ki(e,t,n,r,i){return er(),tr(i),t.flags|=256,Ui(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Qi(e){return{baseLanes:e,cachePool:null}}function Zi(e,t,n){var r,i=t.pendingProps,o=vr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),ut(vr,1&o),null===e)return Zn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Ue(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},1&i||null===s?s=is(o,i,0,null):(s.childLanes=0,s.pendingProps=o),e=rs(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qi(n),t.memoizedState=Yi,e):Ji(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ta(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=is({mode:"visible",children:i.children},o,0,null),(s=rs(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&or(t,e.child,null,n),t.child.memoizedState=Qi(n),t.memoizedState=Yi,s);if(1&t.mode)if(Ue(r))t=ta(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),Ni||i){if(null!==(i=Ya)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=s&(i.suspendedLanes|n)?0:s)&&i!==o.retryLane&&(o.retryLane=i,Eo(e,i,-1))}No(),t=ta(e,t,n,Error(a(421)))}else Ne(r)?(t.flags|=128,t.child=e.child,t=Yo.bind(null,e),je(r,t),t=null):(n=o.treeContext,Z&&(Wn=He(r),Hn=t,Gn=!0,Xn=null,qn=!1,null!==n&&(zn[Ln++]=Nn,zn[Ln++]=Un,zn[Ln++]=Dn,Nn=n.id,Un=n.overflow,Dn=t)),(t=Ji(t,t.pendingProps.children)).flags|=4096);else t=ta(e,t,n,null);return t}return s?(i=ea(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Qi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=ea(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Qi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Yi,i):(n=$i(e,t,i.children,n),t.memoizedState=null,n)}function Ji(e,t){return(t=is({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,n,r){var i=e.child;return e=i.sibling,n=ts(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ea(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 1&a||t.child===e?(n=ts(e,s)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null),null!==o?r=ts(o,r):(r=rs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ta(e,t,n,r){return null!==r&&tr(r),or(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function na(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function ra(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),2&(r=vr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n,t);else if(19===e.tag)na(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(vr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===yr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===yr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,a);break;case"together":ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function aa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),no|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ts(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ts(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oa(e,t){switch(Vn(t),t.tag){case 1:return mt(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return pr(),lt(ft),lt(dt),wr(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return gr(t),null;case 13:if(lt(vr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));er()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(vr),null;case 4:return pr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Oo(),null;default:return null}}var sa=!1,la=!1,ua="function"==typeof WeakSet?WeakSet:Set,ca=null;function da(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){qo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){qo(e,t,r)}}var ha=!1;function pa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function ma(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=I(n);else e=n;"function"==typeof t?t(e):t.current=e}}function va(e,t,n){if(Gt&&"function"==typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Wt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(da(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){qo(t,n,o)}break;case 5:da(t,n);break;case 4:Y?ka(e,t,n):Q&&Q&&(t=t.stateNode.containerInfo,n=Pe(t),Re(t,n))}}function ya(e,t,n){for(var r=t;;)if(va(e,r,n),null===r.child||Y&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ba(e){var t=e.alternate;null!==t&&(e.alternate=null,ba(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&te(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wa(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wa(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _a(e){if(Y){e:{for(var t=e.return;null!==t;){if(wa(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),Ea(e,n=xa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Sa(e,n=xa(e),t);break;default:throw Error(a(161))}}}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ea(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function ka(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)ya(e,o,n),i?we(r,o.stateNode):be(r,o.stateNode);else if(18===o.tag)i?Ze(r,o.stateNode):Qe(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(va(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Ca(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ma(3,t),void pa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ge(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void pe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Z&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo));case 13:case 19:return void Ma(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return pa(3,t,t.return),ma(3,t),void pa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ma(t);case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo)}e:if(Q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ma(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Qo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Pa(e,t,n){ca=e,Ta(e,t,n)}function Ta(e,t,n){for(var r=0!==(1&e.mode);null!==ca;){var i=ca,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||sa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||la;s=sa;var u=la;if(sa=o,(la=l)&&!u)for(ca=i;null!==ca;)l=(o=ca).child,22===o.tag&&null!==o.memoizedState?Ia(i):null!==l?(l.return=o,ca=l):Ia(i);for(;null!==a;)ca=a,Ta(a,t,n),a=a.sibling;ca=i,sa=s,la=u}Aa(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,ca=a):Aa(e)}}function Aa(e){for(;null!==ca;){var t=ca;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:la||ma(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!la)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&_n(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&me(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Z&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ye(d)}}}break;default:throw Error(a(163))}la||512&t.flags&&ga(t)}catch(f){qo(t,t.return,f)}}if(t===e){ca=null;break}if(null!==(n=t.sibling)){n.return=t.return,ca=n;break}ca=t.return}}function Ra(e){for(;null!==ca;){var t=ca;if(t===e){ca=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ca=n;break}ca=t.return}}function Ia(e){for(;null!==ca;){var t=ca;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ma(4,t)}catch(l){qo(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){qo(t,i,l)}}var a=t.return;try{ga(t)}catch(l){qo(t,a,l)}break;case 5:var o=t.return;try{ga(t)}catch(l){qo(t,o,l)}}}catch(l){qo(t,t.return,l)}if(t===e){ca=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ca=s;break}ca=t.return}}var Oa=0,za=1,La=2,Da=3,Na=4;if("function"==typeof Symbol&&Symbol.for){var Ua=Symbol.for;Oa=Ua("selector.component"),za=Ua("selector.has_pseudo_class"),La=Ua("selector.role"),Da=Ua("selector.test_id"),Na=Ua("selector.text")}function ja(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ae(e)))throw Error(a(362));return e.stateNode.current}function Fa(e,t){switch(t.$$typeof){case Oa:if(e.type===t.value)return!0;break;case za:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!le(r)){for(;null!=o&&Fa(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case La:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Na:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case Da:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Ba(e){switch(e.$$typeof){case Oa:return"<"+(_(e.value)||"Unknown")+">";case za:return":has("+(Ba(e)||"")+")";case La:return'[role="'+e.value+'"]';case Na:return'"'+e.value+'"';case Da:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Va(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!le(i)){for(;null!=o&&Fa(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!ie)throw Error(a(363));e=Va(e=ja(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)le(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Wa=Math.ceil,Ga=o.ReactCurrentDispatcher,qa=o.ReactCurrentOwner,Xa=o.ReactCurrentBatchConfig,Ka=0,Ya=null,Qa=null,Za=0,Ja=0,$a=st(0),eo=0,to=null,no=0,ro=0,io=0,ao=null,oo=null,so=0,lo=1/0;function uo(){lo=jt()+500}var co,fo=!1,ho=null,po=null,mo=!1,go=null,vo=0,yo=0,bo=null,wo=-1,xo=0;function _o(){return 6&Ka?jt():-1!==wo?wo:wo=jt()}function So(e){return 1&e.mode?2&Ka&&0!==Za?Za&-Za:null!==Jt.transition?(0===xo&&(e=Et,!(4194240&(Et<<=1))&&(Et=64),xo=e),xo):0!==(e=Ot)?e:ee():1}function Eo(e,t,n){if(50<yo)throw yo=0,bo=null,Error(a(185));var r=ko(e,t);return null===r?null:(Rt(r,t,n),(!(2&Ka)||r!==Ya)&&(r===Ya&&(!(2&Ka)&&(ro|=t),4===eo&&Ao(r,Za)),Co(r,n),1===t&&0===Ka&&!(1&e.mode)&&(uo(),Kt&&Zt())),r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Co(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=Pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Mt(e,e===Ya?Za:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){Kt=!0,Qt(e)}(Ro.bind(null,e)):Qt(Ro.bind(null,e)),ne?re((function(){0===Ka&&Zt()})):Lt(Ft,Zt),n=null;else{switch(zt(r)){case 1:n=Ft;break;case 4:n=Bt;break;case 16:default:n=Vt;break;case 536870912:n=Ht}n=Zo(n,Mo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mo(e,t){if(wo=-1,xo=0,6&Ka)throw Error(a(327));var n=e.callbackNode;if(Wo()&&e.callbackNode!==n)return null;var r=Mt(e,e===Ya?Za:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Uo(e,r);else{t=r;var i=Ka;Ka|=2;var o=Do();for((Ya!==e||Za!==t)&&(uo(),zo(e,t));;)try{Fo();break}catch(l){Lo(e,l)}sn(),Ga.current=o,Ka=i,null!==Qa?t=0:(Ya=null,Za=0,t=eo)}if(0!==t){if(2===t&&(0!==(i=Tt(e))&&(r=i,t=Po(e,i))),1===t)throw n=to,zo(e,0),Ao(e,r),Co(e,jt()),n;if(6===t)Ao(e,r);else{if(i=e.current.alternate,!(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Uo(e,r))&&(0!==(o=Tt(e))&&(r=o,t=Po(e,o))),1===t))throw n=to,zo(e,0),Ao(e,r),Co(e,jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ho(e,oo);break;case 3:if(Ao(e,r),(130023424&r)===r&&10<(t=so+500-jt())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Ho.bind(null,e,oo),t);break}Ho(e,oo);break;case 4:if(Ao(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wa(r/1960))-r)){e.timeoutHandle=W(Ho.bind(null,e,oo),r);break}Ho(e,oo);break;default:throw Error(a(329))}}}return Co(e,jt()),e.callbackNode===n?Mo.bind(null,e):null}function Po(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=oo,oo=n,null!==t&&To(t)),e}function To(e){null===oo?oo=e:oo.push.apply(oo,e)}function Ao(e,t){for(t&=~io,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Ro(e){if(6&Ka)throw Error(a(327));Wo();var t=Mt(e,0);if(!(1&t))return Co(e,jt()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Tt(e);0!==r&&(t=r,n=Po(e,r))}if(1===n)throw n=to,zo(e,0),Ao(e,t),Co(e,jt()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,oo),Co(e,jt()),null}function Io(e){null!==go&&0===go.tag&&!(6&Ka)&&Wo();var t=Ka;Ka|=1;var n=Xa.transition,r=Ot;try{if(Xa.transition=null,Ot=1,e)return e()}finally{Ot=r,Xa.transition=n,!(6&(Ka=t))&&Zt()}}function Oo(){Ja=$a.current,lt($a)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==X&&(e.timeoutHandle=X,G(n)),null!==Qa)for(n=Qa.return;null!==n;){var r=n;switch(Vn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&gt();break;case 3:pr(),lt(ft),lt(dt),wr();break;case 5:gr(r);break;case 4:pr();break;case 13:case 19:lt(vr);break;case 10:un(r.type._context);break;case 22:case 23:Oo()}n=n.return}if(Ya=e,Qa=e=ts(e.current,null),Za=Ja=t,eo=0,to=null,io=ro=no=0,oo=ao=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hn=null}return e}function Lo(e,t){for(;;){var n=Qa;try{if(sn(),xr.current=pi,Mr){for(var r=Er.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Mr=!1}if(Sr=0,Cr=kr=Er=null,Pr=!1,Tr=0,qa.current=null,null===n||null===n.return){eo=1,to=t,Qa=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Za,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pi(s);if(null!==p){p.flags&=-257,Ti(p,s,l,0,t),1&p.mode&&Mi(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){Mi(o,c,t),No();break e}u=Error(a(426))}else if(Gn&&1&l.mode){var v=Pi(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),Ti(v,s,l,0,t),tr(u);break e}}o=u,4!==eo&&(eo=2),null===ao?ao=[o]:ao.push(o),u=yi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,wn(l,ki(0,u,t));break e;case 1:o=u;var y=l.type,b=l.stateNode;if(!(128&l.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===po||!po.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,wn(l,Ci(l,o,t));break e}}l=l.return}while(null!==l)}Vo(n)}catch(w){t=w,Qa===n&&null!==n&&(Qa=n=n.return);continue}break}}function Do(){var e=Ga.current;return Ga.current=pi,null===e?pi:e}function No(){(0===eo||3===eo||2===eo)&&(eo=4),null===Ya||!(268435455&no)&&!(268435455&ro)||Ao(Ya,Za)}function Uo(e,t){var n=Ka;Ka|=2;var r=Do();for(Ya===e&&Za===t||zo(e,t);;)try{jo();break}catch(i){Lo(e,i)}if(sn(),Ka=n,Ga.current=r,null!==Qa)throw Error(a(261));return Ya=null,Za=0,eo}function jo(){for(;null!==Qa;)Bo(Qa)}function Fo(){for(;null!==Qa&&!Nt();)Bo(Qa)}function Bo(e){var t=co(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,null===t?Vo(e):Qa=t,qa.current=null}function Vo(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=oa(n,t)))return n.flags&=32767,void(Qa=n);if(null===e)return eo=6,void(Qa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Li(n,t,Ja)))return void(Qa=n);if(null!==(t=t.sibling))return void(Qa=t);Qa=t=e}while(null!==t);0===eo&&(eo=5)}function Ho(e,t){var n=Ot,r=Xa.transition;try{Xa.transition=null,Ot=1,function(e,t,n){do{Wo()}while(null!==go);if(6&Ka)throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ya&&(Qa=Ya=null,Za=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||mo||(mo=!0,Zo(Vt,(function(){return Wo(),null}))),o=0!==(15990&r.flags),15990&r.subtreeFlags||o){o=Xa.transition,Xa.transition=null;var s=Ot;Ot=1;var l=Ka;Ka|=4,qa.current=null,function(e,t){for(L(e.containerInfo),ca=t;null!==ca;)if(t=(e=ca).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ca=t;else for(;null!==ca;){e=ca;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:tn(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Ce(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){qo(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ca=t;break}ca=e.return}n=ha,ha=!1}(e,r),function(e,t){for(ca=t;null!==ca;){var n=(t=ca).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Y?ka(a,i,t):ya(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){qo(i,t,x)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,ca=n;else for(;null!==ca;){t=ca;try{var s=t.flags;if(32&s&&Y&&xe(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(so=jt())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,Y)e:if(r=n,i=d,a=null,Y)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?_e(m):Ee(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?Se(g):ke(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&1&n.mode){ca=n;for(var v=n.child;null!==v;){for(n=ca=v;null!==ca;){var y=(r=ca).child;switch(r.tag){case 0:case 11:case 14:case 15:pa(4,r,r.return);break;case 1:da(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){qo(r,w,x)}}break;case 5:da(r,r.return);break;case 22:if(null!==r.memoizedState){Ra(n);continue}}null!==y?(y.return=r,ca=y):Ra(n)}v=v.sibling}}}switch(4102&s){case 2:_a(t),t.flags&=-3;break;case 6:_a(t),t.flags&=-3,Ca(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ca(t.alternate,t);break;case 4:Ca(t.alternate,t)}}catch(x){qo(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,ca=n;break}ca=t.return}}}(e,r),D(e.containerInfo),e.current=r,Pa(r,e,i),Ut(),Ka=l,Ot=s,Xa.transition=o}else e.current=r;if(mo&&(mo=!1,go=e,vo=i),o=e.pendingLanes,0===o&&(po=null),function(e){if(Gt&&"function"==typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Wt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Co(e,jt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(fo)throw fo=!1,e=ho,ho=null,e;1&vo&&0!==e.tag&&Wo(),o=e.pendingLanes,1&o?e===bo?yo++:(yo=0,bo=e):yo=0,Zt()}(e,t,n)}finally{Xa.transition=r,Ot=n}return null}function Wo(){if(null!==go){var e=zt(vo),t=Xa.transition,n=Ot;try{if(Xa.transition=null,Ot=16>e?16:e,null===go)var r=!1;else{if(e=go,go=null,vo=0,6&Ka)throw Error(a(331));var i=Ka;for(Ka|=4,ca=e.current;null!==ca;){var o=ca,s=o.child;if(16&ca.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ca=c;null!==ca;){var d=ca;switch(d.tag){case 0:case 11:case 15:pa(8,d,o)}var f=d.child;if(null!==f)f.return=d,ca=f;else for(;null!==ca;){var h=(d=ca).sibling,p=d.return;if(ba(d),d===c){ca=null;break}if(null!==h){h.return=p,ca=h;break}ca=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ca=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,ca=s;else e:for(;null!==ca;){if(2048&(o=ca).flags)switch(o.tag){case 0:case 11:case 15:pa(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ca=y;break e}ca=o.return}}var b=e.current;for(ca=b;null!==ca;){var w=(s=ca).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,ca=w;else e:for(s=b;null!==ca;){if(2048&(l=ca).flags)try{switch(l.tag){case 0:case 11:case 15:ma(9,l)}}catch(_){qo(l,l.return,_)}if(l===s){ca=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ca=x;break e}ca=l.return}}if(Ka=i,Zt(),Gt&&"function"==typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Wt,e)}catch(_){}r=!0}return r}finally{Ot=n,Xa.transition=t}}return!1}function Go(e,t,n){yn(e,t=ki(0,t=yi(n,t),1)),t=_o(),null!==(e=ko(e,1))&&(Rt(e,1,t),Co(e,t))}function qo(e,t,n){if(3===e.tag)Go(e,e,n);else for(;null!==t;){if(3===t.tag){Go(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===po||!po.has(r))){yn(t,e=Ci(t,e=yi(n,e),1)),e=_o(),null!==(t=ko(t,1))&&(Rt(t,1,e),Co(t,e));break}}t=t.return}}function Xo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Ya===e&&(Za&n)===n&&(4===eo||3===eo&&(130023424&Za)===Za&&500>jt()-so?zo(e,0):io|=n),Co(e,t)}function Ko(e,t){0===t&&(1&e.mode?(t=kt,!(130023424&(kt<<=1))&&(kt=4194304)):t=1);var n=_o();null!==(e=ko(e,t))&&(Rt(e,t,n),Co(e,n))}function Yo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ko(e,n)}function Qo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ko(e,n)}function Zo(e,t){return Lt(e,t)}function Jo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,n,r){return new Jo(e,t,n,r)}function es(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ts(e,t){var n=e.alternate;return null===n?((n=$o(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ns(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)es(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return rs(n.children,i,o,t);case c:s=8,i|=8;break;case d:return(e=$o(12,n,t,2|i)).elementType=d,e.lanes=o,e;case m:return(e=$o(13,n,t,i)).elementType=m,e.lanes=o,e;case g:return(e=$o(19,n,t,i)).elementType=g,e.lanes=o,e;case b:return is(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case h:s=9;break e;case p:s=11;break e;case v:s=14;break e;case y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=$o(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function rs(e,t,n,r){return(e=$o(7,e,r,t)).lanes=n,e}function is(e,t,n,r){return(e=$o(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function as(e,t,n){return(e=$o(6,e,null,t)).lanes=n,e}function os(e,t,n){return(t=$o(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ss(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=X,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=i,Z&&(this.mutableSourceEagerHydrationData=null)}function ls(e,t,n,r,i,a,o,s,l){return e=new ss(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=$o(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},mn(a),e}function us(e){if(!e)return ct;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(mt(n))return yt(e,n,t)}return t}function cs(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return null===(e=M(t))?null:e.stateNode}function ds(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fs(e,t){ds(e,t),(e=e.alternate)&&ds(e,t)}function hs(e){return null===(e=M(e))?null:e.stateNode}function ps(){return null}return co=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Ni=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Xi(t),er();break;case 5:mr(t);break;case 1:mt(t.type)&&bt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:ln(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(vr,1&vr.current),t.flags|=128,null):n&t.child.childLanes?Zi(e,t,n):(ut(vr,1&vr.current),null!==(e=aa(e,t,n))?e.sibling:null);ut(vr,1&vr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return ia(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,Vi(e,t,n)}return aa(e,t,n)}(e,t,n);Ni=!!(131072&e.flags)}else Ni=!1,Gn&&1048576&t.flags&&Fn(t,On,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=pt(t,dt.current);dn(t,n),i=Or(null,t,r,e,i,n);var o=zr();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(o=!0,bt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,mn(t),i.updater=kn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=qi(null,t,r,!0,o,n)):(t.tag=0,Gn&&o&&Bn(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return es(e)?1:0;if(null!=e){if((e=e.$$typeof)===p)return 11;if(e===v)return 14}return 2}(r),e=tn(r,e),i){case 0:t=Wi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=ji(null,t,r,e,n);break e;case 14:t=Fi(null,t,r,tn(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:e:{if(Xi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,gn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Z&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ki(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ki(e,t,r,n,i=Error(a(424)));break e}for(Z&&(Wn=Ve(t.stateNode.containerInfo),Hn=t,Gn=!0,Xn=null,qn=!1),n=sr(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(er(),r===i){t=aa(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return mr(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,B(r,i)?s=null:null!==o&&B(r,o)&&(t.flags|=32),Hi(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Zn(t),null;case 13:return Zi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=or(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ji(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,ln(0,r,s=i.value),null!==o)if(qt(o.value,s)){if(o.children===i.children&&!ft.current){t=aa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=vn(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),cn(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),cn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dn(t,n),r=r(i=fn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=tn(r=t.type,t.pendingProps),Fi(e,t,r,i=tn(r.type,i),n);case 15:return Bi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mt(r)?(e=!0,bt(t)):e=!1,dn(t,n),Mn(t,r,i),Tn(t,r,i,n),qi(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 22:return Vi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Eo(e,134217728,_o()),fs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=So(e);Eo(e,n,t),fs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(It(t,1|n),Co(t,jt()),!(6&Ka)&&(uo(),Zt()))}break;case 13:var r=_o();Io((function(){return Eo(e,1,r)})),fs(e,1)}},t.batchedUpdates=function(e,t){var n=Ka;Ka|=1;try{return e(t)}finally{0===(Ka=n)&&(uo(),Kt&&Zt())}},t.createComponentSelector=function(e){return{$$typeof:Oa,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ls(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:za,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ls(n,r,!0,e,0,a,0,s,l)).context=us(null),n=e.current,(a=vn(r=_o(),i=So(n))).callback=null!=t?t:null,yn(n,a),e.current.lanes=i,Rt(e,i,r),Co(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:La,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Da,value:e}},t.createTextSelector=function(e){return{$$typeof:Na,value:e}},t.deferredUpdates=function(e){var t=Ot,n=Xa.transition;try{return Xa.transition=null,Ot=16,e()}finally{Ot=t,Xa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Ot,o=Xa.transition;try{return Xa.transition=null,Ot=1,e(t,n,r,i)}finally{Ot=a,Xa.transition=o,0===Ka&&uo()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!ie)throw Error(a(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&o>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<o||f>s)){f>o&&(u.height+=f-o,u.y=o),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(o!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=cs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?T(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return cs(e)},t.flushControlled=function(e){var t=Ka;Ka|=1;var n=Xa.transition,r=Ot;try{Xa.transition=null,Ot=1,e()}finally{Ot=r,Xa.transition=n,0===(Ka=t)&&(uo(),Zt())}},t.flushPassiveEffects=Wo,t.flushSync=Io,t.focusWithin=function(e,t){if(!ie)throw Error(a(363));for(t=Va(e=ja(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!le(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ot},t.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(a(363));var n=0,r=[];e=[ja(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!le(o))&&(Fa(o,l)&&(r.push(Ba(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ba(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||ps,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Wt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!ie)throw Error(a(363));e=Ha(e,t);var i=de(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Ot;try{return Ot=e,t()}finally{Ot=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=_o(),o=So(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=vn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),yn(i,t),null!==(e=Eo(i,o,a))&&bn(e,i,o),o},t}}}),K=N({"../../node_modules/react-reconciler/index.js"(e,t){t.exports=X()}}),Y=N({"../../node_modules/debounce/index.js"(e,t){function n(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}n.debounce=n,t.exports=n}}),Q=N({"../../node_modules/zustand/shallow.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}}}),Z=N({"../../node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.min.js"(e){var t=V();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,i=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},o={};function s(e){return!!r.call(o,e)||!r.call(a,e)&&(i.test(e)?o[e]=!0:(a[e]=!0,!1))}function l(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){u[e]=new l(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];u[t]=new l(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){u[e]=new l(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){u[e]=new l(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){u[e]=new l(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){u[e]=new l(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){u[e]=new l(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){u[e]=new l(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){u[e]=new l(e,5,!1,e.toLowerCase(),null,!1,!1)}));var c=/[\-:]([a-z])/g;function d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(c,d);u[t]=new l(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){u[e]=new l(e,1,!1,e.toLowerCase(),null,!1,!1)})),u.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){u[e]=new l(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){h.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var p=/["'&<>]/;function m(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=p.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var g=/([A-Z])/g,v=/^ms-/,y=Array.isArray;function b(e,t){return{insertionMode:e,selectedValue:t}}var w=new Map;function x(e,t,i){if("object"!=typeof i)throw Error(n(62));for(var a in t=!0,i)if(r.call(i,a)){var o=i[a];if(null!=o&&"boolean"!=typeof o&&""!==o){if(0===a.indexOf("--")){var s=m(a);o=m((""+o).trim())}else{s=a;var l=w.get(s);void 0!==l||(l=m(s.replace(g,"-$1").toLowerCase().replace(v,"-ms-")),w.set(s,l)),s=l,o="number"==typeof o?0===o||r.call(f,a)?""+o:o+"px":m((""+o).trim())}t?(t=!1,e.push(' style="',s,":",o)):e.push(";",s,":",o)}}t||e.push('"')}function _(e,t,n,r){switch(n){case"style":return void x(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=u.hasOwnProperty(n)?u[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',m(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',m(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',m(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',m(r),'"')}}else if(s(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',m(r),'"')}}function S(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(""+t)}}function E(e,t,n,i){e.push(M(n));var a,o=n=null;for(a in t)if(r.call(t,a)){var s=t[a];if(null!=s)switch(a){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:_(e,i,a,s)}}return e.push(">"),S(e,o,n),"string"==typeof n?(e.push(m(n)),null):n}var k=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,C=new Map;function M(e){var t=C.get(e);if(void 0===t){if(!k.test(e))throw Error(n(65,e));t="<"+e,C.set(e,t)}return t}function P(e,i,a,o,l){switch(i){case"select":e.push(M("select"));var u=null,c=null;for(p in a)if(r.call(a,p)){var d=a[p];if(null!=d)switch(p){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:_(e,o,p,d)}}return e.push(">"),S(e,c,u),u;case"option":c=l.selectedValue,e.push(M("option"));var f=d=null,h=null,p=null;for(u in a)if(r.call(a,u)){var g=a[u];if(null!=g)switch(u){case"children":d=g;break;case"selected":h=g;break;case"dangerouslySetInnerHTML":p=g;break;case"value":f=g;default:_(e,o,u,g)}}if(null!=c)if(a=null!==f?""+f:function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(d),y(c)){for(o=0;o<c.length;o++)if(""+c[o]===a){e.push(' selected=""');break}}else""+c===a&&e.push(' selected=""');else h&&e.push(' selected=""');return e.push(">"),S(e,p,d),d;case"textarea":for(d in e.push(M("textarea")),p=c=u=null,a)if(r.call(a,d)&&null!=(f=a[d]))switch(d){case"children":p=f;break;case"value":u=f;break;case"defaultValue":c=f;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:_(e,o,d,f)}if(null===u&&null!==c&&(u=c),e.push(">"),null!=p){if(null!=u)throw Error(n(92));if(y(p)&&1<p.length)throw Error(n(93));u=""+p}return"string"==typeof u&&"\n"===u[0]&&e.push("\n"),null!==u&&e.push(m(""+u)),null;case"input":for(c in e.push(M("input")),f=p=d=u=null,a)if(r.call(a,c)&&null!=(h=a[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":f=h;break;case"defaultValue":d=h;break;case"checked":p=h;break;case"value":u=h;break;default:_(e,o,c,h)}return null!==p?_(e,o,"checked",p):null!==f&&_(e,o,"checked",f),null!==u?_(e,o,"value",u):null!==d&&_(e,o,"value",d),e.push("/>"),null;case"menuitem":for(var v in e.push(M("menuitem")),a)if(r.call(a,v)&&null!=(u=a[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:_(e,o,v,u)}return e.push(">"),null;case"title":for(g in e.push(M("title")),u=null,a)if(r.call(a,g)&&null!=(c=a[g]))switch(g){case"children":u=c;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:_(e,o,g,c)}return e.push(">"),u;case"listing":case"pre":for(f in e.push(M(i)),c=u=null,a)if(r.call(a,f)&&null!=(d=a[f]))switch(f){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;default:_(e,o,f,d)}if(e.push(">"),null!=c){if(null!=u)throw Error(n(60));if("object"!=typeof c||!("__html"in c))throw Error(n(61));null!=(a=c.__html)&&("string"==typeof a&&0<a.length&&"\n"===a[0]?e.push("\n",a):e.push(""+a))}return"string"==typeof u&&"\n"===u[0]&&e.push("\n"),u;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var b in e.push(M(i)),a)if(r.call(a,b)&&null!=(u=a[b]))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,i));default:_(e,o,b,u)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return E(e,a,i,o);case"html":return 0===l.insertionMode&&e.push("<!DOCTYPE html>"),E(e,a,i,o);default:if(-1===i.indexOf("-")&&"string"!=typeof a.is)return E(e,a,i,o);for(h in e.push(M(i)),c=u=null,a)if(r.call(a,h)&&null!=(d=a[h]))switch(h){case"children":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":x(e,o,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(h)&&"function"!=typeof d&&"symbol"!=typeof d&&e.push(" ",h,'="',m(d),'"')}return e.push(">"),S(e,c,u),u}}function T(e,t,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(n(395));return e.push(r),e.push('"></template>')}var A=/[<\u2028\u2029]/g;function R(e){return JSON.stringify(e).replace(A,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function I(e,t,n,r){return n.generateStaticMarkup?(e.push(m(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(m(t)),e=!0),e)}var O=Object.assign,z=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.scope"),K=Symbol.for("react.debug_trace_mode"),Y=Symbol.for("react.legacy_hidden"),Q=Symbol.for("react.default_value"),Z=Symbol.iterator;function J(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case L:return"Portal";case U:return"Profiler";case N:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case G:return null!==(t=e.displayName||null)?t:J(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return J(e(t))}catch(n){}}return null}var $={};function ee(e,t){if(!(e=e.contextTypes))return $;var n,r={};for(n in e)r[n]=t[n];return r}var te=null;function ne(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));ne(e,r)}t.context._currentValue2=t.value}}function re(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&re(e)}function ie(e){var t=e.parent;null!==t&&ie(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?ne(e,t):ae(e,t)}function oe(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?ne(e,r):oe(e,r),t.context._currentValue2=t.value}function se(e){var t=te;t!==e&&(null===t?ie(e):null===e?re(t):t.depth===e.depth?ne(t,e):t.depth>e.depth?ae(t,e):oe(t,e),te=e)}var le={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ue(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=le,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue2:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:O({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&le.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=O({},a,s)):O(a,s))}e.state=a}else a.queue=null}var ce={id:1,overflow:""};function de(e,t,n){var r=e.id;e=e.overflow;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-fe(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/pe|0)|0},he=Math.log,pe=Math.LN2;var me="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ge=null,ve=null,ye=null,be=null,we=!1,xe=!1,_e=0,Se=null,Ee=0;function ke(){if(null===ge)throw Error(n(321));return ge}function Ce(){if(0<Ee)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Me(){return null===be?null===ye?(we=!1,ye=be=Ce()):(we=!0,be=ye):null===be.next?(we=!1,be=be.next=Ce()):(we=!0,be=be.next),be}function Pe(){ve=ge=null,xe=!1,ye=null,Ee=0,be=Se=null}function Te(e,t){return"function"==typeof t?t(e):t}function Ae(e,t,n){if(ge=ke(),be=Me(),we){var r=be.queue;if(t=r.dispatch,null!==Se&&void 0!==(n=Se.get(r))){Se.delete(r),r=be.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return be.memoizedState=r,[r,t]}return[be.memoizedState,t]}return e=e===Te?"function"==typeof t?t():t:void 0!==n?n(t):t,be.memoizedState=e,e=(e=be.queue={last:null,dispatch:null}).dispatch=Ie.bind(null,ge,e),[be.memoizedState,e]}function Re(e,t){if(ge=ke(),t=void 0===t?null:t,null!==(be=Me())){var n=be.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!me(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),be.memoizedState=[e,t],e}function Ie(e,t,r){if(25<=Ee)throw Error(n(301));if(e===ge)if(xe=!0,e={action:r,next:null},null===Se&&(Se=new Map),void 0===(r=Se.get(t)))Se.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function Oe(){throw Error(n(394))}function ze(){}var Le={readContext:function(e){return e._currentValue2},useContext:function(e){return ke(),e._currentValue2},useMemo:Re,useReducer:Ae,useRef:function(e){ge=ke();var t=(be=Me()).memoizedState;return null===t?(e={current:e},be.memoizedState=e):t},useState:function(e){return Ae(Te,e)},useInsertionEffect:ze,useLayoutEffect:function(){},useCallback:function(e,t){return Re((function(){return e}),t)},useImperativeHandle:ze,useEffect:ze,useDebugValue:ze,useDeferredValue:function(e){return ke(),e},useTransition:function(){return ke(),[!1,Oe]},useId:function(){var e=ve.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-fe(e)-1)).toString(32)+t;var r=De;if(null===r)throw Error(n(404));return t=_e++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ke(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},De=null,Ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ue(e){return console.error(e),null}function je(){}function Fe(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&tt(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function Be(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function Ve(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function He(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function We(e,t,n,r,i){for(ge={},ve=t,_e=0,e=n(r,i);xe;)xe=!1,_e=0,Ee+=1,be=null,e=n(r,i);return Pe(),e}function Ge(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var l in r=r.getChildContext())if(!(l in o))throw Error(n(108,J(i)||"Unknown",l));i=O({},s,r)}t.legacyContext=i,Ke(e,t,a),t.legacyContext=s}else Ke(e,t,a)}function qe(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Xe(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=ee(r,t.legacyContext);var o=r.contextType;ue(o=new r(i,"object"==typeof o&&null!==o?o._currentValue2:a),r,i,a),Ge(e,t,o,r)}else{a=We(e,t,r,i,o=ee(r,t.legacyContext));var s=0!==_e;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)ue(a,r,i,o),Ge(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=de(i,1,0);try{Ke(e,t,a)}finally{t.treeContext=i}}else Ke(e,t,a)}else{if("string"!=typeof r){switch(r){case Y:case K:case N:case U:case D:case W:return void Ke(e,t,i.children);case X:throw Error(n(343));case H:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=Be(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(u),a.lastPushedText=!1;var c=Be(0,0,null,a.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(Qe(e,t,i),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,$e(l,c),0===l.pendingTasks)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=Ve(e,d)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=Fe(e,o,r,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case B:if(i=We(e,t,r.render,i,a),0!==_e){r=t.treeContext,t.treeContext=de(r,1,0);try{Ke(e,t,i)}finally{t.treeContext=r}}else Ke(e,t,i);return;case G:return void Xe(e,t,r=r.type,i=qe(r,i),a);case j:if(a=i.children,r=r._context,i=i.value,o=r._currentValue2,r._currentValue2=i,te=i={parent:s=te,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,Ke(e,t,a),null===(e=te))throw Error(n(403));return i=e.parentValue,e.context._currentValue2=i===Q?e.context._defaultValue:i,e=te=e.parent,void(t.context=e);case F:return void Ke(e,t,i=(i=i.children)(r._currentValue2));case q:return void Xe(e,t,r=(a=r._init)(r._payload),i=qe(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=P((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return b(1,null!=n.value?n.value:n.defaultValue);case"svg":return b(2,null);case"math":return b(3,null);case"foreignObject":return b(1,null);case"table":return b(4,null);case"thead":case"tbody":case"tfoot":return b(5,null);case"colgroup":return b(7,null);case"tr":return b(6,null)}return 4<=e.insertionMode||0===e.insertionMode?b(1,null):e}(s,r,i),Qe(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",r,">")}a.lastPushedText=!1}}function Ke(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case z:return void Xe(e,t,r.type,r.props,r.ref);case L:throw Error(n(257));case q:var i=r._init;return void Ke(e,t,r=i(r._payload))}if(y(r))return void Ye(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=Z&&r[Z]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);Ye(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=I(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function Ye(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=de(a,r,i);try{Qe(e,t,n[i])}finally{t.treeContext=a}}}function Qe(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Ke(e,t,n)}catch(l){if(Pe(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,se(a),l;n=l;var o=t.blockedSegment,s=Be(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=Fe(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,se(a)}}function Ze(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,et(this,t,e)}function Je(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return Je(e,t,r)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function $e(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&$e(e,n)}else e.completedSegments.push(t)}function et(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=je,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&$e(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Ze,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&($e(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function tt(e){if(2!==e.status){var t=te,n=Ne.current;Ne.current=Le;var r=De;De=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){se(o.context);try{Ke(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),o.abortSet.delete(o),l.status=1,et(s,o.blockedBoundary,l)}catch(h){if(Pe(),"object"==typeof h&&null!==h&&"function"==typeof h.then){var u=o.ping;h.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=h,f=Ve(s,d);if(null===c?He(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&st(e,e.destination)}catch(h){Ve(e,h),He(e,h)}finally{De=r,Ne.current=n,n===Le&&se(t)}}}function nt(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var a=!0;i=r.chunks;var o=0;r=r.children;for(var s=0;s<r.length;s++){for(a=r[s];o<a.index;o++)t.push(i[o]);a=rt(e,t,a)}for(;o<i.length-1;o++)t.push(i[o]);return o<i.length&&(a=t.push(i[o])),a;default:throw Error(n(390))}}function rt(e,t,r){var i=r.boundary;if(null===i)return nt(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),i&&(t.push(' data-dgst="'),i=m(i),t.push(i),t.push('"')),t.push("></template>")),nt(e,t,r),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var a=e.responseState,o=a.nextSuspenseID++;return a=a.boundaryPrefix+o.toString(16),i=i.id=a,T(t,e.responseState,i),nt(e,t,r),t.push("\x3c!--/$--\x3e")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),T(t,e.responseState,i.id),nt(e,t,r),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(r=i.completedSegments).length)throw Error(n(391));return rt(e,t,r[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function it(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),rt(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,r.formatContext)}function at(e,t,r){for(var i=r.completedSegments,a=0;a<i.length;a++)ot(e,t,r,i[a]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===i)throw Error(n(395));return r=r.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function ot(e,t,r,i){if(2===i.status)return!0;var a=i.id;if(-1===a){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return it(e,t,i)}return it(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function st(e,t){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){rt(e,t,r),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)t.push(i[r]);r<i.length&&t.push(i[r])}var a,o=e.clientRenderedBoundaries;for(a=0;a<o.length;a++){var s=o[a];i=t;var l=e.responseState,u=s.id,c=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(n(395));if(i.push(u),i.push('"'),c||d||f){i.push(",");var h=R(c||"");i.push(h)}if(d||f){i.push(",");var p=R(d||"");i.push(p)}if(f){i.push(",");var m=R(f);i.push(m)}if(!i.push(")<\/script>"))return e.destination=null,a++,void o.splice(0,a)}o.splice(0,a);var g=e.completedBoundaries;for(a=0;a<g.length;a++)if(!at(e,t,g[a]))return e.destination=null,a++,void g.splice(0,a);g.splice(0,a);var v=e.partialBoundaries;for(a=0;a<v.length;a++){var y=v[a];e:{o=e,s=t;var b=y.completedSegments;for(l=0;l<b.length;l++)if(!ot(o,s,y,b[l])){l++,b.splice(0,l);var w=!1;break e}b.splice(0,l),w=!0}if(!w)return e.destination=null,a++,void v.splice(0,a)}v.splice(0,a);var x=e.completedBoundaries;for(a=0;a<x.length;a++)if(!at(e,t,x[a]))return e.destination=null,a++,void x.splice(0,a);x.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function lt(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Je(n,e,t)})),n.clear(),null!==e.destination&&st(e,e.destination)}catch(r){Ve(e,r),He(e,r)}}function ut(){}function ct(e,t,r,i){var a=!1,o=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){a=!0,o=e}},u=!1;if(e=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=Be(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?Ue:i,onAllReady:void 0===a?je:a,onShellReady:void 0===o?je:o,onShellError:void 0===s?je:s,onFatalError:void 0===l?je:l},0,null,n,!1,!1)).parentFlushed=!0,e=Fe(t,e,null,n,c,$,null,ce),u.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,void 0,(function(){u=!0}),void 0,void 0),tt(e),lt(e,i),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{st(e,l)}catch(c){Ve(e,c),He(e,c)}}if(a)throw o;if(!u)throw Error(n(426));return s}e.renderToNodeStream=function(){throw Error(n(207))},e.renderToStaticMarkup=function(e,t){return ct(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.renderToStaticNodeStream=function(){throw Error(n(208))},e.renderToString=function(e,t){return ct(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.version="18.2.0"}}),J=N({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js"(e){var t=V();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,i=0;function a(e,t){if(0!==t.length)if(512<t.length)0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=new Uint8Array(512),i=0),e.enqueue(t);else{var n=r.length-i;n<t.length&&(0===n?e.enqueue(r):(r.set(t.subarray(0,n),i),e.enqueue(r),t=t.subarray(n)),r=new Uint8Array(512),i=0),r.set(t,i),i+=t.length}}function o(e,t){return a(e,t),!0}function s(e){r&&0<i&&(e.enqueue(new Uint8Array(r.buffer,0,i)),r=null,i=0)}var l=new TextEncoder;function u(e){return l.encode(e)}function c(e){return l.encode(e)}function d(e,t){"function"==typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(x).forEach((function(e){_.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),x[t]=x[e]}))}));var S=/["'&<>]/;function E(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=S.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var k=/([A-Z])/g,C=/^ms-/,M=Array.isArray,P=c("<script>"),T=c("<\/script>"),A=c('<script src="'),R=c('<script type="module" src="'),I=c('" async=""><\/script>'),O=/(<\/|<)(s)(cript)/gi;function z(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function L(e,t){return{insertionMode:e,selectedValue:t}}var D=c("\x3c!-- --\x3e");function N(e,t,n,r){return""===t?r:(r&&e.push(D),e.push(u(E(t))),!0)}var U=new Map,j=c(' style="'),F=c(":"),B=c(";");function H(e,t,r){if("object"!=typeof r)throw Error(n(62));for(var i in t=!0,r)if(f.call(r,i)){var a=r[i];if(null!=a&&"boolean"!=typeof a&&""!==a){if(0===i.indexOf("--")){var o=u(E(i));a=u(E((""+a).trim()))}else{o=i;var s=U.get(o);void 0!==s||(s=c(E(o.replace(k,"-$1").toLowerCase().replace(C,"-ms-"))),U.set(o,s)),o=s,a="number"==typeof a?0===a||f.call(x,i)?u(""+a):u(a+"px"):u(E((""+a).trim()))}t?(t=!1,e.push(j,o,F,a)):e.push(B,o,F,a)}}t||e.push(q)}var W=c(" "),G=c('="'),q=c('"'),X=c('=""');function K(e,t,n,r){switch(n){case"style":return void H(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=y.hasOwnProperty(n)?y[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=u(t.attributeName),t.type){case 3:r&&e.push(W,n,X);break;case 4:!0===r?e.push(W,n,X):!1!==r&&e.push(W,n,G,u(E(r)),q);break;case 5:isNaN(r)||e.push(W,n,G,u(E(r)),q);break;case 6:!isNaN(r)&&1<=r&&e.push(W,n,G,u(E(r)),q);break;default:t.sanitizeURL&&(r=""+r),e.push(W,n,G,u(E(r)),q)}}else if(g(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(W,u(n),G,u(E(r)),q)}}var Y=c(">"),Q=c("/>");function Z(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(u(""+t))}}var J=c(' selected=""');function $(e,t,n,r){e.push(re(n));var i,a=n=null;for(i in t)if(f.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":n=o;break;case"dangerouslySetInnerHTML":a=o;break;default:K(e,r,i,o)}}return e.push(Y),Z(e,a,n),"string"==typeof n?(e.push(u(E(n))),null):n}var ee=c("\n"),te=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ne=new Map;function re(e){var t=ne.get(e);if(void 0===t){if(!te.test(e))throw Error(n(65,e));t=c("<"+e),ne.set(e,t)}return t}var ie=c("<!DOCTYPE html>");function ae(e,r,i,a,o){switch(r){case"select":e.push(re("select"));var s=null,l=null;for(p in i)if(f.call(i,p)){var c=i[p];if(null!=c)switch(p){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:K(e,a,p,c)}}return e.push(Y),Z(e,l,s),s;case"option":l=o.selectedValue,e.push(re("option"));var d=c=null,h=null,p=null;for(s in i)if(f.call(i,s)){var m=i[s];if(null!=m)switch(s){case"children":c=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":d=m;default:K(e,a,s,m)}}if(null!=l)if(i=null!==d?""+d:function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(c),M(l)){for(a=0;a<l.length;a++)if(""+l[a]===i){e.push(J);break}}else""+l===i&&e.push(J);else h&&e.push(J);return e.push(Y),Z(e,p,c),c;case"textarea":for(c in e.push(re("textarea")),p=l=s=null,i)if(f.call(i,c)&&null!=(d=i[c]))switch(c){case"children":p=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:K(e,a,c,d)}if(null===s&&null!==l&&(s=l),e.push(Y),null!=p){if(null!=s)throw Error(n(92));if(M(p)&&1<p.length)throw Error(n(93));s=""+p}return"string"==typeof s&&"\n"===s[0]&&e.push(ee),null!==s&&e.push(u(E(""+s))),null;case"input":for(l in e.push(re("input")),d=p=c=s=null,i)if(f.call(i,l)&&null!=(h=i[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"defaultChecked":d=h;break;case"defaultValue":c=h;break;case"checked":p=h;break;case"value":s=h;break;default:K(e,a,l,h)}return null!==p?K(e,a,"checked",p):null!==d&&K(e,a,"checked",d),null!==s?K(e,a,"value",s):null!==c&&K(e,a,"value",c),e.push(Q),null;case"menuitem":for(var v in e.push(re("menuitem")),i)if(f.call(i,v)&&null!=(s=i[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:K(e,a,v,s)}return e.push(Y),null;case"title":for(m in e.push(re("title")),s=null,i)if(f.call(i,m)&&null!=(l=i[m]))switch(m){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(n(434));default:K(e,a,m,l)}return e.push(Y),s;case"listing":case"pre":for(d in e.push(re(r)),l=s=null,i)if(f.call(i,d)&&null!=(c=i[d]))switch(d){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;default:K(e,a,d,c)}if(e.push(Y),null!=l){if(null!=s)throw Error(n(60));if("object"!=typeof l||!("__html"in l))throw Error(n(61));null!=(i=l.__html)&&("string"==typeof i&&0<i.length&&"\n"===i[0]?e.push(ee,u(i)):e.push(u(""+i)))}return"string"==typeof s&&"\n"===s[0]&&e.push(ee),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(re(r)),i)if(f.call(i,y)&&null!=(s=i[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,r));default:K(e,a,y,s)}return e.push(Q),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return $(e,i,r,a);case"html":return 0===o.insertionMode&&e.push(ie),$(e,i,r,a);default:if(-1===r.indexOf("-")&&"string"!=typeof i.is)return $(e,i,r,a);for(h in e.push(re(r)),l=s=null,i)if(f.call(i,h)&&null!=(c=i[h]))switch(h){case"children":s=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":H(e,a,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:g(h)&&"function"!=typeof c&&"symbol"!=typeof c&&e.push(W,u(h),G,u(E(c)),q)}return e.push(Y),Z(e,l,s),s}}var oe=c("</"),se=c(">"),le=c('<template id="'),ue=c('"></template>'),ce=c("\x3c!--$--\x3e"),de=c('\x3c!--$?--\x3e<template id="'),fe=c('"></template>'),he=c("\x3c!--$!--\x3e"),pe=c("\x3c!--/$--\x3e"),me=c("<template"),ge=c('"'),ve=c(' data-dgst="');c(' data-msg="'),c(' data-stck="');var ye=c("></template>");function be(e,t,r){if(a(e,de),null===r)throw Error(n(395));return a(e,r),o(e,fe)}var we=c('<div hidden id="'),xe=c('">'),_e=c("</div>"),Se=c('<svg aria-hidden="true" style="display:none" id="'),Ee=c('">'),ke=c("</svg>"),Ce=c('<math aria-hidden="true" style="display:none" id="'),Me=c('">'),Pe=c("</math>"),Te=c('<table hidden id="'),Ae=c('">'),Re=c("</table>"),Ie=c('<table hidden><tbody id="'),Oe=c('">'),ze=c("</tbody></table>"),Le=c('<table hidden><tr id="'),De=c('">'),Ne=c("</tr></table>"),Ue=c('<table hidden><colgroup id="'),je=c('">'),Fe=c("</colgroup></table>");var Be=c('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ve=c('$RS("'),He=c('","'),We=c('")<\/script>'),Ge=c('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),qe=c('$RC("'),Xe=c('","'),Ke=c('")<\/script>'),Ye=c('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Qe=c('$RX("'),Ze=c('"'),Je=c(")<\/script>"),$e=c(","),et=/[<\u2028\u2029]/g;function tt(e){return JSON.stringify(e).replace(et,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var nt=Object.assign,rt=Symbol.for("react.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ut=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),mt=Symbol.for("react.scope"),gt=Symbol.for("react.debug_trace_mode"),vt=Symbol.for("react.legacy_hidden"),yt=Symbol.for("react.default_value"),bt=Symbol.iterator;function wt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case at:return"Fragment";case it:return"Portal";case st:return"Profiler";case ot:return"StrictMode";case dt:return"Suspense";case ft:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case ct:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ht:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return wt(e(t))}catch(n){}}return null}var xt={};function _t(e,t){if(!(e=e.contextTypes))return xt;var n,r={};for(n in e)r[n]=t[n];return r}var St=null;function Et(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));Et(e,r)}t.context._currentValue=t.value}}function kt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&kt(e)}function Ct(e){var t=e.parent;null!==t&&Ct(t),e.context._currentValue=e.value}function Mt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?Et(e,t):Mt(e,t)}function Pt(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?Et(e,r):Pt(e,r),t.context._currentValue=t.value}function Tt(e){var t=St;t!==e&&(null===t?Ct(e):null===e?kt(t):t.depth===e.depth?Et(t,e):t.depth>e.depth?Mt(t,e):Pt(t,e),St=e)}var At={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Rt(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=At,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"==typeof o&&null!==o?o._currentValue:r,"function"==typeof(o=t.getDerivedStateFromProps)&&(i=null==(o=o(n,i))?i:nt({},i,o),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount))if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&At.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"==typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=nt({},a,s)):nt(a,s))}e.state=a}else a.queue=null}var It={id:1,overflow:""};function Ot(e,t,n){var r=e.id;e=e.overflow;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var a=32-zt(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-zt(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var zt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Lt(e)/Dt|0)|0},Lt=Math.log,Dt=Math.LN2;var Nt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ut=null,jt=null,Ft=null,Bt=null,Vt=!1,Ht=!1,Wt=0,Gt=null,qt=0;function Xt(){if(null===Ut)throw Error(n(321));return Ut}function Kt(){if(0<qt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Yt(){return null===Bt?null===Ft?(Vt=!1,Ft=Bt=Kt()):(Vt=!0,Bt=Ft):null===Bt.next?(Vt=!1,Bt=Bt.next=Kt()):(Vt=!0,Bt=Bt.next),Bt}function Qt(){jt=Ut=null,Ht=!1,Ft=null,qt=0,Bt=Gt=null}function Zt(e,t){return"function"==typeof t?t(e):t}function Jt(e,t,n){if(Ut=Xt(),Bt=Yt(),Vt){var r=Bt.queue;if(t=r.dispatch,null!==Gt&&void 0!==(n=Gt.get(r))){Gt.delete(r),r=Bt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Bt.memoizedState=r,[r,t]}return[Bt.memoizedState,t]}return e=e===Zt?"function"==typeof t?t():t:void 0!==n?n(t):t,Bt.memoizedState=e,e=(e=Bt.queue={last:null,dispatch:null}).dispatch=en.bind(null,Ut,e),[Bt.memoizedState,e]}function $t(e,t){if(Ut=Xt(),t=void 0===t?null:t,null!==(Bt=Yt())){var n=Bt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Nt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Bt.memoizedState=[e,t],e}function en(e,t,r){if(25<=qt)throw Error(n(301));if(e===Ut)if(Ht=!0,e={action:r,next:null},null===Gt&&(Gt=new Map),void 0===(r=Gt.get(t)))Gt.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function tn(){throw Error(n(394))}function nn(){}var rn={readContext:function(e){return e._currentValue},useContext:function(e){return Xt(),e._currentValue},useMemo:$t,useReducer:Jt,useRef:function(e){Ut=Xt();var t=(Bt=Yt()).memoizedState;return null===t?(e={current:e},Bt.memoizedState=e):t},useState:function(e){return Jt(Zt,e)},useInsertionEffect:nn,useLayoutEffect:function(){},useCallback:function(e,t){return $t((function(){return e}),t)},useImperativeHandle:nn,useEffect:nn,useDebugValue:nn,useDeferredValue:function(e){return Xt(),e},useTransition:function(){return Xt(),[!1,tn]},useId:function(){var e=jt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-zt(e)-1)).toString(32)+t;var r=an;if(null===r)throw Error(n(404));return t=Wt++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Xt(),t(e._source)},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()}},an=null,on=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function sn(e){return console.error(e),null}function ln(){}function un(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&En(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function cn(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function dn(e,t){if(null!=(e=e.onError(t))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function fn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,d(e.destination,t)):(e.status=1,e.fatalError=t)}function hn(e,t,n,r,i){for(Ut={},jt=t,Wt=0,e=n(r,i);Ht;)Ht=!1,Wt=0,qt+=1,Bt=null,e=n(r,i);return Qt(),e}function pn(e,t,r,i){var a=r.render(),o=i.childContextTypes;if(null!=o){var s=t.legacyContext;if("function"!=typeof r.getChildContext)i=s;else{for(var l in r=r.getChildContext())if(!(l in o))throw Error(n(108,wt(i)||"Unknown",l));i=nt({},s,r)}t.legacyContext=i,vn(e,t,a),t.legacyContext=s}else vn(e,t,a)}function mn(e,t){if(e&&e.defaultProps){for(var n in t=nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function gn(e,t,r,i,a){if("function"==typeof r)if(r.prototype&&r.prototype.isReactComponent){a=_t(r,t.legacyContext);var o=r.contextType;Rt(o=new r(i,"object"==typeof o&&null!==o?o._currentValue:a),r,i,a),pn(e,t,o,r)}else{a=hn(e,t,r,i,o=_t(r,t.legacyContext));var s=0!==Wt;if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof)Rt(a,r,i,o),pn(e,t,a,r);else if(s){i=t.treeContext,t.treeContext=Ot(i,1,0);try{vn(e,t,a)}finally{t.treeContext=i}}else vn(e,t,a)}else{if("string"!=typeof r){switch(r){case vt:case gt:case ot:case st:case at:case ft:return void vn(e,t,i.children);case mt:throw Error(n(343));case dt:e:{r=t.blockedBoundary,a=t.blockedSegment,o=i.fallback,i=i.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},c=cn(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(c),a.lastPushedText=!1;var d=cn(0,0,null,a.formatContext,!1,!1);d.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=d;try{if(bn(e,t,i),d.lastPushedText&&d.textEmbedded&&d.chunks.push(D),d.status=1,_n(l,d),0===l.pendingTasks)break e}catch(f){d.status=4,l.forceClientRender=!0,l.errorDigest=dn(e,f)}finally{t.blockedBoundary=r,t.blockedSegment=a}t=un(e,o,r,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"==typeof r&&null!==r)switch(r.$$typeof){case ct:if(i=hn(e,t,r.render,i,a),0!==Wt){r=t.treeContext,t.treeContext=Ot(r,1,0);try{vn(e,t,i)}finally{t.treeContext=r}}else vn(e,t,i);return;case ht:return void gn(e,t,r=r.type,i=mn(r,i),a);case lt:if(a=i.children,r=r._context,i=i.value,o=r._currentValue,r._currentValue=i,St=i={parent:s=St,depth:null===s?0:s.depth+1,context:r,parentValue:o,value:i},t.context=i,vn(e,t,a),null===(e=St))throw Error(n(403));return i=e.parentValue,e.context._currentValue=i===yt?e.context._defaultValue:i,e=St=e.parent,void(t.context=e);case ut:return void vn(e,t,i=(i=i.children)(r._currentValue));case pt:return void gn(e,t,r=(a=r._init)(r._payload),i=mn(r,i),void 0)}throw Error(n(130,null==r?r:typeof r,""))}switch(o=ae((a=t.blockedSegment).chunks,r,i,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return L(1,null!=n.value?n.value:n.defaultValue);case"svg":return L(2,null);case"math":return L(3,null);case"foreignObject":return L(1,null);case"table":return L(4,null);case"thead":case"tbody":case"tfoot":return L(5,null);case"colgroup":return L(7,null);case"tr":return L(6,null)}return 4<=e.insertionMode||0===e.insertionMode?L(1,null):e}(s,r,i),bn(e,t,o),a.formatContext=s,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(oe,u(r),se)}a.lastPushedText=!1}}function vn(e,t,r){if(t.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case rt:return void gn(e,t,r.type,r.props,r.ref);case it:throw Error(n(257));case pt:var i=r._init;return void vn(e,t,r=i(r._payload))}if(M(r))return void yn(e,t,r);if(null===r||"object"!=typeof r?i=null:i="function"==typeof(i=bt&&r[bt]||r["@@iterator"])?i:null,i&&(i=i.call(r))){if(!(r=i.next()).done){var a=[];do{a.push(r.value),r=i.next()}while(!r.done);yn(e,t,a)}return}throw e=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(r).join(", ")+"}":e))}"string"==typeof r?(i=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=t.blockedSegment).lastPushedText=N(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function yn(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Ot(a,r,i);try{bn(e,t,n[i])}finally{t.treeContext=a}}}function bn(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return vn(e,t,n)}catch(l){if(Qt(),"object"!=typeof l||null===l||"function"!=typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Tt(a),l;n=l;var o=t.blockedSegment,s=cn(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=un(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Tt(a)}}function wn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Sn(this,t,e)}function xn(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,null===i?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=void 0===r?Error(n(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach((function(e){return xn(e,t,r)})),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(i=t.onAllReady)())}function _n(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&_n(e,n)}else e.completedSegments.push(t)}function Sn(e,t,r){if(null===t){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ln,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(r.parentFlushed&&1===r.status&&_n(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wn,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(_n(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function En(e){if(2!==e.status){var t=St,n=on.current;on.current=rn;var r=an;an=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){Tt(o.context);try{vn(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(D),o.abortSet.delete(o),l.status=1,Sn(s,o.blockedBoundary,l)}catch(h){if(Qt(),"object"==typeof h&&null!==h&&"function"==typeof h.then){var u=o.ping;h.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=h,f=dn(s,d);if(null===c?fn(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&An(e,e.destination)}catch(h){dn(e,h),fn(e,h)}finally{an=r,on.current=n,n===rn&&Tt(t)}}}function kn(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,a(t,le),a(t,e.placeholderPrefix),a(t,e=u(i.toString(16))),o(t,ue);case 1:r.status=2;var s=!0;i=r.chunks;var l=0;r=r.children;for(var c=0;c<r.length;c++){for(s=r[c];l<s.index;l++)a(t,i[l]);s=Cn(e,t,s)}for(;l<i.length-1;l++)a(t,i[l]);return l<i.length&&(s=o(t,i[l])),s;default:throw Error(n(390))}}function Cn(e,t,r){var i=r.boundary;if(null===i)return kn(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,o(t,he),a(t,me),i&&(a(t,ve),a(t,u(E(i))),a(t,ge)),o(t,ye),kn(e,t,r);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,l=s.nextSuspenseID++;s=c(s.boundaryPrefix+l.toString(16)),i=i.id=s,be(t,e.responseState,i),kn(e,t,r)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),be(t,e.responseState,i.id),kn(e,t,r);else{if(o(t,ce),1!==(r=i.completedSegments).length)throw Error(n(391));Cn(e,t,r[0])}return o(t,pe)}function Mn(e,t,r){return function(e,t,r,i){switch(r.insertionMode){case 0:case 1:return a(e,we),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,xe);case 2:return a(e,Se),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Ee);case 3:return a(e,Ce),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Me);case 4:return a(e,Te),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Ae);case 5:return a(e,Ie),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,Oe);case 6:return a(e,Le),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,De);case 7:return a(e,Ue),a(e,t.segmentPrefix),a(e,u(i.toString(16))),o(e,je);default:throw Error(n(397))}}(t,e.responseState,r.formatContext,r.id),Cn(e,t,r),function(e,t){switch(t.insertionMode){case 0:case 1:return o(e,_e);case 2:return o(e,ke);case 3:return o(e,Pe);case 4:return o(e,Re);case 5:return o(e,ze);case 6:return o(e,Ne);case 7:return o(e,Fe);default:throw Error(n(397))}}(t,r.formatContext)}function Pn(e,t,r){for(var i=r.completedSegments,s=0;s<i.length;s++)Tn(e,t,r,i[s]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,a(t,e.startInlineScript),e.sentCompleteBoundaryFunction?a(t,qe):(e.sentCompleteBoundaryFunction=!0,a(t,Ge)),null===i)throw Error(n(395));return r=u(r.toString(16)),a(t,i),a(t,Xe),a(t,e.segmentPrefix),a(t,r),o(t,Ke)}function Tn(e,t,r,i){if(2===i.status)return!0;var s=i.id;if(-1===s){if(-1===(i.id=r.rootSegmentID))throw Error(n(392));return Mn(e,t,i)}return Mn(e,t,i),a(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(t,Ve):(e.sentCompleteSegmentFunction=!0,a(t,Be)),a(t,e.segmentPrefix),a(t,s=u(s.toString(16))),a(t,He),a(t,e.placeholderPrefix),a(t,s),o(t,We)}function An(e,t){r=new Uint8Array(512),i=0;try{var l=e.completedRootSegment;if(null!==l&&0===e.pendingRootTasks){Cn(e,t,l),e.completedRootSegment=null;var c=e.responseState.bootstrapChunks;for(l=0;l<c.length-1;l++)a(t,c[l]);l<c.length&&o(t,c[l])}var d,f=e.clientRenderedBoundaries;for(d=0;d<f.length;d++){var h=f[d];c=t;var p=e.responseState,m=h.id,g=h.errorDigest,v=h.errorMessage,y=h.errorComponentStack;if(a(c,p.startInlineScript),p.sentClientRenderFunction?a(c,Qe):(p.sentClientRenderFunction=!0,a(c,Ye)),null===m)throw Error(n(395));if(a(c,m),a(c,Ze),(g||v||y)&&(a(c,$e),a(c,u(tt(g||"")))),(v||y)&&(a(c,$e),a(c,u(tt(v||"")))),y&&(a(c,$e),a(c,u(tt(y)))),!o(c,Je))return e.destination=null,d++,void f.splice(0,d)}f.splice(0,d);var b=e.completedBoundaries;for(d=0;d<b.length;d++)if(!Pn(e,t,b[d]))return e.destination=null,d++,void b.splice(0,d);b.splice(0,d),s(t),r=new Uint8Array(512),i=0;var w=e.partialBoundaries;for(d=0;d<w.length;d++){var x=w[d];e:{f=e,h=t;var _=x.completedSegments;for(p=0;p<_.length;p++)if(!Tn(f,h,x,_[p])){p++,_.splice(0,p);var S=!1;break e}_.splice(0,p),S=!0}if(!S)return e.destination=null,d++,void w.splice(0,d)}w.splice(0,d);var E=e.completedBoundaries;for(d=0;d<E.length;d++)if(!Pn(e,t,E[d]))return e.destination=null,d++,void E.splice(0,d);E.splice(0,d)}finally{s(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Rn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return xn(n,e,t)})),n.clear(),null!==e.destination&&An(e,e.destination)}catch(r){dn(e,r),fn(e,r)}}e.renderToReadableStream=function(e,t){return new Promise((function(n,r){var i,a,o=new Promise((function(e,t){a=e,i=t})),s=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=cn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?sn:i,onAllReady:void 0===a?ln:a,onShellReady:void 0===o?ln:o,onShellError:void 0===s?ln:s,onFatalError:void 0===l?ln:l},0,null,n,!1,!1)).parentFlushed=!0,e=un(t,e,null,n,c,xt,null,It),u.push(e),t}(e,function(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?P:c('<script nonce="'+E(t)+'">');var a=[];if(void 0!==n&&a.push(t,u((""+n).replace(O,z)),T),void 0!==r)for(n=0;n<r.length;n++)a.push(A,u(E(r[n])),I);if(void 0!==i)for(r=0;r<i.length;r++)a.push(R,u(E(i[r])),I);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:c(e+"P:"),segmentPrefix:c(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return L("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,d(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{An(s,e)}catch(t){dn(s,t),fn(s,t)}}},cancel:function(){Rn(s)}},{highWaterMark:0});e.allReady=o,n(e)}),(function(e){o.catch((function(){})),r(e)}),i);if(t&&t.signal){var l=t.signal,f=function(){Rn(s,l.reason),l.removeEventListener("abort",f)};l.addEventListener("abort",f)}En(s)}))},e.version="18.2.0"}}),$=N({"../../node_modules/react-dom/server.browser.js"(e){var t,n;t=Z(),n=J(),e.version=t.version,e.renderToString=t.renderToString,e.renderToStaticMarkup=t.renderToStaticMarkup,e.renderToNodeStream=t.renderToNodeStream,e.renderToStaticNodeStream=t.renderToStaticNodeStream,e.renderToReadableStream=n.renderToReadableStream}}),ee=N({"../../node_modules/react-is/cjs/react-is.production.min.js"(e){var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),l=t("react.context"),u=t("react.forward_ref"),c=t("react.suspense"),d=t("react.suspense_list"),f=t("react.memo"),h=t("react.lazy"),p=t("react.block"),m=t("react.server.block"),g=t("react.fundamental"),v=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=u,S=i,E=h,k=f,C=r,M=o,P=a,T=c;e.ContextConsumer=l,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=E,e.Memo=k,e.Portal=C,e.Profiler=M,e.StrictMode=P,e.Suspense=T,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===l},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===u},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===h},e.isMemo=function(e){return b(e)===f},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===v||e===a||e===c||e===d||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===p||e[0]===m)},e.typeOf=b}}),te=N({"../../node_modules/react-is/index.js"(e,t){t.exports=ee()}}),ne=N({"../../node_modules/shallowequal/index.js"(e,t){t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}}});function re(e){function t(e,r,l,u,f){for(var h,p,m,g,w,_=0,S=0,E=0,k=0,C=0,I=0,z=m=h=0,D=0,N=0,U=0,j=0,F=l.length,B=F-1,V="",H="",W="",G="";D<F;){if(p=l.charCodeAt(D),D===B&&S+k+E+_!==0&&(0!==S&&(p=47===S?10:47),k=E=_=0,F++,B++),S+k+E+_===0){if(D===B&&(0<N&&(V=V.replace(d,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(D)}p=59}switch(p){case 123:for(h=(V=V.trim()).charCodeAt(0),m=1,j=++D;D<F;){switch(p=l.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(D+1)){case 42:case 47:e:{for(z=D+1;z<B;++z)switch(l.charCodeAt(z)){case 47:if(42===p&&42===l.charCodeAt(z-1)&&D+2!==z){D=z+1;break e}break;case 10:if(47===p){D=z+1;break e}}D=z}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<B&&l.charCodeAt(D)!==p;);}if(0===m)break;D++}if(64===(m=l.substring(j,D),0===h&&(h=(V=V.replace(c,"").trim()).charCodeAt(0)),h)){switch(0<N&&(V=V.replace(d,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=R}if(j=(m=t(r,N,m,p,f+1)).length,0<O&&(w=s(3,m,N=n(R,V,U),r,P,M,j,p,f,u),V=N.join(""),void 0!==w&&0===(j=(m=w.trim()).length)&&(p=0,m="")),0<j)switch(p){case 115:V=V.replace(x,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,U),m,u,f+1);W+=m,m=U=N=z=h=0,V="",p=l.charCodeAt(++D);break;case 125:case 59:if(1<(j=(V=(0<N?V.replace(d,""):V).trim()).length))switch(0===z&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(j=(V=V.replace(" ",":")).length),0<O&&void 0!==(w=s(1,V,r,e,P,M,H.length,u,f,u))&&0===(j=(V=w.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),p=V.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){G+=V+l.charAt(D);break}default:58!==V.charCodeAt(j-1)&&(H+=i(V,h,p,V.charCodeAt(2)))}U=N=z=h=0,V="",p=l.charCodeAt(++D)}}switch(p){case 13:case 10:47===S?S=0:1+h===0&&107!==u&&0<V.length&&(N=1,V+="\0"),0<O*L&&s(0,V,r,e,P,M,H.length,u,f,u),M=1,P++;break;case 59:case 125:if(S+k+E+_===0){M++;break}default:switch(M++,g=l.charAt(D),p){case 9:case 32:if(k+_+S===0)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:k+S+_===0&&(N=U=1,g="\f"+g);break;case 108:if(k+S+_+T===0&&0<z)switch(D-z){case 2:112===C&&58===l.charCodeAt(D-3)&&(T=C);case 8:111===I&&(T=I)}break;case 58:k+S+_===0&&(z=D);break;case 44:S+E+k+_===0&&(N=1,g+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:k+S+E===0&&_++;break;case 93:k+S+E===0&&_--;break;case 41:k+S+_===0&&E--;break;case 40:if(k+S+_===0){if(0===h)if(2*C+3*I===533);else h=1;E++}break;case 64:S+E+k+_+z+m===0&&(m=1);break;case 42:case 47:if(!(0<k+_+E))switch(S){case 0:switch(2*p+3*l.charCodeAt(D+1)){case 235:S=47;break;case 220:j=D,S=42}break;case 42:47===p&&42===C&&j+2!==D&&(33===l.charCodeAt(j+2)&&(H+=l.substring(j,D+1)),g="",S=0)}}0===S&&(V+=g)}I=C,C=p,D++}if(0<(j=H.length)){if(N=r,0<O&&(void 0!==(w=s(2,H,N,e,P,M,j,u,f,u))&&0===(H=w).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",A*T!==0){switch(2!==A||a(H,2)||(T=0),T){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}T=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===A||2===A&&a(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(w,"tb");break;case 232:l=o.replace(w,"tb-rl");break;case 220:l=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),z(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var d,f=0,h=t;f<O;++f)switch(d=I[f].call(u,e,h,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(z=null,e?"function"!=typeof e?A=1:(A=2,z=e):A=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,P,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,P,M,a.length,0,0,0))&&(a=i)),T=0,M=P=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,P=1,T=0,A=1,R=[],I=[],O=0,z=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:O=I.length=0;break;default:if("function"==typeof t)I[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},u.set=l,void 0!==e&&l(e),u}var ie,ae,oe=D({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){ie=re}}),se=D({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){ae={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}}),le=N({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}}),ue=N({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(e,t){t.exports=le()}}),ce=N({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ue();function n(e){return e&&e.__esModule?e:{default:e}}var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=n(t).default((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));e.default=i}}),de=N({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(e,t){t.exports=ce()}}),fe=N({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(e){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case i:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case p:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(e){return x(e)||w(e)===u},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===l},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===d},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===m},e.isMemo=function(e){return w(e)===p},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===f},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},e.typeOf=w}}),he=N({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(e,t){t.exports=fe()}}),pe=N({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(e,t){var n=he(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var o=u(n);c&&(o=o.concat(c(n)));for(var p=s(t),m=s(n),g=0;g<o.length;++g){var v=o[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!p||!p[v])){var y=d(n,v);try{l(t,v,y)}catch(b){}}}}return t}}}),me={};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e){return"function"==typeof e}function ye(e){return e.displayName||e.name||"Component"}function be(e){return e&&"string"==typeof e.styledComponentId}function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function xe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yt(t%52)+n;return(yt(t%52)+n).replace(vt,"$1-$2")}function _e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ve(n)&&!be(n))return!1}return!0}function Se(e){var t,n,r,i,a=void 0===e?qe:e,o=a.options,s=void 0===o?qe:o,l=a.plugins,u=void 0===l?Ge:l,c=new ie(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&-1!==Et.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(St,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=u.length?u.reduce((function(e,t){return t.name||we(15),bt(e,t.name)}),5381).toString():"",p}function Ee(){return(0,je.useContext)(kt)||Pt}function ke(){return(0,je.useContext)(Mt)||Tt}function Ce(e){var t=(0,je.useState)(e.stylisPlugins),n=t[0],r=t[1],i=Ee(),a=(0,je.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,je.useMemo)((function(){return Se({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,je.useEffect)((function(){(0,Fe.default)(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),je.default.createElement(kt.Provider,{value:a},je.default.createElement(Mt.Provider,{value:o},e.children))}function Me(e){return Rt.test(e)?e.replace(It,zt).replace(Ot,"-ms-"):e}function Pe(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Pe(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Lt(e)?"":be(e)?"."+e.styledComponentId:ve(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Pe(e(t),t,n,r):e instanceof At?n?(e.inject(n,r),e.getName(r)):e:We(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Lt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||ve(t[o])?a.push(Me(o)+":",t[o],";"):We(t[o])?a.push.apply(a,e(t[o],o)):a.push(Me(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ae||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ve(e)||We(e)?Dt(Pe(He(Ge,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Dt(Pe(He(e,n)))}function Ae(e){return e.replace(Ut,"-").replace(jt,"")}function Re(e){return"string"==typeof e&&!0}function Ie(e,t,n){var r=e[n];Bt(t)&&Bt(r)?Oe(r,t):e[n]=t}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Bt(o))for(var s in o)Vt(s)&&Ie(e,o[s],s)}return e}function ze(e){var t=(0,je.useContext)(Ht),n=(0,je.useMemo)((function(){return n=e.theme,r=t,n?ve(n)?n(r):Array.isArray(n)||"object"!=typeof n?we(8):r?ge({},r,{},n):n:we(14);var n,r}),[e.theme,t]);return e.children?je.default.createElement(Ht.Provider,{value:n},e.children):null}function Le(e,t,n){var r,i=be(e),a=!Re(e),o=t.attrs,s=void 0===o?Ge:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Ae(e);Gt[n]=(Gt[n]||0)+1;var r=n+"-"+Ft("5.3.11"+n+Gt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,d=void 0===c?Re(r=e)?"styled."+r:"Styled("+ye(r)+")":c,f=t.displayName&&t.componentId?Ae(t.displayName)+"-"+t.componentId:t.componentId||u,h=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new _t(n,f,i?e.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,u=e.styledComponentId,c=e.target,d=function(e,t,n){void 0===e&&(e=qe);var r=ge({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in ve(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Nt(t,(0,je.useContext)(Ht),o)||qe,t,i),f=d[0],h=d[1],p=function(e,t,n,r){var i=Ee(),a=ke();return t?e.generateAndInjectStyles(qe,i,a):e.generateAndInjectStyles(n,i,a)}(a,r,f),m=n,g=h.$as||t.$as||h.as||t.as||c,v=Re(g),y=h!==t?ge({},t,{},h):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(l?l(w,Be.default,g):!v||(0,Be.default)(w))&&(b[w]=y[w]));return t.style&&h.style!==t.style&&(b.style=ge({},t.style,{},h.style)),b.className=Array.prototype.concat(s,u,p!==u?p:null,t.className,h.className).filter(Boolean).join(" "),b.ref=m,(0,je.createElement)(g,b)}(m,e,t,v)};return y.displayName=d,(m=je.default.forwardRef(y)).attrs=h,m.componentStyle=g,m.displayName=d,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ge,m.styledComponentId=f,m.target=i?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Re(e)?e:Ae(ye(e)));return Le(e,ge({},i,{attrs:h,componentId:a}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Oe({},e.defaultProps,t):t}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&(0,Ve.default)(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Te.apply(void 0,[e].concat(n)),a="sc-global-"+Ft(JSON.stringify(i)),o=new Xt(i,a);function s(e){var t=Ee(),n=ke(),r=(0,je.useContext)(Ht),i=(0,je.useRef)(t.allocateGSInstance(a)).current;return t.server&&l(i,e,t,r,n),(0,je.useLayoutEffect)((function(){if(!t.server)return l(i,e,t,r,n),function(){return o.removeStyles(i,t)}}),[i,e,t,r,n]),null}function l(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,Ze,n,i);else{var a=ge({},t,{theme:Nt(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return je.default.memo(s)}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Te.apply(void 0,[e].concat(n)).join(""),a=Ft(i);return new At(a,i)}((e,t)=>{for(var n in t)S(e,n,{get:t[n],enumerable:!0})})(me,{ServerStyleSheet:()=>Kt,StyleSheetConsumer:()=>Ct,StyleSheetContext:()=>kt,StyleSheetManager:()=>Ce,ThemeConsumer:()=>Wt,ThemeContext:()=>Ht,ThemeProvider:()=>ze,__PRIVATE__:()=>Zt,createGlobalStyle:()=>De,css:()=>Te,default:()=>Jt,isStyledComponent:()=>be,keyframes:()=>Ne,useTheme:()=>Qt,version:()=>Ke,withTheme:()=>Yt});var Ue,je,Fe,Be,Ve,He,We,Ge,qe,Xe,Ke,Ye,Qe,Ze,Je,$e,et,tt,nt,rt,it,at,ot,st,lt,ut,ct,dt,ft,ht,pt,mt,gt,vt,yt,bt,wt,xt,_t,St,Et,kt,Ct,Mt,Pt,Tt,At,Rt,It,Ot,zt,Lt,Dt,Nt,Ut,jt,Ft,Bt,Vt,Ht,Wt,Gt,qt,Xt,Kt,Yt,Qt,Zt,Jt,$t=D({"../../node_modules/styled-components/dist/styled-components.browser.esm.js"(){Ue=j(te()),je=j(V()),Fe=j(ne()),oe(),se(),Be=j(de()),Ve=j(pe()),He=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},We=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Ue.typeOf)(e)},Ge=Object.freeze([]),qe=Object.freeze({}),Xe="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ke="5.3.11",Ye="undefined"!=typeof window&&"HTMLElement"in window,Qe=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&"false"!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Ze={},Je=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&we(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),$e=new Map,et=new Map,tt=1,nt=function(e){if($e.has(e))return $e.get(e);for(;et.has(tt);)tt++;var t=tt++;return $e.set(e,t),et.set(t,e),t},rt=function(e){return et.get(e)},it=function(e,t){t>=tt&&(tt=t+1),$e.set(e,t),et.set(t,e)},at="style["+Xe+'][data-styled-version="5.3.11"]',ot=new RegExp("^"+Xe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),st=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},lt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(ot);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(it(u,l),st(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},ut=function(){return n.nc},ct=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Xe))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Xe,"active"),r.setAttribute("data-styled-version","5.3.11");var o=ut();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},dt=function(){function e(e){var t=this.element=ct(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}we(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),ft=function(){function e(e){var t=this.element=ct(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ht=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),pt=Ye,mt={isServer:!Ye,useCSSOMInjection:!Qe},gt=function(){function e(e,t,n){void 0===e&&(e=qe),void 0===t&&(t={}),this.options=ge({},mt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ye&&pt&&(pt=!1,function(e){for(var t=document.querySelectorAll(at),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Xe)&&(lt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return nt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ge({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new ht(i):r?new dt(i):new ft(i),new Je(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(nt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(nt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(nt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=rt(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=Xe+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),vt=/(a)(d)/gi,yt=function(e){return String.fromCharCode(e+(e>25?39:97))},bt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},xt=(wt=function(e){return bt(5381,e)})("5.3.11"),_t=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&_e(e),this.componentId=t,this.baseHash=bt(xt,t),this.baseStyle=n,gt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Pe(this.rules,e,t,n).join(""),o=xe(bt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=bt(this.baseHash,n.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var h=Pe(f,e,t,n),p=Array.isArray(h)?h.join(""):h;u=bt(u,p+d),c+=p}}if(c){var m=xe(u>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),St=/^\s*\/\/.*$/gm,Et=[":","[",".","#"],kt=je.default.createContext(),Ct=kt.Consumer,(Mt=je.default.createContext()).Consumer,Pt=new gt,Tt=Se(),At=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Tt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return we(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Tt),this.name+e.hash},e}(),Rt=/([A-Z])/,It=/([A-Z])/g,Ot=/^ms-/,zt=function(e){return"-"+e.toLowerCase()},Lt=function(e){return null==e||!1===e||""===e},Dt=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Nt=function(e,t,n){return void 0===n&&(n=qe),e.theme!==n.theme&&e.theme||t||n.theme},Ut=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jt=/(^-|-$)/g,Ft=function(e){return xe(wt(e)>>>0)},Bt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Vt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},Ht=je.default.createContext(),Wt=Ht.Consumer,Gt={},qt=function(e){return function e(t,n,r){if(void 0===r&&(r=qe),!(0,Ue.isValidElementType)(n))return we(1,String(n));var i=function(){return t(n,r,Te.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ge({},r,{},i))},i.attrs=function(i){return e(t,n,ge({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Le,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){qt[e]=qt(e)})),Xt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=_e(e),gt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Pe(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&gt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),Kt=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ut();return"<style "+[n&&'nonce="'+n+'"',Xe+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?we(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return we(2);var n=((t={})[Xe]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=ut();return r&&(n.nonce=r),[je.default.createElement("style",ge({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new gt({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?we(2):je.default.createElement(Ce,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return we(3)},e}(),Yt=function(e){var t=je.default.forwardRef((function(t,n){var r=(0,je.useContext)(Ht),i=e.defaultProps,a=Nt(t,r,i);return je.default.createElement(e,ge({},t,{theme:a,ref:n}))}));return(0,Ve.default)(t,e),t.displayName="WithTheme("+ye(e)+")",t},Qt=function(){return(0,je.useContext)(Ht)},Zt={StyleSheet:gt,masterSheet:Pt},Jt=qt}}),en=N({"../../node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js"(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,I(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function R(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function I(e){C=e,k||(k=!0,_())}function O(t,n){M=g((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(R)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=R,_=function(){E.postMessage(null)}):_=function(){g(R,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}}),tn=N({"../../node_modules/react-dom/node_modules/scheduler/index.js"(e,t){t.exports=en()}}),nn=N({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(e){var t=V(),n=tn();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"==typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(d,e)&&(c.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var z,L=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var N=!1;function U(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function j(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return F(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"==typeof(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?$(e,t.type,n):t.hasOwnProperty("defaultValue")&&$(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function $(e,t,n){("number"!==t||X(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(ee(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,ce=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!=typeof xe)throw Error(r(280));var t=e.stateNode;t&&(t=xi(t),xe(e.stateNode,e.type,t))}}function ke(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Me(e,t){return e(t)}function Pe(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Me(e,t,n)}finally{Te=!1,(null!==_e||null!==Se)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var i=xi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ie,Oe=!1;if(l)try{Ie={},Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Oe=!1}function ze(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,De=null,Ne=!1,Ue=null,je={onError:function(e){Le=!0,De=e}};function Fe(e,t,n,r,i,a,o,s,l){Le=!1,De=null,ze.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(r(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===i)return He(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ke=n.unstable_shouldYield,Ye=n.unstable_requestPaint,Qe=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,tt=n.unstable_LowPriority,nt=n.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return!(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,xt,_t,St,Et,kt=!1,Ct=[],Mt=null,Pt=null,Tt=null,At=new Map,Rt=new Map,It=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Nt(e)&&n.delete(t)}function jt(){kt=!1,null!==Mt&&Nt(Mt)&&(Mt=null),null!==Pt&&Nt(Pt)&&(Pt=null),null!==Tt&&Nt(Tt)&&(Tt=null),At.forEach(Ut),Rt.forEach(Ut)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return Ft(t,e)}if(0<Ct.length){Ft(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Ft(Mt,e),null!==Pt&&Ft(Pt,e),null!==Tt&&Ft(Tt,e),At.forEach(t),Rt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Dt(n),null===n.blockedOn&&It.shift()}var Vt=y.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=1,qt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Gt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=4,qt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function qt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Xt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Lt(Mt,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case $e:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function $t(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=L({},un,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(L({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var Cn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Cn),Pn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=an(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Rn),On=[9,13,27,32],zn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Dn=l&&"TextEvent"in window&&!Ln,Nn=l&&(!zn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Kn(e){Ur(e,0)}function Yn(e){if(q(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn,Jn,$n,er=!1;function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Gn(t,Xn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}l&&(l?((Jn="oninput"in document)||(($n=document.createElement("div")).setAttribute("oninput","return;"),Jn="function"==typeof $n.oninput),Zn=Jn):Zn=!1,er=Zn&&(!document.documentMode||9<document.documentMode));var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr,Mr,Pr=kr("animationend"),Tr=kr("animationiteration"),Ar=kr("animationstart"),Rr=kr("transitionend"),Ir=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Ir.set(e,t),o(t,[e])}for(Mr=0;Mr<Or.length;Mr++)zr((Cr=Or[Mr]).toLowerCase(),"on"+(Cr[0].toUpperCase()+Cr.slice(1)));zr(Pr,"onAnimationEnd"),zr(Tr,"onAnimationIteration"),zr(Ar,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Rr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,l,u){if(Fe.apply(this,arguments),Le){if(!Le)throw Error(r(198));var c=De;Le=!1,De=null,Ne||(Ne=!0,Ue=c)}}(i,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}}}if(Ne)throw e=Ue,Ne=!1,Ue=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(!(1&t)&&!(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Pr:case Tr:case Ar:l=vn;break;case Rr:l=An;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Re(p,f))&&c.push(Gr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=Pn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wi(l),h=null==u?s:wi(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Xr(h))p++;for(h=0,m=f;m;m=Xr(m))h++;for(;0<p-h;)c=Xr(c),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==l&&Kr(o,s,l,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Wn(s))if(er)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&$(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=$t()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Vn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!zn&&Fn(e,t)?(e=$t(),Jt=Zt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Re(n,a))&&o.unshift(Gr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Gr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(r(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:"undefined"!=typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xi(e){return e[hi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Mi={},Pi=Ei(Mi),Ti=Ei(!1),Ai=Mi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!=(e=e.childContextTypes)}function Oi(){ki(Ti),ki(Pi)}function zi(e,t,n){if(Pi.current!==Mi)throw Error(r(168));Ci(Pi,t),Ci(Ti,n)}function Li(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,B(e)||"Unknown",a));return L({},n,i)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ai=Pi.current,Ci(Pi,e),Ci(Ti,Ti.current),!0}function Ni(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Li(e,t,Ai),i.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Pi),Ci(Pi,e)):ki(Ti),Ci(Ti,n)}var Ui=null,ji=!1,Fi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=yt;try{var n=Ui;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),qe(Je,Vi),i}finally{yt=t,Fi=!1}}return null}var Hi=[],Wi=0,Gi=null,qi=0,Xi=[],Ki=0,Yi=null,Qi=1,Zi="";function Ji(e,t){Hi[Wi++]=qi,Hi[Wi++]=Gi,Gi=e,qi=t}function $i(e,t,n){Xi[Ki++]=Qi,Xi[Ki++]=Zi,Xi[Ki++]=Yi,Yi=e;var r=Qi;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-at(t)+i|n<<i|r,Zi=a+e}else Qi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Xi[--Ki],Xi[Ki]=null,Zi=Xi[--Ki],Xi[Ki]=null,Qi=Xi[--Ki],Xi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(r(418));t=ui(n.nextSibling);var i=na;t&&sa(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(r(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(r(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=y.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Ei(null),ya=null,ba=null,wa=null;function xa(){wa=ba=ya=null}function _a(e){var t=va.current;ki(va),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(r(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function Ma(e){null===Ca?Ca=[e]:Ca.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Pl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Na(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(h,d,f):p))break e;d=L({},d,f);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var ja=(new t.Component).refs;function Fa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Oa(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=za(e,a,i))&&(nu(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Oa(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=za(e,a,i))&&(nu(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Oa(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=za(e,i,r))&&(nu(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"==typeof a&&null!==a?a=ka(a):(i=Ii(t)?Ai:Pi.current,a=(r=null!=(r=t.contextTypes))?Ri(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ka(a):(a=Ii(t)?Ai:Pi.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Na(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===ja&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&Ka(i)===t.type)?((r=a(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case w:return(t=Uu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(ee(t)||O(t))return(t=Lu(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(ee(n)||O(n))return null!==i?null:d(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}return function l(u,c,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case b:e:{for(var g=d.key,v=c;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){n(u,v.sibling),(c=a(v,d.props.children)).return=u,u=c;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===A&&Ka(g)===v.type){n(u,v.sibling),(c=a(v,d.props)).ref=qa(u,v,d),c.return=u,u=c;break e}n(u,v);break}t(u,v),v=v.sibling}d.type===x?((c=Lu(d.props.children,u.mode,m,d.key)).return=u,u=c):((m=zu(d.type,d.key,d.props,null,u.mode,m)).ref=qa(u,c,d),m.return=u,u=m)}return s(u);case w:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(c=a(c,d.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=Uu(d,u.mode,m)).return=u,u=c}return s(u);case A:return l(u,c,(v=d._init)(d._payload),m)}if(ee(d))return function(r,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),ia&&Ji(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(r,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Ji(r,m),u}for(d=i(r,d);m<s.length;m++)null!==(g=p(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),ia&&Ji(r,m),u}(u,c,d,m);if(O(d))return function(a,s,l,u){var c=O(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ia&&Ji(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ia&&Ji(a,g),c}for(m=i(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ia&&Ji(a,g),c}(u,c,d,m);Xa(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(c=a(c,d)).return=u,u=c):(n(u,c),(c=Nu(d,u.mode,m)).return=u,u=c),s(u)):n(u,c)}}var Qa=Ya(!0),Za=Ya(!1),Ja={},$a=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(r(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($a),Ci($a,t)}function io(){ki($a),ki(eo),ki(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ci(eo,e),Ci($a,n))}function oo(e){eo.current===e&&(ki($a),ki(eo))}var so=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=y.ReactCurrentDispatcher,ho=y.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(r(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,i,a,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(i,a),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(r(301));o+=1,vo=go=null,t.updateQueue=null,fo.current=us,e=n(i,a)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(r(300));return e}function ko(){var e=0!==wo;return wo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Mo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(r(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Po(e,t){return"function"==typeof t?t(e):t}function To(e){var t=Mo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=go,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,mo.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Dl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Mo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ro(){}function Io(e,t){var n=mo,i=Mo(),a=t(),o=!sr(i.memoizedState,a);if(o&&(i.memoizedState=a,ws=!0),i=i.queue,Wo(Lo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,jo(9,zo.bind(null,n,i,a,t),void 0,null),null===Tl)throw Error(r(349));30&po||Oo(n,t,a)}return a}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&No(e)}function Lo(e,t,n){return n((function(){Do(t)&&No(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function No(e){var t=Ta(e,1);null!==t&&nu(t,e,1,-1)}function Uo(e){var t=Co();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Mo().memoizedState}function Bo(e,t,n,r){var i=Co();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Ho(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Go(e,t){return Vo(4,2,e,t)}function qo(e,t){return Vo(4,4,e,t)}function Xo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!=n?n.concat([e]):null,Vo(4,4,Xo.bind(null,t,e),n)}function Yo(){}function Qo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 21&po?(sr(n,t)||(n=pt(),mo.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{yt=n,ho.transition=r}}function es(){return Mo().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Pa(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Pa(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var os={readContext:ka,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:ka,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Bo(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mo,a=Co();if(ia){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Tl)throw Error(r(349));30&po||Oo(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ho(Lo.bind(null,i,o,e),[e]),i.flags|=2048,jo(9,zo.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Tl.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ka,useCallback:Qo,useContext:ka,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:To,useRef:Fo,useState:function(){return To(Po)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Mo(),go.memoizedState,e)},useTransition:function(){return[To(Po)[0],Mo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},us={readContext:ka,useCallback:Qo,useContext:ka,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Zo,useReducer:Ao,useRef:Fo,useState:function(){return Ao(Po)},useDebugValue:Yo,useDeferredValue:function(e){var t=Mo();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Po)[0],Mo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),fs(0,t)},n}function ms(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,za(n,t,1))),n.lanes|=1),e)}var bs=y.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Za(t,null,n,r):Qa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=ko(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ou(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);131072&e.flags&&(ws=!0)}}return Ms(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ol,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ol,Il),Il|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ol,Il),Il|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ol,Il),Il|=r;return xs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var a=Ii(n)?Ai:Pi.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=ko(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ps(e,t,n,r,i){if(Ii(n)){var a=!0;Di(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=ka(u):u=Ri(t,u=Ii(n)?Ai:Pi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Wa(t,o,r,u),Aa=!1;var f=t.memoizedState;o.state=f,Na(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ti.current||Aa?("function"==typeof c&&(Fa(t,n,c,r),l=t.memoizedState),(s=Aa||Va(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=ka(l):l=Ri(t,l=Ii(n)?Ai:Pi.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Wa(t,o,r,l),Aa=!1,f=t.memoizedState,o.state=f,Na(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ti.current||Aa?("function"==typeof h&&(Fa(t,n,h,r),p=t.memoizedState),(u=Aa||Va(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return ha(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Os,zs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var i,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),Ci(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},1&a||null===s?s=Du(l,a,0,null):(s.childLanes=0,s.pendingProps=l),e=Lu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Us(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=ds(Error(r(422))),js(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Du({mode:"visible",children:i.children},a,0,null),o=Lu(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Qa(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,o);if(!(1&t.mode))return js(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,js(e,t,s,i=ds(o=Error(r(419)),i,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(i=Tl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ta(e,a),nu(i,e,a,-1))}return mu(),js(e,t,s,i=ds(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ra=ui(a.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Ki++]=Qi,Xi[Ki++]=Zi,Xi[Ki++]=Yi,Qi=e.id,Zi=e.overflow,Yi=t),t=Us(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,o,n);if(s){s=a.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&l||t.child===o?(a=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==i?s=Ou(i,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Ou(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Us(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),2&(r=so.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ii(t.type)&&Oi(),qs(t),null;case 3:return i=t.stateNode,io(),ki(Ti),ki(Pi),co(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),qs(t),null;case 5:oo(t);var o=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return qs(t),null}if(e=no($a.current),da(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[fi]=t,i[hi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",i),jr("close",i);break;case"iframe":case"object":case"embed":jr("load",i);break;case"video":case"audio":for(o=0;o<Lr.length;o++)jr(Lr[o],i);break;case"source":jr("error",i);break;case"img":case"image":case"link":jr("error",i),jr("load",i);break;case"details":jr("toggle",i);break;case"input":Y(i,s),jr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},jr("invalid",i);break;case"textarea":re(i,s),jr("invalid",i)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(i.textContent,u,e),o=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(i.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",i)}switch(n){case"input":G(i),J(i,s,!0);break;case"textarea":G(i),ae(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=$r)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=i,Is(e,t),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":jr("cancel",e),jr("close",e),o=i;break;case"iframe":case"object":case"embed":jr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Lr.length;o++)jr(Lr[o],e);o=i;break;case"source":jr("error",e),o=i;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=i;break;case"details":jr("toggle",e),o=i;break;case"input":Y(e,i),o=K(e,i),jr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=L({},i,{value:void 0}),jr("invalid",e);break;case"textarea":re(e,i),o=ne(e,i),jr("invalid",e)}for(s in ve(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&jr("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":G(e),J(e,i,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?te(e,!!i.multiple,s,!1):null!=i.defaultValue&&te(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)zs(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=no(to.current),no($a.current),da(t)){if(i=t.stateNode,n=t.memoizedProps,i[fi]=t,(s=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fi]=t,t.stateNode=i}return qs(t),null;case 13:if(ki(so),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&1&t.mode&&!(128&t.flags))fa(),ha(),t.flags|=98560,s=!1;else if(s=da(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[fi]=t}else ha(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),s=!1}else null!==aa&&(ou(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&so.current?0===zl&&(zl=3):mu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return _a(t.type._context),qs(t),null;case 19:if(ki(so),null===(s=t.memoizedState))return qs(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Gs(s,!1);else{if(0!==zl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Vl&&(t.flags|=128,i=!0,Gs(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*Qe()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,i=!0,Gs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=so.current,Ci(so,i?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Il&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ti),ki(Pi),co(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var o,s=null;switch(n){case"input":i=K(e,i),r=K(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),r=ne(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=$r)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},zs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Qs||$s(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Qs&&($s(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fl(e,t,n),Qs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(r(160));hl(o,s,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&i){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&i&&null!==n&&$s(n,n.return);break;case 5:if(ml(t,e),vl(e),512&i&&null!==n&&$s(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(g){Eu(e,e.return,g)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),ye(l,s);var c=ye(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?ce(a,f):"children"===d?de(a,f):v(a,d,f,c)}switch(l){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?te(a,!!o.multiple,o.defaultValue,!0):te(a,!!o.multiple,o.multiple?[]:"",!1))}a[hi]=o}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&i&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,ml(t,e),Qs=c):ml(t,e),vl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$s(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(i,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Js=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",s))}catch(g){Eu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&i&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(de(a,""),i.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(r(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=o,(Qs=l)&&!u)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Js=l):_l(i);for(;null!==a;)Js=a,bl(a,t,n),a=a.sibling;Js=i,Ys=s,Qs=u}wl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Js=a):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qs)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(r(163))}Qs||512&t.flags&&il(t)}catch(h){Eu(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,El=Math.ceil,kl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Ml=y.ReactCurrentBatchConfig,Pl=0,Tl=null,Al=null,Rl=0,Il=0,Ol=Ei(0),zl=0,Ll=null,Dl=0,Nl=0,Ul=0,jl=null,Fl=null,Bl=0,Vl=1/0,Hl=null,Wl=!1,Gl=null,ql=null,Xl=!1,Kl=null,Yl=0,Ql=0,Zl=null,Jl=-1,$l=0;function eu(){return 6&Pl?Qe():-1!==Jl?Jl:Jl=Qe()}function tu(e){return 1&e.mode?2&Pl&&0!==Rl?Rl&-Rl:null!==ma.transition?(0===$l&&($l=pt()),$l):(0!==(e=yt)||(e=void 0===(e=window.event)?16:Yt(e.type)),e):1}function nu(e,t,n,i){if(50<Ql)throw Ql=0,Zl=null,Error(r(185));gt(e,n,i),(!(2&Pl)||e!==Tl)&&(e===Tl&&(!(2&Pl)&&(Nl|=n),4===zl&&su(e,Rl)),ru(e,i),1===n&&0===Pl&&!(1&t.mode)&&(Vl=Qe()+500,ji&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Tl?Rl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),oi((function(){!(6&Pl)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=$e;break;case 16:default:n=et;break;case 536870912:n=nt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,$l=0,6&Pl)throw Error(r(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var i=dt(e,e===Tl?Rl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=gu(e,i);else{t=i;var a=Pl;Pl|=2;var o=pu();for((Tl!==e||Rl!==t)&&(Hl=null,Vl=Qe()+500,fu(e,t));;)try{yu();break}catch(l){hu(e,l)}xa(),kl.current=o,Pl=a,null!==Al?t=0:(Tl=null,Rl=0,t=zl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(i=a,t=au(e,a))),1===t)throw n=Ll,fu(e,0),su(e,i),ru(e,Qe()),n;if(6===t)su(e,i);else{if(a=e.current.alternate,!(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,i))&&(0!==(o=ht(e))&&(i=o,t=au(e,o))),1===t))throw n=Ll,fu(e,0),su(e,i),ru(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:xu(e,Fl,Hl);break;case 3:if(su(e,i),(130023424&i)===i&&10<(t=Bl+500-Qe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ri(xu.bind(null,e,Fl,Hl),t);break}xu(e,Fl,Hl);break;case 4:if(su(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-at(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){e.timeoutHandle=ri(xu.bind(null,e,Fl,Hl),i);break}xu(e,Fl,Hl);break;default:throw Error(r(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fl,Fl=n,null!==t&&ou(t)),e}function ou(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Ul,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Pl)throw Error(r(327));_u();var t=dt(e,0);if(!(1&t))return ru(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var i=ht(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=Ll,fu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Fl,Hl),ru(e,Qe()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Qe()+500,ji&&Vi())}}function cu(e){null!==Kl&&0===Kl.tag&&!(6&Pl)&&_u();var t=Pl;Pl|=1;var n=Ml.transition,r=yt;try{if(Ml.transition=null,yt=1,e)return e()}finally{yt=r,Ml.transition=n,!(6&(Pl=t))&&Vi()}}function du(){Il=Ol.current,ki(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:io(),ki(Ti),ki(Pi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(so);break;case 10:_a(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Al=e=Ou(e.current,null),Rl=Il=t,zl=0,Ll=null,Ul=Nl=Dl=0,Fl=jl=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function hu(e,t){for(;;){var n=Al;try{if(xa(),fo.current=os,yo){for(var i=mo.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,wo=0,Cl.current=null,null===n||null===n.return){zl=1,Ll=t,Al=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){gs(o,c,t),mu();break e}u=Error(r(426))}else if(ia&&1&l.mode){var v=vs(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==zl&&(zl=2),null===jl?jl=[o]:jl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(!(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=os,null===e?os:e}function mu(){(0===zl||3===zl||2===zl)&&(zl=4),null===Tl||!(268435455&Dl)&&!(268435455&Nl)||su(Tl,Rl)}function gu(e,t){var n=Pl;Pl|=2;var i=pu();for((Tl!==e||Rl!==t)&&(Hl=null,fu(e,t));;)try{vu();break}catch(a){hu(e,a)}if(xa(),Pl=n,kl.current=i,null!==Al)throw Error(r(261));return Tl=null,Rl=0,zl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ke();)bu(Al)}function bu(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return zl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Xs(n,t,Il)))return void(Al=n);if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===zl&&(zl=5)}function xu(e,t,n){var i=yt,a=Ml.transition;try{Ml.transition=null,yt=1,function(e,t,n,i){do{_u()}while(null!==Kl);if(6&Pl)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tl&&(Al=Tl=null,Rl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Xl||(Xl=!0,Tu(et,(function(){return _u(),null}))),o=0!==(15990&n.flags),15990&n.subtreeFlags||o){o=Ml.transition,Ml.transition=null;var s=yt;yt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ei=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===o&&++d===i&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,a),Ye(),Pl=l,yt=s,Ml.transition=o}else e.current=n;if(Xl&&(Xl=!1,Kl=e,Yl=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;1&Yl&&0!==e.tag&&_u(),o=e.pendingLanes,1&o?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Vi()}(e,t,n,i)}finally{Ml.transition=a,yt=i}return null}function _u(){if(null!==Kl){var e=bt(Yl),t=Ml.transition,n=yt;try{if(Ml.transition=null,yt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Yl=0,6&Pl)throw Error(r(331));var a=Pl;for(Pl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(16&Js.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(al(d),d===c){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(2048&(o=Js).flags)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Eu(l,l.return,_)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Pl=a,Vi(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(_){}i=!0}return i}finally{yt=n,Ml.transition=t}}return!1}function Su(e,t,n){e=za(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=za(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===zl||3===zl&&(130023424&Rl)===Rl&&500>Qe()-Bl?fu(e,0):Ul|=n),ru(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=eu();null!==(e=Ta(e,t))&&(gt(e,t,n),ru(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Cu(e,n)}function Tu(e,t){return qe(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Au(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Iu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Lu(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Ru(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Ru(13,n,t,a)).elementType=M,e.lanes=o,e;case P:return(e=Ru(19,n,t,a)).elementType=P,e.lanes=o,e;case R:return Du(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case C:s=11;break e;case T:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Lu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,a,o,s,l){return e=new ju(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bu(e){if(!e)return Mi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Li(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Fu(n,r,!0,e,0,a,0,s,l)).context=Bu(null),n=e.current,(a=Oa(r=eu(),i=tu(n))).callback=null!=t?t:null,za(n,a,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=za(i,t,o))&&(nu(e,i,o,a),La(e,i,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ws=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),ha();break;case 5:ao(t);break;case 1:Ii(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):n&t.child.childLanes?Ns(e,t,n):(Ci(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=!!(131072&e.flags)}else ws=!1,ia&&1048576&t.flags&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hs(e,t),e=t.pendingProps;var a=Ri(t,Pi.current);Ea(t,n),a=Eo(null,t,i,e,a,n);var o=ko();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(i)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ra(t),a.updater=Ba,t.stateNode=a,a._reactInternals=t,Ga(t,i,e,n),t=Ts(null,t,i,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Iu(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=ga(i,e),a){case 0:t=Ms(null,t,i,e,n);break e;case 1:t=Ps(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=Ss(null,t,i,ga(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Ms(e,t,i,a=t.elementType===i?a:ga(i,a),n);case 1:return i=t.type,a=t.pendingProps,Ps(e,t,i,a=t.elementType===i?a:ga(i,a),n);case 3:e:{if(As(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Ia(e,t),Na(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,i,n,a=cs(Error(r(423)),t));break e}if(i!==a){t=Rs(e,t,i,n,a=cs(Error(r(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),i===a){t=Ws(e,t,n);break e}xs(e,t,i,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ni(i,a)?s=null:null!==o&&ni(i,o)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Ns(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Qa(t,null,i,n):xs(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,_s(e,t,i,a=t.elementType===i?a:ga(i,a),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ci(va,i._currentValue),i._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ti.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Sa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Ea(t,n),i=i(a=ka(a)),t.flags|=1,xs(e,t,i,n),t.child;case 14:return a=ga(i=t.type,t.pendingProps),Ss(e,t,i,a=ga(i.type,a),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:ga(i,a),Hs(e,t),t.tag=1,Ii(i)?(e=!0,Di(t)):e=!1,Ea(t,n),Ha(t,i,a),Ga(t,i,a,n),Ts(null,t,i,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(r(156,t.tag))};var Xu="function"==typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function $u(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Wu(o);s.call(e)}}Hu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Wu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return Wu(o)}Yu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hu(e,t,null,null)},Yu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Qe()),!(6&Pl)&&(Vl=Qe()+500,Vi()))}break;case 13:cu((function(){var t=Ta(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Ta(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=xi(i);if(!a)throw Error(r(90));q(i),Z(i,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Me=uu,Pe=cu;var ec,tc={usingClientEntryPoint:!1,Events:[bi,wi,xi,ke,Ce,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!(ec=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&ec.supportsFiber))try{rt=ec.inject(rc),it=ec}catch(ue){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},e.createRoot=function(e,t){if(!Qu(e))throw Error(r(299));var n=!1,i="",a=Xu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,i,a),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=We(t))?null:e.stateNode},e.flushSync=function(e){return cu(e)},e.hydrate=function(e,t,n){if(!Zu(t))throw Error(r(200));return $u(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=Xu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,a,0,o,s),e[pi]=t.current,Vr(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yu(t)},e.render=function(e,t,n){if(!Zu(t))throw Error(r(200));return $u(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(r(40));return!!e._reactRootContainer&&(cu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},e.unstable_batchedUpdates=uu,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zu(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return $u(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"}}),rn=N({"../../node_modules/react-dom/index.js"(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}})(),t.exports=nn()}}),an=N({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(e,t){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}),on=N({"../../node_modules/prop-types/factoryWithThrowingShims.js"(e,t){var n=an();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}}}),sn=N({"../../node_modules/prop-types/index.js"(e,t){t.exports=on()()}}),ln=N({"../../node_modules/react-shadow/styled-components.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t,r=V(),i=$(),a=($t(),t=me,U(S({},"__esModule",{value:!0}),t)),o=rn(),s=sn();function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r),c=l(s),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function f(e,t){return e(t={exports:{}},t.exports),t.exports}var h=f((function(e){!function(t){var n=function(e,t,r){if(!l(t)||c(t)||d(t)||f(t)||s(t))return t;var i,a=0,o=0;if(u(t))for(i=[],o=t.length;a<o;a++)i.push(n(e,t[a],r));else for(var h in i={},t)Object.prototype.hasOwnProperty.call(t,h)&&(i[e(h,r)]=n(e,t[h],r));return i},r=function(e){return h(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},i=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},a=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},o=Object.prototype.toString,s=function(e){return"function"==typeof e},l=function(e){return e===Object(e)},u=function(e){return"[object Array]"==o.call(e)},c=function(e){return"[object Date]"==o.call(e)},d=function(e){return"[object RegExp]"==o.call(e)},f=function(e){return"[object Boolean]"==o.call(e)},h=function(e){return(e-=0)==e},p=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},m={camelize:r,decamelize:a,pascalize:i,depascalize:a,camelizeKeys:function(e,t){return n(p(r,t),e)},decamelizeKeys:function(e,t){return n(p(a,t),e,t)},pascalizeKeys:function(e,t){return n(p(i,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m}(d)})).decamelize,p=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},g=f((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},y=r.createContext(null);function b(e){var t=e.children,n=v(e,["children"]);return"string"!=typeof t&&(t=i.renderToString(t)),u.default.createElement("template",g({},n,{dangerouslySetInnerHTML:{__html:t}}))}function w(e){var t=e.root,n=e.children;return o.createPortal(n,t)}b.propTypes={children:c.default.oneOfType([c.default.string,c.default.node])},b.defaultProps={children:""},w.propTypes={root:c.default.object.isRequired,children:c.default.node},w.defaultProps={children:null};var x=new Map;function _(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children};return new Proxy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{get:function(n,i){var a=h(i,{separator:"-"}),o="".concat(e,"-").concat(a);return x.has(o)||x.set(o,function(e){var t=r.forwardRef((function(t,i){var a,o,s=t.mode,l=t.delegatesFocus,c=t.styleSheets,d=t.ssr,f=t.children,h=v(t,["mode","delegatesFocus","styleSheets","ssr","children"]),p=(a=i,o=r.useRef(a&&a.current),r.useEffect((function(){a&&(a.current=o.current)}),[a]),o),x=r.useState(null),_=m(x,2),S=_[0],E=_[1],k="node_".concat(s).concat(l);return r.useLayoutEffect((function(){if(p.current)try{if("function"==typeof i&&i(p.current),d){var e=p.current.shadowRoot;return void E(e)}var t=p.current.attachShadow({mode:s,delegatesFocus:l});c.length>0&&(t.adoptedStyleSheets=c),E(t)}catch(n){!function(e){var t=e.error,n=e.styleSheets,r=e.root;if("NotSupportedError"!==t.name)throw t;n.length>0&&(r.adoptedStyleSheets=n)}({error:n,styleSheets:c,root:S})}}),[i,p,c]),u.default.createElement(u.default.Fragment,null,u.default.createElement(e.tag,g({key:k,ref:p},h),(S||d)&&u.default.createElement(y.Provider,{value:S},d?u.default.createElement(b,{shadowroot:s,shadowrootmode:s},e.render({root:S,ssr:d,children:f})):u.default.createElement(w,{root:S},e.render({root:S,ssr:d,children:f})))))}));return t.propTypes={mode:c.default.oneOf(["open","closed"]),delegatesFocus:c.default.bool,styleSheets:c.default.arrayOf(c.default.instanceOf(globalThis.CSSStyleSheet)),ssr:c.default.bool,children:c.default.node},t.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},t}({tag:a,render:t})),x.get(o)}})}function E(e){var t=new a.ServerStyleSheet;return i.renderToString(u.default.createElement(a.StyleSheetManager,{sheet:t.instance},u.default.createElement(u.default.Fragment,null,e))),t.getStyleElement()}_();var k=_({},"styled-components",(function(e){var t=e.root,n=e.ssr,r=e.children;return n?u.default.createElement(u.default.Fragment,null,E(r),r):u.default.createElement(a.StyleSheetManager,{target:t},u.default.createElement(u.default.Fragment,null,r))}));e.default=k,e.getStyleSheets=E}}),un=N({"../../node_modules/react-dom/client.js"(e){var t=rn();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}}),cn=N({"../../node_modules/queue-microtask/index.js"(e,t){var r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))}}),dn=N({"../../node_modules/regenerator-runtime/runtime.js"(e,t){var n=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new P(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};l(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,a)&&(b=x);var _=y.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=y,l(_,"constructor",y),l(y,"constructor",v),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(_),l(_,s,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}}),fn=N({"../../node_modules/@babel/runtime/regenerator/index.js"(e,t){t.exports=dn()}}),hn=N({"../../node_modules/zustand/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=fn(),n=V();function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t);function a(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var o="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;e.default=function(e){var t="function"==typeof e?a(e):e,r=function(e,r){void 0===e&&(e=t.getState),void 0===r&&(r=Object.is);var i=n.useReducer((function(e){return e+1}),0)[1],a=t.getState(),s=n.useRef(a),l=n.useRef(e),u=n.useRef(r),c=n.useRef(!1),d=n.useRef();void 0===d.current&&(d.current=e(a));var f,h=!1;(s.current!==a||l.current!==e||u.current!==r||c.current)&&(f=e(a),h=!r(d.current,f)),o((function(){h&&(d.current=f),s.current=a,l.current=e,u.current=r,c.current=!1}));var p=n.useRef(a);return o((function(){var e=function(){try{var e=t.getState(),n=l.current(e);u.current(d.current,n)||(s.current=e,d.current=n,i())}catch(r){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]),h?f:d.current};return Object.assign(r,t),r[Symbol.iterator]=i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),e.next=3,r;case 3:return e.next=5,t;case 5:case"end":return e.stop()}}),e)})),r}}}),pn=j(V()),mn=j(V()),gn=j(V()),vn=j(W()),yn=j(V(),1);function bn(e){let t,n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){let n=r(t);if(!a(o,n)){let t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}var wn="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?yn.useEffect:yn.useLayoutEffect;function xn(e){let t="function"==typeof e?bn(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,r]=(0,yn.useReducer)((e=>e+1),0),i=t.getState(),a=(0,yn.useRef)(i),o=(0,yn.useRef)(e),s=(0,yn.useRef)(n),l=(0,yn.useRef)(!1),u=(0,yn.useRef)();void 0===u.current&&(u.current=e(i));let c,d=!1;(a.current!==i||o.current!==e||s.current!==n||l.current)&&(c=e(i),d=!n(u.current,c)),wn((()=>{d&&(u.current=c),a.current=i,o.current=e,s.current=n,l.current=!1}));let f=(0,yn.useRef)(i);wn((()=>{let e=()=>{try{let e=t.getState(),n=o.current(e);s.current(u.current,n)||(a.current=e,u.current=n,r())}catch(e){l.current=!0,r()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n}),[]);let h=d?c:u.current;return(0,yn.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}var _n=j(K()),Sn=j(q()),En=[];function kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(let o of En)if(kn(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}let i={keys:t,equal:r.equal,remove:()=>{let e=En.indexOf(i);-1!==e&&En.splice(e,1)},promise:(a=e,"object"==typeof a&&"function"==typeof a.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var a;if(En.push(i),!n)throw i.promise}var Mn={};var Pn,Tn,An=e=>"colorSpace"in e||"outputColorSpace"in e,Rn=()=>{var e;return null!=(e=Mn.ColorManagement)?e:null},In=e=>e&&e.isOrthographicCamera,On="undefined"!=typeof window&&(null!=(Pn=window.document)&&Pn.createElement||"ReactNative"===(null==(Tn=window.navigator)?void 0:Tn.product))?gn.useLayoutEffect:gn.useEffect;function zn(e){let t=gn.useRef(e);return On((()=>{t.current=e}),[e]),t}function Ln(e){let{set:t}=e;return On((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}var Dn=class extends gn.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Dn.getDerivedStateFromError=()=>({error:!0});var Nn="__default",Un=new Map,jn=e=>e&&!!e.memoized&&!!e.changes;function Fn(e){var t;let n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}var Bn=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},Vn={obj:e=>e===Object(e)&&!Vn.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!=typeof t||!!e!=!!t)return!1;if(Vn.str(e)||Vn.num(e))return e===t;let a=Vn.obj(e);if(a&&"reference"===r)return e===t;let o,s=Vn.arr(e);if(s&&"reference"===n)return e===t;if((s||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!Vn.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(Vn.und(o)){if(s&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function Hn(e,t){return e.__r3f=O({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function Wn(e,t){let n=e;if(t.includes("-")){let r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}var Gn=/-\d+$/;function qn(e,t,n){if(Vn.str(n)){if(Gn.test(n)){let t=n.replace(Gn,""),{target:r,key:i}=Wn(e,t);Array.isArray(r[i])||(r[i]=[])}let{target:r,key:i}=Wn(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function Xn(e,t,n){var r,i;if(Vn.str(n)){let{target:r,key:i}=Wn(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i,a=t,{children:o,key:s,ref:l}=a,u=L(a,["children","key","ref"]),c=n,{children:d,key:f,ref:h}=c,p=L(c,["children","key","ref"]);let m=null!=(i=null==e?void 0:e.__r3f)?i:{},g=Object.entries(u),v=[];if(r){let e=Object.keys(p);for(let t=0;t<e.length;t++)u.hasOwnProperty(e[t])||g.unshift([e[t],Nn+"remove"])}g.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n||Vn.equ(r,p[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return v.push([n,r,!0,[]]);let a=[];n.includes("-")&&(a=n.split("-")),v.push([n,r,!1,a]);for(let e in u){let t=u[e];e.startsWith("".concat(n,"-"))&&v.push([e,t,!1,e.split("-")])}}));let y=O({},u);return m.memoizedProps&&m.memoizedProps.args&&(y.args=m.memoizedProps.args),m.memoizedProps&&m.memoizedProps.attach&&(y.attach=m.memoizedProps.attach),{memoized:y,changes:v}}function Yn(e,t){var n,r,i;let a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},{memoized:l,changes:u}=jn(t)?t:Kn(e,t),c=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let d=0;d<u.length;d++){let[t,n,r,i]=u[d];if(An(e)){let e="srgb",r="srgb-linear";"encoding"===t?(t="colorSpace",n=3001===n?e:r):"outputEncoding"===t&&(t="outputColorSpace",n=3001===n?e:r)}let o=e,l=o[t];if(i.length&&(l=i.reduce(((e,t)=>e[t]),e),!l||!l.set)){let[n,...r]=i.reverse();o=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===Nn+"remove")if(o.constructor){let e=Un.get(o.constructor);e||(e=new o.constructor,Un.set(o.constructor,e)),n=e[t]}else n=0;if(r)n?a.handlers[t]=n:delete a.handlers[t],a.eventCount=Object.keys(a.handlers).length;else if(l&&l.set&&(l.copy||l instanceof g.Layers)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&l.constructor===n.constructor)l.copy(n);else if(void 0!==n){let e=l instanceof g.Color;!e&&l.setScalar?l.setScalar(n):l instanceof g.Layers&&n instanceof g.Layers?l.mask=n.mask:l.set(n),!Rn()&&!s.linear&&e&&l.convertSRGBToLinear()}}else if(o[t]=n,o[t]instanceof g.Texture&&o[t].format===g.RGBAFormat&&o[t].type===g.UnsignedByteType){let e=o[t];An(e)&&An(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}Qn(e)}if(a.parent&&s.internal&&e.raycast&&c!==a.eventCount){let t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(i=e.__r3f)&&i.parent&&Zn(e),e}function Qn(e){var t,n;let r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Zn(e){null==e.onUpdate||e.onUpdate(e)}function Jn(e,t){e.manual||(In(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function $n(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function er(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function tr(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){let r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete($n(e)),null!=r&&r.eventCount){let n=z(O({},e),{intersections:t});null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){let{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;let l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){let r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){let t=Bn(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap((function(e){let n=Bn(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{let n=Bn(e.object),r=Bn(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{let t=$n(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(let e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push(z(O({},e),{eventObject:t})),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has($n(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=u?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map((e=>e.eventObject))),u&&!c.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),function(t,r,i,a){let o=e.getState();if(t.length){let e={stopped:!1};for(let s of t){let l=Bn(s.object)||o,{raycaster:u,pointer:c,camera:d,internal:f}=l,h=new g.Vector3(c.x,c.y,0).unproject(d),p=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{let t={intersection:s,target:r.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(s.eventObject,t):f.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},v=e=>{let t=f.capturedMap.get(e);t&&er(f.capturedMap,s.eventObject,t,e)},y={};for(let e in r){let t=r[e];"function"!=typeof t&&(y[e]=t)}let b=z(O(O({},s),y),{pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:h,ray:u.ray,camera:d,stopPropagation(){let i="pointerId"in r&&f.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(b.stopped=e.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((e=>e.eventObject===s.eventObject)))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:v},nativeEvent:r});if(a(b),!0===e.stopped)break}}}(c,a,d,(function(e){let t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){let t=$n(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{let n=o[i];n?(!u||s.initialHits.includes(t))&&(r(a,s.interaction.filter((e=>!s.initialHits.includes(e)))),n(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter((e=>!s.initialHits.includes(e))))}}))}}}}var nr,rr,ir,ar=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],or=e=>!(null==e||!e.render),sr=gn.createContext(null),lr=new Set,ur=new Set,cr=new Set;function dr(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function fr(e,t){switch(e){case"before":return dr(lr,t);case"after":return dr(ur,t);case"tail":return dr(cr,t)}}function hr(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),rr=t.internal.subscribers,nr=0;nr<rr.length;nr++)(ir=rr[nr]).ref.current(ir.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function pr(){let e=gn.useContext(sr);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return pr()(e,t)}function gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=pr(),r=n.getState().internal.subscribe,i=zn(e);return On((()=>r(i,t,n)),[t,r,n]),null}function vr(e,t){return function(n){let r=new n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e&&e(r),Promise.all(a.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}(e.scene)),n(e)}),t,(t=>i(new Error("Could not load ".concat(e,": ").concat(t.message))))))))))}}function yr(e,t,n,r){let i=Array.isArray(t)?t:[t],a=((e,t,n)=>Cn(e,t,!1,n))(vr(n,r),[e,...i],{equal:Vn.equ});return Array.isArray(t)?a:a[0]}yr.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return((e,t,n)=>{Cn(e,t,!0,n)})(vr(n),[e,...r])},yr.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)En.splice(0,En.length);else{let t=En.find((t=>kn(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};var br=new Map,{invalidate:wr,advance:xr}=function(e){let t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,fr("before",o);for(let n of e.values()){var s;r=n.store.getState(),r.internal.active&&("always"===r.frameloop||r.internal.frames>0)&&(null==(s=r.gl.xr)||!s.isPresenting)&&(t+=hr(o,r))}if(fr("after",o),0===t)return fr("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var o;if(!n)return e.forEach((e=>t(e.store.getState())),r);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&fr("before",t),r)hr(t,r,i);else for(let a of e.values())hr(t,a.store.getState());n&&fr("after",t)}}}(br),{reconciler:_r,applyProps:Sr}=function(e,t){function n(e,t,n){var r=t,{args:i=[],attach:a}=r,o=L(r,["args","attach"]);let s,l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===o.object)throw new Error("R3F: Primitives without 'object' are invalid!");s=Hn(o.object,{type:e,root:n,attach:a,primitive:!0})}else{let t=Mn[l];if(!t)throw new Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");s=Hn(new t(...i),{type:e,root:n,attach:a,memoizedProps:{args:i}})}return void 0===s.__r3f.attach&&(s instanceof g.BufferGeometry?s.__r3f.attach="geometry":s instanceof g.Material&&(s.__r3f.attach="material")),"inject"!==l&&Yn(s,o),s}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?qn(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||Hn(t,{}),t.__r3f.parent=e,Zn(t),Qn(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)qn(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let i=e.children.filter((e=>e!==t)),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||Hn(t,{}),t.__r3f.parent=e,Zn(t),Qn(t)}}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>o(t,e,n)))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)Xn(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{er(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}let u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;var l;if(!u)a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c);delete t.__r3f,c&&t.dispose&&"Scene"!==t.type&&(0,Sn.unstable_scheduleCallback)(Sn.unstable_IdlePriority,(()=>{try{t.dispose()}catch(e){}})),Qn(e)}}let s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:(0,_n.default)({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;let r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{let t=r,{args:i=[],children:a}=t,o=L(t,["args","children"]),s=n,{args:l=[],children:u}=s,c=L(s,["args","children"]);if(!Array.isArray(i))throw new Error("R3F: the args prop must be an array!");if(i.some(((e,t)=>e!==l[t])))return[!0];let d=Kn(e,o,c,!0);return d.changes.length?[!1,d]:null}},commitUpdate(e,t,i,a,s,l){let[u,c]=t;u?function(e,t,i,a){var s;let l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;let u=n(t,i,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&r(u,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(u,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))}))}(e,i,s,l):Yn(e,c)},commitMount(e,t,n,r){var i;let a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>Hn(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&Xn(r,e,n),e.isObject3D&&(e.visible=!1),Qn(e)},unhideInstance(e,t){var n;let{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&qn(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Qn(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():vn.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&Vn.fun(performance.now)?performance.now:Vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Yn}}(0,(function(){var e;let t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return vn.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vn.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vn.ContinuousEventPriority;default:return vn.DefaultEventPriority}})),Er={objects:"shallow",strict:!1},kr=(e,t)=>{let n="function"==typeof e?e(t):e;return or(n)?n:new g.WebGLRenderer(O({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Cr(e){let t=br.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");let i="function"==typeof reportError?reportError:console.error,a=r||((e,t)=>{let n=xn(((n,r)=>{let i=new g.Vector3,a=new g.Vector3,o=new g.Vector3;function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size,{width:s,height:l,top:u,left:c}=n,d=s/l;t instanceof g.Vector3?o.copy(t):o.set(...t);let f=e.getWorldPosition(i).distanceTo(o);if(In(e))return{width:s/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};{let t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*f,r=n*(s/l);return{width:r,height:n,top:u,left:c,factor:s/r,distance:f,aspect:d}}}let l,u=e=>n((t=>({performance:z(O({},t.performance),{current:e})}))),c=new g.Vector2;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new g.Clock,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&u(e.performance.min),l=setTimeout((()=>u(r().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:e=>n((t=>z(O({},t),{events:O(O({},t.events),e)}))),setSize:(e,t,i,o,l)=>{let u=r().camera,c={width:e,height:t,top:o||0,left:l||0,updateStyle:i};n((e=>({size:c,viewport:O(O({},e.viewport),s(u,a,c))})))},setDpr:e=>n((t=>{let n=Fn(e);return{viewport:z(O({},t.viewport),{dpr:n,initialDpr:t.viewport.initialDpr||n})}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:gn.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}}})),r=n.getState(),i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe((()=>{let{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();if(t!==i||r.dpr!==a){var u;i=t,a=r.dpr,Jn(e,t),s.setPixelRatio(r.dpr);let n=null!=(u=t.updateStyle)?u:"undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,n)}e!==o&&(o=e,l((t=>({viewport:O(O({},t.viewport),t.viewport.getCurrentViewport(e))}))))})),n.subscribe((t=>e(t))),n})(wr,xr),o=n||_r.createContainer(a,vn.ConcurrentRoot,null,!1,null,"",i,null);t||br.set(e,{fiber:o,store:a});let s,l,u=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:r,scene:i,events:o,onCreated:c,shadows:d=!1,linear:f=!1,flat:h=!1,legacy:p=!1,orthographic:m=!1,frameloop:v="always",dpr:y=[1,2],performance:b,raycaster:w,camera:x,onPointerMissed:_}=t,S=a.getState(),E=S.gl;S.gl||S.set({gl:E=kr(n,e)});let k=S.raycaster;k||S.set({raycaster:k=new g.Raycaster});let C=w||{},{params:M}=C,P=L(C,["params"]);if(Vn.equ(P,k,Er)||Sr(k,O({},P)),Vn.equ(M,k.params,Er)||Sr(k,{params:O(O({},k.params),M)}),!S.camera||S.camera===l&&!Vn.equ(l,x,Er)){l=x;let e=x instanceof g.Camera,t=e?x:m?new g.OrthographicCamera(0,0,0,0,.1,1e3):new g.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,x&&Sr(t,x),!S.camera&&!(null!=x&&x.rotation)&&t.lookAt(0,0,0)),S.set({camera:t})}if(!S.scene){let e;i instanceof g.Scene?e=i:(e=new g.Scene,i&&Sr(e,i)),S.set({scene:Hn(e)})}if(!S.xr){var T;let e=(e,t)=>{let n=a.getState();"never"!==n.frameloop&&xr(e,!0,n,t)},t=()=>{let t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||wr(t)},n={connect(){let e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(T=E.xr)?void 0:T.addEventListener)&&n.connect(),S.set({xr:n})}if(E.shadowMap){let e=E.shadowMap.enabled,t=E.shadowMap.type;if(E.shadowMap.enabled=!!d,Vn.boo(d))E.shadowMap.type=g.PCFSoftShadowMap;else if(Vn.str(d)){var A;let e={basic:g.BasicShadowMap,percentage:g.PCFShadowMap,soft:g.PCFSoftShadowMap,variance:g.VSMShadowMap};E.shadowMap.type=null!=(A=e[d])?A:g.PCFSoftShadowMap}else Vn.obj(d)&&Object.assign(E.shadowMap,d);(e!==E.shadowMap.enabled||t!==E.shadowMap.type)&&(E.shadowMap.needsUpdate=!0)}let R=Rn();R&&("enabled"in R?R.enabled=!p:"legacyMode"in R&&(R.legacyMode=p)),Sr(E,{outputEncoding:f?3e3:3001,toneMapping:h?g.NoToneMapping:g.ACESFilmicToneMapping}),S.legacy!==p&&S.set((()=>({legacy:p}))),S.linear!==f&&S.set((()=>({linear:f}))),S.flat!==h&&S.set((()=>({flat:h}))),n&&!Vn.fun(n)&&!or(n)&&!Vn.equ(n,E,Er)&&Sr(E,n),o&&!S.events.handlers&&S.set({events:o(a)});let I=function(e,t){if(t)return t;if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return Vn.equ(I,S.size,Er)||S.setSize(I.width,I.height,I.updateStyle,I.top,I.left),y&&S.viewport.dpr!==Fn(y)&&S.setDpr(y),S.frameloop!==v&&S.setFrameloop(v),S.onPointerMissed||S.set({onPointerMissed:_}),b&&!Vn.equ(b,S.performance,Er)&&S.set((e=>({performance:O(O({},e.performance),b)}))),s=c,u=!0,this},render(t){return u||this.configure(),_r.updateContainer(gn.createElement(Mr,{store:a,children:t,onCreated:s,rootElement:e}),o,null,(()=>{})),a},unmount(){Pr(e)}}}function Mr(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return On((()=>{let e=t.getState();e.set((e=>({internal:z(O({},e.internal),{active:!0})}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),gn.createElement(sr.Provider,{value:t},n)}function Pr(e,t){let n=br.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),_r.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(let t in e)null==t.dispose||t.dispose(),delete e[t]}(i),br.delete(e),t&&t(e)}catch(s){}}),500)}))}}function Tr(e){let{state:t={},children:n,container:r}=e,i=t,{events:a,size:o}=i,s=L(i,["events","size"]),l=pr(),[u]=gn.useState((()=>new g.Raycaster)),[c]=gn.useState((()=>new g.Vector2)),d=gn.useCallback(((e,t)=>{let n,i=O({},e);if(Object.keys(e).forEach((n=>{(ar.includes(n)||e[n]!==t[n]&&t[n])&&delete i[n]})),t&&o){let r=t.camera;n=e.viewport.getCurrentViewport(r,new g.Vector3,o),r!==e.camera&&Jn(r,o)}return O(z(O({},i),{scene:r,raycaster:u,pointer:c,mouse:c,previousRoot:l,events:O(O(O({},e.events),null==t?void 0:t.events),a),size:O(O({},e.size),o),viewport:O(O({},e.viewport),n)}),s)}),[t]),[f]=gn.useState((()=>{let e=l.getState();return xn(((t,n)=>z(O(z(O({},e),{scene:r,raycaster:u,pointer:c,mouse:c,previousRoot:l,events:O(O({},e.events),a),size:O(O({},e.size),o)}),s),{set:t,get:n,setEvents:e=>t((t=>z(O({},t),{events:O(O({},t.events),e)})))})))}));return gn.useEffect((()=>{let e=l.subscribe((e=>f.setState((t=>d(e,t)))));return()=>{e(),f.destroy()}}),[]),gn.useEffect((()=>{f.setState((e=>d(l.getState(),e)))}),[d]),gn.createElement(gn.Fragment,null,_r.createPortal(gn.createElement(sr.Provider,{value:f},n),f,null))}function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}_r.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:gn.version});var Rr=j(V()),Ir=j(V()),Or=j(Y());function zr(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,a=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,s]=(0,Ir.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,Ir.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=t?"number"==typeof t?t:t.scroll:null,c=t?"number"==typeof t?t:t.resize:null,d=(0,Ir.useRef)(!1);(0,Ir.useEffect)((()=>(d.current=!0,()=>{d.current=!1})));let[f,h,p]=(0,Ir.useMemo)((()=>{let e=()=>{if(!l.current.element)return;let{left:e,top:t,width:n,height:r,bottom:a,right:o,x:u,y:c}=l.current.element.getBoundingClientRect(),f={left:e,top:t,width:n,height:r,bottom:a,right:o,x:u,y:c};l.current.element instanceof HTMLElement&&i&&(f.height=l.current.element.offsetHeight,f.width=l.current.element.offsetWidth),Object.freeze(f),d.current&&!Nr(l.current.lastBounds,f)&&s(l.current.lastBounds=f)};return[e,c?(0,Or.default)(e,c):e,u?(0,Or.default)(e,u):e]}),[s,i,u,c]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function g(){l.current.element&&(l.current.resizeObserver=new a(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))))}return y=p,b=!!n,(0,Ir.useEffect)((()=>{if(b){let e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[y,b]),v=h,(0,Ir.useEffect)((()=>{let e=v;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[v]),(0,Ir.useEffect)((()=>{m(),g()}),[n,p,h]),(0,Ir.useEffect)((()=>m),[]),[e=>{!e||e===l.current.element||(m(),l.current.element=e,l.current.scrollContainers=Lr(e),g())},o,f];var v,y,b}function Lr(e){let t=[];if(!e||e===document.body)return t;let{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...Lr(e.parentElement)]}var Dr=["x","y","top","bottom","left","right","width","height"],Nr=(e,t)=>Dr.every((n=>e[n]===t[n])),Ur=j(V(),1),jr=Object.defineProperty,Fr=Object.defineProperties,Br=Object.getOwnPropertyDescriptors,Vr=Object.getOwnPropertySymbols,Hr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,Gr=(e,t,n)=>t in e?jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qr=(e,t)=>{for(var n in t||(t={}))Hr.call(t,n)&&Gr(e,n,t[n]);if(Vr)for(var n of Vr(t))Wr.call(t,n)&&Gr(e,n,t[n]);return e};function Xr(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){let e=Xr(r,t,n);if(e)return e;r=t?null:r.sibling}}function Kr(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}var Yr=Kr(Ur.createContext(null)),Qr=class extends Ur.Component{render(){return Ur.createElement(Yr.Provider,{value:this._reactInternals},this.props.children)}},{ReactCurrentOwner:Zr,ReactCurrentDispatcher:Jr}=Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $r(){var e,t;let n=function(){let e=Ur.useContext(Yr);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=Ur.useId();return Ur.useMemo((()=>{for(let n of[null==Zr?void 0:Zr.current,e,null==e?void 0:e.alternate]){if(!n)continue;let e=Xr(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}(),[r]=Ur.useState((()=>new Map));r.clear();let i=n;for(;i;){let n=null==(e=i.type)?void 0:e._context;n&&n!==Yr&&!r.has(n)&&r.set(n,null==(t=null==Jr?void 0:Jr.current)?void 0:t.readContext(Kr(n))),i=i.return}return r}function ei(){let e=$r();return Ur.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>{return Ur.createElement(t,null,Ur.createElement(n.Provider,(i=qr({},r),a={value:e.get(n)},Fr(i,Br(a)))));var i,a}),(e=>Ur.createElement(Qr,qr({},e))))),[e])}j(W()),j(K()),j(q());var ti={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ni(e){let{handlePointer:t}=tr(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(ti).reduce(((e,n)=>z(O({},e),{[n]:t(n)})),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;let{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:z(O({},e.events),{connected:t})}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e,[i,a]=ti[n];t.addEventListener(i,r,{passive:a})}))},disconnect:()=>{let{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){let[e]=ti[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:z(O({},e.events),{connected:void 0})}))))}}}var ri=Rr.forwardRef((function(e,t){var n=e,{children:r,fallback:i,resize:a,style:o,gl:s,events:l=ni,eventSource:u,eventPrefix:c,shadows:d,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:b,raycaster:w,camera:x,onPointerMissed:_,onCreated:S}=n,E=L(n,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);Rr.useMemo((()=>{return e=g,void Object.assign(Mn,e);var e}),[]);let k=ei(),[C,M]=zr(O({scroll:!0,debounce:{scroll:50,resize:0}},a)),P=Rr.useRef(null),T=Rr.useRef(null);Rr.useImperativeHandle(t,(()=>P.current));let A=zn(_),[R,I]=Rr.useState(!1),[z,D]=Rr.useState(!1);if(R)throw R;if(z)throw z;let N=Rr.useRef(null);return On((()=>{let e=P.current;M.width>0&&M.height>0&&e&&(N.current||(N.current=Cr(e)),N.current.configure({gl:s,events:l,shadows:d,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:b,raycaster:w,camera:x,size:M,onPointerMissed:function(){return null==A.current?void 0:A.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:T.current),c&&e.setEvents({compute:(e,t)=>{let n=e[c+"X"],r=e[c+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),N.current.render(Rr.createElement(k,null,Rr.createElement(Dn,{set:D},Rr.createElement(Rr.Suspense,{fallback:Rr.createElement(Ln,{set:I})},r)))))})),Rr.useEffect((()=>{let e=P.current;if(e)return()=>Pr(e)}),[]),Rr.createElement("div",Ar({ref:T,style:O({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:u?"none":"auto"},o)},E),Rr.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},Rr.createElement("canvas",{ref:P,style:{display:"block"}},i)))})),ii=Rr.forwardRef((function(e,t){return Rr.createElement(Qr,null,Rr.createElement(ri,Ar({},e,{ref:t})))})),ai=j(Q()),oi=j(ln()),si=j(V()),li=j(V());function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ui.apply(this,arguments)}var ci=j(V()),di=j(un()),fi=new g.Vector3,hi=new g.Vector3,pi=new g.Vector3;function mi(e,t,n){let r=fi.setFromMatrixPosition(e.matrixWorld);r.project(t);let i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var gi=e=>Math.abs(e)<1e-10?0:e;function vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let i=0;16!==i;i++)r+=gi(t[i]*e.elements[i])+(15!==i?",":")");return n+r}var yi,bi=(yi=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>vi(e,yi)),wi=(e,t)=>{return vi(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};var xi=ci.forwardRef(((e,t)=>{var n=e,{children:r,eps:i=.001,style:a,className:o,prepend:s,center:l,fullscreen:u,portal:c,distanceFactor:d,sprite:f=!1,transform:h=!1,occlude:p,onOcclude:m,castShadow:v,receiveShadow:y,material:b,geometry:w,zIndexRange:x=[16777271,0],calculatePosition:_=mi,as:S="div",wrapperClass:E,pointerEvents:k="auto"}=n,C=L(n,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]);let{gl:M,camera:P,scene:T,size:A,raycaster:R,events:I,viewport:z}=mr(),[D]=ci.useState((()=>document.createElement(S))),N=ci.useRef(),U=ci.useRef(null),j=ci.useRef(0),F=ci.useRef([0,0]),B=ci.useRef(null),V=ci.useRef(null),H=(null==c?void 0:c.current)||I.connected||M.domElement.parentNode,W=ci.useRef(null),G=ci.useRef(!1),q=ci.useMemo((()=>p&&"blending"!==p||Array.isArray(p)&&p.length&&function(e){return e&&"object"==typeof e&&"current"in e}(p[0])),[p]);ci.useLayoutEffect((()=>{let e=M.domElement;p&&"blending"===p?(e.style.zIndex="".concat(Math.floor(x[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[p]),ci.useLayoutEffect((()=>{if(U.current){let e=N.current=di.createRoot(D);if(T.updateMatrixWorld(),h)D.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=_(U.current,P,A);D.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return H&&(s?H.prepend(D):H.appendChild(D)),()=>{H&&H.removeChild(D),e.unmount()}}}),[H,h]),ci.useLayoutEffect((()=>{E&&(D.className=E)}),[E]);let X=ci.useMemo((()=>h?{position:"absolute",top:0,left:0,width:A.width,height:A.height,transformStyle:"preserve-3d",pointerEvents:"none"}:O(O({position:"absolute",transform:l?"translate3d(-50%,-50%,0)":"none"},u&&{top:-A.height/2,left:-A.width/2,width:A.width,height:A.height}),a)),[a,l,u,A,h]),K=ci.useMemo((()=>({position:"absolute",pointerEvents:k})),[k]);ci.useLayoutEffect((()=>{var e,n;(G.current=!1,h)?null==(e=N.current)||e.render(ci.createElement("div",{ref:B,style:X},ci.createElement("div",{ref:V,style:K},ci.createElement("div",{ref:t,className:o,style:a,children:r})))):null==(n=N.current)||n.render(ci.createElement("div",{ref:t,style:X,className:o,children:r}))}));let Y=ci.useRef(!0);gr((e=>{if(U.current){P.updateMatrixWorld(),U.current.updateWorldMatrix(!0,!1);let e=h?F.current:_(U.current,P,A);if(h||Math.abs(j.current-P.zoom)>i||Math.abs(F.current[0]-e[0])>i||Math.abs(F.current[1]-e[1])>i){let t=function(e,t){let n=fi.setFromMatrixPosition(e.matrixWorld),r=hi.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(pi);return i.angleTo(a)>Math.PI/2}(U.current,P),n=!1;q&&("blending"!==p?n=[T]:Array.isArray(p)&&(n=p.map((e=>e.current))));let r=Y.current;if(n){let e=function(e,t,n,r){let i=fi.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);let o=n.intersectObjects(r,!0);if(o.length){let e=o[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(U.current,P,R,n);Y.current=e&&!t}else Y.current=!t;r!==Y.current&&(m?m(!Y.current):D.style.display=Y.current?"block":"none");let i=Math.floor(x[0]/2),a=p?q?[x[0],i]:[i-1,0]:x;if(D.style.zIndex="".concat(function(e,t,n){if(t instanceof g.PerspectiveCamera||t instanceof g.OrthographicCamera){let r=fi.setFromMatrixPosition(e.matrixWorld),i=hi.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(U.current,P,a)),h){let[e,t]=[A.width/2,A.height/2],n=P.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:a,bottom:o,right:s}=P,l=bi(P.matrixWorldInverse),u=r?"scale(".concat(n,")translate(").concat(gi(-(s+a)/2),"px,").concat(gi((i+o)/2),"px)"):"translateZ(".concat(n,"px)"),c=U.current.matrixWorld;f&&(c=P.matrixWorldInverse.clone().transpose().copyPosition(c).scale(U.current.scale),c.elements[3]=c.elements[7]=c.elements[11]=0,c.elements[15]=1),D.style.width=A.width+"px",D.style.height=A.height+"px",D.style.perspective=r?"":"".concat(n,"px"),B.current&&V.current&&(B.current.style.transform="".concat(u).concat(l,"translate(").concat(e,"px,").concat(t,"px)"),V.current.style.transform=wi(c,1/((d||10)/400)))}else{let t=void 0===d?1:function(e,t){if(t instanceof g.OrthographicCamera)return t.zoom;if(t instanceof g.PerspectiveCamera){let n=fi.setFromMatrixPosition(e.matrixWorld),r=hi.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(U.current,P)*d;D.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}F.current=e,j.current=P.zoom}}if(!q&&W.current&&!G.current)if(h){if(B.current){let e=B.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=P;if(t||w)C.scale&&(Array.isArray(C.scale)?C.scale instanceof g.Vector3?W.current.scale.copy(C.scale.clone().divideScalar(1)):W.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):W.current.scale.setScalar(1/C.scale));else{let t=(d||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;W.current.scale.set(n,r,1)}G.current=!0}}}else{let t=D.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/z.factor,n=t.clientWidth*e,r=t.clientHeight*e;W.current.scale.set(n,r,1),G.current=!0}W.current.lookAt(e.camera.position)}}));let Q=ci.useMemo((()=>({vertexShader:h?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[h]);return ci.createElement("group",ui({},C,{ref:U}),p&&!q&&ci.createElement("mesh",{castShadow:v,receiveShadow:y,ref:W},w||ci.createElement("planeGeometry",null),b||ci.createElement("shaderMaterial",{side:g.DoubleSide,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))}));var _i=function(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)}))}},Si=Object.defineProperty,Ei=(e,t,n)=>(((e,t,n)=>{t in e?Si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),ki=class extends g.Object3D{constructor(e,t){super(),Ei(this,"isTransformControls",!0),Ei(this,"visible",!1),Ei(this,"domElement"),Ei(this,"raycaster",new g.Raycaster),Ei(this,"gizmo"),Ei(this,"plane"),Ei(this,"tempVector",new g.Vector3),Ei(this,"tempVector2",new g.Vector3),Ei(this,"tempQuaternion",new g.Quaternion),Ei(this,"unit",{X:new g.Vector3(1,0,0),Y:new g.Vector3(0,1,0),Z:new g.Vector3(0,0,1)}),Ei(this,"pointStart",new g.Vector3),Ei(this,"pointEnd",new g.Vector3),Ei(this,"offset",new g.Vector3),Ei(this,"rotationAxis",new g.Vector3),Ei(this,"startNorm",new g.Vector3),Ei(this,"endNorm",new g.Vector3),Ei(this,"rotationAngle",0),Ei(this,"cameraPosition",new g.Vector3),Ei(this,"cameraQuaternion",new g.Quaternion),Ei(this,"cameraScale",new g.Vector3),Ei(this,"parentPosition",new g.Vector3),Ei(this,"parentQuaternion",new g.Quaternion),Ei(this,"parentQuaternionInv",new g.Quaternion),Ei(this,"parentScale",new g.Vector3),Ei(this,"worldPositionStart",new g.Vector3),Ei(this,"worldQuaternionStart",new g.Quaternion),Ei(this,"worldScaleStart",new g.Vector3),Ei(this,"worldPosition",new g.Vector3),Ei(this,"worldQuaternion",new g.Quaternion),Ei(this,"worldQuaternionInv",new g.Quaternion),Ei(this,"worldScale",new g.Vector3),Ei(this,"eye",new g.Vector3),Ei(this,"positionStart",new g.Vector3),Ei(this,"quaternionStart",new g.Quaternion),Ei(this,"scaleStart",new g.Vector3),Ei(this,"camera"),Ei(this,"object"),Ei(this,"enabled",!0),Ei(this,"axis",null),Ei(this,"mode","translate"),Ei(this,"translationSnap",null),Ei(this,"rotationSnap",null),Ei(this,"scaleSnap",null),Ei(this,"space","world"),Ei(this,"size",1),Ei(this,"dragging",!1),Ei(this,"showX",!0),Ei(this,"showY",!0),Ei(this,"showZ",!0),Ei(this,"changeEvent",{type:"change"}),Ei(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),Ei(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),Ei(this,"objectChangeEvent",{type:"objectChange"}),Ei(this,"intersectObjectWithRay",((e,t,n)=>{let r=t.intersectObject(e,!0);for(let i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1})),Ei(this,"attach",(e=>(this.object=e,this.visible=!0,this))),Ei(this,"detach",(()=>(this.object=void 0,this.visible=!1,this.axis=null,this))),Ei(this,"reset",(()=>this.enabled?(this.dragging&&void 0!==this.object&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this)),Ei(this,"updateMatrixWorld",(()=>{void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()})),Ei(this,"pointerHover",(e=>{if(void 0===this.object||!0===this.dragging)return;this.raycaster.setFromCamera(e,this.camera);let t=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);this.axis=t?t.object.name:null})),Ei(this,"pointerDown",(e=>{if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){this.raycaster.setFromCamera(e,this.camera);let t=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(t){let e=this.space;if("scale"===this.mode?e="local":("E"===this.axis||"XYZE"===this.axis||"XYZ"===this.axis)&&(e="world"),"local"===e&&"rotate"===this.mode){let e=this.rotationSnap;"X"===this.axis&&e&&(this.object.rotation.x=Math.round(this.object.rotation.x/e)*e),"Y"===this.axis&&e&&(this.object.rotation.y=Math.round(this.object.rotation.y/e)*e),"Z"===this.axis&&e&&(this.object.rotation.z=Math.round(this.object.rotation.z/e)*e)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}})),Ei(this,"pointerMove",(e=>{let t=this.axis,n=this.mode,r=this.object,i=this.space;if("scale"===n?i="local":("E"===t||"XYZE"===t||"XYZ"===t)&&(i="world"),void 0===r||null===t||!1===this.dragging||-1!==e.button)return;this.raycaster.setFromCamera(e,this.camera);let a=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),"translate"===n)this.offset.copy(this.pointEnd).sub(this.pointStart),"local"===i&&"XYZ"!==t&&this.offset.applyQuaternion(this.worldQuaternionInv),-1===t.indexOf("X")&&(this.offset.x=0),-1===t.indexOf("Y")&&(this.offset.y=0),-1===t.indexOf("Z")&&(this.offset.z=0),"local"===i&&"XYZ"!==t?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),r.position.copy(this.offset).add(this.positionStart),this.translationSnap&&("local"===i&&(r.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this.quaternionStart)),"world"===i&&(r.parent&&r.position.add(this.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(this.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),this.tempVector2.set(e,e,e)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),-1===t.search("X")&&(this.tempVector2.x=1),-1===t.search("Y")&&(this.tempVector2.y=1),-1===t.search("Z")&&(this.tempVector2.z=1);r.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(-1!==t.search("X")&&(this.object.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this.offset.copy(this.pointEnd).sub(this.pointStart);let e=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*e):("X"===t||"Y"===t||"Z"===t)&&(this.rotationAxis.copy(this.unit[t]),this.tempVector.copy(this.unit[t]),"local"===i&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(this.quaternionStart),r.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),r.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}})),Ei(this,"pointerUp",(e=>{0===e.button&&(this.dragging&&null!==this.axis&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)})),Ei(this,"getPointer",(e=>{var t,n;if(this.domElement&&null!=(t=this.domElement.ownerDocument)&&t.pointerLockElement)return{x:0,y:0,button:e.button};{let t=e.changedTouches?e.changedTouches[0]:e,r=null==(n=this.domElement)?void 0:n.getBoundingClientRect();return{x:(t.clientX-r.left)/r.width*2-1,y:-(t.clientY-r.top)/r.height*2+1,button:e.button}}})),Ei(this,"onPointerHover",(e=>{if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(e))}})),Ei(this,"onPointerDown",(e=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(e)),this.pointerDown(this.getPointer(e)))})),Ei(this,"onPointerMove",(e=>{this.enabled&&this.pointerMove(this.getPointer(e))})),Ei(this,"onPointerUp",(e=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(e)))})),Ei(this,"getMode",(()=>this.mode)),Ei(this,"setMode",(e=>{this.mode=e})),Ei(this,"setTranslationSnap",(e=>{this.translationSnap=e})),Ei(this,"setRotationSnap",(e=>{this.rotationSnap=e})),Ei(this,"setScaleSnap",(e=>{this.scaleSnap=e})),Ei(this,"setSize",(e=>{this.size=e})),Ei(this,"setSpace",(e=>{this.space=e})),Ei(this,"update",(()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),Ei(this,"connect",(e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=e,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)})),Ei(this,"dispose",(()=>{var e,t,n,r,i,a;null==(e=this.domElement)||e.removeEventListener("pointerdown",this.onPointerDown),null==(t=this.domElement)||t.removeEventListener("pointermove",this.onPointerHover),null==(r=null==(n=this.domElement)?void 0:n.ownerDocument)||r.removeEventListener("pointermove",this.onPointerMove),null==(a=null==(i=this.domElement)?void 0:i.ownerDocument)||a.removeEventListener("pointerup",this.onPointerUp),this.traverse((e=>{let t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),this.domElement=t,this.camera=e,this.gizmo=new Ci,this.add(this.gizmo),this.plane=new Mi,this.add(this.plane);let n=(e,t)=>{let n=t;Object.defineProperty(this,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),this[e]=t,this.plane[e]=t,this.gizmo[e]=t};n("camera",this.camera),n("object",this.object),n("enabled",this.enabled),n("axis",this.axis),n("mode",this.mode),n("translationSnap",this.translationSnap),n("rotationSnap",this.rotationSnap),n("scaleSnap",this.scaleSnap),n("space",this.space),n("size",this.size),n("dragging",this.dragging),n("showX",this.showX),n("showY",this.showY),n("showZ",this.showZ),n("worldPosition",this.worldPosition),n("worldPositionStart",this.worldPositionStart),n("worldQuaternion",this.worldQuaternion),n("worldQuaternionStart",this.worldQuaternionStart),n("cameraPosition",this.cameraPosition),n("cameraQuaternion",this.cameraQuaternion),n("pointStart",this.pointStart),n("pointEnd",this.pointEnd),n("rotationAxis",this.rotationAxis),n("rotationAngle",this.rotationAngle),n("eye",this.eye),void 0!==t&&this.connect(t)}},Ci=class extends g.Object3D{constructor(){super(),Ei(this,"isTransformControlsGizmo",!0),Ei(this,"type","TransformControlsGizmo"),Ei(this,"tempVector",new g.Vector3(0,0,0)),Ei(this,"tempEuler",new g.Euler),Ei(this,"alignVector",new g.Vector3(0,1,0)),Ei(this,"zeroVector",new g.Vector3(0,0,0)),Ei(this,"lookAtMatrix",new g.Matrix4),Ei(this,"tempQuaternion",new g.Quaternion),Ei(this,"tempQuaternion2",new g.Quaternion),Ei(this,"identityQuaternion",new g.Quaternion),Ei(this,"unitX",new g.Vector3(1,0,0)),Ei(this,"unitY",new g.Vector3(0,1,0)),Ei(this,"unitZ",new g.Vector3(0,0,1)),Ei(this,"gizmo"),Ei(this,"picker"),Ei(this,"helper"),Ei(this,"rotationAxis",new g.Vector3),Ei(this,"cameraPosition",new g.Vector3),Ei(this,"worldPositionStart",new g.Vector3),Ei(this,"worldQuaternionStart",new g.Quaternion),Ei(this,"worldPosition",new g.Vector3),Ei(this,"worldQuaternion",new g.Quaternion),Ei(this,"eye",new g.Vector3),Ei(this,"camera",null),Ei(this,"enabled",!0),Ei(this,"axis",null),Ei(this,"mode","translate"),Ei(this,"space","world"),Ei(this,"size",1),Ei(this,"dragging",!1),Ei(this,"showX",!0),Ei(this,"showY",!0),Ei(this,"showZ",!0),Ei(this,"updateMatrixWorld",(()=>{let e=this.space;"scale"===this.mode&&(e="local");let t="local"===e?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let r=0;r<n.length;r++){let e,i=n[r];i.visible=!0,i.rotation.set(0,0,0),i.position.copy(this.worldPosition),(e=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),i.scale.set(1,1,1).multiplyScalar(e*this.size/7),"helper"!==i.tag)?(i.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode?(("X"===i.name||"XYZX"===i.name)&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),("Y"===i.name||"XYZY"===i.name)&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),("Z"===i.name||"XYZZ"===i.name)&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XY"===i.name&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"YZ"===i.name&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),"XZ"===i.name&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),-1!==i.name.search("X")&&(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.x*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Y")&&(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.y*=-1:"bwd"===i.tag&&(i.visible=!1)),-1!==i.name.search("Z")&&(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye)<0?"fwd"===i.tag?i.visible=!1:i.scale.z*=-1:"bwd"===i.tag&&(i.visible=!1))):"rotate"===this.mode&&(this.tempQuaternion2.copy(t),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(t).invert()),-1!==i.name.search("E")&&i.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),"X"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion)),"Y"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion)),"Z"===i.name&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),i.quaternion.copy(this.tempQuaternion))),i.visible=i.visible&&(-1===i.name.indexOf("X")||this.showX),i.visible=i.visible&&(-1===i.name.indexOf("Y")||this.showY),i.visible=i.visible&&(-1===i.name.indexOf("Z")||this.showZ),i.visible=i.visible&&(-1===i.name.indexOf("E")||this.showX&&this.showY&&this.showZ),i.material.tempOpacity=i.material.tempOpacity||i.material.opacity,i.material.tempColor=i.material.tempColor||i.material.color.clone(),i.material.color.copy(i.material.tempColor),i.material.opacity=i.material.tempOpacity,this.enabled?this.axis&&(i.name===this.axis||this.axis.split("").some((function(e){return i.name===e}))?(i.material.opacity=1,i.material.color.lerp(new g.Color(1,1,1),.5)):(i.material.opacity*=.25,i.material.color.lerp(new g.Color(1,1,1),.5))):(i.material.opacity*=.5,i.material.color.lerp(new g.Color(1,1,1),.5))):(i.visible=!1,"AXIS"===i.name?(i.position.copy(this.worldPositionStart),i.visible=!!this.axis,"X"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Y"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"Z"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),i.quaternion.copy(t).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(t).dot(this.eye))>.9&&(i.visible=!1)),"XYZE"===this.axis&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),i.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),i.quaternion.multiply(this.tempQuaternion),i.visible=this.dragging),"E"===this.axis&&(i.visible=!1)):"START"===i.name?(i.position.copy(this.worldPositionStart),i.visible=this.dragging):"END"===i.name?(i.position.copy(this.worldPosition),i.visible=this.dragging):"DELTA"===i.name?(i.position.copy(this.worldPositionStart),i.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),i.scale.copy(this.tempVector),i.visible=this.dragging):(i.quaternion.copy(t),this.dragging?i.position.copy(this.worldPositionStart):i.position.copy(this.worldPosition),this.axis&&(i.visible=-1!==this.axis.search(i.name))))}super.updateMatrixWorld()}));let e=new g.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:g.DoubleSide,fog:!1,toneMapped:!1}),t=new g.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;let r=e.clone();r.opacity=.33;let i=e.clone();i.color.set(16711680);let a=e.clone();a.color.set(65280);let o=e.clone();o.color.set(255);let s=e.clone();s.opacity=.25;let l=s.clone();l.color.set(16776960);let u=s.clone();u.color.set(65535);let c=s.clone();c.color.set(16711935),e.clone().color.set(16776960);let d=t.clone();d.color.set(16711680);let f=t.clone();f.color.set(65280);let h=t.clone();h.color.set(255);let p=t.clone();p.color.set(65535);let m=t.clone();m.color.set(16711935);let v=t.clone();v.color.set(16776960);let y=t.clone();y.color.set(7895160);let b=v.clone();b.opacity=.25;let w=new g.CylinderGeometry(0,.05,.2,12,1,!1),x=new g.BoxGeometry(.125,.125,.125),_=new g.BufferGeometry;_.setAttribute("position",new g.Float32BufferAttribute([0,0,0,1,0,0],3));let S=(e,t)=>{let n=new g.BufferGeometry,r=[];for(let i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new g.Float32BufferAttribute(r,3)),n},E={X:[[new g.Mesh(w,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new g.Mesh(w,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new g.Line(_,d)]],Y:[[new g.Mesh(w,a),[0,1,0],null,null,"fwd"],[new g.Mesh(w,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new g.Line(_,f),null,[0,0,Math.PI/2]]],Z:[[new g.Mesh(w,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new g.Mesh(w,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new g.Line(_,h),null,[0,-Math.PI/2,0]]],XYZ:[[new g.Mesh(new g.OctahedronGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new g.Mesh(new g.PlaneGeometry(.295,.295),l.clone()),[.15,.15,0]],[new g.Line(_,v),[.18,.3,0],null,[.125,1,1]],[new g.Line(_,v),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.Mesh(new g.PlaneGeometry(.295,.295),u.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new g.Line(_,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new g.Line(_,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.Mesh(new g.PlaneGeometry(.295,.295),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new g.Line(_,m),[.18,0,.3],null,[.125,1,1]],[new g.Line(_,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},k={X:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new g.Mesh(new g.CylinderGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new g.Mesh(new g.OctahedronGeometry(.2,0),n)]],XY:[[new g.Mesh(new g.PlaneGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new g.Mesh(new g.PlaneGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new g.Mesh(new g.PlaneGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},C={START:[[new g.Mesh(new g.OctahedronGeometry(.01,2),r),null,null,null,"helper"]],END:[[new g.Mesh(new g.OctahedronGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new g.Line((()=>{let e=new g.BufferGeometry;return e.setAttribute("position",new g.Float32BufferAttribute([0,0,0,1,1,1],3)),e})(),r),null,null,null,"helper"]],X:[[new g.Line(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.Line(_,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.Line(_,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},M={X:[[new g.Line(S(1,.5),d)],[new g.Mesh(new g.OctahedronGeometry(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new g.Line(S(1,.5),f),null,[0,0,-Math.PI/2]],[new g.Mesh(new g.OctahedronGeometry(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new g.Line(S(1,.5),h),null,[0,Math.PI/2,0]],[new g.Mesh(new g.OctahedronGeometry(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new g.Line(S(1.25,1),b),null,[0,Math.PI/2,0]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new g.Mesh(new g.CylinderGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new g.Line(S(1,1),y),null,[0,Math.PI/2,0]]]},P={AXIS:[[new g.Line(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},T={X:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new g.Mesh(new g.TorusGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new g.Mesh(new g.TorusGeometry(1.25,.1,2,24),n)]],XYZE:[[new g.Mesh(new g.SphereGeometry(.7,10,8),n)]]},A={X:[[new g.Mesh(x,i),[.8,0,0],[0,0,-Math.PI/2]],[new g.Line(_,d),null,null,[.8,1,1]]],Y:[[new g.Mesh(x,a),[0,.8,0]],[new g.Line(_,f),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new g.Mesh(x,o),[0,0,.8],[Math.PI/2,0,0]],[new g.Line(_,h),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new g.Mesh(x,l),[.85,.85,0],null,[2,2,.2]],[new g.Line(_,v),[.855,.98,0],null,[.125,1,1]],[new g.Line(_,v),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.Mesh(x,u),[0,.85,.85],null,[.2,2,2]],[new g.Line(_,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new g.Line(_,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.Mesh(x,c),[.85,0,.85],null,[2,.2,2]],[new g.Line(_,m),[.855,0,.98],null,[.125,1,1]],[new g.Line(_,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new g.Mesh(new g.BoxGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},R={X:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new g.Mesh(new g.CylinderGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new g.Mesh(x,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new g.Mesh(x,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new g.Mesh(x,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new g.Mesh(new g.BoxGeometry(.2,.2,.2),n),[0,0,1.1]]]},I={X:[[new g.Line(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.Line(_,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.Line(_,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},O=e=>{let t=new g.Object3D;for(let n in e)for(let r=e[n].length;r--;){let i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();let u=i.geometry.clone();u.applyMatrix4(i.matrix),i.geometry=u,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=O(E)),this.add(this.gizmo.rotate=O(M)),this.add(this.gizmo.scale=O(A)),this.add(this.picker.translate=O(k)),this.add(this.picker.rotate=O(T)),this.add(this.picker.scale=O(R)),this.add(this.helper.translate=O(C)),this.add(this.helper.rotate=O(P)),this.add(this.helper.scale=O(I)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}},Mi=class extends g.Mesh{constructor(){super(new g.PlaneGeometry(1e5,1e5,2,2),new g.MeshBasicMaterial({visible:!1,wireframe:!0,side:g.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),Ei(this,"isTransformControlsPlane",!0),Ei(this,"type","TransformControlsPlane"),Ei(this,"unitX",new g.Vector3(1,0,0)),Ei(this,"unitY",new g.Vector3(0,1,0)),Ei(this,"unitZ",new g.Vector3(0,0,1)),Ei(this,"tempVector",new g.Vector3),Ei(this,"dirVector",new g.Vector3),Ei(this,"alignVector",new g.Vector3),Ei(this,"tempMatrix",new g.Matrix4),Ei(this,"identityQuaternion",new g.Quaternion),Ei(this,"cameraQuaternion",new g.Quaternion),Ei(this,"worldPosition",new g.Vector3),Ei(this,"worldQuaternion",new g.Quaternion),Ei(this,"eye",new g.Vector3),Ei(this,"axis",null),Ei(this,"mode","translate"),Ei(this,"space","world"),Ei(this,"updateMatrixWorld",(()=>{let e=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(e="local"),this.unitX.set(1,0,0).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion("local"===e?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0)}break;default:this.dirVector.set(0,0,0)}0===this.dirVector.length()?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()}))}},Pi=j(V());var Ti=j(V()),Ai=Ti.forwardRef(((e,t)=>{var n=e,{envMap:r,resolution:i=256,frames:a=1/0,makeDefault:o,children:s}=n,l=L(n,["envMap","resolution","frames","makeDefault","children"]);let u=mr((e=>{let{set:t}=e;return t})),c=mr((e=>{let{camera:t}=e;return t})),d=mr((e=>{let{size:t}=e;return t})),f=Ti.useRef(null),h=Ti.useRef(null),p=function(e,t,n){let r=mr((e=>e.size)),i=mr((e=>e.viewport)),a="number"==typeof e?e:r.width*i.dpr,o="number"==typeof t?t:r.height*i.dpr,s=("number"==typeof e?n:e)||{},{samples:l=0,depth:u}=s,c=L(s,["samples","depth"]),d=Pi.useMemo((()=>{let e=new g.WebGLRenderTarget(a,o,O({minFilter:g.LinearFilter,magFilter:g.LinearFilter,type:g.HalfFloatType},c));return u&&(e.depthTexture=new g.DepthTexture(a,o,g.FloatType)),e.samples=l,e}),[]);return Pi.useLayoutEffect((()=>{d.setSize(a,o),l&&(d.samples=l)}),[l,d,a,o]),Pi.useEffect((()=>()=>d.dispose()),[]),d}(i);Ti.useLayoutEffect((()=>{l.manual||(f.current.aspect=d.width/d.height)}),[d,l]),Ti.useLayoutEffect((()=>{f.current.updateProjectionMatrix()}));let m=0,v=null,y="function"==typeof s;return gr((e=>{y&&(a===1/0||m<a)&&(h.current.visible=!1,e.gl.setRenderTarget(p),v=e.scene.background,r&&(e.scene.background=r),e.gl.render(e.scene,f.current),e.scene.background=v,e.gl.setRenderTarget(null),h.current.visible=!0,m++)})),Ti.useLayoutEffect((()=>{if(o){let e=c;return u((()=>({camera:f.current}))),()=>u((()=>({camera:e})))}}),[f,o,u]),Ti.createElement(Ti.Fragment,null,Ti.createElement("perspectiveCamera",ui({ref:_i([f,t])},l),!y&&s),Ti.createElement("group",{ref:h},y&&s(p.texture)))})),Ri=j(V());function Ii(e,t){let n=e+"Geometry";return Ri.forwardRef(((e,r)=>{var i=e,{args:a,children:o}=i,s=L(i,["args","children"]);let l=Ri.useRef(null);return Ri.useImperativeHandle(r,(()=>l.current)),Ri.useLayoutEffect((()=>{null==t||t(l.current)})),Ri.createElement("mesh",ui({ref:l},s),Ri.createElement(n,{attach:"geometry",args:a}),o)}))}Ii("box"),Ii("circle"),Ii("cone"),Ii("cylinder");var Oi=Ii("sphere"),zi=(Ii("plane"),Ii("tube"),Ii("torus"),Ii("torusKnot"),Ii("tetrahedron"),Ii("ring"),Ii("polyhedron"),Ii("icosahedron"),Ii("octahedron"),Ii("dodecahedron"),Ii("extrude"),Ii("lathe"),Ii("capsule"),Ii("shape",(e=>{let{geometry:t}=e,n=t.attributes.position,r=(new g.Box3).setFromBufferAttribute(n),i=new g.Vector3;r.getSize(i);let a=[],o=0,s=0,l=0,u=0;for(let c=0;c<n.count;c++)o=n.getX(c),s=n.getY(c),l=(o-r.min.x)/i.x,u=(s-r.min.y)/i.y,a.push(l,u);t.setAttribute("uv",new g.Float32BufferAttribute(a,2))})),j(Q())),Li=j(V());function Di(){let[e,t]=(0,Li.useState)(void 0);return(0,Li.useRef)(e).current=e,(0,Li.useLayoutEffect)((()=>{let e=e=>{let n=e.find((e=>"Theatre_SheetObject_PublicAPI"===e.type&&v.Mm.has(e)));t(n?(0,v.JG)(n.address):void 0)};return e(b().selection),b().onSelectionChange(e)}),[]),e}var Ni="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Ui="object"==typeof self&&self&&self.Object===Object&&self,ji=Ni||Ui||Function("return this")(),Fi=ji.Symbol,Bi=Object.prototype,Vi=Bi.hasOwnProperty,Hi=Bi.toString,Wi=Fi?Fi.toStringTag:void 0;var Gi=function(e){var t=Vi.call(e,Wi),n=e[Wi];try{e[Wi]=void 0;var r=!0}catch(a){}var i=Hi.call(e);return r&&(t?e[Wi]=n:delete e[Wi]),i},qi=Object.prototype.toString;var Xi=function(e){return qi.call(e)},Ki=Fi?Fi.toStringTag:void 0;var Yi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ki&&Ki in Object(e)?Gi(e):Xi(e)};var Qi=function(e){return null!=e&&"object"==typeof e};var Zi=function(e){return"symbol"==typeof e||Qi(e)&&"[object Symbol]"==Yi(e)};var Ji=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},$i=Array.isArray,ea=Fi?Fi.prototype:void 0,ta=ea?ea.toString:void 0;var na=function e(t){if("string"==typeof t)return t;if($i(t))return Ji(t,e)+"";if(Zi(t))return ta?ta.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},ra=/\s/;var ia=function(e){for(var t=e.length;t--&&ra.test(e.charAt(t)););return t},aa=/^\s+/;var oa=function(e){return e&&e.slice(0,ia(e)+1).replace(aa,"")};var sa=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},la=/^[-+]0x[0-9a-f]+$/i,ua=/^0b[01]+$/i,ca=/^0o[0-7]+$/i,da=parseInt;var fa=function(e){if("number"==typeof e)return e;if(Zi(e))return NaN;if(sa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=oa(e);var n=ua.test(e);return n||ca.test(e)?da(e.slice(2),n?2:8):la.test(e)?NaN:+e},ha=1/0;var pa=function(e){return e?(e=fa(e))===ha||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var ma=function(e){var t=pa(e),n=t%1;return t===t?n?t-n:t:0};var ga=function(e){return e};var va=function(e){if(!sa(e))return!1;var t=Yi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ya=ji["__core-js_shared__"],ba=function(){var e=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var wa=function(e){return!!ba&&ba in e},xa=Function.prototype.toString;var _a=function(e){if(null!=e){try{return xa.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Sa=/^\[object .+?Constructor\]$/,Ea=Function.prototype,ka=Object.prototype,Ca=Ea.toString,Ma=ka.hasOwnProperty,Pa=RegExp("^"+Ca.call(Ma).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ta=function(e){return!(!sa(e)||wa(e))&&(va(e)?Pa:Sa).test(_a(e))};var Aa=function(e,t){return null==e?void 0:e[t]};var Ra=function(e,t){var n=Aa(e,t);return Ta(n)?n:void 0},Ia=Ra(ji,"WeakMap");var Oa=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1},za=/^(?:0|[1-9]\d*)$/;var La=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&za.test(e))&&e>-1&&e%1==0&&e<t};var Da=function(e,t){return e===t||e!==e&&t!==t};var Na=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ua=function(e){return null!=e&&Na(e.length)&&!va(e)},ja=Object.prototype;var Fa=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ja)};var Ba=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Va=function(e){return Qi(e)&&"[object Arguments]"==Yi(e)},Ha=Object.prototype,Wa=Ha.hasOwnProperty,Ga=Ha.propertyIsEnumerable,qa=Va(function(){return arguments}())?Va:function(e){return Qi(e)&&Wa.call(e,"callee")&&!Ga.call(e,"callee")};var Xa=function(){return!1},Ka="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ya=Ka&&e&&!e.nodeType&&e,Qa=Ya&&Ya.exports===Ka?ji.Buffer:void 0,Za=(Qa?Qa.isBuffer:void 0)||Xa,Ja={};Ja["[object Float32Array]"]=Ja["[object Float64Array]"]=Ja["[object Int8Array]"]=Ja["[object Int16Array]"]=Ja["[object Int32Array]"]=Ja["[object Uint8Array]"]=Ja["[object Uint8ClampedArray]"]=Ja["[object Uint16Array]"]=Ja["[object Uint32Array]"]=!0,Ja["[object Arguments]"]=Ja["[object Array]"]=Ja["[object ArrayBuffer]"]=Ja["[object Boolean]"]=Ja["[object DataView]"]=Ja["[object Date]"]=Ja["[object Error]"]=Ja["[object Function]"]=Ja["[object Map]"]=Ja["[object Number]"]=Ja["[object Object]"]=Ja["[object RegExp]"]=Ja["[object Set]"]=Ja["[object String]"]=Ja["[object WeakMap]"]=!1;var $a=function(e){return Qi(e)&&Na(e.length)&&!!Ja[Yi(e)]};var eo=function(e){return function(t){return e(t)}},to="object"==typeof exports&&exports&&!exports.nodeType&&exports,no=to&&e&&!e.nodeType&&e,ro=no&&no.exports===to&&Ni.process,io=function(){try{return no&&no.require&&no.require("util").types||ro&&ro.binding&&ro.binding("util")}catch(e){}}(),ao=io&&io.isTypedArray,oo=ao?eo(ao):$a,so=Object.prototype.hasOwnProperty;var lo=function(e,t){var n=$i(e),r=!n&&qa(e),i=!n&&!r&&Za(e),a=!n&&!r&&!i&&oo(e),o=n||r||i||a,s=o?Ba(e.length,String):[],l=s.length;for(var u in e)(t||so.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||La(u,l)))&&s.push(u);return s};var uo=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),co=Object.prototype.hasOwnProperty;var fo=function(e){if(!Fa(e))return uo(e);var t=[];for(var n in Object(e))co.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ho=function(e){return Ua(e)?lo(e):fo(e)},po=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mo=/^\w*$/;var go=function(e,t){if($i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zi(e))||(mo.test(e)||!po.test(e)||null!=t&&e in Object(t))},vo=Ra(Object,"create");var yo=function(){this.__data__=vo?vo(null):{},this.size=0};var bo=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wo=Object.prototype.hasOwnProperty;var xo=function(e){var t=this.__data__;if(vo){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return wo.call(t,e)?t[e]:void 0},_o=Object.prototype.hasOwnProperty;var So=function(e){var t=this.__data__;return vo?void 0!==t[e]:_o.call(t,e)};var Eo=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vo&&void 0===t?"__lodash_hash_undefined__":t,this};function ko(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ko.prototype.clear=yo,ko.prototype.delete=bo,ko.prototype.get=xo,ko.prototype.has=So,ko.prototype.set=Eo;var Co=ko;var Mo=function(){this.__data__=[],this.size=0};var Po=function(e,t){for(var n=e.length;n--;)if(Da(e[n][0],t))return n;return-1},To=Array.prototype.splice;var Ao=function(e){var t=this.__data__,n=Po(t,e);return!(n<0)&&(n==t.length-1?t.pop():To.call(t,n,1),--this.size,!0)};var Ro=function(e){var t=this.__data__,n=Po(t,e);return n<0?void 0:t[n][1]};var Io=function(e){return Po(this.__data__,e)>-1};var Oo=function(e,t){var n=this.__data__,r=Po(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function zo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zo.prototype.clear=Mo,zo.prototype.delete=Ao,zo.prototype.get=Ro,zo.prototype.has=Io,zo.prototype.set=Oo;var Lo=zo,Do=Ra(ji,"Map");var No=function(){this.size=0,this.__data__={hash:new Co,map:new(Do||Lo),string:new Co}};var Uo=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var jo=function(e,t){var n=e.__data__;return Uo(t)?n["string"==typeof t?"string":"hash"]:n.map};var Fo=function(e){var t=jo(this,e).delete(e);return this.size-=t?1:0,t};var Bo=function(e){return jo(this,e).get(e)};var Vo=function(e){return jo(this,e).has(e)};var Ho=function(e,t){var n=jo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Wo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wo.prototype.clear=No,Wo.prototype.delete=Fo,Wo.prototype.get=Bo,Wo.prototype.has=Vo,Wo.prototype.set=Ho;var Go=Wo;function qo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(qo.Cache||Go),n}qo.Cache=Go;var Xo=qo;var Ko=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yo=/\\(\\)?/g,Qo=function(e){var t=Xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ko,(function(e,n,r,i){t.push(r?i.replace(Yo,"$1"):n||e)})),t}));var Zo=function(e){return null==e?"":na(e)};var Jo=function(e,t){return $i(e)?e:go(e,t)?[e]:Qo(Zo(e))};var $o=function(e){if("string"==typeof e||Zi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var es=function(e,t){for(var n=0,r=(t=Jo(t,e)).length;null!=e&&n<r;)e=e[$o(t[n++])];return n&&n==r?e:void 0};var ts=function(e,t,n){var r=null==e?void 0:es(e,t);return void 0===r?n:r};var ns=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var rs=function(){this.__data__=new Lo,this.size=0};var is=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var as=function(e){return this.__data__.get(e)};var os=function(e){return this.__data__.has(e)};var ss=function(e,t){var n=this.__data__;if(n instanceof Lo){var r=n.__data__;if(!Do||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Go(r)}return n.set(e,t),this.size=n.size,this};function ls(e){var t=this.__data__=new Lo(e);this.size=t.size}ls.prototype.clear=rs,ls.prototype.delete=is,ls.prototype.get=as,ls.prototype.has=os,ls.prototype.set=ss;var us=ls;var cs=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var ds=function(){return[]},fs=Object.prototype.propertyIsEnumerable,hs=Object.getOwnPropertySymbols,ps=hs?function(e){return null==e?[]:(e=Object(e),cs(hs(e),(function(t){return fs.call(e,t)})))}:ds;var ms=function(e,t,n){var r=t(e);return $i(e)?r:ns(r,n(e))};var gs=function(e){return ms(e,ho,ps)},vs=Ra(ji,"DataView"),ys=Ra(ji,"Promise"),bs=Ra(ji,"Set"),ws="[object Map]",xs="[object Promise]",_s="[object Set]",Ss="[object WeakMap]",Es="[object DataView]",ks=_a(vs),Cs=_a(Do),Ms=_a(ys),Ps=_a(bs),Ts=_a(Ia),As=Yi;(vs&&As(new vs(new ArrayBuffer(1)))!=Es||Do&&As(new Do)!=ws||ys&&As(ys.resolve())!=xs||bs&&As(new bs)!=_s||Ia&&As(new Ia)!=Ss)&&(As=function(e){var t=Yi(e),n="[object Object]"==t?e.constructor:void 0,r=n?_a(n):"";if(r)switch(r){case ks:return Es;case Cs:return ws;case Ms:return xs;case Ps:return _s;case Ts:return Ss}return t});var Rs=As,Is=ji.Uint8Array;var Os=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var zs=function(e){return this.__data__.has(e)};function Ls(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Go;++t<n;)this.add(e[t])}Ls.prototype.add=Ls.prototype.push=Os,Ls.prototype.has=zs;var Ds=Ls;var Ns=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Us=function(e,t){return e.has(t)};var js=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new Ds:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Ns(t,(function(e,t){if(!Us(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f};var Fs=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Bs=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Vs=Fi?Fi.prototype:void 0,Hs=Vs?Vs.valueOf:void 0;var Ws=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Is(e),new Is(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Da(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Fs;case"[object Set]":var l=1&r;if(s||(s=Bs),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=js(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Hs)return Hs.call(e)==Hs.call(t)}return!1},Gs=Object.prototype.hasOwnProperty;var qs=function(e,t,n,r,i,a){var o=1&n,s=gs(e),l=s.length;if(l!=gs(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:Gs.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return a.delete(e),a.delete(t),h},Xs="[object Arguments]",Ks="[object Array]",Ys="[object Object]",Qs=Object.prototype.hasOwnProperty;var Zs=function(e,t,n,r,i,a){var o=$i(e),s=$i(t),l=o?Ks:Rs(e),u=s?Ks:Rs(t),c=(l=l==Xs?Ys:l)==Ys,d=(u=u==Xs?Ys:u)==Ys,f=l==u;if(f&&Za(e)){if(!Za(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new us),o||oo(e)?js(e,t,n,r,i,a):Ws(e,t,l,n,r,i,a);if(!(1&n)){var h=c&&Qs.call(e,"__wrapped__"),p=d&&Qs.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new us),i(m,g,n,r,a)}}return!!f&&(a||(a=new us),qs(e,t,n,r,i,a))};var Js=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Qi(t)&&!Qi(n)?t!==t&&n!==n:Zs(t,n,r,i,e,a))};var $s=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new us;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?Js(c,u,3,r,d):f))return!1}}return!0};var el=function(e){return e===e&&!sa(e)};var tl=function(e){for(var t=ho(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,el(i)]}return t};var nl=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var rl=function(e){var t=tl(e);return 1==t.length&&t[0][2]?nl(t[0][0],t[0][1]):function(n){return n===e||$s(n,e,t)}};var il=function(e,t){return null!=e&&t in Object(e)};var al=function(e,t,n){for(var r=-1,i=(t=Jo(t,e)).length,a=!1;++r<i;){var o=$o(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Na(i)&&La(o,i)&&($i(e)||qa(e))};var ol=function(e,t){return null!=e&&al(e,t,il)};var sl=function(e,t){return go(e)&&el(t)?nl($o(e),t):function(n){var r=ts(n,e);return void 0===r&&r===t?ol(n,e):Js(t,r,3)}};var ll=function(e){return function(t){return null==t?void 0:t[e]}};var ul=function(e){return function(t){return es(t,e)}};var cl=function(e){return go(e)?ll($o(e)):ul(e)};var dl=function(e){return"function"==typeof e?e:null==e?ga:"object"==typeof e?$i(e)?sl(e[0],e[1]):rl(e):cl(e)},fl=Math.max;var hl=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=fl(r+i,0)),Oa(e,dl(t,3),i)},pl=j(cn()),ml=j(V()),gl=j(rn()),vl=!1;function yl(e,t,n){let r=(0,ml.useCallback)(e,t),i=(0,ml.useRef)(null);i.current?i.current.set(r):i.current=new w.Atom(r);let a=(0,ml.useRef)(null);return a.current||(a.current=(0,w.prism)((()=>i.current.prism.getValue()()))),function(e,t){var n;let r=function(e){let[,t]=(0,ml.useState)(0);return(0,ml.useCallback)((()=>{t((e=>e+1))}),[])}(),i=(0,ml.useRef)(void 0);i.current||(wl++,i.current={order:wl,runUpdate:()=>{i.current.unmounted||r()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var e;vl&&(null==(e=i.current.debug)||e.history.push("queueUpdate()")),El(i.current)},untap:e.onStale((()=>{vl&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()}))},vl&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,ml.useLayoutEffect)((()=>function(){i.current.unmounted=!0,i.current.untap(),Cl(i.current)}),[]),Cl(i.current);let a=i.current.der.getValue();return i.current.lastValue=a,vl&&(null==(n=i.current.debug)||n.history.push("rendered")),a}(a.current,n)}var bl=(e,t)=>yl((()=>(0,w.val)(e)),[e],t),wl=0,xl=[],_l=new Set,Sl=!1,El=e=>{kl(e),Sl||(Sl=!0,(0,pl.default)((()=>{(0,gl.unstable_batchedUpdates)((function(){for(var e,t;xl.length>0;){let r,i=xl.shift();_l.delete(i),vl&&(null==(e=i.debug)||e.history.push("queue reached"));try{r=i.der.getValue()}catch(n){vl&&(null==(t=i.debug)||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(n),i.runUpdate();continue}r!==i.lastValue&&(i.lastValue=r,i.runUpdate())}Sl=!1}),1)})))},kl=e=>{if(!_l.has(e))if(_l.add(e),0===xl.length)xl.push(e);else{let t=hl(xl,(t=>t.order>=e.order));-1===t?xl.push(e):xl[t].order>e.order&&xl.splice(t,0,e)}},Cl=e=>{if(!_l.has(e))return;_l.delete(e);let t=hl(xl,(t=>t===e));xl.splice(t,1)};var Ml,Pl,Tl={viewport:x.types.compound({showAxes:x.types.boolean(!0,{label:"Axes"}),showGrid:x.types.boolean(!0,{label:"Grid"}),showOverlayIcons:x.types.boolean(!1,{label:"Overlay Icons"}),shading:x.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:x.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"})},{label:"Viewport Config"}),transformControls:x.types.compound({mode:x.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:x.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function Al(){return Ml||(Ml=b().getStudioProject().sheet("R3F UI")),Ml}function Rl(){return Pl||(Pl=Al().object("Editor",Tl)||null),Pl}var Il=j(V()),Ol=j(V()),zl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ll=Ol.default.createContext&&Ol.default.createContext(zl),Dl=function(){return Dl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dl.apply(this,arguments)},Nl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ul(e){return e&&e.map((function(e,t){return Il.default.createElement(e.tag,Dl({key:t},e.attr),Ul(e.child))}))}function jl(e){return function(t){return Il.default.createElement(Fl,Dl({attr:Dl({},e.attr)},t),Ul(e.child))}}function Fl(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=Nl(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),Il.default.createElement("svg",Dl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Dl(Dl({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Il.default.createElement("title",null,a),e.children)};return void 0!==Ll?Il.default.createElement(Ll.Consumer,null,(function(e){return t(e)})):t(zl)}function Bl(e){return jl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(e)}function Vl(e){return jl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(e)}function Hl(e){return jl({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(e)}function Wl(e){return jl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(e)}function Gl(e){return jl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(e)}function ql(e){return jl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(e)}function Xl(e){return jl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(e)}var Kl=j(V()),Yl={collection:Kl.default.createElement(Bl,null),cube:Kl.default.createElement(Wl,null),lightBulb:Kl.default.createElement(Gl,null),spotLight:Kl.default.createElement(ql,null),sun:Kl.default.createElement(Xl,null),camera:Kl.default.createElement(Vl,null),cloud:Kl.default.createElement(Hl,null)},Ql=j(V()),Zl=(0,Ql.createContext)(!1),Jl=e=>{let{children:t}=e,n=(0,Ql.useRef)(!1),[r,i]=(0,Ql.useState)(!1);return(0,Ql.useEffect)((()=>{document.addEventListener("mousedown",(()=>n.current=!0)),document.addEventListener("mousemove",(()=>{n.current&&i(!0)})),document.addEventListener("mouseup",(()=>{n.current=!1,i(!1)}))}),[]),Ql.default.createElement(Zl.Provider,{value:r},t)},$l=(0,j(hn()).default)(v.l),eu=e=>{let{storeKey:t,object:n}=e;var r;let i=Rl(),[a,o]=$l((e=>[e.setSnapshotProxyObject,e.editables]),zi.default),s=(0,Ql.useContext)(Zl),l=o[t],u=Di(),c=null!=(r=bl(null==i?void 0:i.props.viewport.showOverlayIcons))&&r;(0,li.useEffect)((()=>(a(n,t),()=>a(null,t))),[t,n,a]),(0,li.useLayoutEffect)((()=>{let e=n.visible;return null!=l&&l.visibleOnlyInEditor&&(n.visible=!0),()=>{n.visible=e}}),[null==l?void 0:l.visibleOnlyInEditor,n.visible]);let[d,f]=(0,li.useState)(!1),h=mr((e=>e.scene)),p=(0,li.useMemo)((()=>{var e,t;return null==(t=null==l?void 0:(e=l.objectConfig).createHelper)?void 0:t.call(e,n)}),[n]);return(0,li.useEffect)((()=>{if(null!=p)return(u===t||d)&&(h.add(p),wr()),()=>{h.remove(p),wr()}}),[u,d,p,h]),gr((()=>{null!=p&&p.update&&p.update()})),(0,li.useEffect)((()=>{s&&f(!1)}),[s]),(0,li.useEffect)((()=>{if(!l)return;let e=l.sheetObject,t=l.objectConfig,r=e=>{var r;Object.entries(t.props).forEach((t=>{let[r,i]=t;return i.apply(e[r],n)})),null==(r=t.updateObject)||r.call(t,n),wr()};r(e.value);let i=e.onValuesChange(r);return()=>{i()}}),[l]),l?li.default.createElement(li.default.Fragment,null,li.default.createElement("group",{onClick:e=>{if(e.delta<2){e.stopPropagation();let n=$l.getState().editables[t].sheetObject;n?b().setSelection([n]):console.log("no Theatre.js object for",t)}},onPointerOver:s?void 0:e=>{e.stopPropagation(),f(!0)},onPointerOut:s?void 0:e=>{e.stopPropagation(),f(!1)}},li.default.createElement("primitive",{object:n},(c||l.objectConfig.dimensionless&&u!==t)&&li.default.createElement(xi,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:d?.3:1}},li.default.createElement("div",null,Yl[l.objectConfig.icon])),l.objectConfig.dimensionless&&li.default.createElement(Oi,{args:[2,4,2],onClick:e=>{if(e.delta<2){e.stopPropagation();let n=$l.getState().editables[t].sheetObject;n?b().setSelection([n]):console.log("no Theatre.js object for",t)}},userData:{helper:!0}},li.default.createElement("meshBasicMaterial",{visible:!1}))))):null},tu=j(V()),nu=(0,tu.forwardRef)(((e,t)=>{var n=e,{children:r,object:i,orbitControlsRef:a,onObjectChange:o,onDraggingChange:s}=n,l=L(n,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]);let{camera:u,gl:c,invalidate:d}=mr(),f=(0,tu.useMemo)((()=>new ki(u,c.domElement)),[u,c.domElement]);return(0,tu.useLayoutEffect)((()=>(f.attach(i),()=>{f.detach()})),[i,f]),(0,tu.useEffect)((()=>{var e;return null==(e=null==f?void 0:f.addEventListener)||e.call(f,"change",(()=>d())),()=>{var e;return null==(e=null==f?void 0:f.removeEventListener)?void 0:e.call(f,"change",(()=>d()))}}),[f,d]),(0,tu.useEffect)((()=>{let e=e=>{a&&a.current&&(a.current.enabled=!e.value)};return f&&f.addEventListener("dragging-changed",e),()=>{f.removeEventListener("dragging-changed",e)}}),[f,a]),(0,tu.useEffect)((()=>(o&&f.addEventListener("objectChange",o),()=>{o&&f.removeEventListener("objectChange",o)})),[o,f]),(0,tu.useEffect)((()=>(s&&f.addEventListener("dragging-changed",s),()=>{s&&f.removeEventListener("dragging-changed",s)})),[f,s]),tu.default.createElement("primitive",O({dispose:null,object:f,ref:t},l))})),ru=j(Q()),iu=e=>{let{portal:t}=e;return si.default.createElement(si.default.Fragment,null,t)},au=e=>{let{orbitControlsRef:t}=e;var n,r,i;let a=(0,si.useRef)(!1),o=Rl(),[s,l]=$l((e=>[e.sceneSnapshot,e.editables]),ru.default),u=null!=(n=bl(null==o?void 0:o.props.transformControls.mode))?n:"translate",c=null!=(r=bl(null==o?void 0:o.props.transformControls.space))?r:"world",d=null!=(i=bl(null==o?void 0:o.props.viewport.shading))?i:"rendered",f=(0,si.useMemo)((()=>null==s?void 0:s.clone()),[s]),[h,p]=(0,si.useState)({});(0,si.useLayoutEffect)((()=>{if(!f)return;let e={};f.traverse((t=>{if(t.userData.__editable){let a=t.userData.__storeKey;e[a]||!l[a]?t.parent.remove(t):e[a]={portal:si.default.createElement(iu,{portal:(n=si.default.createElement(eu,{storeKey:a,object:t}),r=t.parent,gn.createElement(Tr,{key:r.uuid,children:n,container:r,state:i})),key:"portal-wrapper-".concat(a)}),object:t,editable:l[a]}}var n,r,i})),p(e)}),[t,f]);let m=Di(),v=m&&h[m],y=m?l[m]:void 0,[w,x]=(0,si.useState)({});(0,si.useLayoutEffect)((()=>{if(!f)return;let e={};return f.traverse((t=>{let n=t;n.isMesh&&!n.userData.helper&&(e[n.id]=n.material)})),x(e),()=>{}}),[f]),(0,si.useLayoutEffect)((()=>{f&&f.traverse((e=>{let t=e;if(t.isMesh&&!t.userData.helper){let e;switch(d){case"wireframe":t.material=new g.MeshBasicMaterial({wireframe:!0,color:"black"});break;case"flat":if(!w[t.id])return;e=new g.MeshBasicMaterial,w[t.id].hasOwnProperty("color")&&(e.color=w[t.id].color),w[t.id].hasOwnProperty("map")&&(e.map=w[t.id].map),w[t.id].hasOwnProperty("vertexColors")&&(e.vertexColors=w[t.id].vertexColors),t.material=e;break;case"solid":if(!w[t.id])return;e=new g.MeshPhongMaterial,w[t.id].hasOwnProperty("color")&&(e.color=w[t.id].color),w[t.id].hasOwnProperty("map")&&(e.map=w[t.id].map),w[t.id].hasOwnProperty("vertexColors")&&(e.vertexColors=w[t.id].vertexColors),t.material=e;break;case"rendered":t.material=w[t.id]}}wr()}))}),[d,w,f]);let _=(0,si.useRef)(void 0);return f?si.default.createElement(si.default.Fragment,null,si.default.createElement("primitive",{object:f}),m&&v&&y&&y.objectConfig.useTransformControls&&si.default.createElement(nu,{mode:u,space:c,orbitControlsRef:t,object:v.object,onObjectChange:()=>{let e=v.editable.sheetObject,t=v.object;_.current.capture((n=>{let{set:r}=n;"translate"===u&&r(e.props.position,z(O({},e.value.position),{x:t.position.x,y:t.position.y,z:t.position.z})),"rotate"===u&&r(e.props.rotation,z(O({},e.value.rotation),{x:t.rotation.x,y:t.rotation.y,z:t.rotation.z})),"scale"===u&&r(e.props.scale,{x:t.scale.x,y:t.scale.y,z:t.scale.z})}))},onDraggingChange:e=>(e.value?_.current=b().scrub():_.current.commit(),a.current=e.value)}),Object.values(h).map((e=>e.portal))):null};$t();var ou=j(V()),su=(e,t)=>(e%t+t)%t,lu=class extends g.EventDispatcher{constructor(e,t){super(),F(this,"object"),F(this,"domElement"),F(this,"enabled",!0),F(this,"target",new g.Vector3),F(this,"minDistance",0),F(this,"maxDistance",1/0),F(this,"minZoom",0),F(this,"maxZoom",1/0),F(this,"minPolarAngle",0),F(this,"maxPolarAngle",Math.PI),F(this,"minAzimuthAngle",-1/0),F(this,"maxAzimuthAngle",1/0),F(this,"enableDamping",!1),F(this,"dampingFactor",.05),F(this,"enableZoom",!0),F(this,"zoomSpeed",1),F(this,"enableRotate",!0),F(this,"rotateSpeed",1),F(this,"enablePan",!0),F(this,"panSpeed",1),F(this,"screenSpacePanning",!0),F(this,"keyPanSpeed",7),F(this,"autoRotate",!1),F(this,"autoRotateSpeed",2),F(this,"reverseOrbit",!1),F(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),F(this,"mouseButtons",{LEFT:g.MOUSE.ROTATE,MIDDLE:g.MOUSE.DOLLY,RIGHT:g.MOUSE.PAN}),F(this,"touches",{ONE:g.TOUCH.ROTATE,TWO:g.TOUCH.DOLLY_PAN}),F(this,"target0"),F(this,"position0"),F(this,"zoom0"),F(this,"_domElementKeyEvents",null),F(this,"getPolarAngle"),F(this,"getAzimuthalAngle"),F(this,"setPolarAngle"),F(this,"setAzimuthalAngle"),F(this,"getDistance"),F(this,"listenToKeyEvents"),F(this,"stopListenToKeyEvents"),F(this,"saveState"),F(this,"reset"),F(this,"update"),F(this,"connect"),F(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=e=>{let t=su(e,2*Math.PI),r=u.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=su(e,2*Math.PI),r=u.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),c.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",K),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",K),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=(()=>{let t=new g.Vector3,i=new g.Vector3(0,1,0),a=(new g.Quaternion).setFromUnitVectors(e.up,i),p=a.clone().invert(),m=new g.Vector3,v=new g.Quaternion,y=2*Math.PI;return function(){let g=n.object.position;a.setFromUnitVectors(e.up,i),p.copy(a).invert(),t.copy(g).sub(n.target),t.applyQuaternion(a),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&M(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);let b=n.minAzimuthAngle,w=n.maxAzimuthAngle;return isFinite(b)&&isFinite(w)&&(b<-Math.PI?b+=y:b>Math.PI&&(b-=y),w<-Math.PI?w+=y:w>Math.PI&&(w-=y),u.theta=b<=w?Math.max(b,Math.min(w,u.theta)):u.theta>(b+w)/2?Math.max(b,u.theta):Math.min(w,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),t.setFromSpherical(u),t.applyQuaternion(p),g.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),d=1,!!(h||m.distanceToSquared(n.object.position)>l||8*(1-v.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),m.copy(n.object.position),v.copy(n.object.quaternion),h=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Y),n.domElement.addEventListener("pointerdown",H),n.domElement.addEventListener("pointercancel",q),n.domElement.addEventListener("wheel",X)},this.dispose=()=>{var e,t,r,i,a,o;null==(e=n.domElement)||e.removeEventListener("contextmenu",Y),null==(t=n.domElement)||t.removeEventListener("pointerdown",H),null==(r=n.domElement)||r.removeEventListener("pointercancel",q),null==(i=n.domElement)||i.removeEventListener("wheel",X),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",W),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointerup",G),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",K)};let n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new g.Spherical,c=new g.Spherical,d=1,f=new g.Vector3,h=!1,p=new g.Vector2,m=new g.Vector2,v=new g.Vector2,y=new g.Vector2,b=new g.Vector2,w=new g.Vector2,x=new g.Vector2,_=new g.Vector2,S=new g.Vector2,E=[],k={};function C(){return Math.pow(.95,n.zoomSpeed)}function M(e){n.reverseOrbit?c.theta+=e:c.theta-=e}function P(e){n.reverseOrbit?c.phi+=e:c.phi-=e}let T=(()=>{let e=new g.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}})(),A=(()=>{let e=new g.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),f.add(e)}})(),R=(()=>{let e=new g.Vector3;return function(t,r){let i=n.domElement;if(i&&n.object instanceof g.PerspectiveCamera&&n.object.isPerspectiveCamera){let a=n.object.position;e.copy(a).sub(n.target);let o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),T(2*t*o/i.clientHeight,n.object.matrix),A(2*r*o/i.clientHeight,n.object.matrix)}else i&&n.object instanceof g.OrthographicCamera&&n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),A(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function I(e){n.object instanceof g.PerspectiveCamera&&n.object.isPerspectiveCamera?d/=e:n.object instanceof g.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){n.object instanceof g.PerspectiveCamera&&n.object.isPerspectiveCamera?d*=e:n.object instanceof g.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(e){p.set(e.clientX,e.clientY)}function L(e){y.set(e.clientX,e.clientY)}function D(){if(1==E.length)p.set(E[0].pageX,E[0].pageY);else{let e=.5*(E[0].pageX+E[1].pageX),t=.5*(E[0].pageY+E[1].pageY);p.set(e,t)}}function N(){if(1==E.length)y.set(E[0].pageX,E[0].pageY);else{let e=.5*(E[0].pageX+E[1].pageX),t=.5*(E[0].pageY+E[1].pageY);y.set(e,t)}}function U(){let e=E[0].pageX-E[1].pageX,t=E[0].pageY-E[1].pageY,n=Math.sqrt(e*e+t*t);x.set(0,n)}function j(e){if(1==E.length)m.set(e.pageX,e.pageY);else{let t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);m.set(n,r)}v.subVectors(m,p).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(M(2*Math.PI*v.x/t.clientHeight),P(2*Math.PI*v.y/t.clientHeight)),p.copy(m)}function B(e){if(1==E.length)b.set(e.pageX,e.pageY);else{let t=J(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);b.set(n,r)}w.subVectors(b,y).multiplyScalar(n.panSpeed),R(w.x,w.y),y.copy(b)}function V(e){let t=J(e),r=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(r*r+i*i);_.set(0,a),S.set(0,Math.pow(_.y/x.y,n.zoomSpeed)),I(S.y),x.copy(_)}function H(e){var t,r;!1!==n.enabled&&(0===E.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",W),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",G)),function(e){E.push(e)}(e),"touch"===e.pointerType?function(e){switch(Z(e),E.length){case 1:switch(n.touches.ONE){case g.TOUCH.ROTATE:if(!1===n.enableRotate)return;D(),s=o.TOUCH_ROTATE;break;case g.TOUCH.PAN:if(!1===n.enablePan)return;N(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case g.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&U(),n.enablePan&&N(),s=o.TOUCH_DOLLY_PAN;break;case g.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&U(),n.enableRotate&&D(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case g.MOUSE.DOLLY:if(!1===n.enableZoom)return;(function(e){x.set(e.clientX,e.clientY)})(e),s=o.DOLLY;break;case g.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;L(e),s=o.PAN}else if(e.altKey){if(!1===n.enableRotate)return;z(e),s=o.ROTATE}break;case g.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;z(e),s=o.ROTATE}else{if(!1===n.enablePan)return;L(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}(e))}function W(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;j(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function(e){n.enableZoom&&V(e),n.enablePan&&B(e)})(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function(e){n.enableZoom&&V(e),n.enableRotate&&j(e)})(e),n.update();break;default:s=o.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){m.set(e.clientX,e.clientY),v.subVectors(m,p).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(M(2*Math.PI*v.x/t.clientHeight),P(2*Math.PI*v.y/t.clientHeight)),p.copy(m),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),S.subVectors(_,x),S.y>0?I(C()):S.y<0&&O(C()),x.copy(_),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){b.set(e.clientX,e.clientY),w.subVectors(b,y).multiplyScalar(n.panSpeed),R(w.x,w.y),y.copy(b),n.update()}(e)}}(e))}function G(e){var t,r,i;Q(e),0===E.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",W),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",G)),n.dispatchEvent(a),s=o.NONE}function q(e){Q(e)}function X(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(i),function(e){e.deltaY<0?O(C()):e.deltaY>0&&I(C()),n.update()}(e),n.dispatchEvent(a))}function K(e){!1===n.enabled||!1===n.enablePan||function(e){let t=!1;switch(e.code){case n.keys.UP:R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function Y(e){!1!==n.enabled&&e.preventDefault()}function Q(e){delete k[e.pointerId];for(let t=0;t<E.length;t++)if(E[t].pointerId==e.pointerId)return void E.splice(t,1)}function Z(e){let t=k[e.pointerId];void 0===t&&(t=new g.Vector2,k[e.pointerId]=t),t.set(e.pageX,e.pageY)}function J(e){let t=e.pointerId===E[0].pointerId?E[1]:E[0];return k[t.pointerId]}void 0!==t&&this.connect(t),this.update()}},uu=ou.forwardRef(((e,t)=>{var n=e,{makeDefault:r,camera:i,regress:a,domElement:o,enableDamping:s=!0,keyEvents:l=!1,onChange:u,onStart:c,onEnd:d}=n,f=L(n,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);let h=mr((e=>e.invalidate)),p=mr((e=>e.camera)),m=mr((e=>e.gl)),g=mr((e=>e.events)),v=mr((e=>e.setEvents)),y=mr((e=>e.set)),b=mr((e=>e.get)),w=mr((e=>e.performance)),x=i||p,_=o||g.connected||m.domElement,S=ou.useMemo((()=>new lu(x)),[x]);return gr((()=>{S.enabled&&S.update()}),-1),ou.useEffect((()=>(l&&S.connect(!0===l?_:l),S.connect(_),()=>{S.dispose()})),[l,_,a,S,h]),ou.useEffect((()=>{let e=e=>{h(),a&&w.regress(),u&&u(e)},t=e=>{c&&c(e)},n=e=>{d&&d(e)};return S.addEventListener("change",e),S.addEventListener("start",t),S.addEventListener("end",n),()=>{S.removeEventListener("start",t),S.removeEventListener("end",n),S.removeEventListener("change",e)}}),[u,c,d,S,h,v]),ou.useEffect((()=>{if(r){let e=b().controls;return y({controls:S}),()=>y({controls:e})}}),[r,S]),ou.createElement("primitive",O({ref:t,object:S,enableDamping:s},f))})),cu=j(V()),du=j(V()),fu=j(V());function hu(e){let t=(0,fu.useMemo)((()=>{let t=e;return{get current(){return t},set current(e){t=e,r(e)}}}),[]),[n,r]=(0,fu.useState)((()=>e));return[t,n]}var pu={transform:{position:{x:x.types.number(10),y:x.types.number(10),z:x.types.number(0)},target:{x:x.types.number(0),y:x.types.number(0),z:x.types.number(0)}},lens:{zoom:x.types.number(1,{range:[1e-4,10]}),fov:x.types.number(50,{range:[1,1e3]}),near:x.types.number(.1,{range:[0,1/0]}),far:x.types.number(2e3,{range:[0,1/0]}),focus:x.types.number(10,{range:[0,1/0]}),filmGauge:x.types.number(35,{range:[0,1/0]}),filmOffset:x.types.number(0,{range:[0,1/0]})}};function mu(e,t){let[n,r]=hu(null),[i,a]=hu(void 0),o=(0,cu.useRef)(null);return(0,cu.useLayoutEffect)((()=>{o.current||(o.current=e.object("Editor Camera ".concat(t),pu))}),[t]),function(e,t,n){let r=mr((e=>{let{invalidate:t}=e;return t}));(0,cu.useLayoutEffect)((()=>{if(!e||null===t)return;let i=n.current,a=n=>{let{position:i,target:a}=n.transform;e.zoom=n.lens.zoom,e.fov=n.lens.fov,e.near=n.lens.near,e.far=n.lens.far,e.focus=n.lens.focus,e.filmGauge=n.lens.filmGauge,e.filmOffset=n.lens.filmOffset,e.position.set(i.x,i.y,i.z),e.updateProjectionMatrix(),t.target.set(a.x,a.y,a.z),t.update(),r()},o=i.onValuesChange(a);return a(i.value),o}),[e,t,n,r])}(a,r,o),function(e,t,n){(0,cu.useLayoutEffect)((()=>{if(!e||null==t)return;let r,i=()=>{var e;if(r){clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer);let t=r;r.scheduledCommit={timer:setTimeout((()=>{t===r&&(r.scrub.commit(),r=void 0)}),gu)}}},a=()=>{var e;r?clearTimeout(null==(e=r.scheduledCommit)?void 0:e.timer):r={scrub:b().scrub()}},o=()=>{i()},s=()=>{if(!r)return;let i=e.position,a={x:i.x,y:i.y,z:i.z},o=t.target,s={position:a,target:{x:o.x,y:o.y,z:o.z}};r.scrub.capture((e=>{let{set:t}=e;t(n.current.props.transform,s)}))};return t.addEventListener("start",a),t.addEventListener("end",o),t.addEventListener("change",s),()=>{t.removeEventListener("start",a),t.removeEventListener("end",o),t.removeEventListener("change",s),r&&(r.scrub.discard(),r=void 0)}}),[e,t])}(a,r,o),[du.default.createElement(du.default.Fragment,null,du.default.createElement(Ai,{makeDefault:!0,ref:i,position:[0,102,0]}),du.default.createElement(uu,{makeDefault:!0,ref:n,camera:a,enableDamping:!1})),n]}var gu=200;var vu=class extends g.Mesh{constructor(){let{divisions:e=10,scale:t=.1,color:n=new g.Color("white"),distance:r=8e3,subgridOpacity:i=.05,gridOpacity:a=.15}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(new g.PlaneGeometry(2,2,1,1),new g.ShaderMaterial({glslVersion:g.GLSL3,side:g.DoubleSide,uniforms:{uScale:{value:t},uDivisions:{value:e},uColor:{value:n},uDistance:{value:r},uSubgridOpacity:{value:i},uGridOpacity:{value:a}},transparent:!0,vertexShader:"\n          out vec3 worldPosition;\n          uniform float uDistance;\n\n          void main() {\n              // Scale the plane by the drawing distance\n              worldPosition = position.xzy * uDistance;\n              worldPosition.xz += cameraPosition.xz;\n\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);\n          }\n      ",fragmentShader:"\n          out vec4 fragColor;\n          in vec3 worldPosition;\n\n          uniform float uDivisions;\n          uniform float uScale;\n          uniform vec3 uColor;\n          uniform float uDistance;\n          uniform float uSubgridOpacity;\n          uniform float uGridOpacity;\n\n          float getGrid(float gapSize) {\n              vec2 worldPositionByDivision = worldPosition.xz / gapSize;\n\n              // Inverted, 0 where line, >1 where there's no line\n              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing\n              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both\n              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,\n              // otherwise only one side of the line will be anti-aliased\n              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;\n              float gridLine = min(grid.x, grid.y);\n\n              // Uninvert and clamp\n              return 1.0 - min(gridLine, 1.0);\n          }\n\n          void main() {\n              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);\n              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);\n\n              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.\n              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.\n              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));\n              float gridPower = subGridPower * uDivisions;\n\n              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third\n              float nextGridPower = gridPower * uDivisions;\n\n              // 1 where grid, 0 where no grid\n              float subgrid = getGrid(subGridPower * uScale);\n              float grid = getGrid(gridPower * uScale);\n              float nextGrid = getGrid(nextGridPower * uScale);\n\n              // Where we are between the introduction of the current grid power and when we switch to the next grid power\n              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);\n\n              // The last x percentage of the current step over which we want to fade\n              float fadeRange = 0.3;\n\n              // We calculate the fade percentage from the step percentage and the fade range\n              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;\n\n              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff\n              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);\n\n              // Shade the subgrid\n              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);\n\n              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers\n              float fadeCoefficient = 0.5;\n\n              // Shade the grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);\n\n              // Shade the next grid\n              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);\n\n              if (fragColor.a <= 0.0) discard;\n          }\n      ",extensions:{derivatives:!0}})),this.frustumCulled=!1}},yu=j(V()),bu=j(V()),wu=j(Q());function xu(e){return jl({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(e)}$t();var _u=Jt.div(i||(i=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: ",";\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n"])),(e=>{let{minimized:t}=e;return t?"2px":"4px"})),Su=Jt.canvas(a||(a=r(["\n  display: block;\n  width: ",";\n  height: ",";\n"])),(e=>{let{width:t,height:n}=e;return t>n?"auto":"100%"}),(e=>{let{width:t,height:n}=e;return n>t?"auto":"100%"})),Eu=Ne(o||(o=r(["\n  0% { transform: translate(0,0) }\n  10% { transform: translate(-5%,-5%) }\n  20% { transform: translate(-10%,5%) }\n  30% { transform: translate(5%,-10%) }\n  40% { transform: translate(-5%,15%) }\n  50% { transform: translate(-10%,5%) }\n  60% { transform: translate(15%,0) }\n  70% { transform: translate(0,10%) }\n  80% { transform: translate(-15%,0) }\n  90% { transform: translate(10%,5%) }\n  100% { transform: translate(5%,0) }\n"]))),ku=Jt.div(s||(s=r(["\n  position: relative;\n  display: flex;\n  width: 200px;\n  height: 120px;\n  padding: 18px;\n\n  ::before {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    top: -50%;\n    left: -50%;\n    right: -50%;\n    bottom: -50%;\n    background: #2f2f2f url(",") repeat 0 0;\n    animation: "," 0.2s infinite;\n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII=",Eu),Cu=Jt.div(l||(l=r(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  align-items: center;\n  text-align: center;\n  opacity: 0.8;\n"]))),Mu=e=>{let{maxHeight:t,maxWidth:n,minimized:r,onToggleMinified:i}=e;var a,o;let s=(0,bu.useRef)(null),[l]=$l((e=>[e.gl]),wu.default),[u,{width:c,height:d}]=zr(),f=null!=(o=null==(a=null==l?void 0:l.getContextAttributes())?void 0:a.preserveDrawingBuffer)&&o;(0,bu.useLayoutEffect)((()=>{l&&u(null==l?void 0:l.domElement)}),[l,u]);let[h,p]=(0,yu.useMemo)((()=>{if(!l)return[0,0];let e=c/(d||Number.EPSILON)||Number.EPSILON,r=Math.min(e*t,n);return[r,r/e]}),[l,n,t,c,d]);return(0,bu.useEffect)((()=>{let e,t=n=>()=>{if(e=requestAnimationFrame(t(n)),!n.domElement||!f)return void cancelAnimationFrame(e);let r=s.current.getContext("2d");r.imageSmoothingQuality="high",r.fillStyle="white",r.fillRect(0,0,h,p),r.drawImage(n.domElement,0,0,h,p)};return l&&t(l)(),()=>{cancelAnimationFrame(e)}}),[l,h,p,f]),bu.default.createElement(_u,{minimized:r,onClick:i,style:{width:r?32:f?"".concat(h,"px"):"auto",height:r?32:f?"".concat(p,"px"):"auto"}},f?bu.default.createElement(Su,{ref:s,width:h,height:p}):bu.default.createElement(ku,null,bu.default.createElement(Cu,null,bu.default.createElement(xu,{size:"3em"}),bu.default.createElement("code",null,"Please set ",bu.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},Pu=De(u||(u=r(["\n  :host {\n    contain: strict;\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))),Tu=e=>{let{snapshotEditorSheet:t,paneId:n}=e;var r,i;let[a,o,s]=mr((e=>[e.gl,e.scene,e.camera]),ai.default),[l,u]=mu(t,n),c=Rl(),d=$l((e=>e.helpersRoot),ai.default),f=null==(r=bl(null==c?void 0:c.props.viewport.showGrid))||r,h=null==(i=bl(null==c?void 0:c.props.viewport.showAxes))||i,p=(0,pn.useMemo)((()=>new vu),[]);return mn.default.createElement(Jl,null,f&&mn.default.createElement("primitive",{object:p}),h&&mn.default.createElement("axesHelper",{args:[500]}),l,mn.default.createElement("primitive",{object:d}),mn.default.createElement(au,{orbitControlsRef:u}),mn.default.createElement("color",{attach:"background",args:[.1,.1,.1]}))},Au=Jt.div(c||(c=r(["\n  tab-size: 4;\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  margin: 0;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n"]))),Ru=Jt.div(d||(d=r(["\n  position: relative;\n  z-index: 0;\n  height: 100%;\n  overflow: hidden;\n"]))),Iu=Jt.div(f||(f=r(["\n  position: absolute;\n  inset: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),Ou=Jt.div(h||(h=r(["\n  position: absolute;\n  left: 12px;\n  top: 12px;\n  pointer-events: auto;\n"]))),zu=Jt.div(p||(p=r(["\n  position: absolute;\n  right: 12px;\n  top: 12px;\n  justify-content: center;\n"]))),Lu=Jt.div(m||(m=r(["\n  position: absolute;\n  margin: auto;\n  left: 0;\n  right: 0;\n  width: 300px;\n  top: 12px;\n  padding: 16px;\n  border-radius: 4px;\n  border: 1px solid rgba(255, 255, 255, 0.08);\n\n  backdrop-filter: blur(14px);\n  background: rgba(40, 43, 47, 0.8);\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(40, 43, 47, 0.95);\n  }\n"]))),Du=e=>{var t,n;let r=Al(),i=e.paneId,a=Rl(),[o,s]=zr(),[l,u]=$l((e=>[e.sceneSnapshot,e.createSnapshot]),ai.default);(0,pn.useLayoutEffect)((()=>{u()}),[]);let c=(0,pn.useCallback)((()=>{let e=b().selection.find((e=>v.Mm.has(e)));e&&b().setSelection([e.sheet])}),[]),[d,f]=(0,pn.useState)();if((0,pn.useEffect)((()=>{if(d)return b().ui.renderToolset("snapshot-editor",d)}),[d]),!a)return mn.default.createElement(mn.default.Fragment,null);let h=null!=(n=bl(null==(t=Rl())?void 0:t.props.viewport.referenceWindow))?n:"minimized";return mn.default.createElement(oi.default.div,{style:{overflow:"hidden"}},mn.default.createElement(Ce,{disableVendorPrefixes:!0},mn.default.createElement(mn.default.Fragment,null,mn.default.createElement(Pu,null),mn.default.createElement(Au,null,mn.default.createElement(Iu,null,mn.default.createElement(Ou,{ref:f}),"hidden"!==h&&mn.default.createElement(zu,null,mn.default.createElement(Mu,{maxHeight:Math.min(.3*s.height,150),maxWidth:Math.min(.3*s.width,250),minimized:"minimized"===h,onToggleMinified:()=>{b().transaction((e=>{let{set:t}=e;t(Rl().props.viewport.referenceWindow,"minimized"===h?"maximized":"minimized")}))}})),!l&&mn.default.createElement(Lu,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),mn.default.createElement(Ru,{ref:o},mn.default.createElement(ii,{onCreated:e=>{let{gl:t}=e;t.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:c},mn.default.createElement(Tu,{snapshotEditorSheet:r,paneId:i})))))))},Nu=j(un()),Uu=j(V()),ju='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',Fu={id:"@theatre/r3f",toolbars:{global(e,t){let n=(0,w.prism)((()=>{Rl();return[{type:"Icon",title:"Create Snapshot",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',onClick:()=>{t.createPane("snapshot")}}]}));return(0,x.onChange)(n,(()=>{e(n.getValue())}))},"snapshot-editor":(e,t)=>{let{createSnapshot:n}=$l.getState(),r=(0,w.prism)((()=>{var e,r,i;let a=Rl(),o=null!=(e=(0,w.val)(null==a?void 0:a.props.transformControls.mode))?e:"translate",s=null!=(r=(0,w.val)(null==a?void 0:a.props.transformControls.space))?r:"world",l=null!=(i=(0,w.val)(null==a?void 0:a.props.viewport.shading))?i:"rendered";return[{type:"Icon",onClick:n,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:o,onChange:e=>t.transaction((t=>{let{set:n}=t;return n(a.props.transformControls.mode,e)})),options:[{value:"translate",label:"Tool: Translate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>'},{value:"rotate",label:"Tool: Rotate",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>'},{value:"scale",label:"Tool: Scale",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>'}]},{type:"Switch",value:s,onChange:e=>t.transaction((t=>{let{set:n}=t;n(a.props.transformControls.space,e)})),options:[{value:"world",label:"Space: World",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>'},{value:"local",label:"Space: Local",svgSource:ju}]},{type:"Switch",value:l,onChange:e=>t.transaction((t=>{let{set:n}=t;n(a.props.viewport.shading,e)})),options:[{value:"wireframe",label:"Display: Wireframe",svgSource:ju},{value:"flat",label:"Display: Flat",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>'},{value:"solid",label:"Display: Solid",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>'},{value:"rendered",label:"Display: Rendered",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>'}]}]}));return(0,x.onChange)(r,(()=>{e(r.getValue())}))}},panes:[{class:"snapshot",mount:e=>{let{paneId:t,node:n}=e,r=Nu.default.createRoot(n);return r.render(Uu.default.createElement(Du,{paneId:t})),function(){setTimeout((()=>{r.unmount()}),0)}}}]}},5345:(e,t,n)=>{"use strict";n.d(t,{DB:()=>T,JG:()=>B,Mm:()=>E,l:()=>k,ub:()=>W,ue:()=>P});var r,i,a=n(5043),o=n(9408),s=n(3746),l=n(4871),u=Object.create,c=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&b(e,n,t[n]);if(m)for(var n of m(t))y.call(t,n)&&b(e,n,t[n]);return e},x=(e,t)=>d(e,h(t)),_=(e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var r of m(e))t.indexOf(r)<0&&y.call(e,r)&&(n[r]=e[r]);return n},S=((e,t,n)=>(n=null!=e?u(g(e)):{},((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of p(t))v.call(e,i)||i===n||c(e,i,{get:()=>t[i],enumerable:!(r=f(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:c(n,"default",{value:e,enumerable:!0}),e)))((r={"../../node_modules/zustand/vanilla.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e,r,a){void 0===r&&(r=i),void 0===a&&(a=Object.is);var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}}},function(){return i||(0,r[p(r)[0]])((i={exports:{}}).exports,i),i.exports})()),E=new WeakSet,k=(0,S.default)(((e,t)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new o.Group,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(n,r)=>{e({scene:n,gl:r}),t().createSnapshot()},addEditable:(t,n)=>{e((e=>({editables:x(w({},e.editables),{[t]:n})})))},removeEditable:t=>{e((e=>{const n=w({},e.editables);return delete n[t],{editables:n}}))},createSnapshot:()=>{e((e=>{var t,n;return{sceneSnapshot:null!=(n=null==(t=e.scene)?void 0:t.clone())?n:null,editablesSnapshot:e.editables}}))},setSnapshotProxyObject:(t,n)=>{e((e=>({editablesSnapshot:x(w({},e.editablesSnapshot),{[n]:x(w({},e.editablesSnapshot[n]),{proxyObject:t})})})))}})));function C(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var M=(0,a.createContext)(void 0),P=()=>(()=>{const e=(0,a.useContext)(M);if(!e)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return e})().sheet,T=e=>{let{sheet:t,children:n}=e;const{scene:r,gl:i}=(0,s.A)((e=>({scene:e.scene,gl:e.gl})));return(0,a.useEffect)((()=>{if(!t||"Theatre_Sheet_PublicAPI"!==t.type)throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")}),[t]),(0,a.useLayoutEffect)((()=>{(e=>{let{gl:t,scene:n}=e;(0,k.getState().init)(n,t)})({gl:i,scene:r})}),[r,i]),a.createElement(M.Provider,{value:{sheet:t}},n)};function A(e){return"number"===typeof e&&isFinite(e)}var R=e=>e?{x:e[0],y:e[1],z:e[2]}:{x:0,y:0,z:0},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R(),{nudgeMultiplier:n=.01}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{parse:n=>{const r=n[e],i=r?Array.isArray(r)?R(r):A(r)?{x:r,y:r,z:r}:(a=r,["x","y","z"].every((e=>A(a[e])))?{x:r.x,y:r.y,z:r.z}:(l.notify.warning('Invalid value for vector prop "'.concat(e,'"'),"Couldn't make sense of `".concat(e,"={").concat(JSON.stringify(r),"}`, falling back to `").concat(e,"={").concat(JSON.stringify([t.x,t.y,t.z]),"}`.\n\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.")),t)):t;var a;return["x","y","z"].forEach((t=>{n["".concat(e,"-").concat(t)]&&(i[t]=n["".concat(e,"-").concat(t)])})),i},apply:(t,n)=>{n[e].set(t.x,t.y,t.z)},type:{[e]:{x:l.types.number(t.x,{nudgeMultiplier:n}),y:l.types.number(t.y,{nudgeMultiplier:n}),z:l.types.number(t.z,{nudgeMultiplier:n})}}}},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{nudgeMultiplier:n=.01}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{parse:n=>{var r;return null!=(r=n[e])?r:t},apply:(t,n)=>{n[e]=t},type:{[e]:l.types.number(t,{nudgeMultiplier:n})}}},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.Color(0,0,0);return{parse:n=>{var r;return x(w({},null!=(r=n[e])?r:t),{a:1})},apply:(t,n)=>{n[e].setRGB(t.r,t.g,t.b)},type:{[e]:l.types.rgba(x(w({},t),{a:1}))}}},L=(e,t)=>x(w({},e),{props:w(w({},e.props),t)}),D={props:{position:I("position"),rotation:I("rotation"),scale:I("scale",R([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:e=>new o.BoxHelper(e,j)},N=x(w({},L(D,{intensity:O("intensity",1),distance:O("distance"),decay:O("decay"),color:z("color",new o.Color("white"))})),{dimensionless:!0}),U=x(w({},L(D,{near:O("near",.1,{nudgeMultiplier:.1}),far:O("far",2e3,{nudgeMultiplier:.1})})),{updateObject:e=>{e.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:e=>new o.CameraHelper(e)}),j="#40AAA4",F={group:x(w({},D),{icon:"collection",createHelper:e=>new o.BoxHelper(e,j)}),mesh:x(w({},D),{icon:"cube",createHelper:e=>new o.BoxHelper(e,j)}),spotLight:x(w({},L(N,{angle:O("angle",0,{nudgeMultiplier:.001}),penumbra:O("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:e=>new o.SpotLightHelper(e,j)}),directionalLight:x(w({},L(D,{intensity:O("intensity",1),color:z("color",new o.Color("white"))})),{icon:"sun",dimensionless:!0,createHelper:e=>new o.DirectionalLightHelper(e,1,j)}),pointLight:x(w({},N),{icon:"lightBulb",createHelper:e=>new o.PointLightHelper(e,1,j)}),ambientLight:{props:{intensity:O("intensity",1),color:z("color",new o.Color("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:O("intensity",1),color:z("color",new o.Color("white")),groundColor:z("groundColor",new o.Color("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:L(U,{fov:O("fov",50,{nudgeMultiplier:.1}),zoom:O("zoom",1)}),orthographicCamera:U,points:D,line:D,lineLoop:D,lineSegments:D,fog:{props:{color:z("color"),near:O("near",1,{nudgeMultiplier:.1}),far:O("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},B=(k.getState().createSnapshot,e=>"".concat(e.sheetId,":").concat(e.sheetInstanceId,":").concat(e.objectKey)),V=(0,a.createContext)(void 0),H=(e=>{const t=(t,n)=>{if("primitive"!==t&&!n)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return(0,a.forwardRef)(((r,i)=>{var o=r,{theatreKey:u,visible:c,editableType:d,additionalProps:f,objRef:h}=o,p=_(o,["theatreKey","visible","editableType","additionalProps","objRef"]);if("string"!==typeof u)throw new Error("No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ".concat(u));if("primitive"===t&&!d)throw new Error("When using the primitive component, you must provide the editableType prop. Received: ".concat(d));const m=null!=n?n:d,g=(0,a.useRef)(),v=P(),y=(()=>{var e;return null==(e=(0,a.useContext)(V))?void 0:e.rafDriver})(),[b,S]=(0,a.useState)(void 0),M=(0,a.useMemo)((()=>B(x(w({},v.address),{objectKey:u}))),[v,u]),T=(0,s.A)((e=>{let{invalidate:t}=e;return t}));return(0,a.useEffect)((()=>{if("perspectiveCamera"===t||"orthographicCamera"===t){const e=t.charAt(0).toUpperCase()+t.slice(1);l.notify.warning("Possibly incorrect use of <e.".concat(t," />"),'You seem to have declared the camera "'.concat(u,'" simply as `<e.').concat(t," ... />`. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable `").concat(e,"` is to import it from `@react-three/drei`, and make it editable.\n```\nimport {").concat(e,"} from '@react-three/drei'\n\nconst EditableCamera =\n  editable(").concat(e,", '").concat(t,"')\n```\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n```\n<EditableCamera\n  theatreKey=\"").concat(u,'"\n  makeDefault\n>\n```\n'))}}),[t,u]),(0,a.useLayoutEffect)((()=>{if(v)if(b)v.object(u,Object.assign(w({},f),...Object.values(e[m].props).map((e=>e.type))),{reconfigure:!0});else{const t=v.object(u,Object.assign(w({},f),...Object.values(e[m].props).map((e=>e.type))));E.add(t),S(t),h&&("function"===typeof h?h(t):h.current=t),k.getState().addEditable(M,{type:m,sheetObject:t,visibleOnlyInEditor:"editor"===c,objectConfig:e[m]})}}),[v,M,f]),(0,a.useLayoutEffect)((()=>{b&&(b.initialValue=Object.fromEntries(Object.entries(e[m].props).map((e=>{let[t,n]=e;return[t,n.parse(p)]}))))}),[b,...Object.keys(e[m].props).map((e=>p[e]))]),(0,a.useLayoutEffect)((()=>{if(!b)return;const t=g.current,n=n=>{var r,i;Object.entries(e[m].props).forEach((e=>{let[r,i]=e;return i.apply(n[r],t)})),null==(i=(r=e[m]).updateObject)||i.call(r,t),T()};n(b.value);const r=b.onValuesChange(n,y);return()=>{r(),b.sheet.detachObject(u),E.delete(b),k.getState().removeEditable(M)}}),[b,y]),a.createElement(t,x(w({ref:C([g,i])},p),{visible:"editor"!==c&&c,userData:{__editable:!0,__storeKey:M}}))}))},n=x(w({},Object.fromEntries(Object.keys(e).map((e=>[e,t(e,e)])))),{primitive:t("primitive",null)});return Object.assign(t,n)})(F),W=H(a.forwardRef(((e,t)=>{var n=e,{makeDefault:r,lookAt:i}=n,l=_(n,["makeDefault","lookAt"]);const u=(0,s.A)((e=>{let{set:t}=e;return t})),c=(0,s.A)((e=>{let{camera:t}=e;return t})),d=(0,s.A)((e=>{let{size:t}=e;return t})),f=a.useRef(null);return a.useLayoutEffect((()=>{l.manual||(f.current.aspect=d.width/d.height)}),[d,l]),a.useLayoutEffect((()=>{f.current.updateProjectionMatrix()})),a.useLayoutEffect((()=>{if(r){const e=c;return u((()=>({camera:f.current}))),()=>u((()=>({camera:e})))}}),[f,r,u]),(0,s.C)((()=>{var e;if(i&&f.current){f.current.lookAt(Array.isArray(i)?new o.Vector3(...i):i.current?i.current.position:i);const t=k.getState().editablesSnapshot;t&&(null==(e=t[f.current.userData.__storeKey].proxyObject)||e.rotation.copy(f.current.rotation))}})),a.createElement("perspectiveCamera",w({ref:C([f,t])},l))})),"perspectiveCamera");H(a.forwardRef(((e,t)=>{var n=e,{makeDefault:r,lookAt:i}=n,l=_(n,["makeDefault","lookAt"]);const u=(0,s.A)((e=>{let{set:t}=e;return t})),c=(0,s.A)((e=>{let{camera:t}=e;return t})),d=(0,s.A)((e=>{let{size:t}=e;return t})),f=a.useRef(null);return a.useLayoutEffect((()=>{l.manual||f.current.updateProjectionMatrix()}),[d,l]),a.useLayoutEffect((()=>{f.current.updateProjectionMatrix()})),a.useLayoutEffect((()=>{if(r){const e=c;return u((()=>({camera:f.current}))),()=>u((()=>({camera:e})))}}),[f,r,u]),(0,s.C)((()=>{var e;if(i&&f.current){f.current.lookAt(Array.isArray(i)?new o.Vector3(...i):i.current?i.current.position:i);const t=k.getState().editablesSnapshot;t&&(null==(e=t[f.current.userData.__storeKey].proxyObject)||e.rotation.copy(f.current.rotation))}})),a.createElement("orthographicCamera",w({left:d.width/-2,right:d.width/2,top:d.height/2,bottom:d.height/-2,ref:C([f,t])},l))})),"orthographicCamera")},3195:(e,t,n)=>{"use strict";var r,i,a;e=n.nmd(e);var o=Object.create,s=Object.freeze,l=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},y=Math.pow,b=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&b(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&b(e,n,t[n]);return e},x=(e,t)=>u(e,d(t)),_=(e,t)=>{var n={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&g.call(e,r)&&(n[r]=e[r]);return n},S=(e,t)=>()=>(e&&(t=e(e=0)),t),E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),k=(e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})},C=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of f(t))!m.call(e,i)&&i!==n&&l(e,i,{get:()=>t[i],enumerable:!(r=c(t,i))||r.enumerable});return e},M=(e,t,n)=>(n=null!=e?o(p(e)):{},C(!t&&e&&e.__esModule?n:l(n,"default",{value:e,enumerable:!0}),e)),P=(e,t,n)=>(b(e,"symbol"!=typeof t?t+"":t,n),n),T=(e,t)=>s(l(e,"raw",{value:s(t||e.slice())})),A=(e,t,n)=>new Promise(((r,i)=>{var a=e=>{try{s(n.next(e))}catch(t){i(t)}},o=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())})),R=function(e,t){this[0]=e,this[1]=t},I=e=>{var t,n=e[v("asyncIterator")],r=!1,i={};return null==n?(n=e[v("iterator")](),t=e=>i[e]=t=>n[e](t)):(n=n.call(e),t=e=>i[e]=t=>{if(r){if(r=!1,"throw"===e)throw t;return t}return r=!0,{done:!1,value:new R(new Promise((r=>{var i=n[e](t);if(!(i instanceof Object))throw TypeError("Object expected");r(i)})),1)}}),i[v("iterator")]=()=>i,t("next"),"throw"in n?t("throw"):i.throw=e=>{throw e},"return"in n&&t("return"),i};function O(){return z}var z,L=S((()=>{}));function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("object"==typeof e&&e){if(N(e)||U(e))return void t(e,n);for(let[r,i]of Object.entries(e))D(i,t,[...n,r])}else{if(null==e)return;t(e,n)}}var N,U,j=S((()=>{N=e=>"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"type")&&"image"===e.type&&Object.hasOwnProperty.call(e,"id")&&"string"==typeof e.id&&""!==e.id,U=e=>"object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&"number"==typeof e.a}));function F(e){return t=>"object"==typeof t&&!!t&&t.type===e}var B,V,H,W,G,q,X,K,Y,Q,Z,J,$,ee,te,ne=S((()=>{B=F("Theatre_Project"),V=F("Theatre_Sheet"),H=F("Theatre_SheetTemplate"),W=F("Theatre_SheetObject"),G=F("Theatre_Sequence"),q=F("Theatre_SheetObjectTemplate"),F("Theatre_Project_PublicAPI"),X=F("Theatre_Sheet_PublicAPI"),K=F("Theatre_SheetObject_PublicAPI")})),re=S((()=>{Y="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Q=Y})),ie=S((()=>{re(),Z="object"==typeof self&&self&&self.Object===Object&&self,J=Q||Z||Function("return this")(),$=J})),ae=S((()=>{ie(),ee=$.Symbol,te=ee}));function oe(e){var t=le.call(e,ce),n=e[ce];try{e[ce]=void 0;var r=!0}catch(a){}var i=ue.call(e);return r&&(t?e[ce]=n:delete e[ce]),i}var se,le,ue,ce,de,fe=S((()=>{ae(),se=Object.prototype,le=se.hasOwnProperty,ue=se.toString,ce=te?te.toStringTag:void 0,de=oe}));function he(e){return me.call(e)}var pe,me,ge,ve=S((()=>{pe=Object.prototype,me=pe.toString,ge=he}));function ye(e){return null==e?void 0===e?we:be:xe&&xe in Object(e)?de(e):ge(e)}var be,we,xe,_e,Se=S((()=>{ae(),fe(),ve(),be="[object Null]",we="[object Undefined]",xe=te?te.toStringTag:void 0,_e=ye}));function Ee(e){return null!=e&&"object"==typeof e}var ke,Ce=S((()=>{ke=Ee}));function Me(e){return"symbol"==typeof e||ke(e)&&_e(e)==Pe}var Pe,Te,Ae=S((()=>{Se(),Ce(),Pe="[object Symbol]",Te=Me}));function Re(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ie,Oe,ze,Le=S((()=>{Ie=Re})),De=S((()=>{Oe=Array.isArray,ze=Oe}));function Ne(e){if("string"==typeof e)return e;if(ze(e))return Ie(e,Ne)+"";if(Te(e))return Fe?Fe.call(e):"";var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}var Ue,je,Fe,Be,Ve=S((()=>{ae(),Le(),De(),Ae(),Ue=1/0,je=te?te.prototype:void 0,Fe=je?je.toString:void 0,Be=Ne}));function He(e){for(var t=e.length;t--&&We.test(e.charAt(t)););return t}var We,Ge,qe=S((()=>{We=/\s/,Ge=He}));function Xe(e){return e&&e.slice(0,Ge(e)+1).replace(Ke,"")}var Ke,Ye,Qe=S((()=>{qe(),Ke=/^\s+/,Ye=Xe}));function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Je,$e=S((()=>{Je=Ze}));function et(e){if("number"==typeof e)return e;if(Te(e))return tt;if(Je(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Je(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ye(e);var n=rt.test(e);return n||it.test(e)?at(e.slice(2),n?2:8):nt.test(e)?tt:+e}var tt,nt,rt,it,at,ot,st=S((()=>{Qe(),$e(),Ae(),tt=NaN,nt=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,it=/^0o[0-7]+$/i,at=parseInt,ot=et}));function lt(e){return e?(e=ot(e))===ut||e===-ut?(e<0?-1:1)*ct:e===e?e:0:0===e?e:0}var ut,ct,dt,ft=S((()=>{st(),ut=1/0,ct=17976931348623157e292,dt=lt}));function ht(e){var t=dt(e),n=t%1;return t===t?n?t-n:t:0}var pt,mt=S((()=>{ft(),pt=ht}));function gt(e){return e}var vt,yt=S((()=>{vt=gt}));function bt(e){if(!Je(e))return!1;var t=_e(e);return t==xt||t==_t||t==wt||t==St}var wt,xt,_t,St,Et,kt,Ct,Mt=S((()=>{Se(),$e(),wt="[object AsyncFunction]",xt="[object Function]",_t="[object GeneratorFunction]",St="[object Proxy]",Et=bt})),Pt=S((()=>{ie(),kt=$["__core-js_shared__"],Ct=kt}));function Tt(e){return!!At&&At in e}var At,Rt,It=S((()=>{Pt(),At=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Rt=Tt}));function Ot(e){if(null!=e){try{return Lt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var zt,Lt,Dt,Nt=S((()=>{zt=Function.prototype,Lt=zt.toString,Dt=Ot}));function Ut(e){return!(!Je(e)||Rt(e))&&(Et(e)?Gt:Ft).test(Dt(e))}var jt,Ft,Bt,Vt,Ht,Wt,Gt,qt,Xt=S((()=>{Mt(),It(),$e(),Nt(),jt=/[\\^$.*+?()[\]{}|]/g,Ft=/^\[object .+?Constructor\]$/,Bt=Function.prototype,Vt=Object.prototype,Ht=Bt.toString,Wt=Vt.hasOwnProperty,Gt=RegExp("^"+Ht.call(Wt).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=Ut}));function Kt(e,t){return null==e?void 0:e[t]}var Yt,Qt=S((()=>{Yt=Kt}));function Zt(e,t){var n=Yt(e,t);return qt(n)?n:void 0}var Jt,$t,en,tn=S((()=>{Xt(),Qt(),Jt=Zt})),nn=S((()=>{tn(),ie(),$t=Jt($,"WeakMap"),en=$t}));function rn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var an,on=S((()=>{an=rn}));function sn(){}var ln,un=S((()=>{ln=sn}));function cn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var dn,fn=S((()=>{dn=cn}));function hn(e){var t=0,n=0;return function(){var r=gn(),i=mn-(r-n);if(n=r,i>0){if(++t>=pn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pn,mn,gn,vn,yn=S((()=>{pn=800,mn=16,gn=Date.now,vn=hn}));function bn(e){return function(){return e}}var wn,xn,_n,Sn,En,kn,Cn=S((()=>{wn=bn})),Mn=S((()=>{tn(),xn=function(){try{var e=Jt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),_n=xn})),Pn=S((()=>{Cn(),Mn(),yt(),Sn=_n?function(e,t){return _n(e,"toString",{configurable:!0,enumerable:!1,value:wn(t),writable:!0})}:vt})),Tn=S((()=>{Pn(),yn(),En=vn(Sn),kn=En}));function An(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Rn,In=S((()=>{Rn=An}));function On(e){return e!==e}var zn,Ln=S((()=>{zn=On}));function Dn(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Nn,Un=S((()=>{Nn=Dn}));function jn(e,t,n){return t===t?Nn(e,t,n):Rn(e,zn,n)}var Fn,Bn=S((()=>{In(),Ln(),Un(),Fn=jn}));function Vn(e,t){return!!(null==e?0:e.length)&&Fn(e,t,0)>-1}var Hn,Wn=S((()=>{Bn(),Hn=Vn}));function Gn(e,t){var n=typeof e;return!!(t=null==t?qn:t)&&("number"==n||"symbol"!=n&&Xn.test(e))&&e>-1&&e%1==0&&e<t}var qn,Xn,Kn,Yn=S((()=>{qn=9007199254740991,Xn=/^(?:0|[1-9]\d*)$/,Kn=Gn}));function Qn(e,t,n){"__proto__"==t&&_n?_n(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Zn,Jn=S((()=>{Mn(),Zn=Qn}));function $n(e,t){return e===t||e!==e&&t!==t}var er,tr=S((()=>{er=$n}));function nr(e,t,n){var r=e[t];(!ir.call(e,t)||!er(r,n)||void 0===n&&!(t in e))&&Zn(e,t,n)}var rr,ir,ar,or=S((()=>{Jn(),tr(),rr=Object.prototype,ir=rr.hasOwnProperty,ar=nr}));function sr(e,t,n){return t=lr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=lr(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),an(e,this,s)}}var lr,ur,cr=S((()=>{on(),lr=Math.max,ur=sr}));function dr(e,t){return kn(ur(e,t,vt),e+"")}var fr,hr=S((()=>{yt(),cr(),Tn(),fr=dr}));function pr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=mr}var mr,gr,vr=S((()=>{mr=9007199254740991,gr=pr}));function yr(e){return null!=e&&gr(e.length)&&!Et(e)}var br,wr=S((()=>{Mt(),vr(),br=yr}));function xr(e,t,n){if(!Je(n))return!1;var r=typeof t;return!!("number"==r?br(n)&&Kn(t,n.length):"string"==r&&t in n)&&er(n[t],e)}var _r,Sr=S((()=>{tr(),wr(),Yn(),$e(),_r=xr}));function Er(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kr)}var kr,Cr,Mr=S((()=>{kr=Object.prototype,Cr=Er}));function Pr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Tr,Ar=S((()=>{Tr=Pr}));function Rr(e){return ke(e)&&_e(e)==Ir}var Ir,Or,zr,Lr,Dr,Nr,Ur,jr=S((()=>{Se(),Ce(),Ir="[object Arguments]",Or=Rr})),Fr=S((()=>{jr(),Ce(),zr=Object.prototype,Lr=zr.hasOwnProperty,Dr=zr.propertyIsEnumerable,Nr=Or(function(){return arguments}())?Or:function(e){return ke(e)&&Lr.call(e,"callee")&&!Dr.call(e,"callee")},Ur=Nr}));function Br(){return!1}var Vr,Hr,Wr,Gr,qr,Xr,Kr,Yr=S((()=>{Vr=Br})),Qr=S((()=>{ie(),Yr(),Hr=t&&!t.nodeType&&t,Wr=Hr&&e&&!e.nodeType&&e,Gr=Wr&&Wr.exports===Hr,qr=Gr?$.Buffer:void 0,Xr=qr?qr.isBuffer:void 0,Kr=Xr||Vr}));function Zr(e){return ke(e)&&gr(e.length)&&!!Jr[_e(e)]}var Jr,$r,ei=S((()=>{Se(),vr(),Ce(),(Jr={})["[object Float32Array]"]=Jr["[object Float64Array]"]=Jr["[object Int8Array]"]=Jr["[object Int16Array]"]=Jr["[object Int32Array]"]=Jr["[object Uint8Array]"]=Jr["[object Uint8ClampedArray]"]=Jr["[object Uint16Array]"]=Jr["[object Uint32Array]"]=!0,Jr["[object Arguments]"]=Jr["[object Array]"]=Jr["[object ArrayBuffer]"]=Jr["[object Boolean]"]=Jr["[object DataView]"]=Jr["[object Date]"]=Jr["[object Error]"]=Jr["[object Function]"]=Jr["[object Map]"]=Jr["[object Number]"]=Jr["[object Object]"]=Jr["[object RegExp]"]=Jr["[object Set]"]=Jr["[object String]"]=Jr["[object WeakMap]"]=!1,$r=Zr}));function ti(e){return function(t){return e(t)}}var ni,ri,ii,ai,oi,si,li,ui,ci,di,fi=S((()=>{ni=ti})),hi=S((()=>{re(),ri=t&&!t.nodeType&&t,ii=ri&&e&&!e.nodeType&&e,ai=ii&&ii.exports===ri,oi=ai&&Q.process,si=function(){try{return ii&&ii.require&&ii.require("util").types||oi&&oi.binding&&oi.binding("util")}catch(e){}}(),li=si})),pi=S((()=>{ei(),fi(),hi(),ui=li&&li.isTypedArray,ci=ui?ni(ui):$r,di=ci}));function mi(e,t){var n=ze(e),r=!n&&Ur(e),i=!n&&!r&&Kr(e),a=!n&&!r&&!i&&di(e),o=n||r||i||a,s=o?Tr(e.length,String):[],l=s.length;for(var u in e)(t||vi.call(e,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Kn(u,l)))&&s.push(u);return s}var gi,vi,yi,bi=S((()=>{Ar(),Fr(),De(),Qr(),Yn(),pi(),gi=Object.prototype,vi=gi.hasOwnProperty,yi=mi}));function wi(e,t){return function(n){return e(t(n))}}var xi,_i,Si,Ei=S((()=>{xi=wi})),ki=S((()=>{Ei(),_i=xi(Object.keys,Object),Si=_i}));function Ci(e){if(!Cr(e))return Si(e);var t=[];for(var n in Object(e))Pi.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Mi,Pi,Ti,Ai=S((()=>{Mr(),ki(),Mi=Object.prototype,Pi=Mi.hasOwnProperty,Ti=Ci}));function Ri(e){return br(e)?yi(e):Ti(e)}var Ii,Oi=S((()=>{bi(),Ai(),wr(),Ii=Ri}));function zi(e,t){if(ze(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Te(e))||(Di.test(e)||!Li.test(e)||null!=t&&e in Object(t))}var Li,Di,Ni,Ui,ji,Fi=S((()=>{De(),Ae(),Li=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Di=/^\w*$/,Ni=zi})),Bi=S((()=>{tn(),Ui=Jt(Object,"create"),ji=Ui}));function Vi(){this.__data__=ji?ji(null):{},this.size=0}var Hi,Wi=S((()=>{Bi(),Hi=Vi}));function Gi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qi,Xi=S((()=>{qi=Gi}));function Ki(e){var t=this.__data__;if(ji){var n=t[e];return n===Yi?void 0:n}return Zi.call(t,e)?t[e]:void 0}var Yi,Qi,Zi,Ji,$i=S((()=>{Bi(),Yi="__lodash_hash_undefined__",Qi=Object.prototype,Zi=Qi.hasOwnProperty,Ji=Ki}));function ea(e){var t=this.__data__;return ji?void 0!==t[e]:na.call(t,e)}var ta,na,ra,ia=S((()=>{Bi(),ta=Object.prototype,na=ta.hasOwnProperty,ra=ea}));function aa(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ji&&void 0===t?oa:t,this}var oa,sa,la=S((()=>{Bi(),oa="__lodash_hash_undefined__",sa=aa}));function ua(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var ca,da=S((()=>{Wi(),Xi(),$i(),ia(),la(),ua.prototype.clear=Hi,ua.prototype.delete=qi,ua.prototype.get=Ji,ua.prototype.has=ra,ua.prototype.set=sa,ca=ua}));function fa(){this.__data__=[],this.size=0}var ha,pa=S((()=>{ha=fa}));function ma(e,t){for(var n=e.length;n--;)if(er(e[n][0],t))return n;return-1}var ga,va=S((()=>{tr(),ga=ma}));function ya(e){var t=this.__data__,n=ga(t,e);return!(n<0)&&(n==t.length-1?t.pop():wa.call(t,n,1),--this.size,!0)}var ba,wa,xa,_a=S((()=>{va(),ba=Array.prototype,wa=ba.splice,xa=ya}));function Sa(e){var t=this.__data__,n=ga(t,e);return n<0?void 0:t[n][1]}var Ea,ka=S((()=>{va(),Ea=Sa}));function Ca(e){return ga(this.__data__,e)>-1}var Ma,Pa=S((()=>{va(),Ma=Ca}));function Ta(e,t){var n=this.__data__,r=ga(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Aa,Ra=S((()=>{va(),Aa=Ta}));function Ia(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var Oa,za,La,Da=S((()=>{pa(),_a(),ka(),Pa(),Ra(),Ia.prototype.clear=ha,Ia.prototype.delete=xa,Ia.prototype.get=Ea,Ia.prototype.has=Ma,Ia.prototype.set=Aa,Oa=Ia})),Na=S((()=>{tn(),ie(),za=Jt($,"Map"),La=za}));function Ua(){this.size=0,this.__data__={hash:new ca,map:new(La||Oa),string:new ca}}var ja,Fa=S((()=>{da(),Da(),Na(),ja=Ua}));function Ba(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var Va,Ha=S((()=>{Va=Ba}));function Wa(e,t){var n=e.__data__;return Va(t)?n["string"==typeof t?"string":"hash"]:n.map}var Ga,qa=S((()=>{Ha(),Ga=Wa}));function Xa(e){var t=Ga(this,e).delete(e);return this.size-=t?1:0,t}var Ka,Ya=S((()=>{qa(),Ka=Xa}));function Qa(e){return Ga(this,e).get(e)}var Za,Ja=S((()=>{qa(),Za=Qa}));function $a(e){return Ga(this,e).has(e)}var eo,to=S((()=>{qa(),eo=$a}));function no(e,t){var n=Ga(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ro,io=S((()=>{qa(),ro=no}));function ao(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var oo,so=S((()=>{Fa(),Ya(),Ja(),to(),io(),ao.prototype.clear=ja,ao.prototype.delete=Ka,ao.prototype.get=Za,ao.prototype.has=eo,ao.prototype.set=ro,oo=ao}));function lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(uo);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(lo.Cache||oo),n}var uo,co,fo=S((()=>{so(),uo="Expected a function",lo.Cache=oo,co=lo}));function ho(e){var t=co(e,(function(e){return n.size===po&&n.clear(),e})),n=t.cache;return t}var po,mo,go,vo,yo,bo,wo=S((()=>{fo(),po=500,mo=ho})),xo=S((()=>{wo(),go=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vo=/\\(\\)?/g,yo=mo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(go,(function(e,n,r,i){t.push(r?i.replace(vo,"$1"):n||e)})),t})),bo=yo}));function _o(e){return null==e?"":Be(e)}var So,Eo=S((()=>{Ve(),So=_o}));function ko(e,t){return ze(e)?e:Ni(e,t)?[e]:bo(So(e))}var Co,Mo=S((()=>{De(),Fi(),xo(),Eo(),Co=ko}));function Po(e){if("string"==typeof e||Te(e))return e;var t=e+"";return"0"==t&&1/e==-To?"-0":t}var To,Ao,Ro=S((()=>{Ae(),To=1/0,Ao=Po}));function Io(e,t){for(var n=0,r=(t=Co(t,e)).length;null!=e&&n<r;)e=e[Ao(t[n++])];return n&&n==r?e:void 0}var Oo,zo=S((()=>{Mo(),Ro(),Oo=Io}));function Lo(e,t,n){var r=null==e?void 0:Oo(e,t);return void 0===r?n:r}var Do,No=S((()=>{zo(),Do=Lo}));function Uo(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var jo,Fo=S((()=>{jo=Uo}));function Bo(e){return ze(e)||Ur(e)||!!(Vo&&e&&e[Vo])}var Vo,Ho,Wo=S((()=>{ae(),Fr(),De(),Vo=te?te.isConcatSpreadable:void 0,Ho=Bo}));function Go(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Ho),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?Go(s,t-1,n,r,i):jo(i,s):r||(i[i.length]=s)}return i}var qo,Xo,Ko,Yo=S((()=>{Fo(),Wo(),qo=Go})),Qo=S((()=>{Ei(),Xo=xi(Object.getPrototypeOf,Object),Ko=Xo}));function Zo(e){if(!ke(e)||_e(e)!=Jo)return!1;var t=Ko(e);if(null===t)return!0;var n=ns.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ts.call(n)==rs}var Jo,$o,es,ts,ns,rs,is,as=S((()=>{Se(),Qo(),Ce(),Jo="[object Object]",$o=Function.prototype,es=Object.prototype,ts=$o.toString,ns=es.hasOwnProperty,rs=ts.call(Object),is=Zo}));function os(e){var t=Math[e];return function(e,n){if(e=ot(e),(n=null==n?0:ls(pt(n),292))&&ss(e)){var r=(So(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(So(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ss,ls,us,cs=S((()=>{ie(),mt(),st(),Eo(),ss=$.isFinite,ls=Math.min,us=os}));function ds(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var fs,hs=S((()=>{fs=ds}));function ps(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=ot(n))===n?n:0),void 0!==t&&(t=(t=ot(t))===t?t:0),fs(ot(e),t,n)}var ms,gs=S((()=>{hs(),st(),ms=ps}));function vs(){this.__data__=new Oa,this.size=0}var ys,bs=S((()=>{Da(),ys=vs}));function ws(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var xs,_s=S((()=>{xs=ws}));function Ss(e){return this.__data__.get(e)}var Es,ks=S((()=>{Es=Ss}));function Cs(e){return this.__data__.has(e)}var Ms,Ps=S((()=>{Ms=Cs}));function Ts(e,t){var n=this.__data__;if(n instanceof Oa){var r=n.__data__;if(!La||r.length<As-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oo(r)}return n.set(e,t),this.size=n.size,this}var As,Rs,Is=S((()=>{Da(),Na(),so(),As=200,Rs=Ts}));function Os(e){var t=this.__data__=new Oa(e);this.size=t.size}var zs,Ls=S((()=>{Da(),bs(),_s(),ks(),Ps(),Is(),Os.prototype.clear=ys,Os.prototype.delete=xs,Os.prototype.get=Es,Os.prototype.has=Ms,Os.prototype.set=Rs,zs=Os}));function Ds(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Ns,Us=S((()=>{Ns=Ds}));function js(){return[]}var Fs,Bs,Vs,Hs,Ws,Gs=S((()=>{Fs=js})),qs=S((()=>{Us(),Gs(),Bs=Object.prototype,Vs=Bs.propertyIsEnumerable,Hs=Object.getOwnPropertySymbols,Ws=Hs?function(e){return null==e?[]:(e=Object(e),Ns(Hs(e),(function(t){return Vs.call(e,t)})))}:Fs}));function Xs(e,t,n){var r=t(e);return ze(e)?r:jo(r,n(e))}var Ks,Ys=S((()=>{Fo(),De(),Ks=Xs}));function Qs(e){return Ks(e,Ii,Ws)}var Zs,Js,$s,el,tl,nl,rl,il,al,ol,sl,ll,ul,cl,dl,fl,hl,pl,ml,gl,vl,yl=S((()=>{Ys(),qs(),Oi(),Zs=Qs})),bl=S((()=>{tn(),ie(),Js=Jt($,"DataView"),$s=Js})),wl=S((()=>{tn(),ie(),el=Jt($,"Promise"),tl=el})),xl=S((()=>{tn(),ie(),nl=Jt($,"Set"),rl=nl})),_l=S((()=>{bl(),Na(),wl(),xl(),nn(),Se(),Nt(),il="[object Map]",al="[object Promise]",ol="[object Set]",sl="[object WeakMap]",ll="[object DataView]",ul=Dt($s),cl=Dt(La),dl=Dt(tl),fl=Dt(rl),hl=Dt(en),pl=_e,($s&&pl(new $s(new ArrayBuffer(1)))!=ll||La&&pl(new La)!=il||tl&&pl(tl.resolve())!=al||rl&&pl(new rl)!=ol||en&&pl(new en)!=sl)&&(pl=function(e){var t=_e(e),n="[object Object]"==t?e.constructor:void 0,r=n?Dt(n):"";if(r)switch(r){case ul:return ll;case cl:return il;case dl:return al;case fl:return ol;case hl:return sl}return t}),ml=pl})),Sl=S((()=>{ie(),gl=$.Uint8Array,vl=gl}));function El(e){return this.__data__.set(e,kl),this}var kl,Cl,Ml=S((()=>{kl="__lodash_hash_undefined__",Cl=El}));function Pl(e){return this.__data__.has(e)}var Tl,Al=S((()=>{Tl=Pl}));function Rl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oo;++t<n;)this.add(e[t])}var Il,Ol=S((()=>{so(),Ml(),Al(),Rl.prototype.add=Rl.prototype.push=Cl,Rl.prototype.has=Tl,Il=Rl}));function zl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ll,Dl=S((()=>{Ll=zl}));function Nl(e,t){return e.has(t)}var Ul,jl=S((()=>{Ul=Nl}));function Fl(e,t,n,r,i,a){var o=n&Bl,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&Vl?new Il:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Ll(t,(function(e,t){if(!Ul(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}var Bl,Vl,Hl,Wl=S((()=>{Ol(),Dl(),jl(),Bl=1,Vl=2,Hl=Fl}));function Gl(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var ql,Xl=S((()=>{ql=Gl}));function Kl(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Yl,Ql=S((()=>{Yl=Kl}));function Zl(e,t,n,r,i,a,o){switch(n){case cu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uu:return!(e.byteLength!=t.byteLength||!a(new vl(e),new vl(t)));case eu:case tu:case iu:return er(+e,+t);case nu:return e.name==t.name&&e.message==t.message;case au:case su:return e==t+"";case ru:var s=ql;case ou:var l=r&Jl;if(s||(s=Yl),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=$l,o.set(e,t);var c=Hl(s(e),s(t),r,i,a,o);return o.delete(e),c;case lu:if(fu)return fu.call(e)==fu.call(t)}return!1}var Jl,$l,eu,tu,nu,ru,iu,au,ou,su,lu,uu,cu,du,fu,hu,pu=S((()=>{ae(),Sl(),tr(),Wl(),Xl(),Ql(),Jl=1,$l=2,eu="[object Boolean]",tu="[object Date]",nu="[object Error]",ru="[object Map]",iu="[object Number]",au="[object RegExp]",ou="[object Set]",su="[object String]",lu="[object Symbol]",uu="[object ArrayBuffer]",cu="[object DataView]",du=te?te.prototype:void 0,fu=du?du.valueOf:void 0,hu=Zl}));function mu(e,t,n,r,i,a){var o=n&gu,s=Zs(e),l=s.length;if(l!=Zs(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:yu.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return a.delete(e),a.delete(t),h}var gu,vu,yu,bu,wu=S((()=>{yl(),gu=1,vu=Object.prototype,yu=vu.hasOwnProperty,bu=mu}));function xu(e,t,n,r,i,a){var o=ze(e),s=ze(t),l=o?Eu:ml(e),u=s?Eu:ml(t),c=(l=l==Su?ku:l)==ku,d=(u=u==Su?ku:u)==ku,f=l==u;if(f&&Kr(e)){if(!Kr(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new zs),o||di(e)?Hl(e,t,n,r,i,a):hu(e,t,l,n,r,i,a);if(!(n&_u)){var h=c&&Mu.call(e,"__wrapped__"),p=d&&Mu.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new zs),i(m,g,n,r,a)}}return!!f&&(a||(a=new zs),bu(e,t,n,r,i,a))}var _u,Su,Eu,ku,Cu,Mu,Pu,Tu=S((()=>{Ls(),Wl(),pu(),wu(),_l(),De(),Qr(),pi(),_u=1,Su="[object Arguments]",Eu="[object Array]",ku="[object Object]",Cu=Object.prototype,Mu=Cu.hasOwnProperty,Pu=xu}));function Au(e,t,n,r,i){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!==e&&t!==t:Pu(e,t,n,r,Au,i))}var Ru,Iu=S((()=>{Tu(),Ce(),Ru=Au}));function Ou(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new zs;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?Ru(c,u,zu|Lu,r,d):f))return!1}}return!0}var zu,Lu,Du,Nu=S((()=>{Ls(),Iu(),zu=1,Lu=2,Du=Ou}));function Uu(e){return e===e&&!Je(e)}var ju,Fu=S((()=>{$e(),ju=Uu}));function Bu(e){for(var t=Ii(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ju(i)]}return t}var Vu,Hu=S((()=>{Fu(),Oi(),Vu=Bu}));function Wu(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Gu,qu=S((()=>{Gu=Wu}));function Xu(e){var t=Vu(e);return 1==t.length&&t[0][2]?Gu(t[0][0],t[0][1]):function(n){return n===e||Du(n,e,t)}}var Ku,Yu=S((()=>{Nu(),Hu(),qu(),Ku=Xu}));function Qu(e,t){return null!=e&&t in Object(e)}var Zu,Ju=S((()=>{Zu=Qu}));function $u(e,t,n){for(var r=-1,i=(t=Co(t,e)).length,a=!1;++r<i;){var o=Ao(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&gr(i)&&Kn(o,i)&&(ze(e)||Ur(e))}var ec,tc=S((()=>{Mo(),Fr(),De(),Yn(),vr(),Ro(),ec=$u}));function nc(e,t){return null!=e&&ec(e,t,Zu)}var rc,ic=S((()=>{Ju(),tc(),rc=nc}));function ac(e,t){return Ni(e)&&ju(t)?Gu(Ao(e),t):function(n){var r=Do(n,e);return void 0===r&&r===t?rc(n,e):Ru(t,r,oc|sc)}}var oc,sc,lc,uc=S((()=>{Iu(),No(),ic(),Fi(),Fu(),qu(),Ro(),oc=1,sc=2,lc=ac}));function cc(e){return function(t){return null==t?void 0:t[e]}}var dc,fc=S((()=>{dc=cc}));function hc(e){return function(t){return Oo(t,e)}}var pc,mc=S((()=>{zo(),pc=hc}));function gc(e){return Ni(e)?dc(Ao(e)):pc(e)}var vc,yc=S((()=>{fc(),mc(),Fi(),Ro(),vc=gc}));function bc(e){return"function"==typeof e?e:null==e?vt:"object"==typeof e?ze(e)?lc(e[0],e[1]):Ku(e):vc(e)}var wc,xc=S((()=>{Yu(),uc(),yt(),De(),yc(),wc=bc}));function _c(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var Sc,Ec=S((()=>{Sc=_c}));function kc(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}var Cc,Mc,Pc,Tc=S((()=>{Cc=kc})),Ac=S((()=>{Tc(),Mc=Cc(),Pc=Mc}));function Rc(e,t){return e&&Pc(e,t,Ii)}var Ic,Oc=S((()=>{Ac(),Oi(),Ic=Rc}));function zc(e,t){return function(n,r){if(null==n)return n;if(!br(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}var Lc,Dc,Nc,Uc=S((()=>{wr(),Lc=zc})),jc=S((()=>{Oc(),Uc(),Dc=Lc(Ic),Nc=Dc}));function Fc(e,t,n,r){return Nc(e,(function(e,i,a){t(r,e,n(e),a)})),r}var Bc,Vc=S((()=>{jc(),Bc=Fc}));function Hc(e,t){return function(n,r){var i=ze(n)?Sc:Bc,a=t?t():{};return i(n,e,wc(r,2),a)}}var Wc,Gc,qc=S((()=>{Ec(),Vc(),xc(),De(),Wc=Hc})),Xc=S((()=>{ie(),Gc=function(){return $.Date.now()}}));function Kc(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Yc);function h(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Gc();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Zc(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function v(){var e=Gc(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=ot(t)||0,Je(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Qc(ot(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(Gc())},v}var Yc,Qc,Zc,Jc,$c=S((()=>{$e(),Xc(),st(),Yc="Expected a function",Qc=Math.max,Zc=Math.min,Jc=Kc}));function ed(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var td,nd=S((()=>{td=ed}));function rd(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var id,ad=S((()=>{id=rd}));function od(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pt(n);return i<0&&(i=sd(r+i,0)),Rn(e,wc(t,3),i)}var sd,ld,ud=S((()=>{In(),xc(),mt(),sd=Math.max,ld=od}));function cd(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=pt(n),i=n<0?dd(r+i,0):fd(i,r-1)),Rn(e,wc(t,3),i,!0)}var dd,fd,hd,pd=S((()=>{In(),xc(),mt(),dd=Math.max,fd=Math.min,hd=cd}));function md(e,t){var n=-1,r=br(e)?Array(e.length):[];return Nc(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}var gd,vd=S((()=>{jc(),wr(),gd=md}));function yd(e,t,n){return e>=wd(t,n)&&e<bd(t,n)}var bd,wd,xd,_d=S((()=>{bd=Math.max,wd=Math.min,xd=yd}));function Sd(e,t,n){return t=dt(t),void 0===n?(n=t,t=0):n=dt(n),e=ot(e),xd(e,t,n)}var Ed,kd=S((()=>{_d(),ft(),st(),Ed=Sd}));function Cd(e){return"number"==typeof e&&e==pt(e)}var Md,Pd,Td,Ad=S((()=>{mt(),Md=Cd})),Rd=S((()=>{Jn(),qc(),Pd=Wc((function(e,t,n){Zn(e,n,t)})),Td=Pd}));function Id(e,t){var n={};return t=wc(t,3),Ic(e,(function(e,r,i){Zn(n,r,t(e,r,i))})),n}var Od,zd=S((()=>{Jn(),Oc(),xc(),Od=Id}));function Ld(e,t,n,r){if(!Je(e))return e;for(var i=-1,a=(t=Co(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=Ao(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=Je(c)?c:Kn(t[i+1])?[]:{})}ar(s,l,u),s=s[l]}return e}var Dd,Nd=S((()=>{or(),Mo(),Yn(),$e(),Ro(),Dd=Ld}));function Ud(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var jd,Fd=S((()=>{jd=Ud}));function Bd(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=Te(e),o=void 0!==t,s=null===t,l=t===t,u=Te(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Vd,Hd=S((()=>{Ae(),Vd=Bd}));function Wd(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Vd(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}var Gd,qd=S((()=>{Hd(),Gd=Wd}));function Xd(e,t,n){t=t.length?Ie(t,(function(e){return ze(e)?function(t){return Oo(t,1===e.length?e[0]:e)}:e})):[vt];var r=-1;t=Ie(t,ni(wc));var i=gd(e,(function(e,n,i){return{criteria:Ie(t,(function(t){return t(e)})),index:++r,value:e}}));return jd(i,(function(e,t){return Gd(e,t,n)}))}var Kd,Yd=S((()=>{Le(),zo(),xc(),vd(),Fd(),fi(),qd(),yt(),De(),Kd=Xd}));function Qd(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var Zd,Jd=S((()=>{Zd=Qd}));function $d(e,t,n,r){var i=r?Zd:Fn,a=-1,o=t.length,s=e;for(e===t&&(t=dn(t)),n&&(s=Ie(e,ni(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&tf.call(s,l,1),tf.call(e,l,1);return e}var ef,tf,nf,rf=S((()=>{Le(),Bn(),Jd(),fi(),fn(),ef=Array.prototype,tf=ef.splice,nf=$d}));function af(e,t){return e&&e.length&&t&&t.length?nf(e,t):e}var of,sf,lf,uf,cf,df=S((()=>{rf(),of=af})),ff=S((()=>{hr(),df(),sf=fr(of),lf=sf})),hf=S((()=>{cs(),uf=us("round"),cf=uf}));function pf(e,t,n){return null==e?e:Dd(e,t,n)}var mf,gf,vf,yf,bf,wf,xf=S((()=>{Nd(),mf=pf})),_f=S((()=>{Yo(),Yd(),hr(),Sr(),gf=fr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_r(e,t[0],t[1])?t=[]:n>2&&_r(t[0],t[1],t[2])&&(t=[t[0]]),Kd(e,qo(t,1),[])})),vf=gf})),Sf=S((()=>{xl(),un(),Ql(),yf=1/0,bf=rl&&1/Yl(new rl([,-0]))[1]==yf?function(e){return new rl(e)}:ln,wf=bf}));function Ef(e,t,n){var r=-1,i=Hn,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=td;else if(a>=kf){var u=t?null:wf(e);if(u)return Yl(u);o=!1,i=Ul,l=new Il}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var kf,Cf,Mf=S((()=>{Ol(),Wn(),nd(),jl(),Sf(),Ql(),kf=200,Cf=Ef}));function Pf(e){return e&&e.length?Cf(e):[]}var Tf,Af=S((()=>{Mf(),Tf=Pf})),Rf=S((()=>{gs(),$c(),ud(),kd(),Ad(),as(),ad(),zd(),fo(),hf(),Af()})),If=E(((e,t)=>{var r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))})),Of=E((e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,p(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var i,a={},o=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)x.call(n,i)&&!S.hasOwnProperty(i)&&(a[i]=n[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:_.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,r,i,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,r,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),r.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+M(s=e[u],u);l+=P(s,r,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,r,i,c=a+M(s,u++),o);else if("object"===s)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)}),(function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};e.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},e.Component=g,e.Fragment=r,e.Profiler=a,e.PureComponent=y,e.StrictMode=i,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=_.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)x.call(n,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},e.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=k,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},e.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},e.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(e,t){return R.current.useCallback(e,t)},e.useContext=function(e){return R.current.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e){return R.current.useDeferredValue(e)},e.useEffect=function(e,t){return R.current.useEffect(e,t)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},e.useMemo=function(e,t){return R.current.useMemo(e,t)},e.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},e.useRef=function(e){return R.current.useRef(e)},e.useState=function(e){return R.current.useState(e)},e.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"})),zf=E(((e,t)=>{t.exports=Of()})),Lf=E((e=>{function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s});var a,o,s,l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,I(x);else{var t=n(u);null!==t&&O(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,v(M),M=-1),h=!0;var a=f;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!A());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(w,g.startTime-i),c=!1}return c}finally{d=null,f=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S,E,k=!1,C=null,M=-1,P=5,T=-1;function A(){return!(e.unstable_now()-T<P)}function R(){if(null!==C){var t=e.unstable_now();T=t;var n=!0;try{n=C(!0,t)}finally{n?_():(k=!1,C=null)}}else k=!1}function I(e){C=e,k||(k=!0,_())}function O(t,n){M=g((function(){t(e.unstable_now())}),n)}"function"==typeof y?_=function(){y(R)}:"undefined"!=typeof MessageChannel?(S=new MessageChannel,E=S.port2,S.port1.onmessage=R,_=function(){E.postMessage(null)}):_=function(){g(R,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(M),M=-1):m=!0,O(w,a-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,I(x))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),Df=E(((e,t)=>{t.exports=Lf()})),Nf=E((e=>{var t=zf(),n=Df();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"==typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(d,e)&&(c.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var z,L=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var N=!1;function U(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function j(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return F(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"==typeof(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?J(e,t.type,n):t.hasOwnProperty("defaultValue")&&J(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function J(e,t,n){("number"!==t||q(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $=Array.isArray;function ee(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function te(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if($(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,le,ue=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,_e=null;function Se(e){if(e=vi(e)){if("function"!=typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?_e?_e.push(e):_e=[e]:xe=e}function ke(){if(xe){var e=xe,t=_e;if(_e=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Me(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==_e)&&(Me(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var i=bi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Re,Ie=!1;if(l)try{Re={},Object.defineProperty(Re,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Ie=!1}function Oe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,Le=null,De=!1,Ne=null,Ue={onError:function(e){ze=!0,Le=e}};function je(e,t,n,r,i,a,o,s,l){ze=!1,Le=null,Oe.apply(Ue,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Fe(e)!==e)throw Error(r(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===i)return Ve(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,Ke=n.unstable_requestPaint,Ye=n.unstable_now,Qe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,Je=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,et=n.unstable_LowPriority,tt=n.unstable_IdlePriority,nt=null,rt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ot|0)|0},at=Math.log,ot=Math.LN2;var st=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ut(s):0!==(a&=o)&&(r=ut(a))}else 0!==(o=n&~i)?r=ut(o):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-it(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var bt,wt,xt,_t,St,Et=!1,kt=[],Ct=null,Mt=null,Pt=null,Tt=new Map,At=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function zt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Nt(e,t,n){Dt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Dt(Ct)&&(Ct=null),null!==Mt&&Dt(Mt)&&(Mt=null),null!==Pt&&Dt(Pt)&&(Pt=null),Tt.forEach(Nt),At.forEach(Nt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ut)))}function Ft(e){function t(t){return jt(t,e)}if(0<kt.length){jt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==Mt&&jt(Mt,e),null!==Pt&&jt(Pt,e),Tt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Bt=y.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=vt,a=Bt.transition;Bt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=zt(Ct,e,t,n,r,i),!0;case"dragenter":return Mt=zt(Mt,e,t,n,r,i),!0;case"mouseover":return Pt=zt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,zt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,zt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&bt(a),null===(a=Xt(e,t,n,r))&&Vr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=gi(e=be(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case Je:return 4;case $e:case et:return 16;case tt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Zt=null;function Jt(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(sn),un=L({},sn,{view:0,detail:0}),cn=nn(un),dn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=nn(dn),hn=nn(L({},dn,{dataTransfer:0})),pn=nn(L({},un,{relatedTarget:0})),mn=nn(L({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(L({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return _n}var En=L({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=nn(En),Cn=nn(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=nn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=nn(L({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Tn),Rn=[9,13,27,32],In=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var zn=l&&"TextEvent"in window&&!On,Ln=l&&(!In||On&&8<On&&11>=On),Dn=String.fromCharCode(32),Nn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function qn(e){Dr(e,0)}function Xn(e){if(G(yi(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn,Qn,Zn,Jn=!1;function $n(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Te(qn,t)}}function tr(e,t,n){"focusin"===e?($n(),Gn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&$n()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function rr(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}l&&(l?((Qn="oninput"in document)||((Zn=document.createElement("div")).setAttribute("oninput","return;"),Qn="function"==typeof Zn.oninput),Yn=Qn):Yn=!1,Jn=Yn&&(!document.documentMode||9<document.documentMode));var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==q(r)||("selectionStart"in(r=pr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},_r={};function Sr(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return xr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er,kr,Cr=Sr("animationend"),Mr=Sr("animationiteration"),Pr=Sr("animationstart"),Tr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),o(t,[e])}for(kr=0;kr<Rr.length;kr++)Ir((Er=Rr[kr]).toLowerCase(),"on"+(Er[0].toUpperCase()+Er.slice(1)));Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Pr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,o,s,l,u){if(je.apply(this,arguments),ze){if(!ze)throw Error(r(198));var c=Le;ze=!1,Le=null,De||(De=!0,Ne=c)}}(i,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,u),a=l}}}if(De)throw e=Ne,De=!1,Ne=null,e}function Nr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[jr]){e[jr]=!0,i.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(!(1&t)&&!(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=a,i=be(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=ln,u=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Cr:case Mr:case Pr:l=mn;break;case Tr:l=Pn;break;case"scroll":l=cn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ae(p,f))&&c.push(Hr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=Fe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:yi(l),h=null==u?s:yi(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Gr(h))p++;for(h=0,m=f;m;m=Gr(m))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Vn(s))if(Jn)g=ir;else{g=nr;var v=tr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&J(s,"number",s.value)),v=r?yi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(pr=v,mr=r,gr=null);break;case"focusout":gr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":yr(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=Jt()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Fn=!0)),0<(v=Wr(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!In&&Un(e,t)?(e=Jt(),Zt=Qt=Yt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Dr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Ae(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(r(425))}function Zr(){}var Jr=null,$r=null;function ei(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ti="function"==typeof setTimeout?setTimeout:void 0,ni="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,ii="function"==typeof queueMicrotask?queueMicrotask:"undefined"!=typeof ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ti;function ai(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ft(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,di="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,pi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function gi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[ci])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function bi(e){return e[di]||null}var wi=[],xi=-1;function _i(e){return{current:e}}function Si(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ei(e,t){xi++,wi[xi]=e.current,e.current=t}var ki={},Ci=_i(ki),Mi=_i(!1),Pi=ki;function Ti(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!=(e=e.childContextTypes)}function Ri(){Si(Mi),Si(Ci)}function Ii(e,t,n){if(Ci.current!==ki)throw Error(r(168));Ei(Ci,t),Ei(Mi,n)}function Oi(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,B(e)||"Unknown",a));return L({},n,i)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Ci.current,Ei(Ci,e),Ei(Mi,Mi.current),!0}function Li(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Oi(e,t,Pi),i.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ci),Ei(Ci,e)):Si(Mi),Ei(Mi,n)}var Di=null,Ni=!1,Ui=!1;function ji(e){null===Di?Di=[e]:Di.push(e)}function Fi(){if(!Ui&&null!==Di){Ui=!0;var e=0,t=vt;try{var n=Di;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Ni=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ge(Ze,Fi),i}finally{vt=t,Ui=!1}}return null}var Bi=[],Vi=0,Hi=null,Wi=0,Gi=[],qi=0,Xi=null,Ki=1,Yi="";function Qi(e,t){Bi[Vi++]=Wi,Bi[Vi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[qi++]=Ki,Gi[qi++]=Yi,Gi[qi++]=Xi,Xi=e;var r=Ki;e=Yi;var i=32-it(r)-1;r&=~(1<<i),n+=1;var a=32-it(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-it(t)+i|n<<i|r,Yi=a+e}else Ki=1<<a|n<<i|r,Yi=e}function Ji(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function $i(e){for(;e===Hi;)Hi=Bi[--Vi],Bi[Vi]=null,Wi=Bi[--Vi],Bi[Vi]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null,Ki=Gi[--qi],Gi[qi]=null}var ea=null,ta=null,na=!1,ra=null;function ia(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ea=e,ta=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ea=e,ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Ki,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ea=e,ta=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sa(e){if(na){var t=ta;if(t){var n=t;if(!aa(e,t)){if(oa(e))throw Error(r(418));t=si(n.nextSibling);var i=ea;t&&aa(e,t)?ia(i,n):(e.flags=-4097&e.flags|2,na=!1,ea=e)}}else{if(oa(e))throw Error(r(418));e.flags=-4097&e.flags|2,na=!1,ea=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ea=e}function ua(e){if(e!==ea)return!1;if(!na)return la(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ei(e.type,e.memoizedProps)),t&&(t=ta)){if(oa(e))throw ca(),Error(r(418));for(;t;)ia(e,t),t=si(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ta=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ta=null}}else ta=ea?si(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ta;e;)e=si(e.nextSibling)}function da(){ta=ea=null,na=!1}function fa(e){null===ra?ra=[e]:ra.push(e)}var ha=y.ReactCurrentBatchConfig;function pa(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=_i(null),ga=null,va=null,ya=null;function ba(){ya=va=ga=null}function wa(e){var t=ma.current;Si(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ya=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(ys=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===ga)throw Error(r(308));va=e,ga.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Ea=null;function ka(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ml){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(h,d,f):p))break e;d=L({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var Na=(new t.Component).refs;function Ua(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$l(),i=eu(e),a=Ra(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(tu(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$l(),i=eu(e),a=Ra(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(tu(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$l(),r=eu(e),i=Ra(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(tu(t,e,r,n),Oa(t,e,r))}};function Fa(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function Ba(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"==typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Pi:Ci.current,a=(r=null!=(r=t.contextTypes))?Ti(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Ta(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Pi:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===Na&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&qa(i)===t.type)?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Nu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if($(t)||O(t))return(t=zu(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if($(n)||O(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if($(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}return function l(u,c,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case b:e:{for(var g=d.key,v=c;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){n(u,v.sibling),(c=a(v,d.props.children)).return=u,u=c;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===A&&qa(g)===v.type){n(u,v.sibling),(c=a(v,d.props)).ref=Wa(u,v,d),c.return=u,u=c;break e}n(u,v);break}t(u,v),v=v.sibling}d.type===x?((c=zu(d.props.children,u.mode,m,d.key)).return=u,u=c):((m=Ou(d.type,d.key,d.props,null,u.mode,m)).ref=Wa(u,c,d),m.return=u,u=m)}return s(u);case w:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(u,c.sibling),(c=a(c,d.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=Nu(d,u.mode,m)).return=u,u=c}return s(u);case A:return l(u,c,(v=d._init)(d._payload),m)}if($(d))return function(r,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),na&&Qi(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(r,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return na&&Qi(r,m),u}for(d=i(r,d);m<s.length;m++)null!==(g=p(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),na&&Qi(r,m),u}(u,c,d,m);if(O(d))return function(a,s,l,u){var c=O(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),na&&Qi(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(a,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return na&&Qi(a,g),c}for(m=i(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),na&&Qi(a,g),c}(u,c,d,m);Ga(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(u,c.sibling),(c=a(c,d)).return=u,u=c):(n(u,c),(c=Du(d,u.mode,m)).return=u,u=c),s(u)):n(u,c)}}var Ka=Xa(!0),Ya=Xa(!1),Qa={},Za=_i(Qa),Ja=_i(Qa),$a=_i(Qa);function eo(e){if(e===Qa)throw Error(r(174));return e}function to(e,t){switch(Ei($a,t),Ei(Ja,e),Ei(Za,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function no(){Si(Za),Si(Ja),Si($a)}function ro(e){eo($a.current);var t=eo(Za.current),n=oe(t,e.type);t!==n&&(Ei(Ja,e),Ei(Za,n))}function io(e){Ja.current===e&&(Si(Za),Si(Ja))}var ao=_i(0);function oo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function lo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var uo=y.ReactCurrentDispatcher,co=y.ReactCurrentBatchConfig,fo=0,ho=null,po=null,mo=null,go=!1,vo=!1,yo=0,bo=0;function wo(){throw Error(r(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _o(e,t,n,i,a,o){if(fo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?as:os,e=n(i,a),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(r(301));o+=1,mo=po=null,t.updateQueue=null,uo.current=ss,e=n(i,a)}while(vo)}if(uo.current=is,t=null!==po&&null!==po.next,fo=0,mo=po=ho=null,go=!1,t)throw Error(r(300));return e}function So(){var e=0!==yo;return yo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?ho.memoizedState=mo=e:mo=mo.next=e,mo}function ko(){if(null===po){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=po.next;var t=null===mo?ho.memoizedState:mo.next;if(null!==t)mo=t,po=e;else{if(null===e)throw Error(r(310));e={memoizedState:(po=e).memoizedState,baseState:po.baseState,baseQueue:po.baseQueue,queue:po.queue,next:null},null===mo?ho.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"==typeof t?t(e):t}function Mo(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=po,a=i.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,i=i.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((fo&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,ho.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==o);null===u?s=i:u.next=l,ar(i,t.memoizedState)||(ys=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,ho.lanes|=o,Ll|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=ko(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);ar(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function To(){}function Ao(e,t){var n=ho,i=ko(),a=t(),o=!ar(i.memoizedState,a);if(o&&(i.memoizedState=a,ys=!0),i=i.queue,Vo(Oo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,i,a,t),void 0,null),null===Pl)throw Error(r(349));30&fo||Ro(n,t,a)}return a}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,zo(t)&&Lo(e)}function Oo(e,t,n){return n((function(){zo(t)&&Lo(e)}))}function zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=Ma(e,1);null!==t&&tu(t,e,1,-1)}function Do(e){var t=Eo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=es.bind(null,ho,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return ko().memoizedState}function jo(e,t,n,r){var i=Eo();ho.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==po){var o=po.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}ho.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Bo(e,t){return jo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function Ho(e,t){return Fo(4,2,e,t)}function Wo(e,t){return Fo(4,4,e,t)}function Go(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Ko(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 21&fo?(ar(n,t)||(n=ht(),ho.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function Zo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{vt=n,co.transition=r}}function Jo(){return ko().memoizedState}function $o(e,t,n){var r=eu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ts(e))ns(t,n);else if(null!==(n=Ca(e,t,n,r))){tu(n,e,r,$l()),rs(n,t,r)}}function es(e,t,n){var r=eu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(e))ns(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o)){var l=t.interleaved;return null===l?(i.next=i,ka(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ca(e,t,i,r))&&(tu(n,e,r,i=$l()),rs(n,t,r))}}function ts(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ns(e,t){vo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var is={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},as={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,jo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Do,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ho,a=Eo();if(na){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Pl)throw Error(r(349));30&fo||Ro(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Bo(Oo.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Io.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Pl.identifierPrefix;if(na){var n=Yi;t=":"+t+"R"+(n=(Ki&~(1<<32-it(Ki)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Sa,useCallback:Ko,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Mo,useRef:Uo,useState:function(){return Mo(Co)},useDebugValue:Xo,useDeferredValue:function(e){return Qo(ko(),po.memoizedState,e)},useTransition:function(){return[Mo(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:Ko,useContext:Sa,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Po,useRef:Uo,useState:function(){return Po(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=ko();return null===po?t.memoizedState=e:Qo(t,po.memoizedState,e)},useTransition:function(){return[Po(Co)[0],ko().memoizedState]},useMutableSource:To,useSyncExternalStore:Ao,useId:Jo,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),cs(0,t)},n}function hs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){cs(0,t),"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e)}var vs=y.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ka(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||ys?(na&&n&&Ji(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);131072&e.flags&&(ys=!0)}}return ks(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Il,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Il,Rl),Rl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Il,Rl),Rl|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Il,Rl),Rl|=r;return bs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var a=Ai(n)?Pi:Ci.current;return a=Ti(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||ys?(na&&r&&Ji(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ai(n)){var a=!0;zi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Vs(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Sa(u):u=Ti(t,u=Ai(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Va(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,La(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Mi.current||Pa?("function"==typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(s=Pa||Fa(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:pa(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Ti(t,l=Ai(n)?Pi:Ci.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Va(t,o,r,l),Pa=!1,f=t.memoizedState,o.state=f,La(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Mi.current||Pa?("function"==typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(u=Pa||Fa(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,a,i)}function Ms(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),to(e,t.containerInfo)}function Ts(e,t,n,r,i){return da(),fa(i),t.flags|=256,bs(e,t,n,r),t.child}var As,Rs,Is,Os,zs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var i,a=t.pendingProps,o=ao.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),Ei(ao,1&o),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},1&a||null===s?s=Lu(l,a,0,null):(s.childLanes=0,s.pendingProps=l),e=zu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=zs,e):Ns(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,i=us(Error(r(422))),Us(e,t,s,i)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Lu({mode:"visible",children:i.children},a,0,null),o=zu(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&Ka(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=zs,o);if(!(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,Us(e,t,s,i=us(o=Error(r(419)),i,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(i=Pl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(i.suspendedLanes|s)?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ma(e,a),tu(i,e,a,-1))}return pu(),Us(e,t,s,i=us(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ta=si(a.nextSibling),ea=t,na=!0,ra=null,null!==e&&(Gi[qi++]=Ki,Gi[qi++]=Yi,Gi[qi++]=Xi,Ki=e.id,Yi=e.overflow,Xi=t),t=Ns(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,o,n);if(s){s=a.fallback,l=t.mode,i=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&l||t.child===o?(a=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==i?s=Iu(i,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,a}return e=(s=e.child).sibling,a=Iu(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ns(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&fa(r),Ka(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Fs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),2&(r=ao.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ao,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,a);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ai(t.type)&&Ri(),Gs(t),null;case 3:return i=t.stateNode,no(),Si(Mi),Si(Ci),lo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ra&&(au(ra),ra=null))),Rs(e,t),Gs(t),null;case 5:io(t);var o=eo($a.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return Gs(t),null}if(e=eo(Za.current),ua(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ci]=t,i[di]=s,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",i),Nr("close",i);break;case"iframe":case"object":case"embed":Nr("load",i);break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],i);break;case"source":Nr("error",i);break;case"img":case"image":case"link":Nr("error",i),Nr("load",i);break;case"details":Nr("toggle",i);break;case"input":K(i,s),Nr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",i);break;case"textarea":ne(i,s),Nr("invalid",i)}for(var l in ge(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Qr(i.textContent,u,e),o=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Qr(i.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Nr("scroll",i)}switch(n){case"input":W(i),Z(i,s,!0);break;case"textarea":W(i),ie(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Zr)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ci]=t,e[di]=i,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":Nr("cancel",e),Nr("close",e),o=i;break;case"iframe":case"object":case"embed":Nr("load",e),o=i;break;case"video":case"audio":for(o=0;o<Or.length;o++)Nr(Or[o],e);o=i;break;case"source":Nr("error",e),o=i;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=i;break;case"details":Nr("toggle",e),o=i;break;case"input":K(e,i),o=X(e,i),Nr("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=L({},i,{value:void 0}),Nr("invalid",e);break;case"textarea":ne(e,i),o=te(e,i),Nr("invalid",e)}for(s in ge(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?pe(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&ce(e,c):"number"==typeof c&&ce(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Nr("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":W(e),Z(e,i,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ee(e,!!i.multiple,s,!1):null!=i.defaultValue&&ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(n=eo($a.current),eo(Za.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[ci]=t,(s=i.nodeValue!==n)&&null!==(e=ea))switch(e.tag){case 3:Qr(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ci]=t,t.stateNode=i}return Gs(t),null;case 13:if(Si(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ta&&1&t.mode&&!(128&t.flags))ca(),da(),t.flags|=98560,s=!1;else if(s=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ci]=t}else da(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),s=!1}else null!==ra&&(au(ra),ra=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ao.current?0===Ol&&(Ol=3):pu())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return no(),Rs(e,t),null===e&&Fr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(Si(ao),null===(s=t.memoizedState))return Gs(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Ws(s,!1);else{if(0!==Ol||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=oo(e))){for(t.flags|=128,Ws(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ao,1&ao.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,i=!0,Ws(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!na)return Gs(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,i=!0,Ws(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ao.current,Ei(ao,i?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return cu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?1073741824&Rl&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Xs(e,t){switch($i(t),t.tag){case 1:return Ai(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return no(),Si(Mi),Si(Ci),lo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return io(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return no(),null;case 10:return wa(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(Za.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=te(e,i),r=te(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Nr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,Qs="function"==typeof WeakSet?WeakSet:Set,Zs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){Su(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&$s(t,n,a)}i=i.next}while(i!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[di],delete t[hi],delete t[pi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var ul=null,cl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(nt,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=ul,i=cl;ul=null,dl(e,t,n),cl=i,null!==(ul=r)&&(cl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(cl?(e=ul,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Ft(e)):oi(ul,n.stateNode));break;case 4:r=ul,i=cl,ul=n.stateNode.containerInfo,cl=!0,dl(e,t,n),ul=r,cl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&$s(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Su(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(e,t,n),Ys=r):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,cl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ul)throw Error(r(160));fl(o,s,a),ul=null,cl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Su(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&i){try{tl(3,e,e.return),nl(3,e)}catch(g){Su(e,e.return,g)}try{tl(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&i&&null!==n&&Js(n,n.return);break;case 5:if(pl(t,e),gl(e),512&i&&null!==n&&Js(n,n.return),32&e.flags){var a=e.stateNode;try{ce(a,"")}catch(g){Su(e,e.return,g)}}if(4&i&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(a,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?pe(a,f):"dangerouslySetInnerHTML"===d?ue(a,f):"children"===d?ce(a,f):v(a,d,f,c)}switch(l){case"input":Q(a,o);break;case"textarea":re(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ee(a,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ee(a,!!o.multiple,o.defaultValue,!0):ee(a,!!o.multiple,o.multiple?[]:"",!1))}a[di]=o}catch(g){Su(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Su(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Ye())),4&i&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,pl(t,e),Ys=c):pl(t,e),gl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Js(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Su(i,n,g)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){wl(f);continue}}null!==p?(p.return=h,Zs=p):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=he("display",s))}catch(g){Su(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(t,e),gl(e),4&i&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ce(a,""),i.flags&=-33),ll(e,ol(e),a);break;case 3:case 4:var o=i.stateNode.containerInfo;sl(e,ol(e),o);break;default:throw Error(r(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zs=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Ks;var u=Ys;if(Ks=o,(Ys=l)&&!u)for(Zs=i;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Zs=l):xl(i);for(;null!==a;)Zs=a,yl(a,t,n),a=a.sibling;Zs=i,Ks=s,Ys=u}bl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Zs=a):bl(e)}}function bl(e){for(;null!==Zs;){var t=Zs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ys||nl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ys)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:pa(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Da(t,o,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ft(f)}}}break;default:throw Error(r(163))}Ys||512&t.flags&&rl(t)}catch(h){Su(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var a=t.return;try{rl(t)}catch(l){Su(t,a,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _l,Sl=Math.ceil,El=y.ReactCurrentDispatcher,kl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,Ml=0,Pl=null,Tl=null,Al=0,Rl=0,Il=_i(0),Ol=0,zl=null,Ll=0,Dl=0,Nl=0,Ul=null,jl=null,Fl=0,Bl=1/0,Vl=null,Hl=!1,Wl=null,Gl=null,ql=!1,Xl=null,Kl=0,Yl=0,Ql=null,Zl=-1,Jl=0;function $l(){return 6&Ml?Ye():-1!==Zl?Zl:Zl=Ye()}function eu(e){return 1&e.mode?2&Ml&&0!==Al?Al&-Al:null!==ha.transition?(0===Jl&&(Jl=ht()),Jl):(0!==(e=vt)||(e=void 0===(e=window.event)?16:Kt(e.type)),e):1}function tu(e,t,n,i){if(50<Yl)throw Yl=0,Ql=null,Error(r(185));mt(e,n,i),(!(2&Ml)||e!==Pl)&&(e===Pl&&(!(2&Ml)&&(Dl|=n),4===Ol&&ou(e,Al)),nu(e,i),1===n&&0===Ml&&!(1&t.mode)&&(Bl=Ye()+500,Ni&&Fi()))}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-it(a),s=1<<o,l=i[o];-1===l?(!(s&n)||s&r)&&(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ct(e,e===Pl?Al:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ni=!0,ji(e)}(su.bind(null,e)):ji(su.bind(null,e)),ii((function(){!(6&Ml)&&Fi()})),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=Je;break;case 16:default:n=$e;break;case 536870912:n=tt}n=Pu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Zl=-1,Jl=0,6&Ml)throw Error(r(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=ct(e,e===Pl?Al:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=mu(e,i);else{t=i;var a=Ml;Ml|=2;var o=hu();for((Pl!==e||Al!==t)&&(Vl=null,Bl=Ye()+500,du(e,t));;)try{vu();break}catch(l){fu(e,l)}ba(),El.current=o,Ml=a,null!==Tl?t=0:(Pl=null,Al=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(i=a,t=iu(e,a))),1===t)throw n=zl,du(e,0),ou(e,i),nu(e,Ye()),n;if(6===t)ou(e,i);else{if(a=e.current.alternate,!(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mu(e,i))&&(0!==(o=ft(e))&&(i=o,t=iu(e,o))),1===t))throw n=zl,du(e,0),ou(e,i),nu(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:wu(e,jl,Vl);break;case 3:if(ou(e,i),(130023424&i)===i&&10<(t=Fl+500-Ye())){if(0!==ct(e,0))break;if(((a=e.suspendedLanes)&i)!==i){$l(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ti(wu.bind(null,e,jl,Vl),t);break}wu(e,jl,Vl);break;case 4:if(ou(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-it(i);o=1<<s,(s=t[s])>a&&(a=s),i&=~o}if(i=a,10<(i=(120>(i=Ye()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ti(wu.bind(null,e,jl,Vl),i);break}wu(e,jl,Vl);break;default:throw Error(r(329))}}}return nu(e,Ye()),e.callbackNode===n?ru.bind(null,e):null}function iu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=jl,jl=n,null!==t&&au(t)),e}function au(e){null===jl?jl=e:jl.push.apply(jl,e)}function ou(e,t){for(t&=~Nl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(6&Ml)throw Error(r(327));xu();var t=ct(e,0);if(!(1&t))return nu(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=iu(e,i))}if(1===n)throw n=zl,du(e,0),ou(e,t),nu(e,Ye()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,jl,Vl),nu(e,Ye()),null}function lu(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Bl=Ye()+500,Ni&&Fi())}}function uu(e){null!==Xl&&0===Xl.tag&&!(6&Ml)&&xu();var t=Ml;Ml|=1;var n=Cl.transition,r=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=r,Cl.transition=n,!(6&(Ml=t))&&Fi()}}function cu(){Rl=Il.current,Si(Il)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ni(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch($i(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:no(),Si(Mi),Si(Ci),lo();break;case 5:io(r);break;case 4:no();break;case 13:case 19:Si(ao);break;case 10:wa(r.type._context);break;case 22:case 23:cu()}n=n.return}if(Pl=e,Tl=e=Iu(e.current,null),Al=Rl=t,Ol=0,zl=null,Nl=Dl=Ll=0,jl=Ul=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function fu(e,t){for(;;){var n=Tl;try{if(ba(),uo.current=is,go){for(var i=ho.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}go=!1}if(fo=0,mo=po=ho=null,vo=!1,yo=0,kl.current=null,null===n||null===n.return){Ol=1,zl=t,Tl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ps(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){ps(o,c,t),pu();break e}u=Error(r(426))}else if(na&&1&l.mode){var v=ms(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),gs(v,s,l,0,t),fa(ls(u,l));break e}}o=u=ls(u,l),4!==Ol&&(Ol=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,fs(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(!(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,hs(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hu(){var e=El.current;return El.current=is,null===e?is:e}function pu(){(0===Ol||3===Ol||2===Ol)&&(Ol=4),null===Pl||!(268435455&Ll)&&!(268435455&Dl)||ou(Pl,Al)}function mu(e,t){var n=Ml;Ml|=2;var i=hu();for((Pl!==e||Al!==t)&&(Vl=null,du(e,t));;)try{gu();break}catch(a){fu(e,a)}if(ba(),Ml=n,El.current=i,null!==Tl)throw Error(r(261));return Pl=null,Al=0,Ol}function gu(){for(;null!==Tl;)yu(Tl)}function vu(){for(;null!==Tl&&!Xe();)yu(Tl)}function yu(e){var t=_l(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bu(e):Tl=t,kl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qs(n,t,Rl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wu(e,t,n){var i=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,i){do{xu()}while(null!==Xl);if(6&Ml)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-it(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pl&&(Tl=Pl=null,Al=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,Pu($e,(function(){return xu(),null}))),o=0!==(15990&n.flags),15990&n.subtreeFlags||o){o=Cl.transition,Cl.transition=null;var s=vt;vt=1;var l=Ml;Ml|=4,kl.current=null,function(e,t){if(Jr=Vt,dr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===o&&++d===i&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for($r={focusedElem:e,selectionRange:n},Vt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:pa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(x){Su(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=el,el=!1}(e,n),ml(n,e),fr($r),Vt=!!Jr,$r=Jr=null,e.current=n,vl(n,e,a),Ke(),Ml=l,vt=s,Cl.transition=o}else e.current=n;if(ql&&(ql=!1,Xl=e,Kl=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nu(e,Ye()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;1&Kl&&0!==e.tag&&xu(),o=e.pendingLanes,1&o?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Fi()}(e,t,n,i)}finally{Cl.transition=a,vt=i}return null}function xu(){if(null!==Xl){var e=yt(Kl),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Xl)var i=!1;else{if(e=Xl,Xl=null,Kl=0,6&Ml)throw Error(r(331));var a=Ml;for(Ml|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(16&Zs.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zs=c;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:tl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var h=(d=Zs).sibling,p=d.return;if(il(d),d===c){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(2048&(o=Zs).flags)switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(2048&(l=Zs).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(_){Su(l,l.return,_)}if(l===s){Zs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Zs=x;break e}Zs=l.return}}if(Ml=a,Fi(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(nt,e)}catch(_){}i=!0}return i}finally{vt=n,Cl.transition=t}}return!1}function _u(e,t,n){e=Ia(e,t=fs(0,t=ls(n,t),1),1),t=$l(),null!==e&&(mt(e,1,t),nu(e,t))}function Su(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ia(t,e=hs(t,e=ls(n,e),1),1),e=$l(),null!==t&&(mt(t,1,e),nu(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$l(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>Ye()-Fl?du(e,0):Nl|=n),nu(e,t)}function ku(e,t){0===t&&(1&e.mode?(t=lt,!(130023424&(lt<<=1))&&(lt=4194304)):t=1);var n=$l();null!==(e=Ma(e,t))&&(mt(e,t,n),nu(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Mu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),ku(e,n)}function Pu(e,t){return Ge(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Tu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Ru(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return zu(n.children,a,o,t);case _:s=8,a|=8;break;case S:return(e=Au(12,n,t,2|a)).elementType=S,e.lanes=o,e;case M:return(e=Au(13,n,t,a)).elementType=M,e.lanes=o,e;case P:return(e=Au(19,n,t,a)).elementType=P,e.lanes=o,e;case R:return Lu(n,a,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case C:s=11;break e;case T:s=14;break e;case A:s=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Au(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function zu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Nu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,a,o,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Au(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Fu(e){if(!e)return ki;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Oi(e,n,t)}return t}function Bu(e,t,n,r,i,a,o,s,l){return(e=ju(n,r,!0,e,0,a,0,s,l)).context=Fu(null),n=e.current,(a=Ra(r=$l(),i=eu(n))).callback=null!=t?t:null,Ia(n,a,i),e.current.lanes=i,mt(e,i,r),nu(e,r),e}function Vu(e,t,n,r){var i=t.current,a=$l(),o=eu(i);return n=Fu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(tu(e,i,o,a),Oa(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ys=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ro(t);break;case 1:Ai(t.type)&&zi(t);break;case 4:to(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ao,1&ao.current),t.flags|=128,null):n&t.child.childLanes?Ds(e,t,n):(Ei(ao,1&ao.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,na&&1048576&t.flags&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vs(e,t),e=t.pendingProps;var a=Ti(t,Ci.current);_a(t,n),a=_o(null,t,i,e,a,n);var o=So();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(i)?(o=!0,zi(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ta(t),a.updater=ja,t.stateNode=a,a._reactInternals=t,Ha(t,i,e,n),t=Ms(null,t,i,!0,o,n)):(t.tag=0,na&&o&&Ji(t),bs(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=pa(i,e),a){case 0:t=ks(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=ws(null,t,i,e,n);break e;case 14:t=xs(null,t,i,pa(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,ks(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 1:return i=t.type,a=t.pendingProps,Cs(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 3:e:{if(Ps(t),null===e)throw Error(r(387));i=t.pendingProps,a=(o=t.memoizedState).element,Aa(e,t),La(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,i,n,a=ls(Error(r(423)),t));break e}if(i!==a){t=Ts(e,t,i,n,a=ls(Error(r(424)),t));break e}for(ta=si(t.stateNode.containerInfo.firstChild),ea=t,na=!0,ra=null,n=Ya(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===a){t=Hs(e,t,n);break e}bs(e,t,i,n)}t=t.child}return t;case 5:return ro(t),null===e&&sa(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ei(i,a)?s=null:null!==o&&ei(i,o)&&(t.flags|=32),Es(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&sa(t),null;case 13:return Ds(e,t,n);case 4:return to(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ka(t,null,i,n):bs(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,ws(e,t,i,a=t.elementType===i?a:pa(i,a),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ei(ma,i._currentValue),i._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===a.children&&!Mi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===o.tag){(u=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,_a(t,n),i=i(a=Sa(a)),t.flags|=1,bs(e,t,i,n),t.child;case 14:return a=pa(i=t.type,t.pendingProps),xs(e,t,i,a=pa(i.type,a),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:pa(i,a),Vs(e,t),t.tag=1,Ai(i)?(e=!0,zi(t)):e=!1,_a(t,n),Ba(t,i,a),Ha(t,i,a,n),Ms(null,t,i,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(r(156,t.tag))};var qu="function"==typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function Ju(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}Vu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Hu(o);a.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[fi]=o.current,Fr(8===e.nodeType?e.parentNode:e),uu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[fi]=l.current,Fr(8===e.nodeType?e.parentNode:e),uu((function(){Vu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}Ku.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Vu(e,t,null,null)},Ku.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){Vu(null,e,null,null)})),t[fi]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),nu(t,Ye()),!(6&Ml)&&(Bl=Ye()+500,Fi()))}break;case 13:uu((function(){var t=Ma(e,1);if(null!==t){var n=$l();tu(t,e,1,n)}})),Gu(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)tu(t,e,134217728,$l());Gu(e,134217728)}},xt=function(e){if(13===e.tag){var t=eu(e),n=Ma(e,t);if(null!==n)tu(n,e,t,$l());Gu(e,t)}},_t=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=bi(i);if(!a)throw Error(r(90));G(i),Q(i,a)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ee(e,!!n.multiple,t,!1)}},Ce=lu,Me=uu;var $u,ec={usingClientEntryPoint:!1,Events:[vi,yi,bi,Ee,ke,lu]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(!($u=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&$u.supportsFiber))try{nt=$u.inject(nc),rt=$u}catch(le){}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(r(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},e.createRoot=function(e,t){if(!Yu(e))throw Error(r(299));var n=!1,i="",a=qu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,i,a),e[fi]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Xu(t)},e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=null===(e=He(t))?null:e.stateNode},e.flushSync=function(e){return uu(e)},e.hydrate=function(e,t,n){if(!Qu(t))throw Error(r(200));return Ju(null,e,t,!0,n)},e.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,o="",s=qu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,a,0,o,s),e[fi]=t.current,Fr(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ku(t)},e.render=function(e,t,n){if(!Qu(t))throw Error(r(200));return Ju(null,e,t,!1,n)},e.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(r(40));return!!e._reactRootContainer&&(uu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},e.unstable_batchedUpdates=lu,e.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qu(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Ju(e,t,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"})),Uf=E(((e,t)=>{(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(tQ){console.error(tQ)}})(),t.exports=Nf()}));function jf(e,t,n){let r=(0,Hf.useCallback)(e,t),i=(0,Hf.useRef)(null);i.current?i.current.set(r):i.current=new Bf.Atom(r);let a=(0,Hf.useRef)(null);return a.current||(a.current=(0,Bf.prism)((()=>i.current.prism.getValue()()))),Ff(a.current,n)}function Ff(e,t){var n;let r=function(e){let[,t]=(0,Hf.useState)(0);return(0,Hf.useCallback)((()=>{t((e=>e+1))}),[])}(),i=(0,Hf.useRef)(void 0);i.current||(Xf++,i.current={order:Xf,runUpdate:()=>{i.current.unmounted||r()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var e;Gf&&(null==(e=i.current.debug)||e.history.push("queueUpdate()")),Zf(i.current)},untap:e.onStale((()=>{Gf&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()}))},Gf&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,Hf.useLayoutEffect)((()=>function(){i.current.unmounted=!0,i.current.untap(),$f(i.current)}),[]),$f(i.current);let a=i.current.der.getValue();return i.current.lastValue=a,Gf&&(null==(n=i.current.debug)||n.history.push("rendered")),a}var Bf,Vf,Hf,Wf,Gf,qf,Xf,Kf,Yf,Qf,Zf,Jf,$f,eh=S((()=>{Bf=n(5194),Rf(),Vf=M(If()),Hf=M(zf()),Wf=M(Uf()),Gf=!1,qf=(e,t)=>jf((()=>(0,Bf.val)(e)),[e],t),Xf=0,Kf=[],Yf=new Set,Qf=!1,Zf=e=>{Jf(e),Qf||(Qf=!0,(0,Vf.default)((()=>{(0,Wf.unstable_batchedUpdates)((function(){for(var e,t;Kf.length>0;){let r,i=Kf.shift();Yf.delete(i),Gf&&(null==(e=i.debug)||e.history.push("queue reached"));try{r=i.der.getValue()}catch(n){Gf&&(null==(t=i.debug)||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(n),i.runUpdate();continue}r!==i.lastValue&&(i.lastValue=r,i.runUpdate())}Qf=!1}),1)})))},Jf=e=>{if(!Yf.has(e))if(Yf.add(e),0===Kf.length)Kf.push(e);else{let t=ld(Kf,(t=>t.order>=e.order));-1===t?Kf.push(e):Kf[t].order>e.order&&Kf.splice(t,0,e)}},$f=e=>{if(!Yf.has(e))return;Yf.delete(e);let t=ld(Kf,(t=>t===e));Kf.splice(t,1)}})),th=E((e=>{var t,n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,m=60122,g=60117,v=60129,y=60131;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}"function"==typeof Symbol&&Symbol.for&&(t=Symbol.for,n=t("react.element"),r=t("react.portal"),i=t("react.fragment"),a=t("react.strict_mode"),o=t("react.profiler"),s=t("react.provider"),l=t("react.context"),u=t("react.forward_ref"),c=t("react.suspense"),d=t("react.suspense_list"),f=t("react.memo"),h=t("react.lazy"),p=t("react.block"),m=t("react.server.block"),g=t("react.fundamental"),v=t("react.debug_trace_mode"),y=t("react.legacy_hidden"));var w=s,x=n,_=u,S=i,E=h,k=f,C=r,M=o,P=a,T=c;e.ContextConsumer=l,e.ContextProvider=w,e.Element=x,e.ForwardRef=_,e.Fragment=S,e.Lazy=E,e.Memo=k,e.Portal=C,e.Profiler=M,e.StrictMode=P,e.Suspense=T,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(e){return b(e)===l},e.isContextProvider=function(e){return b(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return b(e)===u},e.isFragment=function(e){return b(e)===i},e.isLazy=function(e){return b(e)===h},e.isMemo=function(e){return b(e)===f},e.isPortal=function(e){return b(e)===r},e.isProfiler=function(e){return b(e)===o},e.isStrictMode=function(e){return b(e)===a},e.isSuspense=function(e){return b(e)===c},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===v||e===a||e===c||e===d||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===p||e[0]===m)},e.typeOf=b})),nh=E(((e,t)=>{t.exports=th()})),rh=E(((e,t)=>{t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}}));function ih(e){function t(e,r,l,u,f){for(var h,p,m,g,w,_=0,S=0,E=0,k=0,C=0,I=0,z=m=h=0,D=0,N=0,U=0,j=0,F=l.length,B=F-1,V="",H="",W="",G="";D<F;){if(p=l.charCodeAt(D),D===B&&S+k+E+_!==0&&(0!==S&&(p=47===S?10:47),k=E=_=0,F++,B++),S+k+E+_===0){if(D===B&&(0<N&&(V=V.replace(d,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(D)}p=59}switch(p){case 123:for(h=(V=V.trim()).charCodeAt(0),m=1,j=++D;D<F;){switch(p=l.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(D+1)){case 42:case 47:e:{for(z=D+1;z<B;++z)switch(l.charCodeAt(z)){case 47:if(42===p&&42===l.charCodeAt(z-1)&&D+2!==z){D=z+1;break e}break;case 10:if(47===p){D=z+1;break e}}D=z}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<B&&l.charCodeAt(D)!==p;);}if(0===m)break;D++}if(64===(m=l.substring(j,D),0===h&&(h=(V=V.replace(c,"").trim()).charCodeAt(0)),h)){switch(0<N&&(V=V.replace(d,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=R}if(j=(m=t(r,N,m,p,f+1)).length,0<O&&(w=s(3,m,N=n(R,V,U),r,P,M,j,p,f,u),V=N.join(""),void 0!==w&&0===(j=(m=w.trim()).length)&&(p=0,m="")),0<j)switch(p){case 115:V=V.replace(x,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,U),m,u,f+1);W+=m,m=U=N=z=h=0,V="",p=l.charCodeAt(++D);break;case 125:case 59:if(1<(j=(V=(0<N?V.replace(d,""):V).trim()).length))switch(0===z&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(j=(V=V.replace(" ",":")).length),0<O&&void 0!==(w=s(1,V,r,e,P,M,H.length,u,f,u))&&0===(j=(V=w.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),p=V.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){G+=V+l.charAt(D);break}default:58!==V.charCodeAt(j-1)&&(H+=i(V,h,p,V.charCodeAt(2)))}U=N=z=h=0,V="",p=l.charCodeAt(++D)}}switch(p){case 13:case 10:47===S?S=0:1+h===0&&107!==u&&0<V.length&&(N=1,V+="\0"),0<O*L&&s(0,V,r,e,P,M,H.length,u,f,u),M=1,P++;break;case 59:case 125:if(S+k+E+_===0){M++;break}default:switch(M++,g=l.charAt(D),p){case 9:case 32:if(k+_+S===0)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:k+S+_===0&&(N=U=1,g="\f"+g);break;case 108:if(k+S+_+T===0&&0<z)switch(D-z){case 2:112===C&&58===l.charCodeAt(D-3)&&(T=C);case 8:111===I&&(T=I)}break;case 58:k+S+_===0&&(z=D);break;case 44:S+E+k+_===0&&(N=1,g+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:k+S+E===0&&_++;break;case 93:k+S+E===0&&_--;break;case 41:k+S+_===0&&E--;break;case 40:if(k+S+_===0){if(0===h)if(2*C+3*I===533);else h=1;E++}break;case 64:S+E+k+_+z+m===0&&(m=1);break;case 42:case 47:if(!(0<k+_+E))switch(S){case 0:switch(2*p+3*l.charCodeAt(D+1)){case 235:S=47;break;case 220:j=D,S=42}break;case 42:47===p&&42===C&&j+2!==D&&(33===l.charCodeAt(j+2)&&(H+=l.substring(j,D+1)),g="",S=0)}}0===S&&(V+=g)}I=C,C=p,D++}if(0<(j=H.length)){if(N=r,0<O&&(void 0!==(w=s(2,H,N,e,P,M,j,u,f,u))&&0===(H=w).length))return G+H+W;if(H=N.join(",")+"{"+H+"}",A*T!==0){switch(2!==A||a(H,2)||(T=0),T){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}T=0}}return G+H+W}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===A||2===A&&a(l,1)?"-webkit-"+l+l:l}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(w,"tb");break;case 232:l=o.replace(w,"tb-rl");break;case 220:l=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,n+r===211&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),z(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,c){for(var d,f=0,h=t;f<O;++f)switch(d=I[f].call(u,e,h,n,r,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(z=null,e?"function"!=typeof e?A=1:(A=2,z=e):A=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,P,M,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,P,M,a.length,0,0,0))&&(a=i)),T=0,M=P=1,a}var c=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,M=1,P=1,T=0,A=1,R=[],I=[],O=0,z=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:O=I.length=0;break;default:if("function"==typeof t)I[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},u.set=l,void 0!==e&&l(e),u}var ah,oh,sh=S((()=>{ah=ih})),lh=S((()=>{oh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}));function uh(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ch,dh,fh,hh,ph=S((()=>{ch=uh})),mh=S((()=>{ph(),dh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fh=ch((function(e){return dh.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),hh=fh})),gh=E((e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case i:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case p:case s:return e;default:return t}}case r:return t}}}function x(e){return w(e)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=l,e.ContextProvider=s,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=m,e.Memo=p,e.Portal=r,e.Profiler=o,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(e){return x(e)||w(e)===u},e.isConcurrentMode=x,e.isContextConsumer=function(e){return w(e)===l},e.isContextProvider=function(e){return w(e)===s},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return w(e)===d},e.isFragment=function(e){return w(e)===i},e.isLazy=function(e){return w(e)===m},e.isMemo=function(e){return w(e)===p},e.isPortal=function(e){return w(e)===r},e.isProfiler=function(e){return w(e)===o},e.isStrictMode=function(e){return w(e)===a},e.isSuspense=function(e){return w(e)===f},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},e.typeOf=w})),vh=E(((e,t)=>{t.exports=gh()})),yh=E(((e,t)=>{var n=vh(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?a:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var o=u(n);c&&(o=o.concat(c(n)));for(var p=s(t),m=s(n),g=0;g<o.length;++g){var v=o[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!p||!p[v])){var y=d(n,v);try{l(t,v,y)}catch(b){}}}}return t}}));function bh(){return(bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wh(e){return"function"==typeof e}function xh(e){return e.displayName||e.name||"Component"}function _h(e){return e&&"string"==typeof e.styledComponentId}function Sh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function Eh(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=vp(t%52)+n;return(vp(t%52)+n).replace(gp,"$1-$2")}function kh(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(wh(n)&&!_h(n))return!1}return!0}function Ch(e){var t,n,r,i,a=void 0===e?qh:e,o=a.options,s=void 0===o?qh:o,l=a.plugins,u=void 0===l?Gh:l,c=new ah(s),d=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,a,o,s,l,u,c,d){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&-1!==Sp.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(_p,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},f,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=u.length?u.reduce((function(e,t){return t.name||Sh(15),yp(e,t.name)}),5381).toString():"",p}function Mh(){return(0,Fh.useContext)(Ep)||Cp}function Ph(){return(0,Fh.useContext)(kp)||Mp}function Th(e){var t=(0,Fh.useState)(e.stylisPlugins),n=t[0],r=t[1],i=Mh(),a=(0,Fh.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,Fh.useMemo)((function(){return Ch({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,Fh.useEffect)((function(){(0,Bh.default)(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),Fh.default.createElement(Ep.Provider,{value:a},Fh.default.createElement(kp.Provider,{value:o},e.children))}function Ah(e){return Tp.test(e)?e.replace(Ap,Ip).replace(Rp,"-ms-"):e}function Rh(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Rh(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Op(e)?"":_h(e)?"."+e.styledComponentId:wh(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Rh(e(t),t,n,r):e instanceof Pp?n?(e.inject(n,r),e.getName(r)):e:Wh(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Op(t[o])&&(Array.isArray(t[o])&&t[o].isCss||wh(t[o])?a.push(Ah(o)+":",t[o],";"):Wh(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ah(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in oh||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}function Ih(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wh(e)||Wh(e)?zp(Rh(Hh(Gh,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:zp(Rh(Hh(e,n)))}function Oh(e){return e.replace(Dp,"-").replace(Np,"")}function zh(e){return"string"==typeof e&&!0}function Lh(e,t,n){var r=e[n];jp(t)&&jp(r)?Dh(r,t):e[n]=t}function Dh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(jp(o))for(var s in o)Fp(s)&&Lh(e,o[s],s)}return e}function Nh(e,t,n){var r,i=_h(e),a=!zh(e),o=t.attrs,s=void 0===o?Gh:o,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Oh(e);Vp[n]=(Vp[n]||0)+1;var r=n+"-"+Up("5.3.11"+n+Vp[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,d=void 0===c?zh(r=e)?"styled."+r:"Styled("+xh(r)+")":c,f=t.displayName&&t.componentId?Oh(t.displayName)+"-"+t.componentId:t.componentId||u,h=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new xp(n,f,i?e.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,u=e.styledComponentId,c=e.target,d=function(e,t,n){void 0===e&&(e=qh);var r=bh({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in wh(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Lp(t,(0,Fh.useContext)(Bp),o)||qh,t,i),f=d[0],h=d[1],p=function(e,t,n,r){var i=Mh(),a=Ph();return t?e.generateAndInjectStyles(qh,i,a):e.generateAndInjectStyles(n,i,a)}(a,r,f),m=n,g=h.$as||t.$as||h.as||t.as||c,v=zh(g),y=h!==t?bh({},t,{},h):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(l?l(w,hh,g):!v||hh(w))&&(b[w]=y[w]));return t.style&&h.style!==t.style&&(b.style=bh({},t.style,{},h.style)),b.className=Array.prototype.concat(s,u,p!==u?p:null,t.className,h.className).filter(Boolean).join(" "),b.ref=m,(0,Fh.createElement)(g,b)}(m,e,t,v)};return y.displayName=d,(m=Fh.default.forwardRef(y)).attrs=h,m.componentStyle=g,m.displayName=d,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Gh,m.styledComponentId=f,m.target=i?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(zh(e)?e:Oh(xh(e)));return Nh(e,bh({},i,{attrs:h,componentId:a}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Dh({},e.defaultProps,t):t}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&(0,Vh.default)(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}function Uh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ih.apply(void 0,[e].concat(n)),a="sc-global-"+Up(JSON.stringify(i)),o=new Wp(i,a);function s(e){var t=Mh(),n=Ph(),r=(0,Fh.useContext)(Bp),i=(0,Fh.useRef)(t.allocateGSInstance(a)).current;return t.server&&l(i,e,t,r,n),(0,Fh.useLayoutEffect)((function(){if(!t.server)return l(i,e,t,r,n),function(){return o.removeStyles(i,t)}}),[i,e,t,r,n]),null}function l(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,Qh,n,i);else{var a=bh({},t,{theme:Lp(t,r,s.defaultProps)});o.renderStyles(e,a,n,i)}}return Fh.default.memo(s)}var jh,Fh,Bh,Vh,Hh,Wh,Gh,qh,Xh,Kh,Yh,Qh,Zh,Jh,$h,ep,tp,np,rp,ip,ap,op,sp,lp,up,cp,dp,fp,hp,pp,mp,gp,vp,yp,bp,wp,xp,_p,Sp,Ep,kp,Cp,Mp,Pp,Tp,Ap,Rp,Ip,Op,zp,Lp,Dp,Np,Up,jp,Fp,Bp,Vp,Hp,Wp,Gp,qp=S((()=>{jh=M(nh()),Fh=M(zf()),Bh=M(rh()),sh(),lh(),mh(),Vh=M(yh()),Hh=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Wh=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,jh.typeOf)(e)},Gh=Object.freeze([]),qh=Object.freeze({}),Xh="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Kh="undefined"!=typeof window&&"HTMLElement"in window,Yh=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&"false"!=={NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/streamiverse-landing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Qh={},Zh=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Sh(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Jh=new Map,$h=new Map,ep=1,tp=function(e){if(Jh.has(e))return Jh.get(e);for(;$h.has(ep);)ep++;var t=ep++;return Jh.set(e,t),$h.set(t,e),t},np=function(e){return $h.get(e)},rp=function(e,t){t>=ep&&(ep=t+1),Jh.set(e,t),$h.set(t,e)},ip="style["+Xh+'][data-styled-version="5.3.11"]',ap=new RegExp("^"+Xh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),op=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},sp=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(ap);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(rp(u,l),op(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},lp=function(){return n.nc},up=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Xh))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Xh,"active"),r.setAttribute("data-styled-version","5.3.11");var o=lp();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},cp=function(){function e(e){var t=this.element=up(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Sh(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),dp=function(){function e(e){var t=this.element=up(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),fp=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),hp=Kh,pp={isServer:!Kh,useCSSOMInjection:!Yh},mp=function(){function e(e,t,n){void 0===e&&(e=qh),void 0===t&&(t={}),this.options=bh({},pp,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Kh&&hp&&(hp=!1,function(e){for(var t=document.querySelectorAll(ip),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Xh)&&(sp(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return tp(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(bh({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new fp(i):r?new cp(i):new dp(i),new Zh(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(tp(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(tp(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(tp(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=np(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=Xh+".g"+i+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),gp=/(a)(d)/gi,vp=function(e){return String.fromCharCode(e+(e>25?39:97))},yp=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wp=(bp=function(e){return yp(5381,e)})("5.3.11"),xp=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&kh(e),this.componentId=t,this.baseHash=yp(wp,t),this.baseStyle=n,mp.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Rh(this.rules,e,t,n).join(""),o=Eh(yp(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=yp(this.baseHash,n.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var h=Rh(f,e,t,n),p=Array.isArray(h)?h.join(""):h;u=yp(u,p+d),c+=p}}if(c){var m=Eh(u>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),_p=/^\s*\/\/.*$/gm,Sp=[":","[",".","#"],Ep=Fh.default.createContext(),Ep.Consumer,(kp=Fh.default.createContext()).Consumer,Cp=new mp,Mp=Ch(),Pp=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Mp);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Sh(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Mp),this.name+e.hash},e}(),Tp=/([A-Z])/,Ap=/([A-Z])/g,Rp=/^ms-/,Ip=function(e){return"-"+e.toLowerCase()},Op=function(e){return null==e||!1===e||""===e},zp=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Lp=function(e,t,n){return void 0===n&&(n=qh),e.theme!==n.theme&&e.theme||t||n.theme},Dp=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Np=/(^-|-$)/g,Up=function(e){return Eh(bp(e)>>>0)},jp=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Fp=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e},Bp=Fh.default.createContext(),Bp.Consumer,Vp={},Hp=function(e){return function e(t,n,r){if(void 0===r&&(r=qh),!(0,jh.isValidElementType)(n))return Sh(1,String(n));var i=function(){return t(n,r,Ih.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,bh({},r,{},i))},i.attrs=function(i){return e(t,n,bh({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Nh,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Hp[e]=Hp(e)})),Wp=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=kh(e),mp.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Rh(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&mp.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}(),function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=lp();return"<style "+[n&&'nonce="'+n+'"',Xh+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Sh(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Sh(2);var n=((t={})[Xh]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=lp();return r&&(n.nonce=r),[Fh.default.createElement("style",bh({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new mp({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?Sh(2):Fh.default.createElement(Th,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Sh(3)},e}(),Gp=Hp}));function Xp(){return Xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(this,arguments)}var Kp=S((()=>{}));var Yp=S((()=>{}));function Qp(e,t){return(Qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zp=S((()=>{}));var Jp=S((()=>{Zp()}));function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var em=S((()=>{}));var tm=S((()=>{}));var nm=S((()=>{}));function rm(e,t,n){return(rm=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qp(i,n.prototype),i}).apply(null,arguments)}var im=S((()=>{Zp(),nm()}));function am(e){var t="function"==typeof Map?new Map:void 0;return am=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return rm(e,arguments,$p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qp(n,e)},am(e)}var om=S((()=>{em(),Zp(),tm(),im()})),sm=S((()=>{}));function lm(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(t)}));var r=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===r?""+e+t:r}function um(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1],o=void 0===a?i:a,s=n[2],l=void 0===s?i:s,u=n[3];return function(e,t){for(var n={},r=0;r<t.length;r+=1)(t[r]||0===t[r])&&(n[lm(e,Rm[r])]=t[r]);return n}(e,[i,o,l,void 0===u?o:u])}function cm(e){return Math.round(255*e)}function dm(e,t,n){return cm(e)+","+cm(t)+","+cm(n)}function fm(e,t,n,r){if(void 0===r&&(r=dm),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=a,l=o):i>=1&&i<2?(s=o,l=a):i>=2&&i<3?(l=a,u=o):i>=3&&i<4?(l=o,u=a):i>=4&&i<5?(s=o,u=a):i>=5&&i<6&&(s=a,u=o);var c=n-a/2;return r(s+c,l+c,u+c)}function hm(e){if("string"!=typeof e)throw new Am(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Im[t]?"#"+Im[t]:e}(e);if(t.match(Om))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(zm)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Lm))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Dm)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Nm.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=Um.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])};var o=jm.exec(t);if(o){var s="rgb("+fm(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",l=Nm.exec(s);if(!l)throw new Am(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var u=Fm.exec(t.substring(0,50));if(u){var c="rgb("+fm(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",d=Nm.exec(c);if(!d)throw new Am(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+u[4])}}throw new Am(5)}function pm(e){return function(e){var t=e.red/255,n=e.green/255,r=e.blue/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s,l=i-a,u=o>.5?l/(2-i-a):l/(i+a);switch(i){case t:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-t)/l+2;break;default:s=(t-n)/l+4}return s*=60,void 0!==e.alpha?{hue:s,saturation:u,lightness:o,alpha:e.alpha}:{hue:s,saturation:u,lightness:o}}(hm(e))}function mm(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function gm(e){return mm(Math.round(255*e))}function vm(e,t,n){return Bm("#"+gm(e)+gm(t)+gm(n))}function ym(e,t,n){return fm(e,t,n,vm)}function bm(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Bm("#"+mm(e)+mm(t)+mm(n));if("object"==typeof e&&void 0===t&&void 0===n)return Bm("#"+mm(e.red)+mm(e.green)+mm(e.blue));throw new Am(6)}function wm(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var i=hm(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?bm(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?bm(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Am(7)}function xm(e){if("object"!=typeof e)throw new Am(8);if(Hm(e))return wm(e);if(Vm(e))return bm(e);if(Gm(e))return function(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?ym(e,t,n):"rgba("+fm(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?ym(e.hue,e.saturation,e.lightness):"rgba("+fm(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new Am(2)}(e);if(Wm(e))return function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return ym(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return ym(e.hue,e.saturation,e.lightness);throw new Am(1)}(e);throw new Am(8)}function _m(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):_m(e,t,r)}}function Sm(e){return _m(e,e.length,[])}function Em(e,t,n){return Math.max(e,Math.min(t,n))}function km(e,t){if("transparent"===t)return t;var n=pm(t);return xm(Xp({},n,{lightness:Em(0,1,n.lightness-parseFloat(e))}))}function Cm(e,t){if("transparent"===t)return t;var n=pm(t);return xm(Xp({},n,{lightness:Em(0,1,n.lightness+parseFloat(e))}))}function Mm(e,t){if("transparent"===t)return t;var n=pm(t);return xm(Xp({},n,{saturation:Em(0,1,n.saturation+parseFloat(e))}))}function Pm(e,t){if("transparent"===t)return t;var n=hm(t);return wm(Xp({},n,{alpha:Em(0,1,+(100*("number"==typeof n.alpha?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))}function Tm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qm.indexOf(e)>=0&&e?Xp({},um.apply(void 0,[""].concat(n)),{position:e}):um.apply(void 0,["",e].concat(n))}var Am,Rm,Im,Om,zm,Lm,Dm,Nm,Um,jm,Fm,Bm,Vm,Hm,Wm,Gm,qm,Xm,Km,Ym,Qm,Zm=S((()=>{Kp(),Yp(),Jp(),om(),sm(),Am=function(e){function t(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qp(e,t)}(t,e),t}(am(Error)),Rm=["Top","Right","Bottom","Left"],Im={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Om=/^#[a-fA-F0-9]{6}$/,zm=/^#[a-fA-F0-9]{8}$/,Lm=/^#[a-fA-F0-9]{3}$/,Dm=/^#[a-fA-F0-9]{4}$/,Nm=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Um=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,jm=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Fm=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Bm=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},Vm=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||"undefined"==typeof e.alpha)},Hm=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},Wm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||"undefined"==typeof e.alpha)},Gm=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha},qm=Sm(km),Xm=Sm(Cm),Km=Sm(Mm),Ym=Sm(Pm),Qm=["absolute","fixed","relative","static","sticky"]}));function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tg(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var ng,rg,ig=S((()=>{})),ag=S((()=>{ng=M(zf()),rg=(0,ng.createContext)({})}));function og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach((function(t){og(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ug(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dg(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cg(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var fg=S((()=>{}));var hg,pg,mg=S((()=>{hg=M(zf()),ag(),fg(),pg=function(e,t,n){void 0===n&&(n=t.children);var r=(0,hg.useContext)(rg);if(r.useCreateElement)return r.useCreateElement(e,t,n);if("string"==typeof e&&"function"==typeof n){t.children;return n(ug(t,["children"]))}return(0,hg.createElement)(e,t,n)}}));function gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(n),!0).forEach((function(t){gg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bg=S((()=>{}));var wg=S((()=>{}));function xg(e){var t;if(!function(e){return"object"==typeof e&&null!=e}(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()}var _g=S((()=>{wg()}));function Sg(e,t){for(var n={},r={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];t.indexOf(o)>=0?n[o]=e[o]:r[o]=e[o]}return[n,r]}function Eg(e,t){if(void 0===t&&(t=[]),!xg(e.state))return Sg(e,t);var n=Sg(e,[].concat(t,["state"])),r=n[0],i=n[1],a=r.state,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(r,["state"]);return[yg(yg({},a),o),i]}var kg=S((()=>{bg(),_g()}));function Cg(e,t){if(e===t)return!0;if(!e||!t||"object"!=typeof e||"object"!=typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var a=0,o=n;a<o.length;a++){var s=o[a];if(e[s]!==t[s])return!1}return!0}var Mg=S((()=>{}));function Pg(e){return"normalizePropsAreEqualInner"===e.name?e:function(t,n){return xg(t.state)&&xg(n.state)?e(yg(yg({},t.state),t),yg(yg({},n.state),n)):e(t,n)}}var Tg=S((()=>{bg(),_g()}));function Ag(e){var t=e.as,n=e.useHook,r=e.memo,i=e.propsAreEqual,a=void 0===i?null==n?void 0:n.unstable_propsAreEqual:i,o=e.keys,s=void 0===o?(null==n?void 0:n.__keys)||[]:o,l=e.useCreateElement,u=void 0===l?pg:l,c=function(e,r){var i=e.as,a=void 0===i?t:i,o=ug(e,["as"]);if(n){var l,c=Eg(o,s),d=c[0],f=c[1],h=n(d,lg({ref:r},f)),p=h.wrapElement,m=ug(h,["wrapElement"]),g=(null===(l=a.render)||void 0===l?void 0:l.__keys)||a.__keys,v=g&&Eg(o,g)[0],y=v?lg(lg({},m),v):m,b=u(a,y);return p?p(b):b}return u(a,lg({ref:r},o))};return c=function(e){return(0,Rg.forwardRef)(e)}(c),r&&(c=function(e,t){return(0,Rg.memo)(e,t)}(c,a&&Pg(a))),c.__keys=s,c.unstable_propsAreEqual=Pg(a||Cg),c}var Rg,Ig=S((()=>{Rg=M(zf()),fg(),mg(),kg(),Mg(),Tg()}));function Og(e,t){(0,zg.useDebugValue)(e);var n=(0,zg.useContext)(rg);return null!=n[e]?n[e]:t}var zg,Lg=S((()=>{zg=M(zf()),ag()}));var Dg,Ng=S((()=>{Dg=M(zf()),Lg()}));var Ug,jg=S((()=>{Ug=M(zf()),Lg(),fg()}));var Fg=S((()=>{}));function Bg(e){var t,n,r=function(e){return Array.isArray(e)?e:"undefined"!=typeof e?[e]:[]}(e.compose),i=function(t,n){if(e.useOptions&&(t=e.useOptions(t,n)),e.name&&(t=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Options";(0,Ug.useDebugValue)(r);var i=Og(r);return i?lg(lg({},t),i(t,n)):t}(e.name,t,n)),e.compose)for(var i,a=dg(r);!(i=a()).done;){t=i.value.__useOptions(t,n)}return t},a=function(t,n,a){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===a&&(a=!1),a||(t=i(t,n)),e.useProps&&(n=e.useProps(t,n)),e.name&&(n=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="use"+e+"Props";(0,Dg.useDebugValue)(r);var i=Og(r);return i?i(t,n):n}(e.name,t,n)),e.compose)if(e.useComposeOptions&&(t=e.useComposeOptions(t,n)),e.useComposeProps)n=e.useComposeProps(t,n);else for(var o,s=dg(r);!(o=s()).done;){n=(0,o.value)(t,n,!0)}var l={},u=n||{};for(var c in u)void 0!==u[c]&&(l[c]=u[c]);return l};a.__useOptions=i;var o=r.reduce((function(e,t){return e.push.apply(e,t.__keys||[]),e}),[]);return a.__keys=[].concat(o,(null===(t=e.useState)||void 0===t?void 0:t.__keys)||[],e.keys||[]),a.unstable_propsAreEqual=e.propsAreEqual||(null===(n=r[0])||void 0===n?void 0:n.unstable_propsAreEqual)||Cg,a}var Vg=S((()=>{M(zf()),Ng(),fg(),jg(),Mg(),Fg()}));function Hg(e,t){void 0===t&&(t=null),e&&("function"==typeof e?e(t):e.current=t)}function Wg(e,t){return(0,Gg.useMemo)((function(){return null==e&&null==t?null:function(n){Hg(e,n),Hg(t,n)}}),[e,t])}var Gg,qg=S((()=>{Gg=M(zf())}));function Xg(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==Kg.indexOf(t.type)}return!1}var Kg,Yg=S((()=>{Kg=["button","color","file","image","reset","submit"]})),Qg=S((()=>{})),Zg=S((()=>{Qg(),M(zf())})),Jg=S((()=>{Qg(),M(zf()),Zg()}));function $g(e){return e?e.ownerDocument||e:document}var ev=S((()=>{}));var tv,nv=S((()=>{ev();try{tv=window}catch(tQ){}}));function rv(){var e=function(e){return e&&$g(e).defaultView||tv}();return!("undefined"==typeof e||!e.document||!e.document.createElement)}var iv,av,ov,sv=S((()=>{nv(),iv=rv()})),lv=S((()=>{av=M(zf()),sv(),ov=iv?av.useLayoutEffect:av.useEffect}));function uv(e){var t=(0,cv.useRef)(e);return ov((function(){t.current=e})),t}var cv,dv=S((()=>{cv=M(zf()),lv()}));var fv=S((()=>{}));var hv=S((()=>{ev()}));function pv(e,t){return e===t||e.contains(t)}var mv=S((()=>{}));function gv(e){var t=function(e){var t=$g(e).activeElement;return null!=t&&t.nodeName?t:null}(e);if(!t)return!1;if(pv(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))}var vv=S((()=>{hv(),mv()}));var yv=S((()=>{mv()}));function bv(e){return!!iv&&-1!==window.navigator.userAgent.indexOf(e)}var wv=S((()=>{sv()}));var xv=S((()=>{}));var _v,Sv,Ev=S((()=>{xv(),_v="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"})),kv=S((()=>{ig(),Ig(),Vg(),Mg(),Sv=Bg({name:"Role",keys:["unstable_system"],propsAreEqual:function(e,t){var n=e.unstable_system,r=tg(e,["unstable_system"]),i=t.unstable_system,a=tg(t,["unstable_system"]);return!(n!==i&&!Cg(n,i))&&Cg(r,a)}}),Ag({as:"div",useHook:Sv})}));function Cv(e){!gv(e)&&function(e){return function(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}(e,_v)&&function(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)}(e)&&e.focus()}function Mv(e,t,n,r){return e?t&&!n?-1:void 0:t?r:r||0}function Pv(e,t){return(0,Tv.useCallback)((function(n){var r;null===(r=e.current)||void 0===r||r.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())}),[e,t])}var Tv,Av,Rv,Iv,Ov=S((()=>{ig(),Ig(),Vg(),Tv=M(zf()),qg(),Yg(),Jg(),dv(),lv(),vv(),yv(),wv(),Ev(),kv(),Av=["disabled","focusable"],Rv=bv("Mac")&&!bv("Chrome")&&(bv("Safari")||bv("Firefox")),Iv=Bg({name:"Tabbable",compose:Sv,keys:Av,useOptions:function(e,t){return eg({disabled:t.disabled},e)},useProps:function(e,t){var n=t.ref,r=t.tabIndex,i=t.onClickCapture,a=t.onMouseDownCapture,o=t.onMouseDown,s=t.onKeyPressCapture,l=t.style,u=tg(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),c=(0,Tv.useRef)(null),d=uv(i),f=uv(a),h=uv(o),p=uv(s),m=!!e.disabled&&!e.focusable,g=(0,Tv.useState)(!0),v=g[0],y=g[1],b=(0,Tv.useState)(!0),w=b[0],x=b[1],_=e.disabled?eg({pointerEvents:"none"},l):l;ov((function(){var e,t=c.current;t&&("BUTTON"===(e=t).tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"A"===e.tagName||y(!1),function(e){return"BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName}(t)||x(!1))}),[]);var S=Pv(d,e.disabled),E=Pv(f,e.disabled),k=Pv(p,e.disabled),C=(0,Tv.useCallback)((function(e){var t;null===(t=h.current)||void 0===t||t.call(h,e);var n,r=e.currentTarget;if(!e.defaultPrevented&&Rv&&pv((n=e).currentTarget,n.target)&&Xg(r)){var i=requestAnimationFrame((function(){r.removeEventListener("mouseup",a,!0),Cv(r)})),a=function(){cancelAnimationFrame(i),Cv(r)};r.addEventListener("mouseup",a,{once:!0,capture:!0})}}),[]);return eg({ref:Wg(c,n),style:_,tabIndex:Mv(m,v,w,r),disabled:!(!m||!w)||void 0,"aria-disabled":!!e.disabled||void 0,onClickCapture:S,onMouseDownCapture:E,onMouseDown:C,onKeyPressCapture:k},u)}}),Ag({as:"div",useHook:Iv})}));var zv,Lv,Dv,Nv,Uv,jv,Fv,Bv=S((()=>{ig(),Ig(),Vg(),zv=M(zf()),Yg(),Jg(),dv(),fv(),Ov(),Lv=Bg({name:"Clickable",compose:Iv,keys:["unstable_clickOnEnter","unstable_clickOnSpace"],useOptions:function(e){var t=e.unstable_clickOnEnter,n=void 0===t||t,r=e.unstable_clickOnSpace;return eg({unstable_clickOnEnter:n,unstable_clickOnSpace:void 0===r||r},tg(e,["unstable_clickOnEnter","unstable_clickOnSpace"]))},useProps:function(e,t){var n=t.onKeyDown,r=t.onKeyUp,i=tg(t,["onKeyDown","onKeyUp"]),a=(0,zv.useState)(!1),o=a[0],s=a[1],l=uv(n),u=uv(r),c=(0,zv.useCallback)((function(t){var n,r;if(null===(n=l.current)||void 0===n||n.call(l,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey&&(r=t).target===r.currentTarget){var i=e.unstable_clickOnEnter&&"Enter"===t.key,a=e.unstable_clickOnSpace&&" "===t.key;if(i||a){if(function(e){var t=e.currentTarget;return!!e.isTrusted&&(Xg(t)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"A"===t.tagName||"SELECT"===t.tagName)}(t))return;t.preventDefault(),i?t.currentTarget.click():a&&s(!0)}}}),[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),d=(0,zv.useCallback)((function(t){var n;if(null===(n=u.current)||void 0===n||n.call(u,t),!t.defaultPrevented&&!e.disabled&&!t.metaKey){var r=e.unstable_clickOnSpace&&" "===t.key;o&&r&&(s(!1),t.currentTarget.click())}}),[e.disabled,e.unstable_clickOnSpace,o]);return eg({"data-active":o||void 0,onKeyDown:c,onKeyUp:d},i)}}),Ag({as:"button",memo:!0,useHook:Lv})})),Vv=S((()=>{ig(),Ig(),Vg(),Dv=M(zf()),qg(),Yg(),Jg(),Bv(),Nv=Bg({name:"Button",compose:Lv,keys:[],useProps:function(e,t){var n=t.ref,r=tg(t,["ref"]),i=(0,Dv.useRef)(null),a=(0,Dv.useState)(void 0),o=a[0],s=a[1],l=(0,Dv.useState)("button"),u=l[0],c=l[1];return(0,Dv.useEffect)((function(){var e=i.current;e&&(Xg(e)||("A"!==e.tagName&&s("button"),c(void 0)))}),[]),eg({ref:Wg(i,n),role:o,type:u},r)}}),Uv=Ag({as:"button",memo:!0,useHook:Nv})})),Hv=S((()=>{ig(),Ig(),Vg(),kv(),jv=Bg({name:"Group",compose:Sv,keys:[],useProps:function(e,t){return eg({role:"group"},t)}}),Fv=Ag({as:"div",useHook:jv})}));function Wv(){return iv?document.body:null}function Gv(e){var t=e.children,n=(0,qv.useContext)(Kv)||Wv(),r=(0,qv.useState)((function(){if(iv){var e=document.createElement("div");return e.className=Gv.__className,e}return null}))[0];return ov((function(){if(r&&n)return n.appendChild(r),function(){n.removeChild(r)}}),[r,n]),r?(0,Xv.createPortal)((0,qv.createElement)(Kv.Provider,{value:r},t),r):null}var qv,Xv,Kv,Yv,Qv=S((()=>{qv=M(zf()),lv(),sv(),Xv=M(Uf()),Kv=(0,qv.createContext)(Wv()),Gv.__className="__reakit-portal",Gv.__selector="."+Gv.__className})),Zv=S((()=>{"undefined"!=typeof window&&(Yv={get passive(){!0}},window.addEventListener("testPassive",null,Yv),window.removeEventListener("testPassive",null,Yv)),"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)})),Jv=S((()=>{M(zf()),Jg(),Vv(),Hv(),M(Uf()),Qv(),Zv(),Qg()}));function $v(e){let t=(0,ey.useMemo)((()=>{let t=e;return{get current(){return t},set current(e){t=e,r(e)}}}),[]),[n,r]=(0,ey.useState)((()=>e));return[t,n]}var ey,ty=S((()=>{ey=M(zf())}));var ny,ry,iy,ay,oy,sy,ly,uy,cy,dy,fy,hy,py,my,gy,vy,yy,by,wy,xy,_y,Sy,Ey,ky,Cy=S((()=>{Zm(),qp(),qp(),ny=M(zf()),ry=M(Uf()),Jv(),ty(),ay=Ih(iy||(iy=T(["\n  #pointer-root & {\n    pointer-events: none;\n  }\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n"]))),oy={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return Xm(.6,oy.panel.bg)}}}}}},ly="undefined"!=typeof window?Uh(sy||(sy=T(["\n  :host {\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))):{},cy=Gp.div(uy||(uy=T(["\n  z-index: 51;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  pointer-events: none;\n"]))),dy=e=>ny.default.createElement(Th,{disableVendorPrefixes:!0,target:e.target},ny.default.createElement(ny.default.Fragment,null,ny.default.createElement(ly,null),e.children)),fy=e=>{let[t,n]=(0,ny.useState)(null),[r,i]=(0,ny.useState)(null);(0,ny.useLayoutEffect)((()=>{if(!t)return;let{parentNode:e}=t;if(!e)return;let n=e.shadowRoot?parent.shadowRoot:e.attachShadow({mode:"open"});i(n)}),[t]);let[a,o]=$v(void 0);return r?ry.default.createPortal(ny.default.createElement(dy,{target:r},ny.default.createElement(ny.default.Fragment,null,ny.default.createElement(cy,{ref:a}),ny.default.createElement(Kv.Provider,{value:o},e.children))),r):ny.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}})),My=S((()=>{Cy(),qp(),hy={get outlinePanel(){return 1},get propsPanel(){return hy.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},py=oy.panel.bg,gy=Gp.span(my||(my=T(["\n  white-space: nowrap;\n"]))),yy=Gp.span(vy||(vy=T(["\n  white-space: nowrap;\n  color: ",";\n"])),oy.panel.head.punctuation.color),wy=Gp.div(by||(by=T(["\n  background: ",";\n  flex-grow: 1;\n  overflow-y: scroll;\n  padding: 0;\n"])),py),xy=18,Sy=Gp.div(_y||(_y=T(["\n  height: ","px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  position: relative;\n  color: #adadadb3;\n  border-bottom: 1px solid rgb(0 0 0 / 13%);\n  background-color: #25272b;\n  font-size: 10px;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),xy),Ey=100})),Py=S((()=>{ky=()=>{}}));function Ty(e){return Ay.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ay.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Ay,Ry,Iy=S((()=>{Ay=M(zf()),Ry=Ty}));function Oy(e){return zy.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),zy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var zy,Ly,Dy=S((()=>{zy=M(zf()),Ly=Oy}));function Ny(e){return Uy.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Uy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var Uy,jy,Fy=S((()=>{Uy=M(zf()),jy=Ny}));function By(e){return Vy.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Vy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var Vy,Hy,Wy=S((()=>{Vy=M(zf()),Hy=By}));function Gy(e){return qy.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),qy.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var qy,Xy,Ky=S((()=>{qy=M(zf()),Xy=Gy}));function Yy(e){return Qy.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Qy.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var Qy,Zy,Jy=S((()=>{Qy=M(zf()),Zy=Yy}));function $y(e){return eb.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),eb.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var eb,tb,nb,rb,ib,ab,ob,sb,lb,ub,cb,db,fb,hb,pb,mb,gb,vb,yb,bb,wb=S((()=>{eb=M(zf()),tb=$y})),xb=S((()=>{Iy(),Dy(),Fy(),Wy(),Ky(),Jy(),wb()})),_b=S((()=>{nb=M(zf()),qp(),Py(),Cy(),xb(),ib=Gp.li(rb||(rb=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),ob=Gp.div(ab||(ab=T([""]))),lb=Gp(ob)(sb||(sb=T(["\n  position: relative;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: calc(4px + var(--depth) * 16px);\n  padding-left: 4px;\n  padding-right: 8px;\n  gap: 4px;\n  height: 21px;\n  line-height: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  pointer-events: none;\n  white-space: nowrap;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);\n\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(40, 43, 47, 0.65);\n  backdrop-filter: blur(14px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n\n  &.descendant-is-selected {\n    background: rgba(29, 53, 59, 0.7);\n  }\n\n  ",";\n  &:not(.not-selectable):not(.selected):hover {\n    background: rgba(59, 63, 69, 0.9);\n\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &:not(.not-selectable):not(.selected):active {\n    background: rgba(82, 88, 96, 0.9);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &.selected {\n    background: rgba(30, 88, 102, 0.7);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ay),cb=Ih(ub||(ub=T(["\n  font-weight: 500;\n  font-size: 11px;\n  & {\n  }\n"]))),fb=Gp.span(db||(db=T(["\n  ",";\n\n  ",";\n  position: relative;\n  // Compensate for border bottom\n  top: 0.5px;\n  display: flex;\n  height: 20px;\n  align-items: center;\n  box-sizing: border-box;\n"])),cb,ay),pb=Gp.div(hb||(hb=T(["\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  opacity: 0.99;\n"]))),gb=Gp.span(mb||(mb=T(["\n  font-size: 9px;\n  position: relative;\n  display: block;\n  transition: transform 0.1s ease-out;\n\n  &:hover {\n    transform: rotate(-20deg);\n  }\n\n  ",".collapsed & {\n    transform: rotate(-90deg);\n\n    &:hover {\n      transform: rotate(-70deg);\n    }\n  }\n"])),ib),yb=Gp.ul(vb||(vb=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  ",".collapsed & {\n    display: none;\n  }\n"])),ib),bb=e=>{let{label:t,children:n,depth:r,select:i,selectionStatus:a,labelDecoration:o,collapsed:s=!1,setIsCollapsed:l}=e,u=void 0!==n;return nb.default.createElement(ib,{style:{"--depth":r},className:s?"collapsed":""},nb.default.createElement(lb,{className:a,onClick:null!=i?i:ky,"data-header":!0},nb.default.createElement(pb,null,u?nb.default.createElement(gb,{onClick:e=>{e.stopPropagation(),e.preventDefault(),null==l||l(!s)}},nb.default.createElement(Ly,null)):nb.default.createElement(Xy,null)),nb.default.createElement(fb,null,nb.default.createElement("span",null,t)),o),u&&nb.default.createElement(yb,null,n))}}));var Sb,Eb,kb,Cb,Mb,Pb=S((()=>{Sb=n(5194),ne(),Rf(),L(),Eb=()=>{var e;let t=(0,Sb.val)(O().projectsP),n=(null!=(e=(0,Sb.val)(O().atomP.historic.panels.outlinePanel.selection))?e:[]).map((e=>{let n=t[e.projectId];if(!n)return;if("Project"===e.type)return n;if(!(0,Sb.val)(n.sheetTemplatesP[e.sheetId]))return;let r=kb(n,e.sheetId);if(!r)return;if("Sheet"===e.type)return r;let i=(0,Sb.val)(r.objectsP[e.objectKey]);return i||void 0}));return Tf(n.filter((e=>"undefined"!=typeof e)))},kb=(e,t)=>{let n=O().atomP.historic.projects.stateByProjectId[e.address.projectId],r=(0,Sb.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,Sb.val)(e.sheetTemplatesP[t]);if(i){if(r)return(0,Sb.val)(i.instancesP[r]);{let e=(0,Sb.val)(i.instancesP);return e[function(e){return Object.keys(e)}(e)[0]]}}}})),Tb=S((()=>{L(),Cb=M(zf()),_b(),eh(),Pb(),Mb=e=>{let{sheetObject:t,depth:n,overrideLabel:r}=e,i=jf((()=>Eb()),[]);return Cb.default.createElement(bb,{select:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.studio.historic.panels.outline.selection.set([t])}))},label:null!=r?r:t.address.objectKey,depth:n,selectionStatus:i.includes(t)?"selected":"not-selected"})}}));function Ab(e){var t;let n="namespace"===e.type?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):"Theatre_Project"===e.type?"project":"Theatre_Sheet"===e.type?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",r="namespace"===e.type?e.sheet.address.projectId:e.address.projectId;return{collapsed:null!=(t=qf(O().atomP.ahistoric.projects.stateByProjectId[r].collapsedItemsInOutline[n]))&&t,setCollapsed:(0,Rb.useCallback)((e=>{O().transaction((t=>{let{stateEditors:i}=t;i.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:r,isCollapsed:e,itemKey:n})}))}),[n])}}var Rb,Ib=S((()=>{Rb=M(zf()),L(),eh()}));function Ob(e){return Nb.default.createElement(Nb.default.Fragment,null,[...e.namespace.entries()].map((t=>{let[n,{object:r,nested:i}]=t;return Nb.default.createElement(zb,{key:n,label:n,object:r,nested:i,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})})))}function zb(e){let{nested:t,label:n,object:r,sheet:i}=e,{collapsed:a,setCollapsed:o}=Ab({type:"namespace",sheet:i,path:[...e.path,n]}),s=t&&Nb.default.createElement(Ob,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),l=r&&Nb.default.createElement(Mb,{depth:e.visualIndentation,key:"objectPath("+r.address.objectKey+")",sheetObject:r,overrideLabel:n});return Nb.default.createElement(Nb.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},l,s&&Nb.default.createElement(bb,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:s,collapsed:a,setIsCollapsed:o}))}function Lb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){let t=Bb.get(e);return t||(t=e.address.objectKey.split(Fb),console.assert(t.length>0,"expected not empty"),Bb.set(e,t)),t}(t),[r,...i]=n,a=e.get(r);a||(a={nested:void 0,object:void 0,path:[...n]},e.set(r,a)),0===i.length?(console.assert(!a.object,"expect not to have existing object with same name",{existing:a,object:t}),a.object=t):(a.nested||(a.nested=new Map),Lb(a.nested,t,i))}var Db,Nb,Ub,jb,Fb,Bb,Vb,Hb,Wb,Gb,qb,Xb,Kb,Yb,Qb,Zb,Jb,$b,ew,tw,nw,rw,iw,aw,ow,sw,lw,uw,cw,dw,fw,hw=S((()=>{eh(),Db=n(5194),Nb=M(zf()),qp(),Tb(),_b(),Ib(),Gp.li(Ub||(Ub=T(["\n  color: ",";\n"])),(e=>e.isSelected?"white":"hsl(1, 1%, 80%)")),jb=e=>{let{sheet:t,depth:n}=e;return jf((()=>{let e=(0,Db.val)(t.objectsP),r=Object.values(e).filter((e=>null!=e)),i=new Map;return r.forEach((e=>{Lb(i,e)})),Nb.default.createElement(Ob,{namespace:i,visualIndentation:n,path:[],sheet:t})}),[t,n])},Fb=/\s*\/\s*/g,Bb=new WeakMap})),pw=S((()=>{L(),Pb(),eh(),Vb=M(zf()),qp(),hw(),_b(),Ib(),Wb=Gp.div(Hb||(Hb=T(["\n  display: flex;\n"]))),Gp.li(Gb||(Gb=T(["\n  color: ",";\n"])),(e=>e.isSelected?"white":"hsl(1, 1%, 80%)")),Xb=Gp.div(qb||(qb=T([""]))),Kb=e=>{let{sheet:t,depth:n}=e,{collapsed:r,setCollapsed:i}=Ab(t),a=(0,Vb.useCallback)((()=>{O().transaction((e=>{let{stateEditors:n}=e;n.studio.historic.panels.outline.selection.set([t])}))}),[t]);return jf((()=>{let e=Eb();return Vb.default.createElement(bb,{depth:n,select:a,setIsCollapsed:i,collapsed:r,selectionStatus:e.some((e=>e===t))?"selected":e.some((e=>"Theatre_SheetObject"===e.type&&e.sheet===t))?"descendant-is-selected":"not-selected",label:Vb.default.createElement(Wb,null,t.address.sheetId,": ",t.address.sheetInstanceId)},Vb.default.createElement(Xb,null,Vb.default.createElement(jb,{depth:n+1,sheet:t,key:"objectList"+t.address.sheetInstanceId})))}),[n,r])}})),mw=S((()=>{eh(),Yb=n(5194),Qb=M(zf()),qp(),pw(),Gp.div(Zb||(Zb=T(["\n  display: flex;\n"]))),Gp.li(Jb||(Jb=T(["\n  color: ",";\n"])),(e=>e.isSelected?"white":"hsl(1, 1%, 80%)")),Gp.div($b||($b=T([""]))),ew=e=>{let{sheetId:t,depth:n,project:r}=e;return jf((()=>{let e=(0,Yb.val)(r.sheetTemplatesP[t]);if(!e)return Qb.default.createElement(Qb.default.Fragment,null);let i=(0,Yb.val)(e.instancesP);return Qb.default.createElement(Qb.default.Fragment,null,Object.entries(i).map((e=>{let[t,r]=e;return Qb.default.createElement(Kb,{key:r.address.sheetInstanceId,sheet:r,depth:n})})))}),[n,t,r])}})),gw=S((()=>{Pb(),eh(),tw=M(zf()),mw(),nw=e=>{let{project:t,depth:n}=e;return jf((()=>{if(!t)return null;let e=function(e){return Object.keys((0,Sb.val)(e.sheetTemplatesP))}(t);return tw.default.createElement(tw.default.Fragment,null,e.map((e=>tw.default.createElement(ew,{depth:n,sheetId:e,key:"sheet-".concat(e),project:t}))))}),[t,n])}})),vw=S((()=>{rw=M(zf()),_b(),gw(),L(),eh(),Pb(),iw=n(5194),qp(),Ib(),ow=Gp.div(aw||(aw=T(["\n  color: #ff6363;\n  margin-left: 11px;\n  background: #4c282d;\n  padding: 2px 8px;\n  border-radius: 2px;\n  font-size: 10px;\n  box-shadow: 0 2px 8px -4px black;\n"]))),sw=e=>{let{depth:t,project:n}=e,r=jf((()=>Eb()),[]),i=jf((()=>{let e=n.address.projectId,t=(0,iw.val)(O().atomP.ephemeral.coreByProject[e].loadingState);return"browserStateIsNotBasedOnDiskState"===(null==t?void 0:t.type)}),[n]),a=(0,rw.useCallback)((()=>{O().transaction((e=>{let{stateEditors:t}=e;t.studio.historic.panels.outline.selection.set([n])}))}),[n]),{collapsed:o,setCollapsed:s}=Ab(n);return rw.default.createElement(bb,{depth:t,label:n.address.projectId,setIsCollapsed:s,collapsed:o,labelDecoration:i?rw.default.createElement(ow,null,"Has Conflicts"):null,children:rw.default.createElement(nw,{project:n,depth:t+1}),selectionStatus:r.includes(n)?"selected":r.some((e=>e.address.projectId===n.address.projectId))?"descendant-is-selected":"not-selected",select:a})}})),yw=S((()=>{lw=n(5194),eh(),L(),uw=M(zf()),qp(),vw(),dw=Gp.ul(cw||(cw=T(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-right: 4px;\n"]))),fw=e=>jf((()=>{let e=(0,lw.val)(O().projectsP);return uw.default.createElement(dw,null,Object.keys(e).map((t=>{let n=e[t];return uw.default.createElement(sw,{depth:0,project:n,key:"projectListItem-".concat(t)})})))}),[])}));function bw(e){let[t,n]=(0,ww.useState)(!1);return(0,ww.useEffect)((()=>{let r=r=>{let i=t?200:50,a="left"===e?r.x<i:r.x>window.innerWidth-i;a&&(a=r.y>56),n(!!a)};document.addEventListener("mousemove",r);let i=()=>{n(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseleave",i)}}),[t]),t}var ww,xw,_w,Sw,Ew,kw,Cw,Mw,Pw,Tw,Aw,Rw,Iw,Ow=S((()=>{ww=M(zf())})),zw=S((()=>{xw=M(zf()),qp(),My(),yw(),eh(),L(),Ow(),_w=n(5194),Cy(),Sw="44px",kw=Gp.div(Ew||(Ew=T(["\n  ",";\n  background-color: transparent;\n  position: absolute;\n  left: 8px;\n  z-index: ",";\n\n  top: calc("," + 8px);\n  height: fit-content;\n  max-height: calc(100% - ",");\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 0;\n  user-select: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list\n  &::after {\n    content: '';\n    display: block;\n    height: 20px;\n  }\n"])),ay,hy.outlinePanel,Sw,Sw,(e=>{let{pin:t}=e;return t?"block":"none"})),Cw=()=>{var e;let t=null==(e=qf(O().atomP.ahistoric.pinOutline))||e,n=qf(Tw),r=bw("left");return(0,xw.useLayoutEffect)((()=>{Mw.set(r)}),[r]),(0,xw.useEffect)((()=>()=>{Pw.set(!1),Mw.set(!1)}),[]),xw.default.createElement(kw,{pin:t||n,onMouseEnter:()=>{Pw.set(!0)},onMouseLeave:()=>{Pw.set(!1)}},xw.default.createElement(fw,null))},Mw=new _w.Atom(!1),Pw=new _w.Atom(!1),Tw=(0,_w.prism)((()=>{let e=(0,_w.val)(Pw.prism),t=(0,_w.val)(Mw.prism);return e||t}))})),Lw=S((()=>{qp(),Rw=Gp.input.attrs({type:"checkbox"})(Aw||(Aw=T(["\n  outline: none;\n"]))),Iw=Rw}));function Dw(e){let{propConfig:t,editingTools:n,value:r,autoFocus:i}=e,a=(0,Nw.useCallback)((e=>{n.permanentlySetValue(!!e.target.checked)}),[t,n]);return Nw.default.createElement(jw,{checked:r,onChange:a,autoFocus:i})}var Nw,Uw,jw,Fw,Bw=S((()=>{Nw=M(zf()),qp(),Lw(),jw=Gp(Iw)(Uw||(Uw=T(["\n  margin-left: 6px;\n\n  :focus {\n    outline: 1px solid #555;\n  }\n"]))),Fw=Dw}));function Vw(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var Hw=S((()=>{}));function Ww(e,t,n){(0,Gw.useEffect)((()=>{if(!e||!1===n)return;let r=Array.isArray(e)?e.filter((e=>e)):[e],i=e=>{r.every((t=>!e.composedPath().includes(t)))&&t(e)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}}),[e,n])}var Gw,qw,Xw,Kw,Yw,Qw,Zw,Jw,$w,ex,tx=S((()=>{Gw=M(zf())})),nx=S((()=>{qw=M(zf()),qp(),Xw="--lockedCursor",Yw=Gp.div(Kw||(Kw=T(["\n  pointer-events: auto;\n  &.normal {\n    pointer-events: none;\n  }\n"]))),Zw=Gp.div(Qw||(Qw=T(["\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  #pointer-root:not(.normal) > & {\n    pointer-events: auto;\n  }\n"]))),Jw=(0,qw.createContext)({}),$w=(e,t,n)=>{let r=(0,qw.useContext)(Jw);(0,qw.useLayoutEffect)((()=>{if(e)return r.getLock(t,n)}),[e,t,n])},ex=e=>{var t,n,r,i;let[a,o]=(0,qw.useState)([]),s=(0,qw.useMemo)((()=>({getLock:(e,t)=>{let n={className:e,cursor:t};return o((e=>[...e,n])),()=>{o((e=>e.filter((e=>e!==n))))}}})),[]),l=null!=(n=null==(t=a[0])?void 0:t.cursor)?n:"";return qw.default.createElement(Jw.Provider,{value:s},qw.default.createElement(Yw,{id:"pointer-root",className:(null!=(i=null==(r=a[0])?void 0:r.className)?i:"normal")+" "+e.className},qw.default.createElement(Zw,{style:{cursor:l,[Xw]:l}},e.children)))}}));function rx(e){return ax.default.createElement(ox.Provider,{value:e.logger},e.children)}function ix(e,t){let n=(0,ax.useContext)(ox);return(0,ax.useMemo)((()=>e?n.named(e,t):n),[n,e,t])}var ax,ox,sx=S((()=>{ax=M(zf()),ox=ax.default.createContext(null)}));function lx(e){let t=function(){let e=ix("PointerCapturing"),t=cx.default.useRef(null),n=()=>null!=t.current;return r=>{let i,a=e=>(i=e,t.current=e,e);return{capturing:{capturePointer(n){if(e._debug("Capturing pointer",{forDebugName:r,reason:n}),null!=t.current)throw new Error('"'.concat(r,'" attempted capturing pointer for "').concat(n,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let i=a({debugOwnerName:r,debugReason:n});return{isCapturing:()=>i===t.current,release:()=>i===t.current&&(e._debug("Releasing pointer",{forDebugName:r,reason:n}),a(null),!0)}},isPointerBeingCaptured:n},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),a(null))}}}}();return cx.default.createElement(dx.Provider,{value:t},cx.default.createElement(fx,{children:e.children}))}function ux(e){let t=(0,cx.useContext)(dx),n=(0,cx.useMemo)((()=>t(e)),[e,t]);return(0,cx.useEffect)((()=>()=>{n.forceRelease()}),[n]),n.capturing}var cx,dx,fx,hx,px=S((()=>{cx=M(zf()),sx(),dx=cx.default.createContext(null),fx=cx.default.memo((e=>{let{children:t}=e;return cx.default.createElement(cx.default.Fragment,null,t)}))})),mx=S((()=>{hx="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}));function gx(e,t){let n=(0,vx.useRef)(t);n.current=t;let r=t.shouldPointerLock&&!hx,i=(0,vx.useRef)({domDragStarted:!1}),{capturePointer:a}=ux("useDrag for ".concat(t.debugName)),o=(0,vx.useRef)({onDrag:ky,onDragEnd:ky,onClick:ky}),s=(0,vx.useRef)(),[l,u]=$v(!1);return(0,vx.useLayoutEffect)((()=>{if(!e)return;let u=()=>{let e=i.current.domDragStarted&&i.current.detection.detected;l.current!==e&&(l.current=e)},c=t=>{if(!i.current.domDragStarted)return;let n=i.current;if(!function(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>bx||Math.abs(e.movementY)>bx)}(t,n)&&(n.detection.detected||(n.detection.totalDistanceMoved+=Math.abs(t.movementY)+Math.abs(t.movementX),n.detection.totalDistanceMoved>yx&&(r&&e.requestPointerLock(),n.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},u())),n.detection.detected)){n.detection.dragEventCount+=1;let{dragMovement:e}=n.detection;if(r)e.x+=t.movementX,e.y+=t.movementY;else{let{startPos:r}=n;e.x=t.screenX-r.x,e.y=t.screenY-r.y}o.current.onDrag(e.x,e.y,t,t.movementX,t.movementY)}},d=e=>{if(f(),!i.current.domDragStarted)return;let n=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!hx&&document.exitPointerLock(),o.current.onDragEnd(n),window.focus(),n||o.current.onClick(e),u()},f=()=>{var e;null==(e=s.current)||e.release(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d)},h=e=>{n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},u())},p=e=>{var t,r,l,f;null==(t=s.current)||t.release();let h=n.current;if(!0===h.disabled||!(null!=(r=h.buttons)?r:[0]).includes(e.button))return;let p=h.onDragStart(e);!1!==p&&(o.current.onDrag=p.onDrag,o.current.onDragEnd=null!=(l=p.onDragEnd)?l:ky,o.current.onClick=null!=(f=p.onClick)?f:ky,s.current=a("Drag start"),h.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current={domDragStarted:!0,startPos:{x:e.screenX,y:e.screenY},detection:{detected:!1,totalDistanceMoved:0}},u(),document.addEventListener("mousemove",c),document.addEventListener("mouseup",d))},m=e=>{p(e)};return e.addEventListener("mousedown",m),e.addEventListener("click",h),()=>{var t,n;f(),e.removeEventListener("mousedown",m),e.removeEventListener("click",h),i.current.domDragStarted&&(null==(n=(t=o.current).onDragEnd)||n.call(t,i.current.detection.detected)),i.current={domDragStarted:!1},u()}}),[e]),$w(u&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[u]}var vx,yx,bx,wx=S((()=>{vx=M(zf()),nx(),px(),Py(),mx(),ty(),yx=3,bx=100}));var xx,_x,Sx,Ex,kx,Cx,Mx,Px,Tx,Ax,Rx,Ix,Ox,zx=S((()=>{Rf(),xx=M(zf()),_x=M(zf()),Sx=M(zf()),qp(),Hw(),ty(),tx(),wx(),kx=Gp.div(Ex||(Ex=T(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n\n  &:after {\n    position: absolute;\n    inset: 1px 0 2px;\n    display: block;\n    content: ' ';\n    background-color: transparent;\n    border: 1px solid transparent;\n    z-index: -2;\n    box-sizing: border-box;\n    border-radius: 1px;\n  }\n\n  &:hover,\n  &.dragging,\n  &.editingViaKeyboard {\n    &:after {\n      background-color: #10101042;\n      border-color: #00000059;\n    }\n  }\n"]))),Mx=Gp.input(Cx||(Cx=T(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: ew-resize;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n\n  &:focus {\n    cursor: text;\n  }\n"]))),Tx=Gp.div(Px||(Px=T(["\n  position: absolute;\n  inset: 3px 2px 4px;\n  transform: scale(var(--percentage), 1);\n  transform-origin: top left;\n  background-color: #2d5561;\n  z-index: -1;\n  border-radius: 2px;\n  pointer-events: none;\n\n  ",".dragging &, ",".noFocus:hover & {\n    background-color: #338198;\n  }\n"])),kx,kx),Rx=Gp.div(Ax||(Ax=T(["\n  display: contents;\n"]))),Ix=e=>!0,Ox=e=>{var t;let[n]=$v({mode:"noFocus"}),r=null!=(t=e.isValid)?t:Ix,i=(0,Sx.useRef)(e);i.current=e;let a=(0,Sx.useRef)(null);Ww(a.current,(()=>{a.current.blur()}),"editingViaKeyboard"===n.current.mode);let o=(0,Sx.useRef)(null),s=(0,Sx.useMemo)((()=>{let t,s=()=>{let e=n.current,t=parseFloat(e.currentEditedValueInString);isFinite(t)&&r(t)&&e.valueBeforeEditing!==t?i.current.permanentlySetValue(t):i.current.discardTemporaryValue()},l=()=>{let e=i.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((()=>{a.current.focus(),a.current.setSelectionRange(0,100)}))};return{inputChange:e=>{let t=e.target,{value:a}=t,o=n.current;n.current=x(w({},o),{currentEditedValueInString:a});let s=parseFloat(a);!isFinite(s)||!r(s)||i.current.temporarilySetValue(s)},onBlur:()=>{"editingViaKeyboard"===n.current.mode&&(s(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},transitionToDraggingMode:()=>{var r;let s=i.current.value;t=null==(r=a.current)?void 0:r.getBoundingClientRect().width,n.current={mode:"dragging"};let l=s,u=s;return o.current=document.body.style.cursor,{onDrag(n,r,a,o){let s=a.altKey?o/10:o,l=u+e.nudge({deltaX:s,deltaFraction:s/t,magnitude:1});u=e.range?ms(l,e.range[0],e.range[1]):l,i.current.temporarilySetValue(u)},onDragEnd(e){e?(l===u?i.current.discardTemporaryValue():i.current.permanentlySetValue(u),n.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){a.current.focus(),a.current.setSelectionRange(0,100)}}},onInputKeyDown:e=>{"Escape"===e.key?(i.current.discardTemporaryValue(),n.current={mode:"noFocus"},a.current.blur()):("Enter"===e.key||"Tab"===e.key)&&(s(),a.current.blur())},onClick:e=>{"noFocus"===n.current.mode&&(a.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:()=>{"noFocus"===n.current.mode?l():n.current.mode}}}),[]);(0,xx.useEffect)((()=>()=>{s.onBlur()}),[]);let l="editingViaKeyboard"!==n.current.mode?function(e){return isNaN(e)?"NaN":Md(e)?e.toFixed(0):cf(e,3).toString()}(e.value):n.current.currentEditedValueInString;"number"==typeof l&&isNaN(l)&&(l="NaN");let u=[a];e.inputRef&&u.push(e.inputRef);let c=Sx.default.createElement(Mx,{key:"input",type:"text",onChange:s.inputChange,value:l,onBlur:s.onBlur,onKeyDown:s.onInputKeyDown,onClick:s.onClick,onFocus:s.onFocus,ref:Vw(u),onMouseDown:e=>{e.stopPropagation()},onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus}),{range:d}=e,f=parseFloat(l),h=d?Sx.default.createElement(Tx,{style:{"--percentage":ms((f-d[0])/(d[1]-d[0]),0,1)}}):null,[p,m]=(0,_x.useState)(null);return gx(p,{debugName:"form/BasicNumberInput",onDragStart:s.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:"editingViaKeyboard"===n.current.mode}),Sx.default.createElement(kx,{className:e.className+" "+n.current.mode},Sx.default.createElement(Rx,{ref:m},c),h)}}));function Lx(e){let{propConfig:t,editingTools:n,value:r,autoFocus:i}=e,a=(0,Dx.useCallback)((e=>t.nudgeFn(x(w({},e),{config:t}))),[t]);return Dx.default.createElement(Ox,{value:r,temporarilySetValue:n.temporarilySetValue,discardTemporaryValue:n.discardTemporaryValue,permanentlySetValue:n.permanentlySetValue,range:t.range,nudge:a,autoFocus:i})}var Dx,Nx,Ux=S((()=>{zx(),Dx=M(zf()),Nx=Lx}));function jx(e){let{value:t,onChange:n,options:r,autoFocus:i}=e,a=(0,Fx.useCallback)((e=>{n(String(e.target.value))}),[n]);return Fx.default.createElement(Vx,{role:"radiogroup"},Object.keys(r).map(((e,n)=>Fx.default.createElement(Wx,{key:"label-"+n,"data-checked":t===e},r[e],Fx.default.createElement(qx,{type:"radio",checked:t===e,value:e,onChange:a,name:"switchbox",autoFocus:i})))))}var Fx,Bx,Vx,Hx,Wx,Gx,qx,Xx,Kx,Yx,Qx,Zx=S((()=>{Zm(),Fx=M(zf()),qp(),Vx=Gp.form(Bx||(Bx=T(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  vertical-align: middle;\n  justify-content: stretch;\n  height: 24px;\n  width: 100%;\n"]))),Wx=Gp.label(Hx||(Hx=T(["\n  padding: 0 0.5em;\n  background: transparent;\n  /* background: #373748; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  color: #a7a7a7;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  border-right-width: 0px;\n\n  & + &:last-child {\n    border-right-width: 1px;\n  }\n\n  ",":hover > & {\n    border-color: #1c2123;\n    /* background-color: #373748; */\n    /* color: ","; */\n  }\n\n  &&:hover {\n    background-color: #464654;\n  }\n\n  &&[data-checked='true'] {\n    color: white;\n    background: #3f3f4c;\n  }\n"])),Vx,qm(.1,"white")),qx=Gp.input(Gx||(Gx=T(["\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  width: 0;\n  height: 0;\n"]))),Xx=jx})),Jx=S((()=>{})),$x=S((()=>{Kx=M(zf()),Yx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qx=Kx.default.createContext&&Kx.default.createContext(Yx)}));function e_(e){return e&&e.map((function(e,t){return r_.default.createElement(e.tag,i_({key:t},e.attr),e_(e.child))}))}function t_(e){return function(t){return r_.default.createElement(n_,i_({attr:i_({},e.attr)},t),e_(e.child))}}function n_(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=a_(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r_.default.createElement("svg",i_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:i_(i_({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&r_.default.createElement("title",null,a),e.children)};return void 0!==Qx?r_.default.createElement(Qx.Consumer,null,(function(e){return t(e)})):t(Yx)}var r_,i_,a_,o_=S((()=>{r_=M(zf()),$x(),i_=function(){return i_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i_.apply(this,arguments)},a_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}})),s_=S((()=>{Jx(),o_(),$x()})),l_=S((()=>{s_()})),u_=S((()=>{s_()}));function c_(e){return t_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var d_=S((()=>{s_()})),f_=S((()=>{s_()})),h_=S((()=>{s_()}));function p_(e){return t_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function m_(e){return t_({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var g_=S((()=>{s_()})),v_=S((()=>{s_()})),y_=S((()=>{s_()})),b_=S((()=>{s_()})),w_=S((()=>{s_()})),x_=S((()=>{s_()})),__=S((()=>{s_()})),S_=S((()=>{s_()})),E_=S((()=>{s_()})),k_=S((()=>{s_()}));function C_(e){return t_({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var M_=S((()=>{s_()})),P_=S((()=>{s_()})),T_=S((()=>{s_()})),A_=S((()=>{s_()}));function R_(e){return t_({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var I_=S((()=>{s_()}));function O_(e){return t_({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var z_=S((()=>{s_()})),L_=S((()=>{l_(),u_(),d_(),f_(),h_(),g_(),v_(),y_(),b_(),w_(),x_(),__(),S_(),E_(),k_(),M_(),P_(),T_(),A_(),I_(),z_()}));function D_(e){let{value:t,onChange:n,options:r,className:i,autoFocus:a}=e,o=(0,N_.useCallback)((e=>{n(String(e.target.value))}),[n]);return N_.default.createElement(j_,null,N_.default.createElement(H_,{className:i,value:t,onChange:o,autoFocus:a},Object.keys(r).map(((e,t)=>N_.default.createElement("option",{key:"option-"+t,value:e},r[e])))),N_.default.createElement(B_,null,N_.default.createElement(R_,null)))}var N_,U_,j_,F_,B_,V_,H_,W_,G_=S((()=>{N_=M(zf()),qp(),L_(),j_=Gp.div(U_||(U_=T(["\n  width: 100%;\n  position: relative;\n"]))),B_=Gp.div(F_||(F_=T(["\n  position: absolute;\n  right: 0px;\n  top: 0;\n  bottom: 0;\n  width: 1.5em;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  color: #6b7280;\n  pointer-events: none;\n"]))),H_=Gp.select(V_||(V_=T(["\n  appearance: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.85);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  border-radius: 2px;\n  /*\n  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.\n  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.\n  */\n  height: 26px /* calc(100% - 4px); */;\n\n  @supports (-moz-appearance: none) {\n    /* Ugly hack to remove the extra left padding that shows up only in Firefox */\n    text-indent: -2px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n"]))),W_=D_}));function q_(e){let{propConfig:t,editingTools:n,value:r,autoFocus:i}=e,a=(0,X_.useCallback)((e=>{n.permanentlySetValue(e)}),[t,n]);return"menu"===t.as?X_.default.createElement(W_,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i}):X_.default.createElement(Xx,{value:r,onChange:a,options:t.valuesAndLabels,autoFocus:i})}var X_,K_,Y_,Q_,Z_,J_,$_,eS,tS=S((()=>{X_=M(zf()),Zx(),G_(),K_=q_})),nS=S((()=>{qp(),Y_=M(zf()),Q_=M(zf()),Hw(),ty(),tx(),J_=Gp.input.attrs({type:"text"})(Z_||(Z_=T(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &:hover,\n  &:focus {\n    cursor: text;\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &.invalid {\n    border-color: red;\n  }\n"]))),$_=e=>!0,eS=e=>{var t,n;let[r]=$v({mode:"noFocus"}),i=null!=(t=e.isValid)?t:$_,a=(0,Q_.useRef)(e);a.current=e;let o=(0,Q_.useRef)(null);Ww(o.current,(()=>{o.current.blur()}),"editingViaKeyboard"===r.current.mode);let s=(0,Q_.useMemo)((()=>{let e=()=>{let e=r.current,t=e.currentEditedValueInString;i(t)?e.valueBeforeEditing===t?a.current.discardTemporaryValue():a.current.permanentlySetValue(t):a.current.discardTemporaryValue()},t=()=>{let e=a.current.value;r.current={mode:"editingViaKeyboard",currentEditedValueInString:String(e),valueBeforeEditing:e},setTimeout((()=>{o.current.focus()}))};return{inputChange:e=>{let t=e.target,{value:n}=t,o=r.current;r.current=x(w({},o),{currentEditedValueInString:n}),i(n)&&a.current.temporarilySetValue(n)},onBlur:()=>{var t,n;"editingViaKeyboard"===r.current.mode&&(e(),r.current={mode:"noFocus"}),null==(n=(t=a.current).onBlur)||n.call(t)},onInputKeyDown:t=>{"Escape"===t.key?(a.current.discardTemporaryValue(),r.current={mode:"noFocus"},o.current.blur()):("Enter"===t.key||"Tab"===t.key)&&(e(),o.current.blur())},onClick:e=>{"noFocus"===r.current.mode&&(o.current.focus(),e.preventDefault()),e.stopPropagation()},onFocus:()=>{"noFocus"===r.current.mode?t():r.current.mode}}}),[]);(0,Y_.useEffect)((()=>()=>{s.onBlur()}),[]);let l="editingViaKeyboard"!==r.current.mode?e.value:r.current.currentEditedValueInString,u=[o];return e.inputRef&&u.push(e.inputRef),Q_.default.createElement(J_,{key:"input",type:"text",className:"".concat(null!=(n=e.className)?n:""," ").concat(i(l)?"":"invalid"),onChange:s.inputChange,value:l,onBlur:s.onBlur,onKeyDown:s.onInputKeyDown,onClick:s.onClick,onFocus:s.onFocus,ref:Vw(u),onMouseDown:e=>{e.stopPropagation()},onDoubleClick:e=>{e.preventDefault(),e.stopPropagation()},autoFocus:e.autoFocus})}}));function rS(e){let{editingTools:t,value:n,autoFocus:r}=e;return iS.default.createElement(eS,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,autoFocus:r})}var iS,aS,oS=S((()=>{iS=M(zf()),nS(),aS=rS}));function sS(e){let{removeAlphaIfOpaque:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(255*e.a|256).toString(16).slice(1),r=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(t&&"ff"===n?"":n);return"#".concat(r)}function lS(e){return x(w({},e),{toString(){return sS(this,{removeAlphaIfOpaque:!0})}})}var uS,cS=S((()=>{uS=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i}));function dS(e){let t=(0,fS.useRef)(e),n=(0,fS.useRef)((e=>{t.current&&t.current(e)}));return t.current=e,n.current}var fS,hS,pS,mS,gS,vS,yS,bS,wS,xS,_S,SS,ES,kS,CS,MS,PS,TS,AS,RS,IS,OS,zS,LS,DS,NS,US,jS,FS,BS,VS,HS,WS,GS,qS,XS,KS,YS,QS,ZS,JS,$S,eE,tE,nE,rE,iE,aE,oE,sE,lE,uE,cE,dE,fE=S((()=>{fS=M(zf())})),hE=S((()=>{hS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e}})),pE=S((()=>{pS=M(zf()),mS=(0,pS.createContext)(void 0),gS=e=>{let{children:t}=e,[n,r]=(0,pS.useState)(!1);return pS.default.createElement(mS.Provider,{value:{editing:n,setEditing:r}},t)},vS=()=>(0,pS.useContext)(mS)})),mE=S((()=>{yS=M(zf()),fE(),hE(),qp(),pE(),bS=e=>"touches"in e,wS=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},xS=e=>e&&e.ownerDocument.defaultView||self,_S=(e,t,n)=>{let r=e.getBoundingClientRect(),i=bS(t)?wS(t.touches,n):t;return{left:hS((i.pageX-(r.left+xS(e).pageXOffset))/r.width),top:hS((i.pageY-(r.top+xS(e).pageYOffset))/r.height)}},SS=e=>{!bS(e)&&e.preventDefault()},ES=(e,t)=>t&&!bS(e),CS=Gp.div(kS||(kS=T(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: inherit;\n  outline: none;\n  /* Don't trigger the default scrolling behavior when the event is originating from this element */\n  touch-action: none;\n"]))),MS=e=>{var t=e,{onMove:n,onKey:r}=t,i=_(t,["onMove","onKey"]);let a=(0,yS.useRef)(null),o=dS(n),s=dS(r),l=(0,yS.useRef)(null),u=(0,yS.useRef)(!1),{setEditing:c}=vS(),[d,f,h]=(0,yS.useMemo)((()=>{let e=e=>{SS(e),(bS(e)?e.touches.length>0:e.buttons>0)&&a.current?o(_S(a.current,e,l.current)):(c(!1),n(!1))},t=e=>{c(!1),n(!1)};function n(n){let r=u.current,i=a.current,o=xS(i),s=n?o.addEventListener:o.removeEventListener;s(r?"touchmove":"mousemove",e),s(r?"touchend":"mouseup",t)}return[e=>{let{nativeEvent:t}=e,r=a.current;if(r&&(SS(t),!ES(t,u.current)&&r)){if(bS(t)){u.current=!0;let e=t.changedTouches||[];e.length&&(l.current=e[0].identifier)}r.focus(),c(!0),o(_S(r,t,l.current)),n(!0)}},e=>{let t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,o]);return(0,yS.useEffect)((()=>h),[h]),yS.default.createElement(CS,x(w({},i),{onTouchStart:d,onMouseDown:d,ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))},PS=yS.default.memo(MS)})),gE=S((()=>{TS=M(zf()),qp(),mE(),RS=Gp(PS)(AS||(AS=T([""]))),OS=Gp.div(IS||(IS=T(["\n  position: absolute;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid #ffffff00;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n  ",":focus & {\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n"])),RS),LS=Gp.div(zS||(zS=T(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n"]))),DS=e=>{let{className:t,color:n,left:r,top:i=.5}=e,a={top:"".concat(100*i,"%"),left:"".concat(100*r,"%")};return TS.default.createElement(OS,{style:a,className:t},TS.default.createElement(LS,{style:{backgroundColor:n}}))}})),vE=S((()=>{NS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,t);return Math.round(n*e)/n}})),yE=S((()=>{vE(),{grad:.9,turn:360,rad:360/(2*Math.PI)},US=e=>{let{h:t,s:n,v:r,a:i}=e,a=(200-n)*r/100;return{h:NS(t),s:NS(a>0&&a<200?n*r/100/(a<=100?a:200-a)*100:0),l:NS(a/2),a:NS(i,2)}},jS=e=>{let{h:t,s:n,l:r}=US(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)")},FS=e=>{let{h:t,s:n,l:r,a:i}=US(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(i,")")},BS=e=>{let{h:t,s:n,v:r,a:i}=e;t=t/360*6,n/=100,r/=100;let a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),l=r*(1-(1-t+a)*n),u=a%6;return{r:NS(255*[r,s,o,o,l,r][u]),g:NS(255*[l,r,r,s,o,o][u]),b:NS(255*[o,o,l,r,r,s][u]),a:NS(i,2)}},VS=e=>{let{r:t,g:n,b:r,a:i}=e,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:NS(60*(s<0?s+6:s)),s:NS(a?o/a*100:0),v:NS(a/255*100),a:i}}})),bE=S((()=>{HS=M(zf()),mE(),gE(),yE(),hE(),vE(),qp(),GS=Gp.div(WS||(WS=T(["\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n\n  background: linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  );\n"]))),XS=Gp(DS)(qS||(qS=T(["\n  z-index: 2;\n"]))),KS=e=>{let{className:t,hue:n,onChange:r}=e;return HS.default.createElement(GS,{className:t},HS.default.createElement(PS,{onMove:e=>{r({h:360*e.left})},onKey:e=>{r({h:hS(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":NS(n)},HS.default.createElement(XS,{left:n/360,color:jS({h:n,s:100,v:100,a:1})})))},YS=HS.default.memo(KS)})),wE=S((()=>{QS=M(zf()),mE(),gE(),yE(),hE(),vE(),qp(),JS=Gp.div(ZS||(ZS=T(["\n  position: relative;\n  flex-grow: 1;\n  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */\n  border-bottom: 12px solid #000;\n  border-radius: 2px;\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),\n    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n\n  // Improve elements rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),eE=Gp(DS)($S||($S=T(["\n  z-index: 3;\n"]))),tE=e=>{let{hsva:t,onChange:n}=e,r={backgroundColor:jS({h:t.h,s:100,v:100,a:1})};return QS.default.createElement(JS,{style:r},QS.default.createElement(PS,{onMove:e=>{n({s:100*e.left,v:100-100*e.top})},onKey:e=>{n({s:hS(t.s+100*e.left,0,100),v:hS(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(NS(t.s),"%, Brightness ").concat(NS(t.v),"%")},QS.default.createElement(eE,{top:1-t.v/100,left:t.s/100,color:jS(t)})))},nE=QS.default.memo(tE)})),xE=S((()=>{rE=M(zf()),mE(),gE(),yE(),hE(),vE(),qp(),aE=Gp.div(iE||(iE=T(['\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),sE=Gp.div.attrs((e=>{let{colorFrom:t,colorTo:n}=e;return{style:{backgroundImage:"linear-gradient(90deg, ".concat(t,", ").concat(n,")")}}}))(oE||(oE=T(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n\n  // Improve rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),uE=Gp(DS)(lE||(lE=T(['\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),cE=e=>{let{className:t,hsva:n,onChange:r}=e,i=FS(Object.assign({},n,{a:0})),a=FS(Object.assign({},n,{a:1}));return rE.default.createElement(aE,{className:t},rE.default.createElement(sE,{colorFrom:i,colorTo:a}),rE.default.createElement(PS,{onMove:e=>{r({a:e.left})},onKey:e=>{r({a:hS(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(NS(100*n.a),"%")},rE.default.createElement(uE,{left:n.a,color:FS(n)})))}})),_E=S((()=>{dE=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}}));var SE,EE,kE,CE,ME,PE,TE,AE,RE,IE,OE,zE,LE,DE,NE,UE,jE=S((()=>{SE=M(zf()),_E(),fE(),pE()})),FE=S((()=>{EE=M(zf()),bE(),wE(),xE(),jE(),qp(),CE=Gp.div(kE||(kE=T(["\n  position: relative;\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  width: 200px;\n  height: 200px;\n  user-select: none;\n  cursor: default;\n"]))),ME=e=>{var t=e,{className:n,colorModel:r,color:i=r.defaultColor,temporarilySetValue:a,permanentlySetValue:o,discardTemporaryValue:s}=t,l=_(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[u,c]=function(e,t,n,r){let{editing:i}=vS(),[a,o]=(0,SE.useState)(t),s=dS(n),l=dS(r),u=i?a:t,[c,d]=(0,SE.useState)((()=>e.toHsva(u))),f=(0,SE.useRef)({color:u,hsva:c}),h=(0,SE.useRef)({color:u,hsva:c});(0,SE.useEffect)((()=>{i&&o(f.current.color)}),[i]),(0,SE.useEffect)((()=>{let t=e.fromHsva(c);i?!dE(c,f.current.hsva)&&!e.equal(t,f.current.color)&&(f.current={hsva:c,color:t},o(t),s(t)):!dE(c,h.current.hsva)&&!e.equal(t,h.current.color)&&(h.current={hsva:c,color:t},f.current={hsva:c,color:t},l(t))}),[i,c,e,s,l]),(0,SE.useEffect)((()=>{if(!i&&!e.equal(u,h.current.color)){let t=e.toHsva(u);h.current={hsva:t,color:u},d(t)}}),[i,u,e]);let p=(0,SE.useCallback)((e=>{d((t=>Object.assign({},t,e)))}),[]);return[c,p]}(r,i,a,o);return(0,EE.useEffect)((()=>()=>{s()}),[]),EE.default.createElement(CE,w({},l),EE.default.createElement(nE,{hsva:u,onChange:c}),EE.default.createElement(YS,{hue:u.h,onChange:c}),EE.default.createElement(cE,{hsva:u,onChange:c}))}})),BE=S((()=>{PE=M(zf()),FE(),_E(),yE(),pE(),TE=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),AE=e=>({r:255*e.r,g:255*e.g,b:255*e.b,a:e.a}),RE={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>VS(AE(e)),fromHsva:e=>TE(BS(e)),equal:dE},IE=e=>PE.default.createElement(gS,null,PE.default.createElement(ME,x(w({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:RE})))})),VE=S((()=>{BE()})),HE=S((()=>{OE=M(zf()),zE=function(e){(0,OE.useEffect)(e,[])}})),WE=S((()=>{LE=M(zf()),HE(),DE=function(e){var t=(0,LE.useRef)(e);t.current=e,zE((function(){return function(){return t.current()}}))}})),GE=S((()=>{NE=M(zf()),WE(),UE=function(e){var t=(0,NE.useRef)(0),n=(0,NE.useState)(e),r=n[0],i=n[1],a=(0,NE.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){i(e)}))}),[]);return DE((function(){cancelAnimationFrame(t.current)})),[r,a]}}));var qE,XE,KE,YE=S((()=>{qE="undefined"!=typeof window})),QE=S((()=>{XE=M(zf()),GE(),YE(),KE=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=UE({width:qE?window.innerWidth:e,height:qE?window.innerHeight:t}),r=n[0],i=n[1];return(0,XE.useEffect)((function(){if(qE){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}}),[]),r}}));function ZE(e){let[t,n]=(0,JE.useState)(null);return(0,JE.useLayoutEffect)((()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)})),[e]),t}var JE,$E,ek,tk,nk=S((()=>{JE=M(zf())})),rk=S((()=>{$E=M(zf()),ek=(0,$E.createContext)({}),tk=ek}));var ik,ak,ok,sk=S((()=>{})),lk=S((()=>{ik=M(zf()),ak=M(zf()),QE(),nk(),rk(),ty(),tx(),sk(),Py(),Rf(),ok=e=>{var t,n;let r=e.children(),[i,a]=$v(null),o=r.props.style?w({},r.props.style):{};o.position="absolute";let s=ZE(a),l=ZE(e.target),u=KE(),[c,d]=(0,ak.useState)({});return(0,ak.useLayoutEffect)((()=>{var t,n,r;if(!s||!a||!l)return;let i=null!=(t=e.verticalGap)?t:8,o={},c=null!=(n=e.verticalPlacement)?n:"bottom",f=0,h=0;"bottom"===c?l.bottom+s.height+i<u.height?(c="bottom",f=l.bottom+i,o.top="0px"):l.top>s.height+i?(c="top",f=l.top-(s.height+i),o.bottom="0px",o.transform="rotateZ(180deg)"):c="overlay":"top"===c&&(l.top>s.height+i?(c="top",f=l.top-(s.height+i),o.bottom="0px",o.transform="rotateZ(180deg)"):l.bottom+s.height+i<u.height?(c="bottom",f=l.bottom+i,o.top="0px"):c="overlay");let p=0;if("overlay"!==c){let e=l.left+l.width/2;e<s.width/2?(h=i,p=Math.max(e-i,8)):e+s.width/2>u.width?(h=u.width-(i+s.width),p=Math.min(e-h,s.width-8)):(h=e-s.width/2,p=s.width/2),o.left=p+"px"}let{minX:m=-1/0,maxX:g=1/0,minY:v=-1/0,maxY:y=1/0}=null!=(r=e.constraints)?r:{},b=ms(h,m,g-s.width),w=ms(f,v,y+s.height);return a.style.left=b+"px",a.style.top=w+"px",d(o),e.onPointerOutside?function(e,t,n){let r=e.getBoundingClientRect(),i=e=>{(e.clientX<r.left-t||e.clientX>r.left+r.width+t||e.clientY<r.top-t||e.clientY>r.top+r.height+t)&&n(e)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}(a,e.onPointerOutside.threshold,e.onPointerOutside.callback):void 0}),[s,a,e.target,l,u,e.onPointerOutside]),Ww([a,null!=(t=e.target)?t:null],null!=(n=e.onClickOutside)?n:ky),ik.default.createElement(tk.Provider,{value:c},(0,ak.cloneElement)(r,{ref:i,style:o}))}}));function uk(e,t){let n=function(){},{isPointerBeingCaptured:r}=ux("usePopover"),[i,a]=$v({isOpen:!1}),o=(0,ck.useRef)(e),s=(0,ck.useCallback)((e=>{'closing due to "'.concat(e,'"'),i.current={isOpen:!1}}),[]),l=(0,ck.useCallback)(((e,t)=>{var n;let a="function"==typeof o.current?o.current():o.current;i.current={isOpen:!0,clickPoint:{clientX:e.clientX,clientY:e.clientY},target:t,opts:a,onClickOutside:function(){c.childHasFocusRef.current||!1!==a.closeOnClickOutside&&s("clicked outside popover")},onPointerOutside:!1===a.closeWhenPointerIsDistant?void 0:{threshold:null!=(n=a.pointerDistanceThreshold)?n:100,callback:()=>{c.childHasFocusRef.current||r()||s("pointer outside")}}}}),[]),u=(0,ck.useCallback)((function(){i.current.isOpen?s("toggled"):l(...arguments)}),[]),c=function(e){let t=(0,ck.useContext)(fk);(0,ck.useEffect)((()=>{if(e.state.isOpen){let n=t.takeFocus();return e._debug("take focus"),()=>{e._debug("release focus"),n.releaseFocus()}}}),[e.state.isOpen]);let n=(0,ck.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus:()=>(n.current=!0,{releaseFocus(){n.current=!1}})}}}({_debug:n,state:a}),[,d]=(0,ck.useContext)(_O);(0,ck.useEffect)((()=>{let e;return a.isOpen&&(e=d()),()=>null==e?void 0:e()}),[a.isOpen]);let f=(0,ck.useContext)(Kv);return{node:a.isOpen?(0,dk.createPortal)(ck.default.createElement(fk.Provider,{value:c.childPopoverLock},ck.default.createElement(ok,{children:t,target:a.target,onClickOutside:a.onClickOutside,onPointerOutside:a.onPointerOutside,constraints:a.opts.constraints,verticalGap:a.opts.verticalGap})),f):ck.default.createElement(ck.default.Fragment,null),open:l,close:s,toggle:u,isOpen:a.isOpen}}var ck,dk,fk,hk,pk,mk,gk,vk,yk,bk,wk,xk,_k,Sk,Ek,kk,Ck,Mk,Pk,Tk,Ak,Rk,Ik=S((()=>{px(),ty(),ck=M(zf()),dk=M(Uf()),Jv(),lk(),Hz(),fk=ck.default.createContext({takeFocus:()=>({releaseFocus(){}})})})),Ok=S((()=>{hk=M(zf()),qp(),rk(),mk=Gp.div(pk||(pk=T(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  color: var(--popover-arrow-color);\n  pointer-events: none;\n"]))),vk=Gp.div(gk||(gk=T(["\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  left: -7px;\n  top: -8px;\n  text-align: center;\n  line-height: 0;\n"]))),bk=Gp.path(yk||(yk=T(["\n  fill: var(--popover-bg);\n"]))),xk=Gp.path(wk||(wk=T(["\n  fill: var(--popover-inner-stroke);\n"]))),Sk=Gp.path(_k||(_k=T(["\n  fill: var(--popover-outer-stroke);\n"]))),Ek=(0,hk.forwardRef)(((e,t)=>{let{className:n}=e,r=(0,hk.useContext)(tk);return hk.default.createElement(mk,{className:n,ref:t,style:w({},r)},hk.default.createElement(vk,null,hk.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hk.default.createElement(Sk,{d:"M6 0L0 6H12L6 0Z"}),hk.default.createElement(xk,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),hk.default.createElement(bk,{d:"M6 3L0 9H12L6 3Z"}))))})),kk=Ek})),zk=S((()=>{Cy(),Zm(),Ck=M(zf()),qp(),Ok(),Mk=Ym(.05,"#2a2a31"),Tk=Gp.div(Pk||(Pk=T(["\n  position: absolute;\n  --popover-bg: ",";\n  --popover-inner-stroke: #505159;\n  --popover-outer-stroke: #111;\n\n  background: var(--popover-bg);\n\n  color: white;\n  padding: 0;\n  margin: 0;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n  z-index: 10000;\n  border: 1px solid var(--popover-inner-stroke);\n  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;\n  backdrop-filter: blur(8px);\n\n  & a {\n    color: inherit;\n  }\n"])),Mk,ay),Ak=Ck.default.forwardRef(((e,t)=>{let{children:n,className:r,showPopoverEdgeTriangle:i=!0}=e;return Ck.default.createElement(Tk,{className:r,ref:t},i?Ck.default.createElement(kk,null):void 0,n)})),Rk=Ak}));function Lk(e){let{editingTools:t,value:n,autoFocus:r}=e,i=(0,Dk.useRef)(null),a=(0,Dk.useCallback)((e=>{let n=lS(function(e){let t=(e=e.trim().toLowerCase()).match(uS);if(!t)return{r:0,g:0,b:0,a:1};let n=function(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}(e));t.permanentlySetValue(n)}),[t]),o=uk({debugName:"RgbaPropEditor"},(()=>Dk.default.createElement(Gk,null,Dk.default.createElement(IE,{color:{r:n.r,g:n.g,b:n.b,a:n.a},temporarilySetValue:e=>{let n=lS(e);t.temporarilySetValue(n)},permanentlySetValue:e=>{let n=lS(e);t.permanentlySetValue(n)},discardTemporaryValue:t.discardTemporaryValue}))));return Dk.default.createElement(Dk.default.Fragment,null,Dk.default.createElement(Uk,null,Dk.default.createElement(Fk,{rgbaColor:n,ref:i,onClick:e=>{o.toggle(e,i.current)}}),Dk.default.createElement(Vk,{value:sS(n,{removeAlphaIfOpaque:!0}),temporarilySetValue:Hk,discardTemporaryValue:Hk,permanentlySetValue:a,isValid:e=>!!e.match(uS),autoFocus:r})),o.node)}var Dk,Nk,Uk,jk,Fk,Bk,Vk,Hk,Wk,Gk,qk,Xk=S((()=>{cS(),cS(),Dk=M(zf()),VE(),qp(),Ik(),nS(),zk(),Uk=Gp.div(Nk||(Nk=T(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),Fk=Gp.div.attrs((e=>({style:{background:sS(e.rgbaColor)}})))(jk||(jk=T(["\n  height: 18px;\n  aspect-ratio: 1;\n  border-radius: 99999px;\n"]))),Vk=Gp(eS)(Bk||(Bk=T(["\n  flex: 1;\n"]))),Hk=()=>{},Gk=Gp.div(Wk||(Wk=T(["\n  position: absolute;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  cursor: default;\n  border-radius: 3px;\n  z-index: 10000;\n  backdrop-filter: blur(8px);\n\n  padding: 4px;\n  pointer-events: all;\n\n  border: none;\n  box-shadow: none;\n"])),Mk),qk=Lk}));function Kk(e){let{propConfig:t,editingTools:n,value:r,autoFocus:i}=e,[a,o]=Yk.default.useState();(0,Yk.useEffect)((()=>{o(r?n.getAssetUrl(r):void 0)}),[r]);let s=(0,Yk.useCallback)((e=>A(this,null,(function*(){let t=e.target.files[0];n.permanentlySetValue({type:"image",id:void 0});let i=yield n.createAsset(t);i?n.permanentlySetValue({type:"image",id:i}):n.permanentlySetValue(r),e.target.value=null}))),[n,r]),l=!(null!=r&&r.id);return Yk.default.createElement(Zk,{empty:l},Yk.default.createElement(rC,{empty:l,title:l?"Upload image":'"'.concat(r.id,'" (Click to upload new image)')},Yk.default.createElement(aC,{type:"file",onChange:s,accept:"image/*,.hdr",autoFocus:i}),a?Yk.default.createElement(sC,{src:a}):Yk.default.createElement($k,null)),!l&&Yk.default.createElement(uC,{title:"Delete image",onClick:()=>{n.permanentlySetValue({type:"image",id:void 0})}},Yk.default.createElement(tb,null)))}var Yk,Qk,Zk,Jk,$k,eC,tC,nC,rC,iC,aC,oC,sC,lC,uC,cC,dC=S((()=>{xb(),Yk=M(zf()),qp(),Zk=Gp.div(Qk||(Qk=T(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),$k=Gp.div(Jk||(Jk=T(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),rC=Gp.label(nC||(nC=T(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),(e=>e.empty?Ih(eC||(eC=T([""]))):Ih(tC||(tC=T([""]))))),aC=Gp.input.attrs({type:"file"})(iC||(iC=T(["\n  display: none;\n"]))),sC=Gp.img(oC||(oC=T(["\n  position: absolute;\n  inset: 0;\n  height: 100%;\n  aspect-ratio: 1;\n\n  object-fit: cover;\n"]))),uC=Gp.button(lC||(lC=T(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),Zk),cC=Kk}));function fC(e){let{propConfig:t,editingTools:n,value:r,autoFocus:i}=e,[a,o]=hC.default.useState();(0,hC.useEffect)((()=>{o(r?n.getAssetUrl(r):void 0)}),[r]);let s=(0,hC.useCallback)((e=>A(this,null,(function*(){let t=e.target.files[0];n.permanentlySetValue({type:"file",id:void 0});let i=yield n.createAsset(t);i?n.permanentlySetValue({type:"file",id:i}):n.permanentlySetValue(r),e.target.value=null}))),[n,r]),l=!(null!=r&&r.id);return hC.default.createElement(mC,{empty:l},hC.default.createElement(xC,{empty:l,title:l?"Upload file":'"'.concat(r.id,'" (Click to upload new file)')},hC.default.createElement(SC,{type:"file",onChange:s,autoFocus:i}),a?hC.default.createElement(Xy,null):hC.default.createElement(vC,null)),!l&&hC.default.createElement(kC,{title:"Delete file",onClick:()=>{n.permanentlySetValue({type:"file",id:void 0})}},hC.default.createElement(tb,null)))}var hC,pC,mC,gC,vC,yC,bC,wC,xC,_C,SC,EC,kC,CC,MC,PC=S((()=>{xb(),hC=M(zf()),qp(),mC=Gp.div(pC||(pC=T(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),vC=Gp.div(gC||(gC=T(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),xC=Gp.label(wC||(wC=T(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),(e=>e.empty?Ih(yC||(yC=T([""]))):Ih(bC||(bC=T([""]))))),SC=Gp.input.attrs({type:"file"})(_C||(_C=T(["\n  display: none;\n"]))),kC=Gp.button(EC||(EC=T(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),mC),CC=fC})),TC=S((()=>{Bw(),Ux(),tS(),oS(),Xk(),dC(),PC(),MC={number:Nx,string:aS,boolean:Fw,stringLiteral:K_,rgba:qk,image:cC,file:CC}}));function AC(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var RC=S((()=>{}));function IC(e){return"compound"===e.type||"enum"===e.type}function OC(e,t){if(!e)return;let[n,...r]=t;return void 0===n?e:IC(e)?OC("enum"===e.type?e.cases[n]:e.props[n],r):void 0}function zC(e,t){let n=t.deserializeAndSanitize(e);return void 0===n?t.default:n}function*LC(e,t){if("compound"!==e.type){if("enum"===e.type)throw new Error("Not implemented yet");return yield{path:t,conf:e}}for(let n in e.props)yield*I(LC(e.props[n],[...t,n]))}var DC,NC,UC,jC,FC,BC,VC,HC,WC,GC,qC,XC=S((()=>{RC(),DC=AC((e=>{if("enum"===e.type)throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(!IC(n))return!0;if(DC(n))return!0}return!1}))})),KC=S((()=>{NC="calc(var(--left-pad) + var(--depth) * var(--step))"})),YC=S((()=>{qp(),jC=Ih(UC||(UC=T(["\n  font-weight: 300;\n  font-size: 11px;\n  color: ",";\n  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);\n"])),(e=>"self"===e.isHighlighted?"#CCC":"#919191"))})),QC=S((()=>{Py(),FC=M(zf()),qp(),BC=26,HC=Gp.li(VC||(VC=T(["\n  height: ","px;\n  padding: 0 12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 11px;\n  font-weight: 400;\n  position: relative;\n  color: ",";\n  cursor: ",";\n\n  &:after {\n    position: absolute;\n    inset: 2px 1px;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 3px;\n  }\n\n  &:hover:after {\n    background-color: ",";\n  }\n"])),BC,(e=>e.enabled?"white":"#8f8f8f"),(e=>e.enabled?"normal":"not-allowed"),(e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial")),GC=Gp.span(WC||(WC=T([""]))),qC=e=>FC.default.createElement(HC,{onClick:e.enabled?e.onClick:ky,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},FC.default.createElement(GC,null,FC.default.createElement(FC.default.Fragment,null,e.label)))}));var ZC,JC,$C,eM,tM,nM,rM,iM,aM,oM,sM,lM,uM,cM,dM,fM=S((()=>{ZC=M(zf())})),hM=S((()=>{JC=M(zf()),QC(),qp(),Zm(),Cy(),eM=Gp.ul($C||($C=T(["\n  position: absolute;\n  min-width: ","px;\n  z-index: 10000;\n  background: ",";\n  backdrop-filter: blur(2px);\n  color: white;\n  list-style-type: none;\n  padding: 2px 0;\n  margin: 0;\n  border-radius: 1px;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n"])),190,Ym(.2,"#111"),ay),nM=Gp.div(tM||(tM=T(["\n  padding: 4px 10px;\n  border-bottom: 1px solid #6262626d;\n  color: #adadadb3;\n  font-size: 11px;\n  font-weight: 500;\n"]))),rM=JC.default.forwardRef(((e,t)=>JC.default.createElement(eM,{ref:t},e.displayName?JC.default.createElement(nM,null,e.displayName):null,e.items.map(((t,n)=>JC.default.createElement(qC,{key:"item-".concat(n),label:t.label,enabled:!1!==t.enabled,onClick:n=>{t.callback&&t.callback(n),e.onRequestClose()}})))))),iM=rM})),pM=S((()=>{nk(),aM=M(zf()),oM=M(zf()),sM=M(zf()),lM=M(Uf()),QE(),QC(),Jv(),fM(),hM(),uM=e=>{let[t,n]=(0,sM.useState)(null),r=ZE(t),i=KE();(0,sM.useLayoutEffect)((()=>{if(!r||!t)return;let n=r.width/2,a=BC/2+(e.displayName?BC:0),o={left:e.clickPoint.clientX-n,top:e.clickPoint.clientY-a};o.left<0?o.left=0:o.left+r.width>i.width&&(o.left=i.width-r.width),o.top<0?o.top=0:o.top+r.height>i.height&&(o.top=i.height-r.height),t.style.left=o.left+"px",t.style.top=o.top+"px";let s=t=>{(t.clientX<o.left-20||t.clientX>o.left+r.width+20||t.clientY<o.top-20||t.clientY>o.top+r.height+20)&&e.onRequestClose()};return window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}}),[r,t,e.clickPoint,i,e.onRequestClose]);let a=(0,oM.useContext)(Kv);!function(e){let t=(0,ZC.useRef)(e);t.current=e,(0,ZC.useEffect)((()=>{let e=e=>t.current(e);return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[])}((t=>{"Escape"===t.key&&e.onRequestClose()}));let o=(0,aM.useMemo)((()=>{let t=Array.isArray(e.items)?e.items:e.items();return t.length>0?t:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]}),[e.items]);return(0,lM.createPortal)(sM.default.createElement(iM,{items:o,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),a)}})),mM=S((()=>{cM=M(zf()),dM=(e,t)=>{let[n,r]=(0,cM.useState)({isOpen:!1}),i=(0,cM.useCallback)((()=>r({isOpen:!1})),[]);return(0,cM.useEffect)((()=>{if(!e||!0===t.disabled)return void r({isOpen:!1});let n=e=>{r({isOpen:!0,event:e}),e.preventDefault(),e.stopPropagation()};return e.addEventListener("contextmenu",n),()=>{e.removeEventListener("contextmenu",n)}}),[e,t.disabled]),[n,i]}}));function gM(e,t){let[n,r]=dM(e,t),[,i]=(0,vM.useContext)(_O);return(0,vM.useEffect)((()=>{var e;let r;return n.isOpen&&(null==(e=t.onOpen)||e.call(t),r=i()),()=>null==r?void 0:r()}),[n.isOpen,t.onOpen]),[n.isOpen?vM.default.createElement(uM,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:r}):yM,r,n.isOpen]}var vM,yM,bM=S((()=>{vM=M(zf()),pM(),mM(),Hz(),yM=vM.default.createElement(vM.default.Fragment,null)}));function wM(e,t){return 0===t.length?e:Do(e,t)}var xM=S((()=>{No()}));function _M(e,t){return null==e?null:e instanceof Element&&e.matches(t)?e:_M(e.parentElement,t)}var SM=S((()=>{}));function EM(e,t){let n=e;for(let r of t)n=n[r];return n}var kM=S((()=>{}));function CM(e){let t=PM.default.useContext(OM),n=t.usePresenceFlag(e);return{attrs:{[zM]:e},flag:n,useRelations(n,r){(0,TM.useEffect)((()=>e&&t.addRelatedFlags(e,n())),[e,...r])}}}function MM(e){let t=PM.default.useContext(OM),n=ix("PresenceListeners");(0,TM.useEffect)((()=>{let r;if(!e)return;let i=e=>{if(e.target instanceof Node){let i=_M(e.target,"[".concat(zM,"]"));if(i){let e=i.getAttribute(zM);return void(r!==e&&(r=e,t.setUserHover(e||void 0),n._debug("Updated current hover",{itemKey:e})))}null!=r&&(r=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),null!=r&&(r=null,n._debug("Cleared current hover as part of cleanup"))}}),[e,t])}var PM,TM,AM,RM,IM,OM,zM,LM,DM,NM,UM,jM,FM,BM,VM,HM,WM,GM,qM,XM,KM,YM,QM,ZM,JM,$M,eP,tP,nP,rP,iP,aP,oP,sP,lP,uP,cP=S((()=>{PM=M(zf()),TM=M(zf()),sx(),AM=n(5194),RM=n(5194),eh(),SM(),kM(),(IM=(0,AM.prism)((()=>{}))).keepHot(),OM=PM.default.createContext(function(e){let t=new RM.Atom(void 0),n=new RM.Atom({}),r=new RM.Atom({}),i=0;return{addRelatedFlags(e,t){let n=String(++i),a=t.map((t=>{let i={flag:t.flag},a=[t.affects,e,n];return r.setByPointer((e=>EM(e,a)),i),a}));return()=>{for(let e of a)r.setByPointer((t=>EM(t,e)),void 0)}},usePresenceFlag(i){if(e.enabled)return Ff((0,PM.useMemo)((()=>{if(!i)return IM;let e=t.prism,a=(0,AM.pointerToPrism)(n.pointer[i]),o=(0,AM.pointerToPrism)(r.pointer[i]);return(0,AM.prism)((()=>{if(a.getValue())return 2;{let t=o.getValue(),n=e.getValue(),r=t&&n&&t[n];if(r){let e;for(let t of Object.values(r))t&&(e&&e>=t.flag||(e=t.flag));return e}return}}))}),[i]))},setUserHover(e){let r=t.get();r!==e&&(r&&n.setByPointer((e=>e[r]),!1),t.set(e),e&&n.setByPointer((t=>t[e]),!0))}}}({enabled:!1})),zM="data-pi-key"})),dP=S((()=>{Cy(),Zm(),LM=M(zf()),qp(),cP(),NM=Gp.div(DM||(DM=T(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  margin: 0 0px 0 2px;\n  position: relative;\n  z-index: 0;\n  opacity: 0.7;\n\n  &:after {\n    position: absolute;\n    left: -14px;\n    right: -14px;\n    top: -2px;\n    bottom: -2px;\n    content: ' ';\n    display: none;\n    z-index: -1;\n    background: ",";\n  }\n\n  &:hover {\n    opacity: 1;\n    &:after {\n      display: block;\n    }\n  }\n"])),Ym(.2,"black")),jM=Gp.div(UM||(UM=T(["\n  background: none;\n  position: relative;\n  border: 0;\n  transition: transform 0.1s ease-out;\n  z-index: 0;\n  outline: none;\n  cursor: pointer;\n\n  &:after {\n    display: none;\n    ",":hover & {\n      display: block;\n    }\n    position: absolute;\n    left: -4px;\n    right: -4px;\n    top: -4px;\n    bottom: -4px;\n    content: ' ';\n    z-index: -1;\n  }\n"])),NM),FM={offColor:"#555",onColor:"#e0c917"},VM=Gp(jM)(BM||(BM=T(["\n  &:hover {\n    color: #e0c917;\n  }\n\n  color: ",";\n"])),(e=>2===e.presence?"white":e.isOn?FM.onColor:FM.offColor)),WM=Ih(HM||(HM=T(["\n  pointer-events: none !important;\n"]))),qM=Gp(jM)(GM||(GM=T(["\n  color: ",";\n\n  ",";\n"])),(e=>2===e.flag?"white":e.available?FM.onColor:FM.offColor),(e=>e.available?ay:WM)),KM=Gp(qM)(XM||(XM=T(["\n  transform: translateX(2px);\n  ",":hover & {\n    transform: translateX(-7px);\n  }\n"])),NM),QM=Gp(qM)(YM||(YM=T(["\n  transform: translateX(-2px);\n  ",":hover & {\n    transform: translateX(7px);\n  }\n"])),NM),(e=>{let t=Gp.g(ZM||(ZM=T(["\n    stroke-width: 1;\n    ",":hover & path {\n      stroke-width: 3;\n    }\n  "])),qM);e.Prev=()=>LM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},LM.default.createElement(t,{transform:"translate(6 3)"},LM.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>LM.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},LM.default.createElement(t,{transform:"translate(1 3)"},LM.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=Gp.g(JM||(JM=T(["\n    stroke-width: 0;\n    ",":hover & path {\n      stroke: currentColor;\n      stroke-width: 2;\n    }\n  "])),VM);e.Cur=()=>LM.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},LM.default.createElement(n,{transform:"translate(1 4)"},LM.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})($M||($M={})),eP=e=>{var t,n,r,i,a;let o=CM(null==(t=e.prev)?void 0:t.itemKey),s=CM("on"===(null==(n=e.cur)?void 0:n.type)?e.cur.itemKey:void 0),l=CM(null==(r=e.next)?void 0:r.itemKey);return LM.default.createElement(NM,null,LM.default.createElement(KM,w({available:!!e.prev,onClick:null==(i=e.prev)?void 0:i.jump,flag:o.flag},o.attrs),LM.default.createElement($M.Prev,null)),LM.default.createElement(VM,w({isOn:"on"===e.cur.type,onClick:e.cur.toggle,presence:s.flag},s.attrs),LM.default.createElement($M.Cur,null)),LM.default.createElement(QM,w({available:!!e.next,onClick:null==(a=e.next)?void 0:a.jump,flag:l.flag},l.attrs),LM.default.createElement($M.Next,null)))}})),fP=S((()=>{Zm(),tP=M(zf()),qp(),L(),dP(),XC(),nP={defaultState:{color:Ym(.95,"#C4C4C4"),hoverColor:Ym(.15,FM.onColor)},withStaticOverride:{color:Ym(.85,"#C4C4C4"),hoverColor:Ym(.15,FM.onColor)}},iP=Gp.div(rP||(rP=T(["\n  width: 16px;\n  margin: 0 0px 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(e=>e.hasStaticOverride?nP.withStaticOverride.color:nP.defaultState.color),(e=>e.hasStaticOverride?nP.withStaticOverride.hoverColor:nP.defaultState.hoverColor)),oP=Gp.div(aP||(aP=T(["\n  width: 5px;\n  height: 5px;\n  border-radius: 1px;\n  transform: rotate(45deg);\n  /* border: 1px solid currentColor; */\n  background-color: currentColor;\n"]))),lP=Gp.div(sP||(sP=T(["\n  width: 5px;\n  height: 5px;\n  background-color: currentColor;\n  border-radius: 1px;\n  transform: rotate(45deg);\n"]))),uP=e=>{let{hasStaticOverride:t,obj:n,propConfig:r,pathToProp:i}=e;return tP.default.createElement(iP,{hasStaticOverride:t,onClick:()=>{O().transaction((e=>{let{stateEditors:t}=e;for(let{path:a,conf:o}of LC(r,i)){if(IC(o))continue;let e=x(w({},n.address),{pathToProp:a});t.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(e,r)}}))},title:"Sequence this prop"},t?tP.default.createElement(lP,{title:"The default value is overridden"}):tP.default.createElement(oP,{title:"This is the default value for this prop"}))}}));function hP(e){return JSON.stringify(pP(e))}function pP(e){return is(e)?Object.keys(e).sort().reduce(((t,n)=>(t[n]=pP(e[n]),t)),{}):Array.isArray(e)?e.map(pP):e}var mP,gP=S((()=>{Rf()})),vP=S((()=>{mP=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}}));function yP(){return mP(10)}var bP,wP=S((()=>{gP(),vP(),bP={forSheet:()=>"sheet",forSheetObject:e=>hP({o:e.address.objectKey}),forSheetObjectProp:(e,t)=>hP({o:e.address.objectKey,p:t}),forTrackKeyframe:(e,t,n)=>hP({o:e.address.objectKey,t:t,k:n}),forSheetObjectAggregateKeyframe:(e,t)=>bP.forCompoundPropAggregateKeyframe(e,[],t),forSheetAggregateKeyframe:(e,t)=>hP({o:e.address.sheetId,pos:t}),forCompoundPropAggregateKeyframe:(e,t,n)=>hP({o:e.address.objectKey,p:t,pos:n})}}));function xP(e,t,n){if(!t||0===t.data.keyframes.length)return SP;let r=_P.get(t.data);if(r&&r[0]===n)return r[1];function i(n){if(!t)return;let r=t.data.keyframes[n];return r&&{kf:r,track:t,itemKey:bP.forTrackKeyframe(e,t.id,r.id)}}let a=(()=>{let e=t.data.keyframes.findIndex((e=>e.position>=n));if(-1===e)return{prev:i(t.data.keyframes.length-1)};let r=i(e);return r.kf.position===n?{prev:i(e-1),cur:r,next:i(e+1)}:{next:r,prev:i(e-1)}})();return _P.set(t.data,[n,a]),a}var _P,SP,EP,kP=S((()=>{wP(),_P=new WeakMap,SP={}})),CP=S((()=>{EP={}}));function MP(e){let{pointerToProp:t,obj:n,possibleSequenceTrackIds:r,listOfDescendantTrackIds:i}=e;return jf((()=>{let e=(0,PP.getPointerParts)(t).path,r=(0,PP.val)(n.sheet.getSequence().positionPrism),a=i.map((e=>({trackId:e,track:(0,PP.val)(n.template.project.pointers.historic.sheetsById[n.address.sheetId].sequence.tracksByObject[n.address.objectKey].trackData[e])}))).filter((e=>{let{track:t}=e;return!!t})).map((e=>x(w({},e),{nearbies:xP(n,{id:e.trackId,data:e.track,sheetObject:n},r)}))),o=a.find((e=>{let{nearbies:t}=e;return!!t.cur})),s=a.every((e=>{let{nearbies:t}=e;return!!t.cur})),l=a.reduce(((e,t)=>t.nearbies.prev&&(void 0===e||t.nearbies.prev.kf.position>e.kf.position)?t.nearbies.prev:e),void 0),u=a.reduce(((e,t)=>t.nearbies.next&&(void 0===e||t.nearbies.next.kf.position<e.kf.position)?t.nearbies.next:e),void 0),c=()=>{s?O().transaction((e=>{e.unset(t)})):O().transaction((e=>{e.set(t,(0,PP.val)(t))}))},d={cur:o?{type:"on",itemKey:bP.forCompoundPropAggregateKeyframe(n,e,r),toggle:c}:{toggle:c,type:"off"},prev:void 0!==l?{position:l.kf.position,itemKey:bP.forCompoundPropAggregateKeyframe(n,e,l.kf.position),jump:()=>{n.sheet.getSequence().position=l.kf.position}}:void 0,next:void 0!==u?{position:u.kf.position,itemKey:bP.forCompoundPropAggregateKeyframe(n,e,u.kf.position),jump:()=>{n.sheet.getSequence().position=u.kf.position}}:void 0};return TP.default.createElement(eP,w({},d))}),[t,n,r,i])}var PP,TP,AP=S((()=>{L(),xM(),eh(),PP=n(5194),No(),TP=M(zf()),fP(),XC(),wP(),kM(),dP(),kP(),CP()}));function RP(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function IP(e){let t={};return mf(t,e,!0),t}var OP,zP,LP,DP,NP=S((()=>{OP=n(5194),zP=n(5194),LP=n(5194),kM(),xf(),DP=function(){let e=0,t=new zP.Atom({hasLock:!1});return{replaceLock(n,r){let i=e++,a=t.get();return a.hasLock&&a.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:r,deepPath:IP(RP(n))}),function(){let e=t.get();e.hasLock&&e.lockId===i&&(e.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(e){let n=EM(t.pointer.deepPath,RP(e));return(0,LP.prism)((()=>{let e=(0,OP.val)(n);return!0===e?"self":e?"descendent":null}))}}}()}));var UP=S((()=>{}));function jP(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{return"string"==typeof e?e:"function"==typeof e||e instanceof Error?e.toString():t?function(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}(e):JSON.stringify(e)}catch(n){return(null==e?void 0:e.name)||String(e)}}var FP=S((()=>{UP()}));function BP(e,t){let n=arguments.length>1,r=jP("function"==typeof e?e():e),i=n?"\nInstead found: ".concat(jP(t)):"";throw new qP("Invariant: ".concat(r).concat(i),t)}var VP,HP,WP,GP,qP,XP=S((()=>{FP(),VP=/^\s*at.+node:internal.+/gm,HP=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,WP=/^\s*(at|[^@]+@).+test\-helpers.+/gm,GP=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,qP=class extends Error{constructor(e,t){var n;super(e),P(this,"found"),void 0!==t&&(this.found=t),this.stack=null==(n=this.stack)?void 0:n.replace(HP,"").replace(GP,"").replace(WP,"").replace(VP,"")}}}));function KP(e){let t=QP.default.memo(QP.default.forwardRef((function(t,n){let r=[],i={},a={ref:n};for(let e in t){let n=t[e];(0,YP.isPrism)(n)?(r.push(n),i[e]=n):a[e]=n}let o=(0,QP.useRef)(r.length);!function(e,t,n){e||(arguments.length>2?BP(t,n):BP(t))}(o.current===r.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:o.current,count:r.length});let s=(0,QP.useMemo)((()=>function(e){return(0,YP.prism)((()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}{let t={};for(let n in e)t[n]=(0,YP.val)(e[n]);return t}}))}(i)),r),l=Ff(s);return l&&QP.default.createElement(e,w(w({},a),l))})));return t.displayName="deriver(".concat(e.displayName,")"),t}var YP,QP,ZP=S((()=>{YP=n(5194),eh(),QP=M(zf()),XP()}));function JP(e,t,n){return(0,tT.prism)((()=>{var r;let i=(0,tT.getPointerParts)(e).path,a=t.getValueByPointer(e),o=tT.prism.memo("editPropValue",(()=>{let t=null;return{temporarilySetValue(n){t||(t=O().scrub()),t.capture((t=>{t.set(e,n)}))},discardTemporaryValue(){t&&(t.discard(),t=null)},permanentlySetValue(n){t?(t.capture((t=>{t.set(e,n)})),t.commit(),t=null):O().transaction((t=>{t.set(e,n)}))}}}),[]),s={createAsset:e=>t.sheet.project.assetStorage.createAsset(e),getAssetUrl:e=>e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0},l=!0===(0,tT.val)(Do(O().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,tT.getPointerParts)(e).path)),u=[],c=x(w(w({},o),s),{value:a,beingScrubbed:l,contextMenuItems:u,controlIndicators:eT.default.createElement(eT.default.Fragment,null)}),d=function(e){return!IC(e)}(n);if(d){let n=wM((0,tT.val)(t.template.getMapOfValidSequenceTracks_forStudio()),i);if("string"==typeof n){u.push({label:"Make static",callback:()=>{O().transaction((n=>{let{stateEditors:r}=n,a=x(w({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(x(w({},a),{value:t.getValueByPointer(e)}))}))}});let a,o=n,s=tT.prism.sub("lcr",(()=>{let e=(0,tT.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[o]),n=(0,tT.val)(t.sheet.getSequence().positionPrism);return xP(t,e&&{data:e,id:o,sheetObject:t},n)}),[o]);a=c.beingScrubbed?"Sequenced_OnKeyframe_BeingScrubbed":s.cur?"Sequenced_OnKeyframe":!0===(null==(r=s.prev)?void 0:r.kf.connectedRight)?"Sequenced_BeingInterpolated":"Sequened_NotBeingInterpolated";let l=()=>{s.cur?O().transaction((t=>{t.unset(e)})):O().transaction((t=>{t.set(e,c.value)}))},d={cur:s.cur?{type:"on",itemKey:s.cur.itemKey,toggle:l}:{type:"off",toggle:l},prev:void 0!==s.prev?{itemKey:s.prev.itemKey,position:s.prev.kf.position,jump:()=>{t.sheet.getSequence().position=s.prev.kf.position}}:void 0,next:void 0!==s.next?{itemKey:s.next.itemKey,position:s.next.kf.position,jump:()=>{t.sheet.getSequence().position=s.next.kf.position}}:void 0},f=eT.default.createElement(eP,w({},d));return x(w({},c),{type:"Sequenced",shade:a,nearbyKeyframes:s,controlIndicators:f})}}let f=wM((0,tT.val)(t.template.getStaticValues()),i);return"undefined"!=typeof f&&u.push({label:"Reset to default",callback:()=>{O().transaction((t=>{let{unset:n}=t;n(e)}))}}),d&&u.push({label:"Sequence",callback:()=>{O().transaction((e=>{let{stateEditors:r}=e,a=x(w({},t.address),{pathToProp:i});r.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(a,n)}))}}),x(w({},c),"undefined"!=typeof f?{type:"Static",shade:c.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:eT.default.createElement(uP,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}:{type:"Default",shade:"Default",controlIndicators:eT.default.createElement(uP,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})}))}function $P(e,t,n){let r=function(e,t,n){if(nT.has(e))return nT.get(e);{let r=JP(e,t,n);return nT.set(e,r),r}}(e,t,n);return Ff(r)}var eT,tT,nT,rT=S((()=>{No(),eT=M(zf()),tT=n(5194),L(),xM(),eh(),XC(),fP(),kP(),dP(),nT=new WeakMap}));function iT(e){let{propConfig:t,pointerToProp:n,obj:r,SimpleEditorComponent:i}=e,a=$P(n,r,t);return sT.default.createElement(Nx,{editingTools:a,propConfig:t,value:a.value})}function aT(e){let{pointerToProp:t,obj:n,propConfig:r,visualIndentation:i}=e;var a;let o=null!=(a=r.label)?a:id((0,oT.getPointerParts)(t).path),s=Object.entries(r.props),l=s.filter((e=>{let[t,n]=e;return IC(n)})),u=s.filter((e=>{let[t,n]=e;return!IC(n)})),[c,d]=$v(null),f=function(e,t,n){let r=(0,PP.getPointerParts)(e).path;return jf((()=>{if(!DC(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:TP.default.createElement(uP,{hasStaticOverride:!1,obj:t,pathToProp:r,propConfig:n})};let i=[],a={beingScrubbed:!!(0,PP.val)(Do(O().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,PP.getPointerParts)(e).path)),contextMenuItems:i,controlIndicators:TP.default.createElement(TP.default.Fragment,null)},o=wM((0,PP.val)(t.template.getMapOfValidSequenceTracks_forStudio()),r),s=void 0!==o&&0!==Object.keys(o).length,l=[],u=(0,PP.val)(t.template.getStaticButNotSequencedOverrides()),c=void 0!==wM(null!=u?u:EP,r);if(s)for(let e of LC(n,[])){if(IC(e.conf))continue;let t=wM(o,e.path);"string"!=typeof t?c=!0:l.push(t)}if((c||s)&&i.push({label:"Reset all to default",callback:()=>{O().transaction((t=>{let{unset:n}=t;n(e)}))}}),s&&i.push({label:"Make all static",callback:()=>{O().transaction((i=>{let{stateEditors:a}=i;for(let{path:o,conf:s}of LC(n,[])){if(IC(s))continue;let n=x(w({},t.address),{pathToProp:[...r,...o]}),i=EM(e,o);a.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(x(w({},n),{value:t.getValueByPointer(i)}))}}))}}),(!s||s&&c)&&i.push({label:"Sequence all",callback:()=>{O().transaction((e=>{let{stateEditors:i}=e;for(let{path:a,conf:o}of LC(n,r)){if(IC(o))continue;let e=x(w({},t.address),{pathToProp:a});i.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(e,n)}}))}}),s){let n=PP.prism.memo("controlIndicators",(()=>TP.default.createElement(MP,{pointerToProp:e,obj:t,possibleSequenceTrackIds:o,listOfDescendantTrackIds:l})),[o,l]);return x(w({},a),{type:"HasSequences",controlIndicators:n})}return x(w({},a),{type:"AllStatic",controlIndicators:TP.default.createElement(uP,{hasStaticOverride:c,obj:t,pathToProp:r,propConfig:n})})}),[])}(t,n,r),[h]=gM(d,{menuItems:f.contextMenuItems}),p=l.length>0,m=(0,sT.useMemo)((()=>DP.getIsPropHighlightedD(x(w({},n.address),{pathToProp:(0,oT.getPointerParts)(t).path}))),[t]),g="".concat(n.address.projectId,",").concat(n.address.sheetId,",").concat(n.address.sheetInstanceId,",").concat(n.address.objectKey,",").concat((0,oT.getPointerParts)(t).path.join()),v=ET(r);(0,sT.useLayoutEffect)((()=>{PT.has(g)||PT.set(g,new oT.Atom(v))}),[g,r]);let y=PT.get(g),b=jf((()=>y?(0,lT.val)(y.pointer):v),[y]);return sT.default.createElement(cT,null,h,sT.default.createElement(fT,{style:{"--depth":i-1}},sT.default.createElement(pT,{isVectorProp:v},sT.default.createElement(gT,null,f.controlIndicators),sT.default.createElement(yT,{isHighlighted:m,ref:c},sT.default.createElement("span",null,o||"Props")),sT.default.createElement(wT,{isCollapsed:b,isVector:v,onClick:()=>{null==y||y.set(!y.get())}},sT.default.createElement(C_,null))),v&&b&&sT.default.createElement(CT,null,[...s].map((e=>{let[r,i]=e;return sT.default.createElement(iT,{key:"prop-"+r,propConfig:i,pointerToProp:t[r],obj:n})})))),!b&&sT.default.createElement(ST,{style:{"--depth":i},depth:i,lastSubIsComposite:p},[...u,...l].map((e=>{let[r,a]=e;return sT.default.createElement(ZT,{key:"prop-"+r,propConfig:a,pointerToProp:t[r],obj:n,visualIndentation:i+1})}))))}var oT,sT,lT,uT,cT,dT,fT,hT,pT,mT,gT,vT,yT,bT,wT,xT,_T,ST,ET,kT,CT,MT,PT,TT=S((()=>{XC(),oT=n(5194),ad(),Zm(),sT=M(zf()),qp(),KC(),YC(),Cy(),ty(),$T(),bM(),AP(),NP(),ZP(),Ux(),rT(),eh(),lT=n(5194),L_(),RC(),cT=Gp.div(uT||(uT=T(["\n  --step: 15px;\n  --left-pad: 15px;\n  ",";\n  --right-width: 60%;\n"])),ay),fT=Gp.div(dT||(dT=T(["\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n"]))),pT=Gp.div(hT||(hT=T(["\n  padding-left: ",";\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  ",";\n"])),NC,(e=>{let{isVectorProp:t}=e;return t?"width: calc(100% - var(--right-width))":""})),gT=Gp.div(mT||(mT=T(["\n  flexshrink: 0;\n"]))),yT=KP(Gp.div(vT||(vT=T(["\n  margin-left: 4px;\n  cursor: default;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  user-select: none;\n  &:hover {\n    color: white;\n  }\n  overflow: hidden;\n\n  ",";\n"])),(()=>jC))),wT=Gp.span(bT||(bT=T(["\n  width: 28px;\n  height: 28px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  visibility: ",";\n\n  ",":hover & {\n    visibility: visible;\n  }\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),(e=>e.isCollapsed?0:90),(e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden"),fT,(e=>e.isCollapsed?15:75)),xT=Ym(.05,"#282b2f"),ST=Gp.div(_T||(_T=T(["\n  /* background: ","; */\n  /* padding: "," 0; */\n"])),(e=>{let{depth:t}=e;return qm(.03*t,xT)}),(e=>e.lastSubIsComposite?0:"4px")),ET=AC((e=>{let t=Object.entries(e.props);return t.length<=3&&t.every((e=>{let[t,n]=e;return"number"===n.type&&["x","y","z"].includes(t)}))})),CT=Gp.div(kT||(kT=T(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"]))),MT=sT.default.memo(aT),PT=new Map}));function AT(e){let{isHighlighted:t}=e;return"self"===t?"#1857a4":"descendent"===t?"#0a2f5c":"initial"}var RT=S((()=>{}));function IT(e){let{propConfig:t,pointerToProp:n,editingTools:r,children:i,isPropHighlightedD:a}=e;var o;let s=null!=(o=t.label)?o:id((0,OT.getPointerParts)(n).path),[l,u]=$v(null),[c]=gM(u,{menuItems:r.contextMenuItems});return zT.default.createElement(DT,{isHighlighted:a},c,zT.default.createElement(UT,null,zT.default.createElement(VT,null,r.controlIndicators),zT.default.createElement(FT,{isHighlighted:a,ref:l,title:["obj","props",...(0,OT.getPointerParts)(n).path].join(".")},s)),zT.default.createElement(WT,null,i))}var OT,zT,LT,DT,NT,UT,jT,FT,BT,VT,HT,WT,GT=S((()=>{OT=n(5194),bM(),ty(),Rf(),zT=M(zf()),qp(),Cy(),YC(),ZP(),KC(),RT(),DT=KP(Gp.div(LT||(LT=T(["\n  display: flex;\n  height: 30px;\n  justify-content: flex-start;\n  align-items: stretch;\n  // We cannot calculate both the container (details panel) width and the descendant\n  // (this) width dynamically. This leads to the container width being calculated\n  // without this percentage being taken into consideration leads to horizontal\n  // clipping/scrolling--the same way as if we explicitly fixed either the container\n  // width, or the descendant width.\n  // The correct solution for tabulated UIs with dynamic container widths is to use\n  // CSS grid. For now I fixed this issue by just giving a great enough width\n  // to the details panel so most things don't break.\n  --right-width: 60%;\n  position: relative;\n  ",";\n\n  /* background-color: ","; */\n"])),ay,AT)),UT=Gp.div(NT||(NT=T(["\n  box-sizing: border-box;\n  padding-left: ",";\n  padding-right: 4px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 4px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(100% - var(--right-width));\n"])),NC),FT=KP(Gp.div(jT||(jT=T(["\n  text-align: left;\n  flex: 1 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  cursor: default;\n\n  ",";\n  &:hover {\n    color: white;\n  }\n"])),jC)),VT=Gp.div(BT||(BT=T(["\n  flex-basis: 8px;\n  flex: 0 0;\n  display: flex;\n  align-items: center;\n"]))),WT=Gp.div(HT||(HT=T(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])))}));function qT(e){let{propConfig:t,pointerToProp:n,obj:r,SimpleEditorComponent:i}=e,a=$P(n,r,t),o=(0,XT.useMemo)((()=>DP.getIsPropHighlightedD(x(w({},r.address),{pathToProp:(0,KT.getPointerParts)(n).path}))),[n]);return XT.default.createElement(IT,{editingTools:a,propConfig:t,pointerToProp:n,isPropHighlightedD:o},XT.default.createElement(i,{editingTools:a,propConfig:t,value:a.value}))}var XT,KT,YT,QT,ZT,JT=S((()=>{XT=M(zf()),rT(),GT(),KT=n(5194),NP(),YT=XT.default.memo(qT)})),$T=S((()=>{QT=M(zf()),TC(),TT(),JT(),ZT=e=>{let{propConfig:t,visualIndentation:n,pointerToProp:r,obj:i}=e;if("compound"===t.type)return QT.default.createElement(MT,{obj:i,visualIndentation:n,pointerToProp:r,propConfig:t});if("enum"===t.type)return QT.default.createElement(QT.default.Fragment,null);{let e=MC[t.type];return QT.default.createElement(YT,{SimpleEditorComponent:e,obj:i,visualIndentation:n,pointerToProp:r,propConfig:t})}}}));function eA(e){return tA.has(e)||tA.set(e,(nA++).toString()),tA.get(e)}var tA,nA,rA,iA,aA,oA,sA,lA,uA,cA,dA,fA,hA=S((()=>{tA=new WeakMap,nA=0})),pA=S((()=>{rA=M(zf()),$T(),eh(),hA(),qp(),aA=Gp.div(iA||(iA=T(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n"]))),sA=Gp.button(oA||(oA=T(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  border-radius: 2px;\n\n  color: #a8a8a9;\n  background: rgba(255, 255, 255, 0.1);\n\n  border: none;\n  height: 28px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"]))),lA=e=>{let{objects:t}=e,n=t[0],r=qf(n.template.configPointer),i=qf(n.template._temp_actionsPointer);return rA.default.createElement(rA.default.Fragment,null,rA.default.createElement(ZT,{key:eA(n),obj:n,pointerToProp:n.propsP,propConfig:r,visualIndentation:1}),rA.default.createElement(aA,null,i&&Object.entries(i).map((e=>{let[t,r]=e;return rA.default.createElement(sA,{key:t,onClick:()=>{r(n.publicApi)}},t)}))))}})),mA=S((()=>{qp(),cA=Gp.button(uA||(uA=T(["\n  text-align: center;\n  padding: 8px;\n  border-radius: 2px;\n  border: 1px solid #627b7b87;\n  background-color: #4b787d3d;\n  color: #eaeaea;\n  font-weight: 400;\n  display: block;\n  appearance: none;\n  flex-grow: 1;\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    background-color: #7dc1c878;\n    border-color: #9ebcbf;\n  }\n"])),(e=>e.disabled?"none":"pointer"),(e=>e.disabled?.4:1)),dA=cA})),gA=S((()=>{})),vA=S((()=>{gA(),fA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}}));function yA(){return fA(16)}var bA,wA,xA,_A,SA,EA,kA=S((()=>{vA()})),CA=S((()=>{bA=n(5194),ty(),wA=M(zf()),xA=(0,wA.createContext)(null),_A=0,SA=()=>{let e=(0,wA.useMemo)((()=>_A++),[]),{cur:t,set:n}=(0,wA.useContext)(xA),[r,i]=$v(!1),a=(0,wA.useCallback)(((t,r)=>{n(t?e:-1,r)}),[]);return(0,wA.useEffect)((()=>t.onStale((()=>{let n=t.getValue()===e;r.current!==n&&(r.current=n)}))),[t,e]),[i,a]},EA=e=>{let{children:t}=e,n=(0,wA.useMemo)((()=>new bA.Atom(-1)),[]),r=n.prism,i=(0,wA.useMemo)((()=>{let e;return(t,r)=>{let i=void 0!==e;void 0!==e&&(clearTimeout(e),e=void 0),0===r||i?n.set(t):e=setTimeout((()=>{n.set(t),e=void 0}),r)}}),[]);return wA.default.createElement(xA.Provider,{value:{cur:r,set:i}},t)}}));function MA(e,t){let n=!1!==e.enabled,[r,i]=SA(),[a,o]=$v(null);(0,TA.useEffect)((()=>{if(!n)return;let t=a.current;if(!t)return;let r=()=>{var t;return i(!0,null!=(t=e.enterDelay)?t:400)},o=()=>{var t;return i(!1,null!=(t=e.exitDelay)?t:200)};return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",o),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",o)}}),[a,n,e.enterDelay,e.exitDelay]);let s=(0,PA.useContext)(Kv);return[n&&r&&o?(0,RA.createPortal)(AA.default.createElement(ok,{children:t,target:o,onClickOutside:ky,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),s):AA.default.createElement(AA.default.Fragment,null),a,r]}var PA,TA,AA,RA,IA,OA,zA,LA,DA,NA,UA,jA,FA,BA,VA,HA,WA,GA,qA,XA,KA,YA,QA,ZA,JA,$A,eR,tR,nR,rR,iR,aR,oR,sR,lR,uR,cR,dR,fR=S((()=>{ty(),PA=M(zf()),TA=M(zf()),AA=M(zf()),lk(),RA=M(Uf()),CA(),Jv(),Py()})),hR=S((()=>{qp(),zk(),OA=Gp(Rk)(IA||(IA=T(["\n  padding: 1em;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: #45464d;\n"]))),zA=OA})),pR=S((()=>{eh(),L(),LA=M(zf()),qp(),kA(),fR(),hR(),mA(),NA=Gp.div(DA||(DA=T(["\n  padding: 8px 10px;\n  position: relative;\n  background-color: #6d232352;\n  &:before {\n    position: absolute;\n    content: ' ';\n    display: block;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: #ff000070;\n  }\n"]))),jA=Gp.div(UA||(UA=T(["\n  margin-bottom: 1em;\n  & a {\n    color: inherit;\n  }\n"]))),BA=Gp.div(FA||(FA=T(["\n  display: flex;\n  gap: 8px;\n"]))),VA=e=>{let{projectId:t}=e,n=qf(O().atomP.ephemeral.coreByProject[t].loadingState);return n&&"browserStateIsNotBasedOnDiskState"===n.type?LA.default.createElement(HA,{loadingState:n,projectId:t}):null},HA=e=>{let{projectId:t,loadingState:n}=e,[r,i]=MA({},(()=>LA.default.createElement(zA,null,"The browser's state will override the disk state."))),[a,o]=MA({},(()=>LA.default.createElement(zA,null,"The disk's state will override the browser's state.")));return LA.default.createElement(NA,null,LA.default.createElement(jA,null,"Browser state is not based on disk state."," ",LA.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),LA.default.createElement(BA,null,r,LA.default.createElement(dA,{onClick:()=>{O().transaction((e=>{let{drafts:r,stateEditors:i}=e;i.coreByProject.historic.revisionHistory.add({projectId:t,revision:n.onDiskState.revisionHistory[0]}),i.coreByProject.historic.revisionHistory.add({projectId:t,revision:yA()}),r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:i},"Use browser's state"),a,LA.default.createElement(dA,{onClick:()=>{O().transaction((e=>{let{drafts:r}=e;r.historic.coreByProject[t]=n.onDiskState,r.ephemeral.coreByProject[t].loadingState={type:"loaded"}}))},ref:o},"Use disk state")))},WA=VA})),mR=E(((o,s)=>{var l;l=function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,s,l,u,c=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,i=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|i>>6:64,u=2<h?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,o,s,l,u=0,c=0,d="data:";if(e.substr(0,5)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(o=a.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=a.indexOf(e.charAt(u++))),f[c++]=t,64!==s&&(f[c++]=n),64!==l&&(f[c++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=i,o=0+n;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t[s])];return~e}(0|t,e,e.length):function(e,t,n,r){var a=i,o=0+n;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,c){var d,f,h=e.file,p=e.compression,m=c!==s.utf8encode,g=a.transformTo("string",c(h.name)),v=a.transformTo("string",s.utf8encode(h.name)),y=h.comment,b=a.transformTo("string",c(y)),w=a.transformTo("string",s.utf8encode(y)),x=v.length!==h.name.length,_=w.length!==y.length,S="",E="",k="",C=h.dir,M=h.date,P={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(P.crc32=e.crc32,P.compressedSize=e.compressedSize,P.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!x&&!_||(T|=2048);var A=0,R=0;C&&(A|=16),"UNIX"===o?(R=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(R=20,A|=63&(h.dosPermissions||0)),d=M.getUTCHours(),d<<=6,d|=M.getUTCMinutes(),d<<=5,d|=M.getUTCSeconds()/2,f=M.getUTCFullYear()-1980,f<<=4,f|=M.getUTCMonth()+1,f<<=5,f|=M.getUTCDate(),x&&(E=r(1,1)+r(l(g),4)+v,S+="up"+r(E.length,2)+E),_&&(k=r(1,1)+r(l(b),4)+w,S+="uc"+r(k.length,2)+k);var I="";return I+="\n\0",I+=r(T,2),I+=p.magic,I+=r(d,2),I+=r(f,2),I+=r(P.crc32,4),I+=r(P.compressedSize,4),I+=r(P.uncompressedSize,4),I+=r(g.length,2),I+=r(S.length,2),{fileRecord:u.LOCAL_FILE_HEADER+I+g+S,dirRecord:u.CENTRAL_FILE_HEADER+r(R,2)+I+r(b.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+g+S+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,a=i(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),n)this.push({data:(t=e,u.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo("string",o(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(r){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(s){a.error(s)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(u(r[a]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,u=r.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=p(e))&&g.call(this,r,!0);var d,v="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!v),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),d=t instanceof u||t instanceof o?t:f.isNode&&f.isStream(t)?new h(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new c(e,d,s);this.files[e]=y}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(l){(t=new o("error")).error(l)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function c(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(s){this._worker=new a("error"),this._worker.error(s)}}c.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(n,i){var a=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),u);n(e)}catch(t){i(t)}a=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(a){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(a){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,l=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)l[n++]=i;else if(4<(a=s[i]))l[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,o),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(a){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var f={};f.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},f.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&a.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,u){return o.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c,d=n.getTypeOf(t);return d?("arraybuffer"===d?t=n.transformTo("uint8array",t):"string"===d&&(u?t=i.decode(t):a&&!0!==s&&(t=l(c=t,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(s){(t=new l("error")).error(s)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(i){return a.reject(e,i)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p((function(){t(i,r)}));"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(u,o))}),(function(e){r||(r=!0,a.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t,n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)t=e[o],this.resolve(t).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(o[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,o))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==o||(this.onEnd(u),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(f="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),u=h.next_out-l,d=a.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=o=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(a=o[i]))u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e,a=e>>>16&65535,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return~e}},{}],46:[function(e,t,n){var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=0,d=-2,f=2,h=8,p=286,m=30,g=19,v=2*p+1,y=15,b=3,w=258,x=w+b+1,_=42,S=113;function E(e,t){return e.msg=l[t],t}function k(e){return(e<<1)-(4<e?9:0)}function C(e){for(var t=e.length;0<=--t;)e[t]=0}function M(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,M(e.strm)}function T(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function R(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-x?e.strstart-(e.w_size-x):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+w,h=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===p&&u[n+o-1]===h&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(r=w-(f-a),a=f-w,o<r){if(e.match_start=t,s<=(o=r))break;h=u[a+o-1],p=u[a+o]}}}while((t=d[t&c])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function I(e){var t,n,r,a,l,u,c,d,f,h,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-x)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);a+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,h=void 0,(f=a)<(h=u.avail_in)&&(h=f),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,d),1===u.state.wrap?u.adler=o(u.adler,c,h,d):2===u.state.wrap&&(u.adler=s(u.adler,c,h,d)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=b)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+b-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<b)););}while(e.lookahead<x&&0!==e.strm.avail_in)}function O(e,t){for(var n,r;;){if(e.lookahead<x){if(I(e),e.lookahead<x&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-x&&(e.match_length=R(e,n)),e.match_length>=b)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-b),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=b){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(P(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(P(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?1:2}function z(e,t){for(var n,r,i;;){if(e.lookahead<x){if(I(e),e.lookahead<x&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=b-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-x&&(e.match_length=R(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===b&&4096<e.strstart-e.match_start)&&(e.match_length=b-1)),e.prev_length>=b&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-b,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-b),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=b-1,e.strstart++,r&&(P(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(P(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?1:2}function L(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*v),this.dyn_dtree=new i.Buf16(2*(2*m+1)),this.bl_tree=new i.Buf16(2*(2*g+1)),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(y+1),this.heap=new i.Buf16(2*p+1),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*p+1),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function N(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?_:S,e.adler=2===t.wrap?0:1,t.last_flush=u,a._tr_init(t),c):E(e,d)}function U(e){var t,n=N(e);return n===c&&((t=e.state).window_size=2*t.w_size,C(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=b-1,t.match_available=0,t.ins_h=0),n}function j(e,t,n,r,a,o){if(!e)return d;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||9<a||n!==h||r<8||15<r||t<0||9<t||o<0||4<o)return E(e,d);8===r&&(r=9);var l=new D;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+b-1)/b),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,U(e)}r=[new L(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(I(e),0===e.lookahead&&t===u)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,P(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-x&&(P(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(P(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),1)})),new L(4,4,8,4,O),new L(4,5,16,8,O),new L(4,6,32,32,O),new L(4,4,16,16,z),new L(8,16,32,32,z),new L(8,16,128,128,z),new L(8,32,128,256,z),new L(32,128,258,1024,z),new L(32,258,258,4096,z)],n.deflateInit=function(e,t){return j(e,t,h,15,8,0)},n.deflateInit2=j,n.deflateReset=U,n.deflateResetKeep=N,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,c):d},n.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||5<t||t<0)return e?E(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return E(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===_)if(2===i.wrap)e.adler=0,T(i,31),T(i,139),T(i,8),i.gzhead?(T(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),T(i,255&i.gzhead.time),T(i,i.gzhead.time>>8&255),T(i,i.gzhead.time>>16&255),T(i,i.gzhead.time>>24&255),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(T(i,255&i.gzhead.extra.length),T(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(T(i,0),T(i,0),T(i,0),T(i,0),T(i,0),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,3),i.status=S);else{var f=h+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=S,A(i,f),0!==i.strstart&&(A(i,e.adler>>>16),A(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),M(e),o=i.pending,i.pending!==i.pending_buf_size));)T(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),M(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,T(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),M(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,T(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&M(e),i.pending+2<=i.pending_buf_size&&(T(i,255&e.adler),T(i,e.adler>>8&255),e.adler=0,i.status=S)):i.status=S),0!==i.pending){if(M(e),0===e.avail_out)return i.last_flush=-1,c}else if(0===e.avail_in&&k(t)<=k(n)&&4!==t)return E(e,-5);if(666===i.status&&0!==e.avail_in)return E(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(I(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(P(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=w){if(I(e),e.lookahead<=w&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=b&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+w;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=w-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=b?(n=a._tr_tally(e,1,e.match_length-b),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(P(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==p&&4!==p||(i.status=666),1===p||3===p)return 0===e.avail_out&&(i.last_flush=-1),c;if(2===p&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(C(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),M(e),0===e.avail_out))return i.last_flush=-1,c}return 4!==t?c:i.wrap<=0?1:(2===i.wrap?(T(i,255&e.adler),T(i,e.adler>>8&255),T(i,e.adler>>16&255),T(i,e.adler>>24&255),T(i,255&e.total_in),T(i,e.total_in>>8&255),T(i,e.total_in>>16&255),T(i,e.total_in>>24&255)):(A(i,e.adler>>>16),A(i,65535&e.adler)),M(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?c:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==_&&69!==t&&73!==t&&91!==t&&103!==t&&t!==S&&666!==t?E(e,d):(e.state=null,t===S?E(e,-3):c):d},n.deflateSetDictionary=function(e,t){var n,r,a,s,l,u,f,h,p=t.length;if(!e||!e.state||2===(s=(n=e.state).wrap)||1===s&&n.status!==_||n.lookahead)return d;for(1===s&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(C(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,I(n);n.lookahead>=b;){for(r=n.strstart,a=n.lookahead-(b-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+b-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=b-1,I(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,e.next_in=u,e.input=f,e.avail_in=l,n.wrap=s,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,i,a,o,s,l,u,c,d,f,h,p,m,g,v,y,b,w,x,_,S,E,k,C;n=e.state,r=e.next_in,k=e.input,i=r+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=m[h&v];t:for(;;){if(h>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[a++]=65535&b;else{if(!(16&w)){if(!(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(h+=k[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=k[r++]<<p,p+=8,h+=k[r++]<<p,p+=8),b=g[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(!(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(w&=15)&&(h+=k[r++]<<p,(p+=8)<w&&(h+=k[r++]<<p,p+=8)),l<(_+=h&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,(w=a-o)<_){if(c<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=f,(S=0)===d){if(S+=u-w,w<x){for(x-=w;C[a++]=f[S++],--w;);S=a-_,E=C}}else if(d<w){if(S+=u+d-w,(w-=d)<x){for(x-=w;C[a++]=f[S++],--w;);if(S=0,d<x){for(x-=w=d;C[a++]=f[S++],--w;);S=a-_,E=C}}}else if(S+=d-w,w<x){for(x-=w;C[a++]=f[S++],--w;);S=a-_,E=C}for(;2<x;)C[a++]=E[S++],C[a++]=E[S++],C[a++]=E[S++],x-=3;x&&(C[a++]=E[S++],1<x&&(C[a++]=E[S++]))}else{for(S=a-_;C[a++]=C[S++],C[a++]=C[S++],C[a++]=C[S++],2<(x-=3););x&&(C[a++]=C[S++],1<x&&(C[a++]=C[S++]))}break}}break}}while(r<i&&a<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=0,u=-2,c=1,d=852,f=592;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=c,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(d),t.distcode=t.distdyn=new r.Buf32(f),t.sane=1,t.back=-1,l):u}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):u}function v(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,g(e))):u}function y(e,t){var n,r;return e?(r=new p,(e.state=r).window=null,(n=v(e,t))!==l&&(e.state=null),n):u}var b,w,x=!0;function _(e){if(x){var t;for(b=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,w,0,e.work,{bits:5}),x=!1}e.lencode=b,e.lenbits=9,e.distcode=w,e.distbits=5}function S(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=g,n.inflateReset2=v,n.inflateResetKeep=m,n.inflateInit=function(e){return y(e,15)},n.inflateInit2=y,n.inflate=function(e,t){var n,d,f,p,m,g,v,y,b,w,x,E,k,C,M,P,T,A,R,I,O,z,L,D,N=0,U=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;12===(n=e.state).mode&&(n.mode=13),m=e.next_out,f=e.output,v=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,w=g,x=v,z=l;e:for(;;)switch(n.mode){case c:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(2&n.wrap&&35615===y){U[n.check=0]=255&y,U[1]=y>>>8&255,n.check=a(n.check,U,2,0),b=y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,O=8+(15&(y>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&y?10:12,b=y=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(U[0]=255&y,U[1]=y>>>8&255,n.check=a(n.check,U,2,0)),b=y=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(U[0]=255&y,U[1]=y>>>8&255,U[2]=y>>>16&255,U[3]=y>>>24&255,n.check=a(n.check,U,4,0)),b=y=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(U[0]=255&y,U[1]=y>>>8&255,n.check=a(n.check,U,2,0)),b=y=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(U[0]=255&y,U[1]=y>>>8&255,n.check=a(n.check,U,2,0)),b=y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(g<(E=n.length)&&(E=g),E&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,p,E,O)),512&n.flags&&(n.check=a(n.check,d,E,p)),g-=E,p+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;for(E=0;O=d[p+E++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&E<g;);if(512&n.flags&&(n.check=a(n.check,d,E,p)),g-=E,p+=E,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;for(E=0;O=d[p+E++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&E<g;);if(512&n.flags&&(n.check=a(n.check,d,E,p)),g-=E,p+=E,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}e.adler=n.check=h(y),b=y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;y>>>=2,b-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,b=y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(g<E&&(E=g),v<E&&(E=v),0===E)break e;r.arraySet(f,d,p,E,m),g-=E,p+=E,v-=E,m+=E,n.length-=E;break}n.mode=12;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.lens[j[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},z=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,z){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((M=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(T<16)y>>>=M,b-=M,n.lens[n.have++]=T;else{if(16===T){for(D=M+2;b<D;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y>>>=M,b-=M,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],E=3+(3&y),y>>>=2,b-=2}else if(17===T){for(D=M+3;b<D;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}b-=M,O=0,E=3+(7&(y>>>=M)),y>>>=3,b-=3}else{for(D=M+7;b<D;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}b-=M,O=0,E=11+(127&(y>>>=M)),y>>>=7,b-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},z=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,z){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},z=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,z){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=g&&258<=v){e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,o(e,x),m=e.next_out,f=e.output,v=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,y=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(N=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&N,!((M=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(P&&!(240&P)){for(A=M,R=P,I=T;P=(N=n.lencode[I+((y&(1<<A+R)-1)>>A)])>>>16&255,T=65535&N,!(A+(M=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}y>>>=A,b-=A,n.back+=A}if(y>>>=M,b-=M,n.back+=M,n.length=T,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(D=n.extra;b<D;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(N=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&N,!((M=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(!(240&P)){for(A=M,R=P,I=T;P=(N=n.distcode[I+((y&(1<<A+R)-1)>>A)])>>>16&255,T=65535&N,!(A+(M=N>>>24)<=b);){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}y>>>=A,b-=A,n.back+=A}if(y>>>=M,b-=M,n.back+=M,64&P){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(D=n.extra;b<D;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(E=x-v,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}k=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),C=n.window}else C=f,k=m-n.offset,E=n.length;for(v<E&&(E=v),v-=E,n.length-=E;f[m++]=C[k++],--E;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=d[p++]<<b,b+=8}if(x-=v,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?a(n.check,f,x,m-x):i(n.check,f,x,m-x)),x=v,(n.flags?y:h(y))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=d[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}b=y=0}n.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;default:return u}return e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,x-=e.avail_out,e.total_in+=w,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?a(n.check,f,x,e.next_out-x):i(n.check,f,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===x||4===t)&&z===l&&(z=-5),z)},n.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,l):u},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,d,f){var h,p,m,g,v,y,b,w,x,_=f.bits,S=0,E=0,k=0,C=0,M=0,P=0,T=0,A=0,R=0,I=0,O=null,z=0,L=new r.Buf16(16),D=new r.Buf16(16),N=null,U=0;for(S=0;S<=15;S++)L[S]=0;for(E=0;E<l;E++)L[t[n+E]]++;for(M=_,C=15;1<=C&&0===L[C];C--);if(C<M&&(M=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(k=1;k<C&&0===L[k];k++);for(M<k&&(M=k),S=A=1;S<=15;S++)if(A<<=1,(A-=L[S])<0)return-1;if(0<A&&(0===e||1!==C))return-1;for(D[1]=0,S=1;S<15;S++)D[S+1]=D[S]+L[S];for(E=0;E<l;E++)0!==t[n+E]&&(d[D[t[n+E]]++]=E);if(y=0===e?(O=N=d,19):1===e?(O=i,z-=257,N=a,U-=257,256):(O=o,N=s,-1),S=k,v=c,T=E=I=0,m=-1,g=(R=1<<(P=M))-1,1===e&&852<R||2===e&&592<R)return 1;for(;;){for(b=S-T,x=d[E]<y?(w=0,d[E]):d[E]>y?(w=N[U+d[E]],O[z+d[E]]):(w=96,0),h=1<<S-T,k=p=1<<P;u[v+(I>>T)+(p-=h)]=b<<24|w<<16|x,0!==p;);for(h=1<<S-1;I&h;)h>>=1;if(0!==h?(I&=h-1,I+=h):I=0,E++,0==--L[S]){if(S===C)break;S=t[n+d[E]]}if(M<S&&(I&g)!==m){for(0===T&&(T=M),v+=k,A=1<<(P=S-T);P+T<C&&!((A-=L[P+T])<=0);)P++,A<<=1;if(R+=1<<P,1===e&&852<R||2===e&&592<R)return 1;u[m=I&g]=M<<24|P<<16|v-c}}return 0!==I&&(u[v+I]=S-T<<24|64<<16),f.bits=M,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=256,o=286,s=30,l=15,u=16,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var m=new Array(60);i(m);var g=new Array(512);i(g);var v=new Array(256);i(v);var y=new Array(29);i(y);var b,w,x,_=new Array(s);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?g[e]:g[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,n){e.bi_valid>u-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>u-e.bi_valid,e.bi_valid+=n-u):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){M(e,n[2*t],n[2*t+1])}function T(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function A(e,t,n){var r,i,a=new Array(l+1),o=0;for(r=1;r<=l;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function R(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){8<e.bi_valid?C(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function z(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function L(e,t,n){var r,i,o,s,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?P(e,i,t):(P(e,(o=v[i])+a+1,t),0!==(s=c[o])&&M(e,i-=y[o],s),P(e,o=k(--r),n),0!==(s=d[o])&&M(e,r-=_[o],s)),l<e.last_lit;);P(e,256,t)}function D(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)z(e,a,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],z(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,z(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=l;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(a=m,g++),u[2*r+1]=a,c<r||(e.bl_count[a]++,o=0,p<=r&&(o=h[r-p]),s=u[2*r],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(d[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),A(a,c,e.bl_count)}function N(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function U(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<u)for(;P(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(P(e,i,e.bl_tree),s--),P(e,16,e.bl_tree),M(e,s-3,2)):s<=10?(P(e,17,e.bl_tree),M(e,s-3,3)):(P(e,18,e.bl_tree),M(e,s-11,7));a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(_);var j=!1;function F(e,t,n,i){var a,o,s;M(e,0+(i?1:0),3),o=t,s=n,I(a=e),C(a,s),C(a,~s),r.arraySet(a.pending_buf,a.window,o,s,a.pending),a.pending+=s}n._tr_init=function(e){j||(function(){var e,t,n,r,i,a=new Array(l+1);for(r=n=0;r<28;r++)for(y[r]=n,e=0;e<1<<c[r];e++)v[n++]=r;for(v[n-1]=r,r=i=0;r<16;r++)for(_[r]=i,e=0;e<1<<d[r];e++)g[i++]=r;for(i>>=7;r<s;r++)for(_[r]=i<<7,e=0;e<1<<d[r]-7;e++)g[256+i++]=r;for(t=0;t<=l;t++)a[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,a[8]++;for(;e<=255;)p[2*e+1]=9,e++,a[9]++;for(;e<=279;)p[2*e+1]=7,e++,a[7]++;for(;e<=287;)p[2*e+1]=8,e++,a[8]++;for(A(p,287,a),e=0;e<s;e++)m[2*e+1]=5,m[2*e]=T(e,5);b=new S(p,c,257,o,l),w=new S(m,d,0,s,l),x=new S(new Array(0),f,0,19,7)}(),j=!0),e.l_desc=new E(e.dyn_ltree,b),e.d_desc=new E(e.dyn_dtree,w),e.bl_desc=new E(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,R(e)},n._tr_stored_block=F,n._tr_flush_block=function(e,t,n,r){var i,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?F(e,t,n,r):4===e.strategy||o===i?(M(e,2+(r?1:0),3),L(e,p,m)):(M(e,4+(r?1:0),3),function(e,t,n,r){var i;for(M(e,t-257,5),M(e,n-1,5),M(e,r-4,4),i=0;i<r;i++)M(e,e.bl_tree[2*h[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),L(e,e.dyn_ltree,e.dyn_dtree)),R(e),r&&I(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+a+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;M(e,2,3),P(e,256,p),16===(t=e).bi_valid?(C(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){if(!e.setImmediate){var n,r,i,a,o=1,s={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[o]=i,n(o),o++},c.clearImmediate=d}function d(e){delete s[e]}function f(e){if(l)setTimeout(f,0,e);else{var n=s[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},"object"==typeof o&&"undefined"!=typeof s?s.exports=l():(i=[],void 0===(a="function"===typeof(r=l)?r.apply(t,i):r)||(e.exports=a))})),gR=S((()=>{GA=M(zf(),1),qA=M(zf(),1),XA=e=>"function"==typeof e,KA=(e,t)=>XA(e)?e(t):e,YA=(()=>{let e=0;return()=>(++e).toString()})(),(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),QA=new Map,ZA=e=>{if(QA.has(e))return;let t=setTimeout((()=>{QA.delete(e),nR({type:4,toastId:e})}),1e3);QA.set(e,t)},JA=e=>{let t=QA.get(e);t&&clearTimeout(t)},$A=(e,t)=>{switch(t.type){case 0:return x(w({},e),{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return t.toast.id&&JA(t.toast.id),x(w({},e),{toasts:e.toasts.map((e=>e.id===t.toast.id?w(w({},e),t.toast):e))});case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?$A(e,{type:1,toast:n}):$A(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?ZA(r):e.toasts.forEach((e=>{ZA(e.id)})),x(w({},e),{toasts:e.toasts.map((e=>e.id===r||void 0===r?x(w({},e),{visible:!1}):e))});case 4:return void 0===t.toastId?x(w({},e),{toasts:[]}):x(w({},e),{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return x(w({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return x(w({},e),{pausedAt:void 0,toasts:e.toasts.map((e=>x(w({},e),{pauseDuration:e.pauseDuration+i})))})}},eR=[],tR={toasts:[],pausedAt:void 0},nR=e=>{tR=$A(tR,e),eR.forEach((e=>{e(tR)}))},rR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,GA.useState)(tR);(0,GA.useEffect)((()=>(eR.push(n),()=>{let e=eR.indexOf(n);e>-1&&eR.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return x(w(w(w({},e),e[t.type]),t),{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||rR[t.type],style:w(w(w({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return x(w({},t),{toasts:r})},aR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return x(w({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(null==n?void 0:n.id)||YA()})},(sR=(e,t)=>oR("blank")(e,t)).error=(oR=e=>(t,n)=>{let r=aR(t,e,n);return nR({type:2,toast:r}),r.id})("error"),sR.success=oR("success"),sR.loading=oR("loading"),sR.custom=oR("custom"),sR.dismiss=e=>{nR({type:3,toastId:e})},sR.remove=e=>nR({type:4,toastId:e}),sR.promise=(e,t,n)=>{let r=sR.loading(t.loading,w(w({},n),null==n?void 0:n.loading));return e.then((e=>(sR.success(KA(t.success,e),w(w({id:r},n),null==n?void 0:n.success)),e))).catch((e=>{sR.error(KA(t.error,e),w(w({id:r},n),null==n?void 0:n.error))})),e},lR=(e,t)=>{nR({type:1,toast:{id:e,height:t}})},uR=()=>{nR({type:5,time:Date.now()})},cR=e=>{let{toasts:t,pausedAt:n}=iR(e);(0,qA.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>sR.dismiss(t.id)),n);t.visible&&sR.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,qA.useCallback)((()=>{n&&nR({type:6,time:Date.now()})}),[n]),i=(0,qA.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=n||{},o=t.filter((t=>(t.position||a)===(e.position||a)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:lR,startPause:uR,endPause:r,calculateOffset:i}}},dR=sR}));function vR(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function yR(e,t){if(t){if(IR.test(e))return e.replace(OR,NR)}else if(zR.test(e))return e.replace(LR,NR);return e}function bR(e){return e.replace(UR,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}function wR(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(jR,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}function xR(e,t,n){if(e){let e;try{e=decodeURIComponent(bR(n)).replace(FR,"").toLowerCase()}catch(r){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!BR.test(n)&&(n=function(e,t){VR[" "+e]||(HR.test(e)?VR[" "+e]=e+"/":VR[" "+e]=ER(e,"/",!0)),e=VR[" "+e];let n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(WR,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(GR,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n}function _R(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function SR(e,t){let n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function ER(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function kR(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function CR(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function MR(e,t,n,r){let i=t.href,a=t.title?yR(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:a,text:yR(o)}}function PR(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function TR(e){let t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}function AR(e,t,n){if("undefined"==typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),kR(t=_R({},AR.defaults,t||{})),n){let r,a=t.highlight;try{r=QR.lex(e,t)}catch(i){return n(i)}let o=function(e){let i;if(!e)try{t.walkTokens&&AR.walkTokens(r,t.walkTokens),i=eI.parse(r,t)}catch(o){e=o}return t.highlight=a,e?n(e):n(null,i)};if(!a||a.length<3||(delete t.highlight,!r.length))return o();let s=0;return AR.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((()=>{a(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}function r(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+yR(e.message+"",!0)+"</pre>";throw e}try{let n=QR.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(AR.walkTokens(n,t.walkTokens)).then((()=>eI.parse(n,t))).catch(r);AR.walkTokens(n,t.walkTokens)}return eI.parse(n,t)}catch(a){r(a)}}var RR,IR,OR,zR,LR,DR,NR,UR,jR,FR,BR,VR,HR,WR,GR,qR,XR,KR,YR,QR,ZR,JR,$R,eI,tI,nI,rI,iI,aI,oI,sI,lI,uI,cI,dI,fI,hI,pI,mI,gI,vI,yI,bI,wI,xI,_I,SI,EI,kI,CI,MI,PI,TI,AI,RI,II,OI,zI,LI,DI=S((()=>{RR={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},IR=/[&<>"']/,OR=/[&<>"']/g,zR=/[<>"']|&(?!#?\w+;)/,LR=/[<>"']|&(?!#?\w+;)/g,DR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NR=e=>DR[e],UR=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,jR=/(^|[^\[])\^/g,FR=/[^\w:]/g,BR=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,VR={},HR=/^[^:]+:\/*[^/]*$/,WR=/^([^:]+:)[\s\S]*$/,GR=/^([^:]+:\/*[^/]*)[\s\S]*$/,qR={exec:function(){}},XR=class{constructor(e){this.options=e||RR}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ER(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map((e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=ER(e,"#");(this.options.pedantic||!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,a,o,s,l,u,c,d,f,h,p=t[1].trim(),m=p.length>1,g={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?"\\d{1,9}\\".concat(p.slice(-1)):"\\".concat(p),this.options.pedantic&&(p=m?p:"[*+-]");let v=new RegExp("^( {0,3}".concat(p,")((?:[\t ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,(t=v.exec(e))&&!this.rules.block.hr.test(e));){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0],c=e.split("\n",1)[0],this.options.pedantic?(a=2,f=u.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,f=u.slice(a),a+=t[1].length),s=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),h=!0),!h){let t=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),r=new RegExp("^ {0,".concat(Math.min(3,a-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),i=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:```|~~~)")),o=new RegExp("^ {0,".concat(Math.min(3,a-1),"}#"));for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(i.test(u)||o.test(u)||t.test(u)||r.test(e)));){if(u.search(/[^ ]/)>=a||!u.trim())f+="\n"+u.slice(a);else{if(s)break;f+="\n"+u}!s&&!u.trim()&&(s=!0),n+=d+"\n",e=e.substring(d.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f),r&&(i="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:f}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=f.trimRight(),g.raw=g.raw.trimRight();let y=g.items.length;for(o=0;o<y;o++){this.lexer.state.top=!1,g.items[o].tokens=this.lexer.blockTokens(g.items[o].text,[]);let e=g.items[o].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{let t=e.raw.split(""),n=0;for(let r of t)if("\n"===r&&(n+=1),n>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[o].loose=!0)}return g}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){let n=this.options.sanitizer?this.options.sanitizer(t[0]):yR(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:SR(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,a,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=SR(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,r=0;r<o;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(o=e.rows.length,r=0;r<o;r++)for(a=e.rows[r],i=0;i<a.length;i++)a[i].tokens=this.lexer.inline(a[i].text);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:yR(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):yR(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=ER(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=e.length,r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),MR(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return MR(n,e,n[0],this.lexer)}}emStrong(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){let n,i,a=r[0].length-1,o=a,s=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=n.length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&a%3&&!((a+i)%3)){s+=i;continue}if(o-=i,o>0)continue;if(i=Math.min(i,i+o+s),Math.min(a,i)%2){let t=e.slice(1,a+r.index+i);return{type:"em",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t)}}let t=e.slice(2,a+r.index+i-1);return{type:"strong",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=yR(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=yR(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=yR(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=yR(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=yR(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):yR(n[0]):n[0]:yR(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}},(KR={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qR,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/})._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,KR._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,KR.def=wR(KR.def).replace("label",KR._label).replace("title",KR._title).getRegex(),KR.bullet=/(?:[*+-]|\d{1,9}[.)])/,KR.listItemStart=wR(/^( *)(bull) */).replace("bull",KR.bullet).getRegex(),KR.list=wR(KR.list).replace(/bull/g,KR.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+KR.def.source+")").getRegex(),KR._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",KR._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,KR.html=wR(KR.html,"i").replace("comment",KR._comment).replace("tag",KR._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),KR.paragraph=wR(KR._paragraph).replace("hr",KR.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KR._tag).getRegex(),KR.blockquote=wR(KR.blockquote).replace("paragraph",KR.paragraph).getRegex(),KR.normal=_R({},KR),KR.gfm=_R({},KR.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),KR.gfm.table=wR(KR.gfm.table).replace("hr",KR.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KR._tag).getRegex(),KR.gfm.paragraph=wR(KR._paragraph).replace("hr",KR.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",KR.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KR._tag).getRegex(),KR.pedantic=_R({},KR.normal,{html:wR("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",KR._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qR,paragraph:wR(KR.normal._paragraph).replace("hr",KR.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",KR.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),(YR={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qR,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qR,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/})._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",YR.punctuation=wR(YR.punctuation).replace(/punctuation/g,YR._punctuation).getRegex(),YR.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,YR.escapedEmSt=/\\\*|\\_/g,YR._comment=wR(KR._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),YR.emStrong.lDelim=wR(YR.emStrong.lDelim).replace(/punct/g,YR._punctuation).getRegex(),YR.emStrong.rDelimAst=wR(YR.emStrong.rDelimAst,"g").replace(/punct/g,YR._punctuation).getRegex(),YR.emStrong.rDelimUnd=wR(YR.emStrong.rDelimUnd,"g").replace(/punct/g,YR._punctuation).getRegex(),YR._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,YR._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,YR._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,YR.autolink=wR(YR.autolink).replace("scheme",YR._scheme).replace("email",YR._email).getRegex(),YR._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,YR.tag=wR(YR.tag).replace("comment",YR._comment).replace("attribute",YR._attribute).getRegex(),YR._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,YR._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,YR._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,YR.link=wR(YR.link).replace("label",YR._label).replace("href",YR._href).replace("title",YR._title).getRegex(),YR.reflink=wR(YR.reflink).replace("label",YR._label).replace("ref",KR._label).getRegex(),YR.nolink=wR(YR.nolink).replace("ref",KR._label).getRegex(),YR.reflinkSearch=wR(YR.reflinkSearch,"g").replace("reflink",YR.reflink).replace("nolink",YR.nolink).getRegex(),YR.normal=_R({},YR),YR.pedantic=_R({},YR.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:wR(/^!?\[(label)\]\((.*?)\)/).replace("label",YR._label).getRegex(),reflink:wR(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",YR._label).getRegex()}),YR.gfm=_R({},YR.normal,{escape:wR(YR.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),YR.gfm.url=wR(YR.gfm.url,"i").replace("email",YR.gfm._extended_email).getRegex(),YR.breaks=_R({},YR.gfm,{br:wR(YR.br).replace("{2,}","*").getRegex(),text:wR(YR.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),QR=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||RR,this.options.tokenizer=this.options.tokenizer||new XR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:KR.normal,inline:YR.normal};this.options.pedantic?(t.block=KR.pedantic,t.inline=YR.pedantic):this.options.gfm&&(t.block=KR.gfm,this.options.breaks?t.inline=YR.breaks:t.inline=YR.gfm),this.tokenizer.rules=t}static get rules(){return{block:KR,inline:YR}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e){let t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(t=n.call({lexer:this},e,a))&&(e=e.substring(t.raw.length),a.push(t),!0))))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),1===t.raw.length&&a.length>0?a[a.length-1].raw+="\n":a.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),n=a[a.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?a.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),n=a[a.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),a.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach((function(e){t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(this.state.top&&(t=this.tokenizer.paragraph(r))){n=a[a.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(t),i=r.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),n=a[a.length-1],n&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(t);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,a}inline(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e){let t,n,r,i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+CR("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+CR("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(t=n.call({lexer:this},e,s))&&(e=e.substring(t.raw.length),s.push(t),!0))))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),n=s[s.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),n=s[s.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(t=this.tokenizer.emStrong(e,l,o)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.autolink(e,TR)){e=e.substring(t.raw.length),s.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,TR))){e=e.substring(t.raw.length),s.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,i=e.slice(1);this.options.extensions.startInline.forEach((function(e){t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(t=this.tokenizer.inlineText(r,PR)){e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(o=t.raw.slice(-1)),a=!0,n=s[s.length-1],n&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return s}},ZR=class{constructor(e){this.options=e||RR}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+yR(r,!0)+'">'+(n?e:yR(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:yR(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let i=this.options.headerPrefix+r.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,">\n")}return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>".concat(e,"</li>\n")}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,"</p>\n")}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n".concat(e,"</tr>\n")}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(null===(e=xR(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+yR(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=xR(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(r+=' title="'.concat(t,'"')),r+=this.options.xhtml?"/>":">",r}text(e){return e}},JR=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},$R=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},eI=class e{constructor(e){this.options=e||RR,this.options.renderer=this.options.renderer||new ZR,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new JR,this.slugger=new $R}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){let t,n,r,i,a,o,s,l,u,c,d,f,h,p,m,g,v,y,b,w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],x="",_=e.length;for(t=0;t<_;t++)if(c=e[t],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type]&&(b=this.options.extensions.renderers[c.type].call({parser:this},c),!1!==b||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)))x+=b||"";else switch(c.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(c.tokens),c.depth,bR(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(l="",s="",i=c.header.length,n=0;n<i;n++)s+=this.renderer.tablecell(this.parseInline(c.header[n].tokens),{header:!0,align:c.align[n]});for(l+=this.renderer.tablerow(s),u="",i=c.rows.length,n=0;n<i;n++){for(o=c.rows[n],s="",a=o.length,r=0;r<a;r++)s+=this.renderer.tablecell(this.parseInline(o[r].tokens),{header:!1,align:c.align[r]});u+=this.renderer.tablerow(s)}x+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(c.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(d=c.ordered,f=c.start,h=c.loose,i=c.items.length,u="",n=0;n<i;n++)m=c.items[n],g=m.checked,v=m.task,p="",m.task&&(y=this.renderer.checkbox(g),h?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=y+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=y+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:y}):p+=y),p+=this.parse(m.tokens,h),u+=this.renderer.listitem(p,v,g);x+=this.renderer.list(u,d,f);continue;case"html":x+=this.renderer.html(c.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(u=c.tokens?this.parseInline(c.tokens):c.text;t+1<_&&"text"===e[t+1].type;)c=e[++t],u+="\n"+(c.tokens?this.parseInline(c.tokens):c.text);x+=w?this.renderer.paragraph(u):u;continue;default:{let e='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,r,i,a="",o=e.length;for(n=0;n<o;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))a+=i||"";else switch(r.type){case"escape":case"text":a+=t.text(r.text);break;case"html":a+=t.html(r.text);break;case"link":a+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":a+=t.image(r.href,r.title,r.text);break;case"strong":a+=t.strong(this.parseInline(r.tokens,t));break;case"em":a+=t.em(this.parseInline(r.tokens,t));break;case"codespan":a+=t.codespan(r.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(r.tokens,t));break;default:{let e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return a}},AR.options=AR.setOptions=function(e){return _R(AR.defaults,e),function(e){RR=e}(AR.defaults),AR},AR.getDefaults=vR,AR.defaults=RR,AR.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=_R({},...t),a=AR.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((e=>{if(e.extensions&&(r=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){let t=a.renderers?a.renderers[e.name]:null;a.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];let a=e.renderer.apply(this,r);return!1===a&&(a=t.apply(this,r)),a}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");a[e.level]?a[e.level].unshift(e.tokenizer):a[e.level]=[e.tokenizer],e.start&&("block"===e.level?a.startBlock?a.startBlock.push(e.start):a.startBlock=[e.start]:"inline"===e.level&&(a.startInline?a.startInline.push(e.start):a.startInline=[e.start]))}e.childTokens&&(a.childTokens[e.name]=e.childTokens)}))),e.renderer){let t=AR.defaults.renderer||new ZR;for(let n in e.renderer){let r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];let s=e.renderer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}}i.renderer=t}if(e.tokenizer){let t=AR.defaults.tokenizer||new XR;for(let n in e.tokenizer){let r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];let s=e.tokenizer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}}i.tokenizer=t}if(e.walkTokens){let t=AR.defaults.walkTokens;i.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}r&&(i.extensions=a),AR.setOptions(i)}))},AR.walkTokens=function(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(AR,r)),r.type){case"table":for(let e of r.header)n=n.concat(AR.walkTokens(e.tokens,t));for(let e of r.rows)for(let r of e)n=n.concat(AR.walkTokens(r.tokens,t));break;case"list":n=n.concat(AR.walkTokens(r.items,t));break;default:AR.defaults.extensions&&AR.defaults.extensions.childTokens&&AR.defaults.extensions.childTokens[r.type]?AR.defaults.extensions.childTokens[r.type].forEach((function(e){n=n.concat(AR.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(AR.walkTokens(r.tokens,t)))}return n},AR.parseInline=function(e,t){if("undefined"==typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");kR(t=_R({},AR.defaults,t||{}));try{let n=QR.lexInline(e,t);return t.walkTokens&&AR.walkTokens(n,t.walkTokens),eI.parseInline(n,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+yR(n.message+"",!0)+"</pre>";throw n}},AR.Parser=eI,AR.parser=eI.parse,AR.Renderer=ZR,AR.TextRenderer=JR,AR.Lexer=QR,AR.lexer=QR.lex,AR.Tokenizer=XR,AR.Slugger=$R,AR.parse=AR,AR.options,AR.setOptions,AR.use,AR.walkTokens,AR.parseInline,eI.parse,QR.lex})),NI=S((()=>{qp(),hR(),nI=Gp(zA)(tI||(tI=T(["\n  padding: 6px;\n"]))),rI=nI})),UI=S((()=>{iI=M(zf()),gR(),qp(),Cy(),eh(),L(),DI(),fR(),NI(),aI=e=>{let{title:t,message:n}=e;return"".concat(t," ").concat(n)},oI=(()=>{let e=new Map;return{add:t=>{let n=aI(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=aI(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(aI(t))}})(),sI=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),uI=Gp.div(lI||(lI=T(["\n  width: 100%;\n  border-radius: 4px;\n  display: flex;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ay),dI=Gp.div(cI||(cI=T(["\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n"]))),hI=Gp.div(fI||(fI=T(["\n  flex: 1;\n  flex-direction: column;\n  width: 0;\n  display: flex;\n  padding: 16px 0;\n  gap: 12px;\n"]))),mI=Gp.div(pI||(pI=T(["\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n\n  a {\n    color: rgba(255, 255, 255, 0.9);\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: bold;\n    color: #d5d5d5;\n  }\n\n  p {\n    margin-bottom: 8px;\n  }\n\n  code {\n    font-family: monospace;\n    background: rgba(0, 0, 0, 0.3);\n    padding: 1px 1px 2px;\n    border-radius: 4px;\n    border: 1px solid rgba(255, 255, 255, 0.08);\n    white-space: pre-wrap;\n  }\n\n  pre > code {\n    white-space: pre;\n    display: block;\n    overflow: auto;\n    padding: 4px;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    margin-bottom: 8px;\n  }\n"]))),vI=Gp.button(gI||(gI=T(["\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-left: 1px solid rgba(255, 255, 255, 0.05);\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.05);\n  }\n"]))),yI={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},wI=Gp.div(bI||(bI=T(["\n  display: flex;\n  justify-content: center;\n  margin-left: 12px;\n  padding-top: 21px;\n\n  ::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    border-radius: 999999px;\n    background-color: ",";\n  }\n"])),(e=>{let{type:t}=e;return yI[t]})),_I={warning:(xI=e=>function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||!oI.check({title:t,message:n}))&&(oI.add({title:t,message:n}),sI.add(e),dR.custom((i=>iI.default.createElement(uI,null,iI.default.createElement(wI,{type:e}),iI.default.createElement(hI,null,iI.default.createElement(dI,null,t),iI.default.createElement(mI,{dangerouslySetInnerHTML:{__html:AR.parse(n)}}),r.length>0&&iI.default.createElement(mI,null,iI.default.createElement("span",null,"Docs:"," ",r.map(((e,t)=>iI.default.createElement(iI.Fragment,{key:t},t>0&&", ",iI.default.createElement("a",{target:"_blank",href:e.url},e.title))))))),iI.default.createElement(vI,{onClick:()=>{dR.remove(i.id),oI.delete({title:t,message:n}),sI.delete(e)}},"Close"))),{duration:1/0}))})("warning"),success:xI("success"),info:xI("info"),error:xI("error")},EI=Gp.div(SI||(SI=T(["\n  display: flex;\n  justify-content: ",";\n  gap: 12px;\n"])),(e=>{let{align:t}=e;return"center"===t?"center":"flex-end"})),CI=Gp.button(kI||(kI=T(["\n  position: relative;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border: none;\n  padding: 12px;\n  color: #fff;\n  overflow: hidden;\n\n  ::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n  }\n\n  :hover::before {\n    background: ",";\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ay,(e=>{let{danger:t}=e;return t?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"})),PI=Gp.div(MI||(MI=T(["\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  position: fixed;\n  right: 92px;\n  top: 50px;\n  width: 500px;\n  height: 85vh;\n  min-height: 400px;\n"]))),AI=Gp.div(TI||(TI=T(["\n  overflow: hidden;\n  pointer-events: auto;\n  border-radius: 4px;\n\n  & > div {\n    display: flex;\n    flex-direction: column-reverse;\n    gap: 8px;\n    overflow: scroll;\n    height: 100%;\n  }\n"]))),II=Gp.div(RI||(RI=T(["\n  width: fit-content;\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n"]))),OI=()=>{let{hasNotifications:e}=LI();return MA({enabled:!e},(()=>iI.default.createElement(rI,null,iI.default.createElement(II,null,iI.default.createElement(dI,null,"No notifications"),"Notifications will appear here when you get them."))))},zI=()=>{var e;let{toasts:t,handlers:n}=cR(),{startPause:r,endPause:i}=n,a=null!=(e=qf(O().atomP.ahistoric.pinNotifications))&&e;return iI.default.createElement(PI,null,a?t.length>0&&iI.default.createElement(AI,{onMouseEnter:r,onMouseLeave:i},iI.default.createElement("div",null,t.map((e=>iI.default.createElement("div",{key:e.id},e.message(e)))))):null,iI.default.createElement(EI,{align:"side"},a&&t.length>0&&iI.default.createElement(CI,{onClick:()=>{sI.clear(),oI.clear(),dR.remove()},danger:!0},"Clear")))},LI=()=>{let{toasts:e}=cR();return{hasNotifications:e.length>0}}}));function jI(e,t){var n;let r=Object.values(null!=(n=(0,FI.val)(e.pointers.historic.sheetsById))?n:{}),i=r.flatMap((e=>{var t;return Object.values(null!=(t=null==e?void 0:e.staticOverrides.byObject)?t:{})})).flatMap((e=>Object.values(null!=e?e:{}))),a=[...r.flatMap((e=>{var t,n;return Object.values(null!=(n=null==(t=null==e?void 0:e.sequence)?void 0:t.tracksByObject)?n:{})})).flatMap((e=>{var t;return Object.values(null!=(t=null==e?void 0:e.trackData)?t:{})})).flatMap((e=>null==e?void 0:e.keyframes)).map((e=>null==e?void 0:e.value))];return i.forEach((e=>{D(e,(e=>{a.push(e)}),[])})),a.filter((e=>(null==e?void 0:e.type)&&(t?(null==e?void 0:e.type)==t:"string"==typeof(null==e?void 0:e.type)))).map((e=>e.id)).filter(((e,t,n)=>null!==e&&""!==e&&n.indexOf(e)===t))}var FI,BI=S((()=>{FI=n(5194),j()}));function VI(e,t){let n=new File([e],t),r=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout((()=>{URL.revokeObjectURL(r)}),4e4)}var HI,WI,GI,qI,XI,KI,YI,QI,ZI,JI,$I,eO,tO,nO,rO,iO,aO,oO,sO,lO=S((()=>{L(),zk(),Ik(),HI=M(zf()),qp(),mA(),pR(),WI=M(mR()),UI(),BI(),qI=Gp.div(GI||(GI=T([""]))),KI=Gp.div(XI||(XI=T(["\n  padding: 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),QI=Gp(Rk)(YI||(YI=T(["\n  display flex;\n  flex-direction: column;\n  gap: 1em;\n  width: 280px;\n  padding: 1em;\n"]))),ZI=e=>{let{projects:t}=e,n=t[0],r=n.address.projectId,i=r.replace(/[^\w\d'_\-]+/g," ").trim(),a="".concat(i,".theatre-project-state.json"),[o,s]=(0,HI.useState)(!1),l=(0,HI.useCallback)((()=>A(void 0,null,(function*(){var e,t;let r=jI(n),o=new Map;try{yield Promise.all(r.map((e=>A(void 0,null,(function*(){let t=n.assetStorage.getAssetUrl(e),r=yield fetch(t);r.ok&&o.set(e,yield r.blob())})))))}catch(l){return void _I.error("Failed to access assets","Export aborted. Failed to access assets at ".concat(null!=(t=null==(e=n.config.assets)?void 0:e.baseUrl)?t:"/",". This is likely due to a CORS issue."))}if(o.size>0){let e=new WI.default;for(let[t,n]of o)e.file(t,n);VI(yield e.generateAsync({type:"blob"}),"".concat(i,".assets.zip"))}VI(JSON.stringify(O().createContentOfSaveFile(n.address.projectId),null,2),a),s(!0),setTimeout((()=>{s(!1)}),2e3)}))),[n,a]),u=uk({debugName:"ProjectDetails",pointerDistanceThreshold:50},(()=>HI.default.createElement(QI,null,HI.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),HI.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),HI.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production."))));return HI.default.createElement(HI.default.Fragment,null,u.node,HI.default.createElement(qI,null,HI.default.createElement(WA,{projectId:r}),HI.default.createElement(KI,null,HI.default.createElement(dA,{onMouseEnter:e=>u.open(e,e.target),onClick:o?void 0:l,disabled:o},o?"(Exported)":"Export ".concat(r," to JSON")))))}})),uO=S((()=>{JI=M(zf()),qp(),xb(),eO=Gp.div($I||($I=T(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),nO=Gp.div(tO||(tO=T(["\n  display: flex;\n  flex-direction: column;\n  gap: 11px;\n  color: rgba(255, 255, 255, 0.9);\n"]))),iO=Gp.div(rO||(rO=T(["\n  color: rgba(145, 145, 145, 0.8);\n"]))),oO=Gp.a(aO||(aO=T(["\n  color: #919191;\n  font-size: 10px;\n  text-decoration-color: #40434a;\n  text-underline-offset: 3px;\n"]))),sO=()=>JI.default.createElement(eO,null,JI.default.createElement(nO,null,JI.default.createElement(iO,null,JI.default.createElement(Ry,null)),JI.default.createElement("div",null,"Please select an object from the ",JI.default.createElement("u",null,"Outline Menu")," to see its properties.")),JI.default.createElement(oO,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects"))}));function cO(){let[e,t]=(0,dO.useState)(!1);return[e,(0,dO.useMemo)((()=>{let e=new Set;return()=>{let n=()=>{e.delete(n),t(e.size>0)};return e.add(n),t(!0),n}}),[])]}var dO,fO,hO,pO,mO,gO,vO,yO,bO,wO,xO,_O,SO,EO,kO,CO,MO,PO,TO,AO,RO,IO,OO,zO,LO,DO,NO,UO,jO,FO,BO,VO,HO,WO,GO,qO,XO,KO,YO,QO,ZO,JO,$O,ez,tz,nz,rz,iz,az,oz,sz,lz,uz,cz,dz,fz,hz,pz,mz,gz,vz,yz,bz,wz,xz,_z,Sz,Ez,kz,Cz,Mz,Pz,Tz,Az,Rz,Iz,Oz,zz,Lz,Dz,Nz,Uz,jz,Fz,Bz,Vz=S((()=>{dO=M(zf())})),Hz=S((()=>{Pb(),eh(),fO=M(zf()),qp(),ne(),My(),Cy(),pA(),lO(),L(),Ow(),hO=n(5194),uO(),Vz(),cP(),mO=Gp.div(pO||(pO=T(["\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  position: fixed;\n  right: 8px;\n  top: 50px;\n  // Temporary, see comment about CSS grid in SingleRowPropEditor.\n  width: 280px;\n  height: fit-content;\n  z-index: ",";\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ay,hy.propsPanel,(e=>{let{pin:t}=e;return t?"block":"none"})),vO=Gp.div(gO||(gO=T(["\n  margin: 0 10px;\n  color: #919191;\n  font-weight: 500;\n  font-size: 10px;\n  user-select: none;\n  ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),ay),bO=Gp.div(yO||(yO=T(["\n  height: ",";\n  display: flex;\n  align-items: center;\n"])),"32px"),xO=Gp.div(wO||(wO=T(["\n  ",";\n  max-height: calc(100vh - 100px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n  padding: 0;\n  user-select: none;\n\n  /* Set the font-size for input values in the detail panel */\n  font-size: 12px;\n"])),ay),_O=(0,fO.createContext)([!1,()=>()=>{}]),SO=e=>{let t=!1!==qf(O().atomP.ahistoric.pinDetails),n=bw("right");(0,fO.useLayoutEffect)((()=>{kO.set(n)}),[n]),(0,fO.useEffect)((()=>()=>{CO.set(!1),kO.set(!1)}),[]);let[r]=(0,fO.useContext)(_O),i=t||n||r,[a,o]=(0,fO.useState)(null);return MM(a),jf((()=>{let e=Eb(),t=e.find(W);if(t)return fO.default.createElement(mO,{"data-testid":"DetailPanel-Object",pin:i,ref:o,onMouseEnter:()=>{CO.set(!0)},onMouseLeave:()=>{CO.set(!1)}},fO.default.createElement(bO,null,fO.default.createElement(vO,{title:"".concat(t.sheet.address.sheetId,": ").concat(t.sheet.address.sheetInstanceId," > ").concat(t.address.objectKey)},fO.default.createElement(gy,null,t.sheet.address.sheetId," "),fO.default.createElement(yy,null,":","\xa0"),fO.default.createElement(gy,null,t.sheet.address.sheetInstanceId," "),fO.default.createElement(yy,null,"\xa0\u2192\xa0"),fO.default.createElement(gy,null,t.address.objectKey))),fO.default.createElement(xO,null,fO.default.createElement(lA,{objects:[t]})));let n=e.find(B);return n?fO.default.createElement(mO,{pin:i},fO.default.createElement(bO,null,fO.default.createElement(vO,{title:"".concat(n.address.projectId)},fO.default.createElement(gy,null,n.address.projectId," "))),fO.default.createElement(xO,null,fO.default.createElement(ZI,{projects:[n]}))):fO.default.createElement(mO,{pin:i,onMouseEnter:()=>{CO.set(!0)},onMouseLeave:()=>{CO.set(!1)}},fO.default.createElement(sO,null))}),[i])},EO=()=>{let e=cO();return fO.default.createElement(_O.Provider,{value:e},fO.default.createElement(SO,null))},kO=new hO.Atom(!1),CO=new hO.Atom(!1),(0,hO.prism)((()=>{let e=(0,hO.val)(CO.prism),t=(0,hO.val)(kO.prism);return e||t}))})),Wz=S((()=>{MO=n(5194),eh(),L(),Vz(),PO=M(zf()),QE(),TO=(e,t)=>{let n=e.left/t.width,r=(e.left+e.width)/t.width,i=e.top/t.height,a=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:a<=.5?{from:"screenTop",distance:a}:{from:"screenBottom",distance:1-a}}}},AO=PO.default.createContext(null),RO=()=>(0,PO.useContext)(AO),IO=e=>{let{panelId:t,children:n,defaultPosition:r,minDims:i}=e,a=KE(800,200),[o,s]=cO(),{stuff:l}=jf((()=>{var e;let{edges:n}=null!=(e=(0,MO.val)(O().atomP.historic.panelPositions[t]))?e:r,l=Math.floor(a.width*("screenLeft"===n.left.from?n.left.distance:1-n.left.distance)),u=Math.floor(a.width*("screenLeft"===n.right.from?n.right.distance:1-n.right.distance)),c=Math.floor(a.height*("screenTop"===n.top.from?n.top.distance:1-n.top.distance)),d=Math.floor(a.height*("screenTop"===n.bottom.from?n.bottom.distance:1-n.bottom.distance)),f=Math.max(u-l,i.width),h=Math.max(d-c,i.height);return{stuff:{dims:MO.prism.memo("dims",(()=>({width:f,left:l,top:c,height:h})),[f,l,c,h]),panelId:t,minDims:i,boundsHighlighted:o,addBoundsHighlightLock:s}}}),[t,a,o,s]);return PO.default.createElement(AO.Provider,{value:l},n)}})),Gz=S((()=>{ty(),L(),wx(),OO=M(zf()),qp(),Wz(),nx(),Rf(),My(),LO=Gp.div(zO||(zO=T(["\n  cursor: move;\n"]))),DO=e=>{let t=RO(),n=(0,OO.useRef)(t);n.current=t;let[r,i]=$v(null),a=(0,OO.useMemo)((()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let e,r=n.current,i=t.addBoundsHighlightLock();return{onDrag(t,n){let i=x(w({},r.dims),{top:ms(r.dims.top+n,0,window.innerHeight-Ey),left:ms(r.dims.left+t,-r.dims.width+Ey,window.innerWidth-Ey)}),a=TO(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=O().tempTransaction((e=>{let{stateEditors:t}=e;t.studio.historic.panelPositions.setPanelPosition({position:a,panelId:r.panelId})}))},onDragEnd(t){i(),t?null==e||e.commit():null==e||e.discard()}}}})),[]),[o]=gx(i,a);$w(o,"dragging","move");let[s,l]=(0,OO.useMemo)((()=>{let e;return[function(){if(e){let t=e;e=void 0,t()}e=t.addBoundsHighlightLock()},function(){if(e){let t=e;e=void 0,t()}}]}),[]);return OO.default.createElement(LO,x(w({},e),{ref:r,onMouseEnter:s,onMouseLeave:l}))}})),qz=S((()=>{ty(),L(),wx(),Zm(),NO=M(zf()),qp(),Wz(),Cy(),Rf(),My(),jO=Gp.div(UO||(UO=T(["\n  position: absolute;\n  ",";\n  &:after {\n    position: absolute;\n    inset: -5px;\n    display: block;\n    content: ' ';\n  }\n\n  opacity: 0;\n  background-color: #478698;\n\n  &.isHighlighted {\n    opacity: 0.7;\n  }\n\n  &.isDragging {\n    opacity: 1;\n    /* background-color: ","; */\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"])),ay,Xm(.2,"#478698")),BO=Gp(jO)(FO||(FO=T(["\n  /**\n  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel\n  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).\n\n  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem\n  that we have to deal with right now (if it is at all a problem).\n  \n   */\n  z-index: -1;\n"]))),HO=Gp(BO)(VO||(VO=T(["\n  left: 0px;\n  right: 0px;\n  height: 1px;\n"]))),GO=Gp(HO)(WO||(WO=T(["\n  top: -1px;\n"]))),XO=Gp(HO)(qO||(qO=T(["\n  bottom: -1px;\n"]))),YO=Gp(BO)(KO||(KO=T(["\n  z-index: -1;\n  top: -1px;\n  bottom: -1px;\n  width: 1px;\n"]))),ZO=Gp(YO)(QO||(QO=T(["\n  left: -1px;\n"]))),$O=Gp(YO)(JO||(JO=T(["\n  right: -1px;\n"]))),tz=Gp(jO)(ez||(ez=T(["\n  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.\n  z-index: 10;\n  width: 8px;\n  height: 8px;\n"]))),rz=Gp(tz)(nz||(nz=T(["\n  top: 0;\n  left: 0;\n"]))),az=Gp(tz)(iz||(iz=T(["\n  top: 0;\n  right: 0;\n"]))),sz=Gp(tz)(oz||(oz=T(["\n  bottom: 0;\n  left: 0;\n"]))),uz=Gp(tz)(lz||(lz=T(["\n  bottom: 0;\n  right: 0;\n"]))),cz={Top:GO,TopLeft:rz,TopRight:az,Bottom:XO,BottomLeft:sz,BottomRight:uz,Left:ZO,Right:$O},dz={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},fz=e=>{let{which:t}=e,n=RO(),r=(0,NO.useRef)(n);r.current=n;let[i,a]=$v(null),o=(0,NO.useMemo)((()=>({debugName:"PanelResizeHandle",lockCursorTo:dz[t],onDragStart(){let e,i=r.current,a=n.addBoundsHighlightLock();return{onDrag(n,r){let a=w({},i.dims);if(t.startsWith("Bottom"))a.height=Math.max(a.height+r,i.minDims.height);else if(t.startsWith("Top")){let e=a.top+a.height,t=ms(a.top+r,0,Math.min(e-i.minDims.height,window.innerHeight-Ey)),n=e-t;a.height=n,a.top=t}if(t.endsWith("Left")){let e=a.left+a.width,t=Math.min(a.left+n,Math.min(e-i.minDims.width,window.innerWidth-Ey)),r=e-t;a.width=r,a.left=t}else t.endsWith("Right")&&(a.width=Math.max(a.width+n,Math.max(i.minDims.width,Ey-i.dims.left)));let o=TO(a,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=O().tempTransaction((e=>{let{stateEditors:t}=e;t.studio.historic.panelPositions.setPanelPosition({position:o,panelId:i.panelId})}))},onDragEnd(t){a(),t?null==e||e.commit():null==e||e.discard()}}}})),[t]),[s]=gx(a,o),l=cz[t],u=t.length<=6;return NO.default.createElement(l,{ref:i,className:[s?"isDragging":"",n.boundsHighlighted&&u?"isHighlighted":""].join(" "),style:{cursor:dz[t]}})}})),Xz=S((()=>{hz=M(zf()),qz(),pz=e=>hz.default.createElement(hz.default.Fragment,null,hz.default.createElement(fz,{which:"Bottom"}),hz.default.createElement(fz,{which:"Top"}),hz.default.createElement(fz,{which:"Left"}),hz.default.createElement(fz,{which:"Right"}),hz.default.createElement(fz,{which:"TopLeft"}),hz.default.createElement(fz,{which:"TopRight"}),hz.default.createElement(fz,{which:"BottomLeft"}),hz.default.createElement(fz,{which:"BottomRight"}))})),Kz=S((()=>{Cy(),mz=M(zf()),qp(),Wz(),Xz(),vz=Gp.div(gz||(gz=T(["\n  position: absolute;\n  user-select: none;\n  box-sizing: border-box;\n  ",";\n  /* box-shadow: 1px 2px 10px -5px black; */\n\n  z-index: 1000;\n"])),ay),yz=mz.default.forwardRef(((e,t)=>{let n=RO(),r=e,{style:i,children:a}=r,o=_(r,["style","children"]);return mz.default.createElement(vz,x(w({ref:t},o),{style:w({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},null!=i?i:{})}),mz.default.createElement(pz,null),a)})),bz=yz})),Yz=E(((o,s)=>{var l;l=function(e,t){var n=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(t);function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i={error:null},a=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state=i,t.updatedWithError=!1,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var a=t.prototype;return a.reset=function(){this.updatedWithError=!1,this.setState(i)},a.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},a.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},a.componentDidUpdate=function(e){var t,n,r=this.state.error,i=this.props.resetKeys;null===r||this.updatedWithError?null!==r&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,e.resetKeys,i),this.reset()):this.updatedWithError=!0},a.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,i=t.FallbackComponent,a=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"==typeof r)return r(o);if(i)return n.createElement(i,o);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(n.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var t=n.useState(null),r=t[0],i=t[1];if(null!=e)throw e;if(null!=r)throw r;return i},e.withErrorBoundary=function(e,t){var r=function(r){return n.createElement(a,t,n.createElement(e,r))},i=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary("+i+")",r},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof o&&"undefined"!=typeof s?l(o,zf()):(i=[t,n(5043)],void 0===(a="function"===typeof(r=l)?r.apply(t,i):r)||(e.exports=a))})),Qz=S((()=>{wz=M(zf()),qp(),My(),Wz(),Gz(),Kz(),xz=M(Yz()),L_(),L(),My(),_z={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},Sz={width:300,height:300},Ez=e=>{let{paneInstance:t}=e;return wz.default.createElement(IO,{panelId:"pane-".concat(t.instanceId),defaultPosition:_z,minDims:Sz},wz.default.createElement(Uz,{paneInstance:t}))},Cz=Gp(bz)(kz||(kz=T(["\n  display: flex;\n  flex-direction: column;\n\n  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);\n  z-index: ",";\n"])),hy.pluginPanes),Pz=Gp.div(Mz||(Mz=T(["\n  width: 100%;\n"]))),Az=Gp.div(Tz||(Tz=T(["\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  position: absolute;\n  right: 4px;\n  top: 0;\n  bottom: 0;\n"]))),Iz=Gp.button(Rz||(Rz=T(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  font-size: 11px;\n  height: 10px;\n  width: 18px;\n  color: #adadadb3;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    color: white;\n  }\n"]))),zz=Gp(wy)(Oz||(Oz=T(["\n  position: relative;\n  overflow: hidden;\n\n  &:after {\n    z-index: 10;\n    position: absolute;\n    inset: 0;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n\n    #pointer-root:not(.normal) & {\n      pointer-events: auto;\n    }\n  }\n"]))),Dz=Gp.div(Lz||(Lz=T(["\n  padding: 12px;\n\n  & > pre {\n    border: 1px solid #ff62624f;\n    background-color: rgb(255 0 0 / 5%);\n    margin: 8px 0;\n    padding: 8px;\n    font-family: monospace;\n    overflow: scroll;\n    color: #ff9896;\n  }\n"]))),Nz=e=>wz.default.createElement(Dz,null,"An Error occurred rendering this pane. Open the console for more info.",wz.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),Uz=e=>{let{paneInstance:t}=e,[n,r]=(0,wz.useState)(null),i=t.definition.mount;(0,wz.useLayoutEffect)((()=>{if(!n)return;let e=i({paneId:t.instanceId,node:n});return"function"==typeof e?e:void 0}),[n,i,t.instanceId]);let a=(0,wz.useCallback)((()=>{O().paneManager.destroyPane(t.instanceId)}),[t]);return wz.default.createElement(Cz,{"data-testid":"theatre-pane-wrapper-".concat(t.instanceId)},wz.default.createElement(DO,null,wz.default.createElement(Sy,null,wz.default.createElement(Az,null,wz.default.createElement(Iz,{onClick:a,title:"Close Pane"},wz.default.createElement(c_,null))),wz.default.createElement(Pz,null,t.instanceId))),wz.default.createElement(xz.ErrorBoundary,{FallbackComponent:Nz},wz.default.createElement(zz,{"data-testid":"theatre-pane-content-".concat(t.instanceId),ref:r})))},jz=Ez})),Zz=S((()=>{Fz=n(5194),Bz=(e,t)=>{let n=Fz.prism.memo(e,(()=>new Fz.Atom(t)),[]);return n.set(t),n}}));function Jz(e,t){(0,$z.useLayoutEffect)((()=>{if(!e||"propWithChildren"!==t.type&&"primitiveProp"!==t.type&&"sheetObject"!==t.type)return;let n=null,r=x(w({},t.sheetObject.address),{pathToProp:"sheetObject"===t.type?[]:t.pathToProp});function i(){n=DP.replaceLock(r,(()=>{}))}function a(){null==n||n()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),()=>{null==n||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",a)}}),[e])}var $z,eL,tL,nL,rL,iL,aL,oL,sL,lL,uL,cL,dL,fL,hL,pL=S((()=>{$z=M(zf()),NP()})),mL=S((()=>{Cy(),eL=M(zf()),L_(),qp(),YC(),pL(),nL=Gp.li(tL||(tL=T(["\n  --depth: ",";\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),(e=>e.depth)),iL=Gp.div(rL||(rL=T(["\n  border-bottom: 1px solid #7695b705;\n"]))),oL=Gp(iL)(aL||(aL=T(["\n  padding-left: calc(8px + var(--depth) * 20px);\n\n  display: flex;\n  align-items: stretch;\n  color: ",";\n\n  box-sizing: border-box;\n\n  ",";\n"])),oy.panel.body.compoudThing.label.color,(e=>e.isSelected&&"background: blue")),lL=Gp.span(sL||(sL=T(["\n  ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 4px;\n  line-height: 26px;\n  flex-wrap: nowrap;\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),jC,oL),cL=Gp.span(uL||(uL=T(["\n  width: 12px;\n  padding: 8px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),(e=>e.isCollapsed?0:90),(e=>e.isCollapsed?15:75)),fL=Gp.ul(dL||(dL=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),hL=e=>{let{leaf:t,label:n,children:r,isSelectable:i,isSelected:a,toggleSelect:o,toggleCollapsed:s,isCollapsed:l}=e,u=Array.isArray(r)&&r.length>0,c=(0,eL.useRef)(null);return Jz(c.current,t),t.shouldRender?eL.default.createElement(nL,{depth:t.depth},eL.default.createElement(oL,{ref:c,style:{height:t.nodeHeight+"px"},isSelectable:!0===i,isSelected:!0===a,onClick:o,isEven:t.n%2===0},eL.default.createElement(cL,{isCollapsed:l,onClick:s},eL.default.createElement(C_,null)),eL.default.createElement(lL,null,n)),u&&eL.default.createElement(fL,null,r)):null}}));function gL(e){var t;let n=[];for(;;){let r=n.length,i=null==(t=e[0])?void 0:t[r];if(void 0===i)return n;for(let t of e)if(i!==t[r])return n;n.push(i)}}var vL,yL,bL=S((()=>{RC(),vL=AC((e=>JSON.stringify(e))),yL=e=>JSON.parse(e)}));var wL,xL=S((()=>{wL=M(zf())}));function _L(e){let[t,n]=(0,SL.useState)(!1);return function(e,t){let n=(0,wL.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,wL.useEffect)((()=>{function e(e){e.key===n.current.combo&&n.current.listener({down:!0,event:e})}function t(e){e.key===n.current.combo&&n.current.listener({down:!1,event:e})}function r(e){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.removeEventListener("blur",r)}}),[])}(e,(e=>{let{down:t}=e;n(t)})),t}var SL,EL=S((()=>{SL=M(zf()),xL()}));var kL,CL,ML=S((()=>{kL=n(5194),CL=M(zf())}));function PL(e,t,n){let r=t((0,TL.pointer)({root:{},path:[]}));mf(e,(0,TL.getPointerParts)(r).path,n)}var TL,AL,RL,IL=S((()=>{TL=n(5194),xf()})),OL=S((()=>{AL="data-pos",RL={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find((e=>e instanceof Element&&e!==(null==t?void 0:t.ignore)&&e.hasAttribute(AL)));if(n){let e=parseFloat(n.getAttribute(AL));if(isFinite(e))return e}return null},includePositionSnapAttrs:e=>({[AL]:e})}}));function zL(e){let t="sheet"===e.type?function(e){return e.children.flatMap(DL)}(e):DL(e);return{byPosition:LL(t),tracks:t}}function LL(e){let t=new Map;for(let n of e)for(let e of n.data.keyframes){let r=t.get(e.position);r||(r=[],t.set(e.position,r)),r.push({kf:e,track:n,itemKey:bP.forTrackKeyframe(n.sheetObject,n.id,e.id)})}return t}function DL(e){return e.children.flatMap((e=>"propWithChildren"===e.type?DL(e):function(e){let t=e.sheetObject,n=t.address.projectId,r=O().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,UL.val)(r.trackIdByPropPath[vL(e.pathToProp)]);if(!i)return[];let a=(0,UL.val)(r.trackData[i]);return a?[{id:i,data:a,sheetObject:t}]:[]}(e)))}function NL(e,t){return Tf(e.children.flatMap((e=>"propWithChildren"===e.type?NL(e,t):function(e,t){var n,r;let i=e.sheetObject,a=i.address.projectId,o=O().atomP.historic.coreByProject[a].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],s=(0,UL.val)(o.trackIdByPropPath[vL(e.pathToProp)]);return s&&null!=(r=null==(n=t[i.address.objectKey])?void 0:n[s])?r:[]}(e,t))))}var UL,jL=S((()=>{L(),UL=n(5194),wP(),bL(),Rf()}));var FL,BL,VL,HL,WL,GL,qL,XL,KL,YL,QL,ZL,JL,$L,eD,tD,nD,rD,iD,aD,oD,sD,lD,uD,cD,dD,fD,hD,pD,mD,gD,vD,yD,bD,wD,xD,_D,SD,ED=S((()=>{L(),wx(),EL(),ML(),IL(),ty(),eh(),FL=n(5194),BL=M(zf()),qp(),OL(),jL(),sx(),HL=Gp.div(VL||(VL=T(["\n  cursor: ",";\n"])),(e=>e.isShiftDown?"cell":"default")),WL=e=>{let{layoutP:t,children:n,height:r}=e,[i,a]=$v(null),o=_L("Shift"),s=function(e,t){let[n,r]=$v(null),i=ix("useCaptureSelection");return gx(t,(0,BL.useMemo)((()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(r){if(!r.shiftKey||r.target instanceof HTMLInputElement)return!1;let a=t.getBoundingClientRect(),o=r.clientX-a.left-(0,FL.val)(e.scaledSpace.leftPadding),s=(0,FL.val)(e.scaledSpace.toUnitSpace)(o);return n.current={h:[s,s],v:[r.clientY-a.top,r.clientY-a.top]},(0,FL.val)(e.selectionAtom).set({current:void 0}),{onDrag(r,a,o){let s=t.getBoundingClientRect(),l=o.clientX-s.left-(0,FL.val)(e.scaledSpace.leftPadding),u=(0,FL.val)(e.scaledSpace.toUnitSpace)(l);n.current={h:[n.current.h[0],u],v:[n.current.v[0],o.clientY-s.top]};let c=GL.boundsToSelection(i,(0,FL.val)(e),n.current);(0,FL.val)(e.selectionAtom).set({current:c})},onDragEnd(e){n.current=null}}}})),[e,t,n])),r}(t,a);return(0,BL.useRef)(s).current=s,BL.default.createElement(HL,{style:{height:r+"px"},ref:i,isShiftDown:o,className:"selectionview"},s&&BL.default.createElement(YL,{state:s,layoutP:t}),n)},(e=>{let t=(e,t,n,i,a)=>{let o=zL(n);if(n.top+n.nodeHeight/2+5>i.v[0]&&n.top+n.nodeHeight/2-5<i.v[1])for(let[r,s]of o.byPosition){let e=t.scaledSpace.toUnitSpace(5);if(!(r+e<=i.h[0]||r-e>=i.h[1]))for(let t of s)PL(a,(e=>e[t.track.sheetObject.address.objectKey].byTrackId[t.track.id].byKeyframeId[t.kf.id]),!0)}r(e,t,n,i,a)},n={sheet(e,n,r,i,a){t(e,n,r,i,a)},propWithChildren(e,n,r,i,a){t(e,n,r,i,a)},sheetObject(e,n,r,i,a){t(e,n,r,i,a)},primitiveProp(e,t,n,r,i){let{sheetObject:a,trackId:o}=n,s=(0,FL.val)(O().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[o]);if(!(r.v[0]>n.top+n.heightIncludingChildren/2+5||n.top+n.heightIncludingChildren/2-5>r.v[1]))for(let l of s.keyframes)if(!(l.position+t.scaledSpace.toUnitSpace(5)<=r.h[0])){if(l.position-t.scaledSpace.toUnitSpace(5)>=r.h[1])break;PL(i,(e=>e[a.address.objectKey].byTrackId[o].byKeyframeId[l.id]),!0)}}},r=(e,t,n,r,a)=>{if("children"in n)for(let o of n.children)i(e,t,o,r,a)};function i(e,t,i,a,o){if(!i.shouldRender||a.v[0]>i.top+i.heightIncludingChildren||i.top>a.v[1])return;let s=n[i.type];s?s(e,t,i,a,o):r(e,t,i,a,o)}e.boundsToSelection=function(e,t,n){let r={};n=KL(n);let a=t.tree;i(e.utilFor.internal(),t,a,n,r);let o=t.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:r,getDragHandlers:e=>({debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let n,i=t.scaledSpace.toUnitSpace;return{onDrag(t,a,s){n&&(n.discard(),n=void 0);let l=RL.checkIfMouseEventSnapToPos(s,{ignore:e.domNode}),u=null!=l?l-e.positionAtStartOfDrag:i(t);n=O().tempTransaction((t=>{let{stateEditors:n}=t,i=n.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let a of Object.keys(r)){let{byTrackId:t}=r[a];for(let n of Object.keys(t)){let{byKeyframeId:r}=t[n];i({trackId:n,keyframeIds:Object.keys(r),translate:u,scale:1,origin:0,snappingFunction:o.getSequence().closestGridPosition,objectKey:a,projectId:e.projectId,sheetId:e.sheetId})}}}))},onDragEnd(e){e?null==n||n.commit():null==n||n.discard()}}}}),delete(){O().transaction((e=>{let{stateEditors:t}=e,n=t.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let i of Object.keys(r)){let{byTrackId:e}=r[i];for(let t of Object.keys(e)){let{byKeyframeId:r}=e[t];n(x(w({},o.address),{objectKey:i,trackId:t,keyframeIds:Object.keys(r)}))}}}))}}}})(GL||(GL={})),XL=Gp.div(qL||(qL=T(["\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px dashed rgba(255, 255, 255, 0.4);\n  box-sizing: border-box;\n"]))),KL=e=>({h:[...e.h].sort(((e,t)=>e-t)),v:[...e.v].sort(((e,t)=>e-t))}),YL=e=>{let{state:t,layoutP:n}=e,r=function(e){let t=(0,CL.useMemo)((()=>new kL.Atom(e)),[]);return(0,CL.useLayoutEffect)((()=>{t.set(e)}),[e]),t}(t);return jf((()=>{let e=(0,FL.val)(r.pointer),t=KL(e),i=(0,FL.val)(n.scaledSpace.fromUnitSpace),a=(0,FL.val)(n.scaledSpace.leftPadding),o=t.h.map(i).map((e=>e+a)),s=t.v[0],l=t.v[1]-t.v[0],u=o[0],c=o[1]-o[0];return BL.default.createElement(XL,{style:{top:s+"px",height:l+"px",left:u+"px",width:c+"px"}})}),[n,r])},QL=WL})),kD=S((()=>{Py(),ZL=M(zf()),qp(),RX(),$L=Gp.div(JL||(JL=T(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  z-index: ",";\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n"])),(()=>fX.scrollableArea)),eD=(0,ZL.createContext)(ky),tD=()=>(0,ZL.useContext)(eD),nD=e=>{let t=(0,ZL.useRef)(null),n=(0,ZL.useCallback)((e=>{t.current.scrollBy(0,e.deltaY)}),[]);return ZL.default.createElement(eD.Provider,{value:n},ZL.default.createElement($L,{ref:t},e.children))}})),CD=S((()=>{rD='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'})),MD=S((()=>{iD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return"\n  left: ".concat(-.5*e,"px;\n  top: ").concat(-.5*t,"px;\n  width: ").concat(e,"px;\n  height: ").concat(t,"px;\n")}})),PD=S((()=>{aD=n(5194),oD=(0,aD.prism)((()=>{let[e,t]=aD.prism.state("pos",null);return aD.prism.effect("setupListeners",(()=>{let e=e=>{t(e)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}}),[]),e})),sD=oD})),TD=S((()=>{lD=n(5194),PD(),Rf(),uD=M(zf()),cD=(0,uD.createContext)(null),dD=0,fD=e=>{let{children:t,layoutP:n}=e,r=(0,uD.useMemo)((()=>new lD.Atom([])),[]),i={currentD:(0,uD.useMemo)((()=>(0,lD.prism)((()=>{let e=lD.prism.memo("p",(()=>yD(n)),[n]).getValue(),t=(0,lD.val)(r.pointer);return t.length>0?id(t).position:e}))),[n]),getLock:(0,uD.useCallback)((()=>{let e=dD++;return r.reduce((t=>[...t,{id:e,position:[-1,0]}])),{set:t=>{r.reduce((n=>{let r=n.findIndex((t=>t.id===e));if(-1===r)return console.warn("Lock is already freed. This is a bug."),n;let i=[...n];return i.splice(r,1,{id:e,position:[t,-1===t?0:1]}),i}))},unlock:()=>{r.reduce((t=>t.filter((t=>t.id!==e))))}}}),[])};return uD.default.createElement(cD.Provider,{value:i},t)},hD=()=>(0,uD.useContext)(cD).currentD,pD=()=>{let{getLock:e}=(0,uD.useContext)(cD),t=(0,uD.useRef)();return(0,uD.useLayoutEffect)((()=>()=>{var e;null==(e=t.current)||e.unlock()}),[]),(0,uD.useMemo)((()=>{let n;return(r,i)=>{var a,o;(null==n?void 0:n.shouldLock)!==r&&(r?t.current=e():null==(a=t.current)||a.unlock()),(null==n?void 0:n.pos)!==i&&r&&(null==(o=t.current)||o.set(i)),n={shouldLock:r,pos:i}}}),[e])},mD=(e,t)=>{let{getLock:n}=(0,uD.useContext)(cD),r=(0,uD.useRef)();(0,uD.useLayoutEffect)((()=>{if(e)return r.current=n(),()=>{r.current.unlock()}}),[e,n]),(0,uD.useLayoutEffect)((()=>{e&&r.current.set(t)}),[t,e])},gD=e=>({[vD]:"hide"===e?e:e.toFixed(3)}),vD="data-theatre-lock-framestamp-to",yD=e=>(0,lD.prism)((()=>{let t=(0,lD.val)(e.rightDims),n=(0,lD.val)(e.clippedSpace.toUnitSpace),r=(0,lD.val)(sD);if(!r)return[-1,0];for(let e of r.composedPath()){if(!(e instanceof HTMLElement||e instanceof SVGElement))break;if(e.hasAttribute(vD)){let t=e.getAttribute(vD);if("string"!=typeof t)continue;if("hide"===t)return[-1,0];let n=parseFloat(t);if(isFinite(n)&&n>=0)return[n,2]}}let{clientX:i,clientY:a}=r,{screenX:o,screenY:s,width:l,height:u}=t;if(Ed(i,o,o+l)&&Ed(a,s+16,s+u)){return[n(i-o),3]}return[-1,0]})),bD=fD})),AD=S((()=>{Cy(),nx(),qp(),CD(),MD(),OL(),TD(),SD={BEING_DRAGGED_CLASS:wD="beingDragged",CSS:Ih(xD||(xD=T(["\n    position: absolute;\n    ",";\n    ",";\n\n    &."," {\n      pointer-events: none !important;\n    }\n  "])),iD(12),ay,wD),CSS_WHEN_SOMETHING_DRAGGING:Ih(_D||(_D=T(["\n    pointer-events: auto;\n    cursor: var(",");\n\n    // \u2e22\u2e24\u2e23\u2e25 thing\n    // This box extends the hitzone so the user does not\n    // accidentally leave the hitzone\n    &:hover:after {\n      position: absolute;\n      top: calc(50% - ","px);\n      left: calc(50% - ","px);\n      width: ","px;\n      height: ","px;\n      display: block;\n      content: ' ';\n      background: url(",") no-repeat 100% 100%;\n      // This icon might also fit: GiConvergenceTarget\n    }\n  "])),Xw,17,17,34,34,rD),reactProps:e=>x(w(w({},gD(e.position)),RL.includePositionSnapAttrs(e.position)),{className:e.isDragging?SD.BEING_DRAGGED_CLASS:""})}}));function RD(){HD.set({mode:"snapToAll"})}function ID(){HD.set({mode:"snapToNone"})}function OD(e){HD.set({mode:"snapToSome",positions:e})}function zD(e,t){return Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[n,Object.fromEntries(Object.entries(r.trackData).map((e=>{let[r,i]=e;return[r,i.keyframes.filter((e=>t(e,{trackId:r,trackData:i,objectKey:n}))).map((e=>e.position))]})))]})))}var LD,DD,ND,UD,jD,FD,BD,VD,HD,WD,GD=S((()=>{LD=n(5194),DD=n(5194),ND=M(zf()),qp(),AD(),jD=Gp.div(UD||(UD=T(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    ","\n  }\n"])),SD.CSS,SD.CSS_WHEN_SOMETHING_DRAGGING),BD=Gp.div(FD||(FD=T(["\n  position: absolute;\n"]))),VD=e=>ND.default.createElement(BD,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,DD.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},ND.default.createElement(jD,w({},SD.reactProps({isDragging:!1,position:e.position})))),HD=new LD.Atom({mode:"snapToNone"}),WD=HD.prism}));function qD(e,t){let n=tD();(0,YD.useLayoutEffect)((()=>{if(!t)return;let r=r=>{if(r.ctrlKey){r.preventDefault(),r.stopPropagation();let n=r.clientX-t.getBoundingClientRect().left,i=(0,KD.val)(e.clippedSpace.toUnitSpace)(n),a=(0,KD.val)(e.clippedSpace.range),o=1+.03*XD(r.deltaY,[-50,50]),s=Od(a,(e=>(e-i)*o+i)),l=(0,KD.val)(e.sheet).getSequence().length,u=l+.25*l;(0,KD.val)(e.clippedSpace.setRange)(function(e,t){return Od(e,(e=>XD(e,t)))}(s,[0,u]))}else{if(!r.shiftKey){n(r),r.preventDefault(),r.stopPropagation();let t=(0,KD.val)(e.scaledSpace.toUnitSpace)(1*r.deltaX),i=(0,KD.val)(e.clippedSpace.range),a=Od(i,(e=>e+t));return void(0,KD.val)(e.clippedSpace.setRange)(a)}{r.preventDefault(),r.stopPropagation();let t=(0,KD.val)(e.sheet).getSequence().length,n=(0,KD.val)(e.clippedSpace.range),i=(n.end-n.start)/t,a=.05*XD(r.deltaY||r.deltaX,[-50,50])*i,o=Od(n,(e=>e+a));(0,KD.val)(e.clippedSpace.setRange)(o)}}},i={capture:!0,passive:!1};return t.addEventListener("wheel",r,i),()=>{t.removeEventListener("wheel",r,i)}}),[t,e]),gx(t,(0,YD.useMemo)((()=>({onDragStart(t){let r=(0,KD.val)(e.clippedSpace.range),i=(0,KD.val)(e.clippedSpace.setRange),a=(0,KD.val)(e.scaledSpace.toUnitSpace);return t.preventDefault(),t.stopPropagation(),{onDrag(e,t,o,s,l){n({deltaY:-l});let u=-a(e),c=Od(r,(e=>e+u));i(c)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"})),[e]))}function XD(e,t){let[n,r]=t;return Math.max(Math.min(e,r),n)}var KD,YD,QD,ZD,JD,$D,eN,tN,nN,rN,iN,aN,oN,sN,lN=S((()=>{wx(),ty(),eh(),KD=n(5194),Rf(),YD=M(zf()),qp(),kD(),Cy(),nx(),OL(),GD(),ZD=Gp.div(QD||(QD=T(["\n  position: absolute;\n\n  right: 0;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  ",";\n\n  // hide the scrollbar on Gecko\n  scrollbar-width: none;\n\n  // hide the scrollbar on Webkit/Blink\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),ay),JD=YD.default.memo((e=>{let{layoutP:t,children:n,height:r}=e,{width:i,unitSpaceToScaledSpaceMultiplier:a}=jf((()=>({width:(0,KD.val)(t.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,KD.val)(t.scaledSpace.fromUnitSpace)(1)})),[t]),[o,s]=$v(null);return qD(t,s),function(e,t){let n=(0,YD.useMemo)((()=>({debugName:"HorizontallyScrollableArea",onDragStart(n){if(n.target instanceof HTMLInputElement||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||n.composedPath().some((e=>e instanceof HTMLElement&&!0===e.draggable)))return!1;let r=n.clientX-t.getBoundingClientRect().left,i=ms((0,KD.val)(e.clippedSpace.toUnitSpace)(r),0,1/0),a=(0,KD.val)(e.seeker.setIsSeeking),o=(0,KD.val)(e.sheet).getSequence();o.position=i;let s=i,l=(0,KD.val)(e.scaledSpace.toUnitSpace);return a(!0),RD(),{onDrag(e,t,n){let r=l(e),i=ms(s+r,0,o.length),a=RL.checkIfMouseEventSnapToPos(n,{});null!=a&&(i=a),o.position=i},onDragEnd(){a(!1),ID()}}}})),[e,t]),[r]=gx(t,n);$w(r,"draggingPositionInSequenceEditor","ew-resize")}(t,s),function(e,t){(0,YD.useLayoutEffect)((()=>{if(!t)return;let n=(0,KD.prism)((()=>{let t=(0,KD.val)(e.clippedSpace.range);return(0,KD.val)(e.scaledSpace.fromUnitSpace)(t.start)})),r=()=>{let e=n.getValue();t.scrollLeft=e},i=n.onStale(r);r();let a=setTimeout(r,100);return()=>{clearTimeout(a),i()}}),[e,t])}(t,s),YD.default.createElement(ZD,{ref:o,style:{width:i+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":a}},n)})),$D=JD})),uN=S((()=>{eN=M(zf()),qp(),nN=Gp.li(tN||(tN=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  position: relative;\n"]))),iN=Gp.div(rN||(rN=T(["\n  box-sizing: border-box;\n  width: 100%;\n  position: relative;\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -40px;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    border-bottom: 1px solid #252b3869;\n    background: ",";\n  }\n"])),(e=>e.isEven?"transparent":"#6b8fb505")),oN=Gp.ul(aN||(aN=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),sN=e=>{let{leaf:t,children:n,node:r,isCollapsed:i}=e,a=Array.isArray(n)&&n.length>0;return t.shouldRender?eN.default.createElement(nN,null,eN.default.createElement(iN,{style:{height:t.nodeHeight+"px"},isEven:t.n%2===0},r),a&&eN.default.createElement(oN,null,n)):null}})),cN=E(((e,t)=>{!function(){var n={};"undefined"!=typeof e?t.exports=n:this.fuzzy=n,n.simpleFilter=function(e,t){return t.filter((function(t){return n.test(e,t)}))},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,n){n=n||{};var r,i=0,a=[],o=t.length,s=0,l=0,u=n.pre||"",c=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],d[f]===e[i]?(r=u+r+c,i+=1,l+=1+l):l=0,s+=l,a[a.length]=r;return i===e.length?(s=d===e?1/0:s,{rendered:a.join(""),score:s}):null},n.filter=function(e,t,r){return t&&0!==t.length?"string"!=typeof e?t:(r=r||{},t.reduce((function(t,i,a,o){var s=i;r.extract&&(s=r.extract(i));var l=n.match(e,s,r);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:a,original:i}),t}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))):[]}}()}));var dN,fN,hN,pN=S((()=>{dN=M(zf())})),mN=S((()=>{fN="rgba(26, 28, 30, 0.97);",hN="#272B2F"}));function gN(e,t,n,r){let i=function(e,t){let[n,r]=(0,dN.useState)(!1),i=(0,dN.useRef)(t);return n||(i.current=t),(0,dN.useMemo)((()=>e(r)),i.current)}((t=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart:()=>(t(!0),{onDrag(t,i){e&&n.onCurveChange(r(t,i))},onDragEnd(e){t(!1),n.onCancelCurveChange()}})})),[e,n.onCurveChange,n.onCancelCurveChange]);gx(t,i)}var vN,yN,bN,wN,xN,_N,SN,EN,kN,CN,MN,PN,TN,AN,RN=S((()=>{vN=M(zf()),wx(),ty(),gs(),qp(),Cy(),pN(),mN(),yN=.12,bN=1.24,wN=.01,xN=.99/7,_N="#3EAAA4",SN="#3EAAA4",EN="#B3B3B3",kN=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],MN=Gp.circle(CN||(CN=T(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.04px;\n  pointer-events: none;\n  transition: r 0.15s;\n  fill: ",";\n"])),"#3eaaa4"),TN=Gp.circle(PN||(PN=T(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.09px;\n  cursor: move;\n  ",";\n  &:hover {\n    opacity: 0.4;\n  }\n  &:hover + "," {\n    fill: ",";\n  }\n"])),ay,MN,"#67dfd8"),AN=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:r}=e,i=Math.min(0,1-n.handles[1],1-t.handles[3]),a=Math.max(1,1-n.handles[1],1-t.handles[3]),o=Math.max(1,a-i),s=e=>(e-i)/o,[l,u]=$v(null),c=bN/((null==u?void 0:u.clientWidth)||1),d=bN/((null==u?void 0:u.clientHeight)||1),[f,h]=$v(null);gN(u,h,e,((e,r)=>[ms(t.handles[2]+e*c,0,1),t.handles[3]-r*d,n.handles[0],n.handles[1]]));let[p,m]=$v(null);gN(u,m,e,((e,r)=>{let i=ms(n.handles[0]+e*c,0,1),a=n.handles[1]-r*d;return[t.handles[2],t.handles[3],i,a]}));let g=e=>"M0 ".concat(s(1)," C").concat(e.left.handles[2]," ").concat(s(1-e.left.handles[3])," ").concat(e.right.handles[0]," ").concat(s(1-e.right.handles[1])," 1 ").concat(s(0));return vN.default.createElement("svg",{height:"100%",width:"100%",ref:l,viewBox:"".concat(-yN," ").concat(-yN," ").concat(bN," ").concat(bN),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},vN.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},vN.default.createElement("stop",{offset:s(-1),stopColor:"#3EAAA4"}),vN.default.createElement("stop",{offset:s(0),stopColor:SN}),vN.default.createElement("stop",{offset:s(.3),stopColor:"#3EAAA4"}),vN.default.createElement("stop",{offset:s(.5),stopColor:"#3EAAA4"}),vN.default.createElement("stop",{offset:s(.7),stopColor:"#3EAAA4"}),vN.default.createElement("stop",{offset:s(1),stopColor:_N}),vN.default.createElement("stop",{offset:s(2),stopColor:"#3EAAA4"})),vN.default.createElement("pattern",{id:"dot-background-pattern-1",width:xN,height:xN/o,y:-i/o},vN.default.createElement("rect",{width:wN,height:wN,fill:EN,opacity:.3})),vN.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),vN.default.createElement("pattern",{id:"dot-background-pattern-2",width:xN,height:xN},vN.default.createElement("rect",{width:wN,height:wN,fill:EN})),vN.default.createElement("rect",{x:0,y:s(0),width:"1",height:s(1)-s(0),fill:"url(#dot-background-pattern-2)"}),t.type&&"bezier"!==t.type?vN.default.createElement(vN.default.Fragment,null,vN.default.createElement("line",{x1:0,y1:s(1),x2:1,y2:s(1),stroke:EN,strokeWidth:"0.01"}),vN.default.createElement("line",{x1:1,y1:s(1),x2:1,y2:0,stroke:EN,strokeWidth:"0.01"}),vN.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:SN,strokeWidth:"0.02",fill:hN}),vN.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:SN,strokeWidth:"0.02",fill:hN})):vN.default.createElement(vN.default.Fragment,null,vN.default.createElement("line",{x1:0,y1:s(1),x2:t.handles[2],y2:s(1-t.handles[3]),stroke:EN,strokeWidth:"0.01"}),vN.default.createElement("line",{x1:1,y1:s(0),x2:n.handles[0],y2:s(1-n.handles[1]),stroke:EN,strokeWidth:"0.01"}),vN.default.createElement("path",{d:g(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),r.map(((e,t)=>vN.default.createElement("path",{key:e.objectKey+"/"+e.left.id,d:g(e),stroke:kN[t%kN.length],opacity:.6,strokeWidth:"0.01"}))),vN.default.createElement("path",{d:g(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),vN.default.createElement("circle",{cx:0,cy:s(1),r:"0.025",stroke:_N,strokeWidth:"0.02",fill:hN}),vN.default.createElement("circle",{cx:1,cy:s(0),r:"0.025",stroke:SN,strokeWidth:"0.02",fill:hN}),vN.default.createElement(TN,{ref:f,cx:t.handles[2],cy:s(1-t.handles[3]),fill:_N,opacity:.2}),vN.default.createElement(MN,{cx:t.handles[2],cy:s(1-t.handles[3])}),vN.default.createElement(TN,{ref:p,cx:n.handles[0],cy:s(1-n.handles[1]),fill:SN,opacity:.2}),vN.default.createElement(MN,{cx:n.handles[0],cy:s(1-n.handles[1])})))}}));function IN(e){return e.map((e=>e.toFixed(3))).join(", ")}function ON(e){if(!e||(null==e?void 0:e.length)>LN)return null;let t=e.split(",");if(4!==t.length)return null;let n=t.map((e=>Number(e.trim())));return!n.every((e=>isFinite(e)))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function zN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{threshold:.02};if(!e||!t)return!1;let r=0;for(let i=0;i<4;i++)r+=Math.abs(e[i]-t[i]);return r<n.threshold}var LN,DN,NN,UN,jN,FN,BN,VN,HN,WN,GN,qN,XN,KN,YN,QN,ZN,JN=S((()=>{LN=128,DN=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]})),$N=S((()=>{NN=M(zf()),UN=.75,jN=.1,FN="#4f4f4f",BN="rgba(255, 255, 255, 0.1)",VN=e=>1-e,HN=e=>{let{easing:t,isSelected:n}=e,r=n?"#F5F5F5":"#888888",i="".concat(-UN," ").concat(-UN," ").concat(2.5," ").concat(2.5);if(t){let e=[t[0],VN(t[1])],n=[t[2],VN(t[3])];return NN.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},NN.default.createElement("line",{x1:"0",y1:"1",x2:e[0],y2:e[1],stroke:FN,strokeWidth:"0.1"}),NN.default.createElement("line",{x1:"1",y1:"0",x2:n[0],y2:n[1],stroke:FN,strokeWidth:"0.1"}),NN.default.createElement("circle",{cx:e[0],cy:e[1],r:.1,fill:BN}),NN.default.createElement("circle",{cx:n[0],cy:n[1],r:.1,fill:BN}),NN.default.createElement("circle",{cx:e[0],cy:e[1],r:jN,fill:FN}),NN.default.createElement("circle",{cx:n[0],cy:n[1],r:jN,fill:FN}),NN.default.createElement("path",{d:"M0 1 C".concat(e[0]," ").concat(e[1]," ").concat(n[0]," \n        ").concat(n[1]," 1 0"),stroke:r,strokeWidth:"0.08"}),NN.default.createElement("circle",{cx:0,cy:1,r:jN,fill:r}),NN.default.createElement("circle",{cx:1,cy:0,r:jN,fill:r}))}return NN.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},NN.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),NN.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),NN.default.createElement("circle",{cx:0,cy:1,r:jN,fill:r}),NN.default.createElement("circle",{cx:1,cy:0,r:jN,fill:r}))}})),eU=S((()=>{fR(),WN=M(zf()),qp(),JN(),$N(),Hw(),mN(),zk(),XN=Gp.div(qN||(qN=T(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  aspect-ratio: 1;\n\n  transition: background-color 0.15s;\n  background-color: ",";\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n\n  &:hover {\n    background-color: #31353a;\n  }\n\n  &:focus {\n    background-color: #383d42;\n  }\n"])),hN,(e=>{let{isSelected:t}=e;return t&&Ih(GN||(GN=T(["\n      background-color: #383d42;\n    "])))})),YN=Gp(Rk)(KN||(KN=T(["\n  padding: 0.5em;\n  color: white;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-bg: black;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: transparent;\n  box-shadow: none;\n"]))),QN=WN.default.forwardRef(((e,t)=>{let[n,r]=MA({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},(()=>WN.default.createElement(YN,{showPopoverEdgeTriangle:!1},e.easing.label)));return WN.default.createElement(XN,w({ref:Vw([r,t])},e),n,WN.default.createElement(HN,{easing:ON(e.easing.value),isSelected:e.isSelected}))})),ZN=QN}));var tU,nU=S((()=>{tU=M(zf()),SU()}));function rU(e,t,n){var r;null==(r=e.current)||r.discard(),e.current=null;let i=ON(n);e.current=null===i?function(e){return O().tempTransaction((t=>{let{stateEditors:n}=t,{setKeyframeType:r}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:i,sheetId:a,objectKey:o,trackId:s,left:l}of e)r({projectId:i,sheetId:a,objectKey:o,trackId:s,keyframeId:l.id,keyframeType:"hold"})}))}(t):function(e,t){return O().tempTransaction((n=>{let{stateEditors:r}=n,{setHandlesForKeyframe:i,setKeyframeType:a}=r.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:s,objectKey:l,trackId:u,left:c,right:d}of e)i({projectId:o,sheetId:s,objectKey:l,trackId:u,keyframeId:c.id,start:[t[0],t[1]]}),i({projectId:o,sheetId:s,objectKey:l,trackId:u,keyframeId:d.id,end:[t[2],t[3]]}),a({projectId:o,sheetId:s,objectKey:l,trackId:u,keyframeId:c.id,keyframeType:"bezier"})}))}(t,i)}function iU(e){var t;null==(t=e.current)||t.discard(),e.current=null}function aU(e,t){return()=>setTimeout(e,t)}var oU,sU,lU,uU,cU,dU,fU,hU,pU,mU,gU,vU,yU,bU,wU,xU,_U,SU=S((()=>{oU=n(5194),sU=M(zf()),qp(),lU=M(cN()),L(),RN(),eU(),JN(),mN(),ty(),nU(),cU=Gp.div(uU||(uU=T(["\n  background: ",";\n  display: grid;\n  grid-template-areas:\n    'search  tween'\n    'presets tween';\n  grid-template-rows: 32px 1fr;\n  grid-template-columns: ","px 120px;\n  gap: 1px;\n  height: 120px;\n"])),fN,159),fU=Gp.div(dU||(dU=T(["\n  overflow: auto;\n  grid-area: presets;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-auto-rows: min-content;\n  gap: 1px;\n\n  overflow-y: scroll;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),3),pU=Gp.input.attrs({type:"text"})(hU||(hU=T(["\n  background-color: ",";\n  border: none;\n  border-radius: 2px;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 6px;\n  font-size: 12px;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  grid-area: search;\n\n  &:hover {\n    background-color: #212121;\n  }\n\n  &:focus {\n    background-color: rgba(16, 16, 16, 0.26);\n    outline: 1px solid rgba(0, 0, 0, 0.35);\n  }\n"])),hN),gU=Gp.div(mU||(mU=T(["\n  grid-area: tween;\n  background: ",";\n"])),hN),yU=Gp.div(vU||(vU=T(["\n  grid-column: 1 / 4;\n  padding: 6px;\n  color: #888888;\n"]))),bU=e=>{let t=(0,sU.useMemo)((()=>[e.curveConnection,...e.additionalConnections]),[e.curveConnection,...e.additionalConnections]),n=(0,sU.useRef)(null);(0,sU.useEffect)((()=>{let e=_U(t);return()=>{var t;e(),null==(t=n.current)||t.commit()}}),[n]);let r=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,sU.useRef)(null);(0,sU.useLayoutEffect)((()=>{var e,t;null==(e=i.current)||e.select(),null==(t=i.current)||t.focus()}),[i.current]);let[a,o]=(0,sU.useState)(IN(r)),s=e=>{void 0!==e&&(u(1),o(e.target.value),ON(e.target.value)&&d(e.target.value))},[l,u]=(0,sU.useState)(0);(0,sU.useEffect)((()=>{2===l?o(IN(r)):3===l&&""!==a&&o("")}),t);let[c,d]=(0,sU.useState)(IN(r)),[f,h]=(0,sU.useState)(null);(0,sU.useEffect)((()=>{var e;0!==l&&3!==l&&rU(n,t,null!=(e=null!=f?f:c)?e:"")}),[f,c,l]),t.some(function(e){let{left:t,right:n}=e;return e=>{let{left:r,right:i}=e;return t.handles[2]!==r.handles[2]||t.handles[3]!==r.handles[3]||n.handles[0]!==i.handles[0]||n.handles[1]!==i.handles[1]}}(e.curveConnection))&&0===l&&u(3);let p=(0,sU.useMemo)((()=>/^[A-Za-z]/.test(a)?lU.default.filter(a,DN,{extract:e=>e.label}).map((e=>e.original)):DN),[a]);(0,sU.useEffect)((()=>{1===l&&p[0]&&d(p[0].value)}),[p]);let m=t=>{"Escape"===t.key?(iU(n),e.onRequestClose("key Escape"),t.stopPropagation()):"Enter"===t.key&&(e.onRequestClose("key Enter"),t.stopPropagation())},g=()=>h(null),v=(0,sU.useRef)(DN.reduce(((e,t)=>(e[t.label]={current:null},e)),{})),[y,b]=$v(null),[w,x]=(0,sU.useState)(0);(0,sU.useEffect)((()=>{let e=()=>{var e;x(null!=(e=null==b?void 0:b.scrollTop)?e:0)};return null==b||b.addEventListener("scroll",e),()=>null==b?void 0:b.removeEventListener("scroll",e)}),[b]);let _=function(e){var t;let[n,r]=(0,tU.useState)(null),i=t=>{if(null===n)return void(e.items.length>0&&r(0));let i=n+t*e.uiColumns,a=i<0,o=i>e.items.length-1;if(a||o)return e.canVerticleExit&&e.canVerticleExit(a?"top":"bottom")?void r(null):void 0;r(i)},a=t=>{r(null===n?function(e,t){return(e%t+t)%t}(t,e.items.length):n+t<0?null:Math.min(n+t,e.items.length-1))};return{focusFirstItem(){r(0)},onParentEltKeyDown:e=>{if("ArrowRight"===e.key)a(1);else if("ArrowLeft"===e.key)a(-1);else if("ArrowUp"===e.key)i(-1);else{if("ArrowDown"!==e.key)return 0;i(1)}return 1},gridItems:e.items.map(((t,i)=>e.renderItem({isSelected:i===n,item:t,select(n){r(i),1===e.onSelectItem(t)&&(null==n||n.preventDefault(),null==n||n.stopPropagation())}}))),currentSelection:null!=(t=e.items[null!=n?n:-1])?t:null}}({items:p,uiColumns:3,onSelectItem:r=>(rU(n,t,r.value),e.onRequestClose("selected easing option"),1),canVerticleExit(e){var t,n;return"top"===e?(null==(t=i.current)||t.select(),null==(n=i.current)||n.focus(),1):0},renderItem:e=>{let{item:t,select:n}=e;var i,a;return sU.default.createElement(ZN,{key:t.label,easing:t,tabIndex:0,onKeyDown:m,ref:v.current[t.label],onMouseOver:()=>(e=>{0===l&&u(2),h(e.value)})(t),onMouseOut:g,onClick:n,tooltipPlacement:(null!=(a=null==(i=v.current[t.label].current)?void 0:i.offsetTop)?a:0)-(null!=w?w:0)<78?"bottom":"top",isSelected:zN(r,ON(t.value))})}});return(0,sU.useLayoutEffect)((()=>{var e,t;if(null!==_.currentSelection&&document.activeElement!==i.current){let n=null==(t=null==(e=v.current)?void 0:e[_.currentSelection.label])?void 0:t.current;null==n||n.focus(),d(_.currentSelection.value),/^[A-Za-z]/.test(a)||o(_.currentSelection.value)}}),[_.currentSelection]),sU.default.createElement(cU,null,sU.default.createElement(pU,{value:a,placeholder:3===l?"Multiple easings selected":"Search presets...",onPaste:aU(s),onChange:s,ref:i,onKeyDown:t=>{var r,i;u(1),("ArrowDown"===t.key||"ArrowUp"===t.key)&&t.preventDefault(),"ArrowDown"===t.key?(_.focusFirstItem(),null==(i=null==(r=v.current[p[0].label])?void 0:r.current)||i.focus()):"Escape"===t.key?(iU(n),e.onRequestClose("key Escape")):"Enter"===t.key&&e.onRequestClose("key Enter")}}),sU.default.createElement(fU,{ref:y,onKeyDown:e=>_.onParentEltKeyDown(e)},_.gridItems,0===_.gridItems.length?sU.default.createElement(yU,null,"No results found"):void 0),sU.default.createElement(gU,{onClick:()=>{var e;return null==(e=i.current)?void 0:e.focus()}},sU.default.createElement(AN,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:e=>{var t,n;u(2);let r=IN(e);o(r),d(r),null==(t=i.current)||t.select(),null==(n=i.current)||n.focus()},onCancelCurveChange:()=>{}})))},({isCurveEditorOpenD:wU,isConnectionEditingInCurvePopover:xU,getLock:_U}=(()=>{let e=new oU.Atom([]);return{getLock:t=>(e.set(t),function(){e.set([])}),isCurveEditorOpenD:(0,oU.prism)((()=>e.prism.getValue().length>0)),isConnectionEditingInCurvePopover:t=>(oU.prism.ensurePrism(),e.prism.getValue().some((e=>{let{left:n,right:r}=e;return t.left.id===n.id&&t.right.id===r.id})))}})())}));function EU(e,t){for(let{keyframeId:n}of function(e){var t,n,r;let i=[];for(let[a,o]of Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{}))for(let[e,t]of Object.entries(null!=(n=null==o?void 0:o.byTrackId)?n:{}))for(let n of Object.keys(null!=(r=null==t?void 0:t.byKeyframeId)?r:{}))i.push({objectKey:a,trackId:e,keyframeId:n});return i}(t))if(e.left.id===n)return!0;return!1}function kU(e,t,n){return(0,AU.prism)((()=>{if(void 0===n)return[];let r=[];for(let{objectKey:i,trackId:a}of TU(n)){let o=(0,AU.val)(O().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[a]);o&&(r=r.concat(PU(o.keyframes).filter((e=>EU(e,n))).map((n=>{let{left:r,right:o}=n;return{left:r,right:o,trackId:a,objectKey:i,sheetId:t,projectId:e}}))))}return r}))}function CU(e,t,n){var r;if(void 0===n)return[];let i=[];for(let{objectKey:o,trackId:s,keyframeIds:l}of TU(n))i=i.concat(null!=(r=MU({projectId:e,sheetId:t,objectKey:o,trackId:s,keyframeIds:l}))?r:[]);let a=gL(i.map((e=>e.pathToProp)));return i.map((e=>{let{keyframe:t,pathToProp:n}=e;return{keyframe:t,pathToProp:n.slice(a.length)}}))}function MU(e){let{projectId:t,sheetId:n,objectKey:r,trackId:i,keyframeIds:a}=e,o=(0,AU.val)(O().atomP.historic.coreByProject[t].sheetsById[n].sequence.tracksByObject[r]),s=null==o?void 0:o.trackData[i];if(!s)return null;let l=function(e){let t={};for(let[n,r]of Object.entries(e))t[r]=n;return t}((null==o?void 0:o.trackIdByPropPath)||{})[i];if(!l)return null;let u=[r,...yL(l)];return a.map((e=>({keyframe:s.keyframes.find((t=>t.id===e)),pathToProp:u}))).filter((e=>{let{keyframe:t}=e;return void 0!==t}))}function PU(e){return e.map(((t,n)=>({left:t,right:e[n+1]}))).slice(0,-1)}function TU(e){var t,n,r;let i=[];for(let[a,o]of Object.entries(null!=(t=null==e?void 0:e.byObjectKey)?t:{}))for(let[e,t]of Object.entries(null!=(n=null==o?void 0:o.byTrackId)?n:{}))i.push({objectKey:a,trackId:e,keyframeIds:Object.keys(null!=(r=null==t?void 0:t.byKeyframeId)?r:{})});return i}var AU,RU=S((()=>{AU=n(5194),L(),bL()}));function IU(e,t){return(0,OU.useMemo)((()=>function(e,t){let n=null,r=t=>O().tempTransaction((n=>e(n,t)));function i(){null==n||n.discard(),n=null}let a={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:e=>e.id?t.sheet.project.assetStorage.getAssetUrl(e.id):void 0};return w({temporarilySetValue(e){i(),n=r(e)},discardTemporaryValue:i,permanentlySetValue(e){i(),r(e).commit()}},a)}(e,t)),[])}var OU,zU=S((()=>{L(),OU=M(zf())}));function LU(e){var t;if("sheetObject"===e.type)return NU.default.createElement(NU.default.Fragment,null,NU.default.createElement(BU,{style:{paddingLeft:"".concat(e.indent*VU,"px")}},e.sheetObject.address.objectKey),e.children.map(((t,n)=>NU.default.createElement(LU,x(w({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1})))));if("propWithChildren"===e.type){let n=null!=(t=e.propConfig.label)?t:id(e.pathToProp);return NU.default.createElement(NU.default.Fragment,null,NU.default.createElement(BU,{style:{paddingLeft:"".concat(e.indent*VU,"px")}},n),e.children.map(((t,n)=>NU.default.createElement(LU,x(w({key:n},t),{autoFocusInput:e.autoFocusInput&&0===n,indent:e.indent+1})))))}return NU.default.createElement(DU,x(w({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function DU(e){var t;let n=null!=(t=e.propConfig.label)?t:id(e.pathToProp),r=function(e){let t=e.sheetObject;return IU(((n,r)=>{let{stateEditors:i}=n,a=x(w({},e.keyframe),{value:r});i.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},t.address),{trackId:e.trackId,keyframes:[a],snappingFunction:t.sheet.getSequence().closestGridPosition}))}),t)}(e);if("enum"===e.propConfig.type)return NU.default.createElement(NU.default.Fragment,null);{let t=MC[e.propConfig.type];return NU.default.createElement(jU,null,NU.default.createElement(BU,null,NU.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*VU,"px")}},n)),NU.default.createElement(WU,null,NU.default.createElement(t,{editingTools:r,propConfig:e.propConfig,value:zC(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}var NU,UU,jU,FU,BU,VU,HU,WU,GU=S((()=>{NU=M(zf()),qp(),TC(),ad(),zU(),XC(),jU=Gp.div(UU||(UU=T(["\n  display: flex;\n  align-items: stretch;\n  min-width: 200px;\n\n  select {\n    min-width: 100px;\n  }\n"]))),BU=Gp.div(FU||(FU=T(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 11px;\n  line-height: 13px;\n  letter-spacing: 0.01em;\n  padding: 6px 6px 6px 0;\n\n  width: 40%;\n\n  color: #919191;\n\n  overflow: hidden;\n"]))),VU=10,WU=Gp.div(HU||(HU=T(["\n  display: flex;\n  align-items: center;\n  width: 60%;\n"])))}));function qU(e){return uk({debugName:"useKeyframeInlineEditorPopover"},(()=>XU.default.createElement(Rk,{showPopoverEdgeTriangle:!0},XU.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map(((e,t)=>XU.default.createElement(LU,x(w({key:t},e),{autoFocusInput:0===t,indent:0})))):void 0))))}var XU,KU=S((()=>{XU=M(zf()),Ik(),zk(),GU()}));var YU,QU,ZU,JU,$U,ej,tj,nj,rj,ij,aj,oj,sj,lj,uj,cj,dj,fj,hj,pj=S((()=>{YU=M(zf()),qp(),L(),bM(),wx(),ty(),QU=n(5194),TD(),nx(),OL(),MD(),sx(),RU(),Cy(),GD(),KU(),cP(),JU=(ZU=6)+2,$U={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},ej=e=>{let{isSelected:t,isInlineEditorPopoverOpen:n}=e;return t&&n?$U.inlineEditorOpenColor:t?$U.selectedColor:n?$U.selectedAndInlineEditorOpenColor:$U.normalColor},nj=Gp.div(tj||(tj=T(["\n  position: absolute;\n  ","\n\n  background: ",";\n  transform: rotateZ(45deg);\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),iD(ZU),(e=>ej(e)),(e=>2===e.flag?"outline: 2px solid white;":"")),ij=Gp.div(rj||(rj=T(["\n  position: absolute;\n  ","\n\n  background: ",";\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),iD(1.5*ZU),(e=>ej(e)),(e=>2===e.flag?"outline: 2px solid white;":"")),oj=Gp.div(aj||(aj=T(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  & + "," {\n    ","\n  }\n\n  &:hover + "," {\n    ","\n  }\n"])),iD(12),ay,nj,(e=>e.isInlineEditorPopoverOpen?iD(JU):""),nj,iD(JU)),sj=e=>{let t=ix("SingleKeyframeDot",e.keyframe.id),n=CM(e.itemKey),[r,i]=$v(null),[a]=function(e,t,n){return gM(e,{displayName:"Keyframe",menuItems:()=>{let e=CU(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:()=>{e.length>0?O().transaction((t=>{t.stateEditors.studio.ahistoric.setClipboardKeyframes(e)})):O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])}))}},{label:void 0!==n.selection?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():O().transaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))}))}}]},onOpen(){t._debug("Show keyframe",n)}})}(i,t,e),{node:o,toggle:s,isOpen:l}=qU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]),[u]=function(e,t,n){let r=(0,YU.useRef)(t);r.current=t;let{onClickFromDrag:i}=n,a=(0,YU.useMemo)((()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(t){let n=r.current;if(OD(zD((0,QU.val)(O().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),(function(e,t){let{trackId:r,objectKey:i}=t;var a,o;return e.id!==n.keyframe.id&&!(n.selection&&null!=(o=null==(a=n.selection.byObjectKey[i])?void 0:a.byTrackId[r])&&o.byKeyframeId[e.id])}))),n.selection){let{selection:r,leaf:a}=n,{sheetObject:o}=a,s=r.getDragHandlers(x(w({},o.address),{domNode:e,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(t);return s&&x(w({},s),{onClick:i,onDragEnd:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null==(e=s.onDragEnd)||e.call(s,...n),ID()}})}let a,o=n,s=(0,QU.val)(o.layoutP.scaledSpace.toUnitSpace);return{onDrag(t,n,r){var i;let l=o.track.data.keyframes[o.index],u=Math.max(null!=(i=RL.checkIfMouseEventSnapToPos(r,{ignore:e}))?i:l.position+s(t),0);null==a||a.discard(),a=void 0,a=O().tempTransaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},o.leaf.sheetObject.address),{trackId:o.leaf.trackId,keyframes:[x(w({},l),{position:u})],snappingFunction:(0,QU.val)(o.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd(e){e?null==a||a.commit():null==a||a.discard(),ID()},onClick(e){i(e)}}}})),[i]),[o]=gx(e,a);return mD(o,t.keyframe.position),$w(o,"draggingPositionInSequenceEditor","ew-resize"),[o]}(i,e,{onClickFromDrag(e){s(e,r.current)}}),c=!e.keyframe.type||"bezier"===e.keyframe.type;return YU.default.createElement(YU.default.Fragment,null,YU.default.createElement(oj,w({ref:r,isInlineEditorPopoverOpen:l},n.attrs)),c?YU.default.createElement(nj,{isSelected:!!e.selection,isInlineEditorPopoverOpen:l,flag:n.flag}):YU.default.createElement(ij,{isSelected:!!e.selection,isInlineEditorPopoverOpen:l,flag:n.flag}),o,a)}})),mj=S((()=>{Zm(),lj=M(zf()),qp(),pj(),uj=ZU/2+1,cj={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?cj.selectedColor:cj.normalColor;return e.isPopoverOpen?Km(.2,Xm(.2,t)):t},hoverColor:e=>{let t=e.isSelected?cj.selectedColor:cj.normalColor;return e.isPopoverOpen?Km(.2,Xm(.2,t)):Km(.1,Xm(.1,t))}},fj=Gp.div(dj||(dj=T(["\n  position: absolute;\n  background: ",";\n  height: ","px;\n  width: ","px;\n\n  left: 0;\n  top: -","px;\n  transform-origin: top left;\n  z-index: 0;\n  cursor: ew-resize;\n\n  &:after {\n    display: block;\n    position: absolute;\n    content: ' ';\n    top: -4px;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"])),cj.barColor,uj,1e3,uj/2,cj.hoverColor),hj=lj.default.forwardRef(((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return lj.default.createElement(fj,x(w({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/1e3,"))")},onClick:t=>{var n;null==(n=e.openPopover)||n.call(e,t)}}),e.children)}))}));var gj,vj,yj,bj,wj,xj,_j,Sj,Ej,kj,Cj,Mj,Pj,Tj,Aj=S((()=>{L(),bM(),wx(),ty(),gj=n(5194),vj=M(zf()),yj=M(zf()),Ik(),zk(),SU(),mj(),mN(),eh(),RU(),RU(),qp(),wj=Gp(Rk)(bj||(bj=T(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: ",";\n"])),fN),xj=e=>{let{index:t,track:n}=e,r=n.data.keyframes[t],i=n.data.keyframes[t+1],[a,o]=$v(null),{node:s,toggle:l,close:u}=uk((()=>{let t=(0,gj.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:t.screenX+5,maxX:t.screenX+t.width-5}}}),(()=>vj.default.createElement(_j,x(w({},e),{closePopover:u})))),[c]=function(e,t,n,r){return gM(t,{displayName:"Tween",menuItems:()=>{let t=CU(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:t.length>0?"Copy (selection)":"Copy",callback:()=>{t.length>0?O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)})):O().transaction((t=>{t.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:r,pathToProp:e.leaf.pathToProp}])}))}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():O().transaction((t=>{let{stateEditors:i}=t;i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},e.leaf.sheetObject.address),{keyframeIds:[n.id,r.id],trackId:e.leaf.trackId}))}))}}]}})}(e,o,r,i);!function(e,t){let n=(0,yj.useRef)(t);n.current=t;let r=(0,yj.useMemo)((()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){let r,i=n.current;if(i.selection){let{selection:n,leaf:r}=i,{sheetObject:a}=r;return n.getDragHandlers(x(w({},a.address),{domNode:e,positionAtStartOfDrag:i.track.data.keyframes[i.index].position})).onDragStart(t)}let a=i,o=(0,gj.val)(a.layoutP.sheet).getSequence(),s=(0,gj.val)(a.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){let i=s(e);r&&(r.discard(),r=void 0),r=O().tempTransaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.transformKeyframes(x(w({},a.leaf.sheetObject.address),{trackId:a.leaf.trackId,keyframeIds:[a.keyframe.id,a.track.data.keyframes[a.index+1].id],translate:i,scale:1,origin:0,snappingFunction:o.closestGridPosition}))}))},onDragEnd(e){e?r&&r.commit():r&&r.discard()}}}})),[]);gx(e,r)}(o,e);let d=i.position-r.position,f={isPopoverOpen:jf((()=>xU(x(w({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:r,right:i}))),[e.leaf.sheetObject.address,e.leaf.trackId,r,i]),isSelected:void 0!==e.selection};return vj.default.createElement(vj.default.Fragment,null,vj.default.createElement(hj,x(w({ref:a,connectorLengthInUnitSpace:d},f),{openPopover:e=>{o&&l(e,o)}}),s),c)},_j=vj.default.forwardRef(((e,t)=>{let{index:n,track:{data:r},selection:i}=e,a=r.keyframes[n],o=r.keyframes[n+1],s=e.leaf.trackId,l=e.leaf.sheetObject.address,u=jf((()=>kU(l.projectId,l.sheetId,i).getValue()),[l,i]),c=w({left:a,right:o,trackId:s},l);return vj.default.createElement(wj,{showPopoverEdgeTriangle:!1,ref:t},vj.default.createElement(bU,{curveConnection:c,additionalConnections:u,onRequestClose:e.closePopover}))}))})),Rj=S((()=>{Sj=n(5194),Ej=M(zf()),qp(),Aj(),pj(),Cj=Gp.div(kj||(kj=T(["\n  position: absolute;\n"]))),Mj=Ej.default.createElement(Ej.default.Fragment,null),Pj=Ej.default.memo((e=>{let{index:t,track:{data:n}}=e,r=n.keyframes[t],i=n.keyframes[t+1],a=r.connectedRight&&!!i;return Ej.default.createElement(Cj,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Sj.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(r.position,"px))")}},Ej.default.createElement(sj,x(w({},e),{itemKey:e.itemKey})),a?Ej.default.createElement(xj,w({},e)):Mj)})),Tj=Pj}));function Ij(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let r=(0,Oj.val)(e.layoutP.sheet).getSequence(),i=null==(n=t[0])?void 0:n.pathToProp,a=t.filter((e=>{let{keyframe:t,pathToProp:n}=e;return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(i,n)})).map((e=>{let{keyframe:t,pathToProp:n}=e;return t}));O().transaction((t=>{let{stateEditors:n}=t;var i;r.position=r.closestGridPosition(r.position);let o=null==(i=function(e){let t=null;for(let n of e)(null===t||n.position<t.position)&&(t=n);return t}(a))?void 0:i.position;for(let s of a)n.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(x(w({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:r.position+s.position-o,handles:s.handles,value:s.value,snappingFunction:r.closestGridPosition,type:s.type}))}))}}}var Oj,zj,Lj,Dj,Nj,Uj,jj,Fj,Bj,Vj=S((()=>{eh(),Oj=n(5194),zj=M(zf()),qp(),Rj(),bM(),ty(),L(),bL(),GD(),wP(),Dj=Gp.div(Lj||(Lj=T(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),(Nj=zj.default.memo((e=>{var t;let{layoutP:n,trackData:r,leaf:i}=e,[a,o]=$v(null),{selectedKeyframeIds:s,selection:l}=jf((()=>{let e=(0,Oj.val)(n.selectionAtom),t=(0,Oj.val)(e.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return t?{selectedKeyframeIds:t,selection:(0,Oj.val)(e.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}}),[n,i.trackId]),[u,c,d]=function(e,t){return gM(e,{displayName:"Keyframe Track",menuItems:()=>{var e;let n=null!=(e=(0,Oj.val)(O().atomP.ahistoric.clipboard.keyframesWithRelativePaths))?e:[];return[Ij(t,n)]}})}(o,e),f=qf(WD),h="snapToSome"===f.mode?null==(t=f.positions[i.sheetObject.address.objectKey])?void 0:t[i.trackId]:[],p="snapToAll"===f.mode,m=(0,zj.useMemo)((()=>({data:r,id:i.trackId,sheetObject:e.leaf.sheetObject})),[r,i.trackId]),g=r.keyframes.map(((e,t)=>zj.default.createElement(Tj,{key:"keyframe-"+e.id,itemKey:bP.forTrackKeyframe(i.sheetObject,i.trackId,e.id),keyframe:e,index:t,track:m,layoutP:n,leaf:i,selection:!0===s[e.id]?l:void 0}))),v=h.map((e=>zj.default.createElement(VD,{key:"snap-target-"+e,layoutP:n,leaf:i,position:e}))),y=p?r.keyframes.map((e=>zj.default.createElement(VD,{key:"additionalSnapTarget-".concat(e.id),layoutP:n,leaf:i,position:e.position}))):null;return zj.default.createElement(Dj,{ref:a,style:{background:d?"#444850 ":"unset"}},g,v,zj.default.createElement(zj.default.Fragment,null,y),u)}))).displayName="BasicKeyframedTrack",Uj=Nj})),Hj=S((()=>{L(),eh(),jj=n(5194),Fj=M(zf()),uN(),Vj(),sx(),Bj=e=>{let{leaf:t,layoutP:n}=e,r=ix("PrimitivePropRow",t.pathToProp.join());return jf((()=>{let{sheetObject:e}=t,{trackId:i}=t,a=(0,jj.val)(O().atomP.historic.coreByProject[e.address.projectId].sheetsById[e.address.sheetId].sequence.tracksByObject[e.address.objectKey].trackData[i]);return"BasicKeyframedTrack"!==(null==a?void 0:a.type)?(r.errorDev("trackData type ".concat(null==a?void 0:a.type," is not yet supported on the sequence editor")),Fj.default.createElement(sN,{leaf:t,isCollapsed:!1,node:Fj.default.createElement("div",null)})):Fj.default.createElement(sN,{leaf:t,isCollapsed:!1,node:Fj.default.createElement(Uj,{layoutP:n,trackData:a,leaf:t})})}),[t,n])}}));var Wj=S((()=>{}));function Gj(e){let{index:t,aggregateKeyframes:n,selection:r}=e;return jf(qj(e),[t,n,r,e.viewModel])}function qj(e){let{index:t,aggregateKeyframes:n,selection:r}=e,{projectId:i,sheetId:a}="sheet"===e.viewModel.type?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let o=n[t],s=n[t+1],l=s&&o.keyframes.length===s.keyframes.length&&o.keyframes.every(((e,t)=>{let{track:n}=e;return s.keyframes[t].track===n}))?{length:s.position-o.position,selected:0===o.selected&&0===s.selected}:null,u=l?o.keyframes.map(((e,t)=>{let{kf:n,track:r}=e;return x(w({},r.sheetObject.address),{trackId:r.id,left:n,right:s.keyframes[t].kf})})):[],c=function(e){return e()}((()=>{let e=Xj.prism.memo("selectedConnections",(()=>kU(i,a,r)),[i,a,r]).getValue();return[...u,...e]})),d=u.every((e=>xU(e)));return{itemKey:Xj.prism.memo("itemKey",(()=>"sheet"===e.viewModel.type?bP.forSheetAggregateKeyframe(e.viewModel.sheet,o.position):"sheetObject"===e.viewModel.type?bP.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,o.position):bP.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,o.position)),[e.viewModel,o.position]),cur:o,connected:l,isAggregateEditingInCurvePopover:d,allConnections:c}}}var Xj,Kj=S((()=>{Xj=n(5194),wP(),SU(),eh(),RU(),Wj()}));var Yj,Qj,Zj,Jj,$j,eF,tF=S((()=>{Yj=n(5194),Qj=M(zf()),mj(),Ik(),ty(),L(),wx(),SU(),Kj(),qp(),zk(),RU(),bM(),bL(),Jj=Gp(Rk)(Zj||(Zj=T(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: rgba(26, 28, 30, 0.97);\n"]))),$j=Qj.default.forwardRef(((e,t)=>{let{allConnections:n}=Gj(e);return Qj.default.createElement(Jj,{showPopoverEdgeTriangle:!1,ref:t},Qj.default.createElement(bU,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))})),eF=e=>{let[t,n]=$v(null),{editorProps:r}=e,[i]=function(e,t){return gM(t,{displayName:"Aggregate Tween",menuItems:()=>{let t=e.utils.allConnections.reduce(((e,t)=>{var n;return e.concat(null!=(n=MU(x(w({},t),{keyframeIds:[t.left.id,t.right.id]})))?n:[])}),[]),n=gL(t.map((e=>e.pathToProp))),r=t.map((e=>{let{keyframe:t,pathToProp:r}=e;return{keyframe:t,pathToProp:r.slice(n.length)}})),i=e.editorProps.viewModel,a="sheet"===i.type?i.sheet.address:i.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let t=CU(a.projectId,a.sheetId,e.editorProps.selection);O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(t)}))}else O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)}))}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():O().transaction((t=>{let{stateEditors:n}=t;for(let r of e.utils.allConnections)n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},a),{objectKey:r.objectKey,keyframeIds:[r.left.id,r.right.id],trackId:r.trackId}))}))}}]}})}(e,n),[a]=function(e,t){let n=(0,Qj.useRef)(t);n.current=t;let r=(0,Qj.useMemo)((()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){let r,i=n.current,a=i.aggregateKeyframes[i.index].keyframes,{selection:o,viewModel:s}=i,l="sheet"===s.type?s.sheet.address:s.sheetObject.address;if(o&&0===i.aggregateKeyframes[i.index].selected)return o.getDragHandlers(x(w({},l),{domNode:e,positionAtStartOfDrag:i.aggregateKeyframes[i.index].position})).onDragStart(t);let u=i,c=(0,Yj.val)(u.layoutP.sheet).getSequence(),d=(0,Yj.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){let i=d(e);r&&(r.discard(),r=void 0),r=O().tempTransaction((e=>{let{stateEditors:t}=e;for(let n of a)t.coreByProject.historic.sheetsById.sequence.transformKeyframes(x(w({},n.track.sheetObject.address),{trackId:n.track.id,keyframeIds:[n.kf.id,n.track.data.keyframes[n.track.data.keyframes.indexOf(n.kf)+1].id],translate:i,scale:1,origin:0,snappingFunction:c.closestGridPosition}))}))},onDragEnd(e){e?r&&r.commit():r&&r.discard()}}}})),[]);return gx(e,r)}(n,e.editorProps),{node:o,toggle:s,close:l}=uk((()=>{let e=(0,Yj.val)(r.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:e.screenX+5,maxX:e.screenX+e.width-5}}}),(()=>Qj.default.createElement($j,x(w({},r),{closePopover:l})))),{connected:u,isAggregateEditingInCurvePopover:c}=e.utils;return u||a?Qj.default.createElement(Qj.default.Fragment,null,Qj.default.createElement(hj,{ref:t,connectorLengthInUnitSpace:u?u.length:0,isSelected:!!u&&u.selected,isPopoverOpen:c,openPopover:e=>{n&&s(e,n)}}),o,i):Qj.default.createElement(Qj.default.Fragment,null)}}));function nF(e){let t={isSelected:e.isSelected,flag:e.flag};return rF.default.createElement(aF,null,e.isAllHere?rF.default.createElement(hF,w({},t)):rF.default.createElement(pF,w({},t)))}var rF,iF,aF,oF,sF,lF,uF,cF,dF,fF,hF,pF,mF=S((()=>{rF=M(zf()),qp(),MD(),Cy(),aF=Gp.div(iF||(iF=T(["\n  position: absolute;\n  ","\n  z-index: 1;\n"])),iD(16)),sF=Gp.div(oF||(oF=T(["\n  z-index: 2;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  &:hover\n    + ",",\n    #pointer-root.draggingPositionInSequenceEditor\n    &:hover\n    + "," {\n    ","\n  }\n"])),iD(12),ay,aF,aF,iD(18)),lF="#F2C95C",uF="#40AAA4",cF="#45747C",dF=e=>0===e.isSelected?lF:1===e.isSelected?uF:cF,fF=e=>0===e.isSelected?lF:1===e.isSelected?uF:cF,hF=e=>rF.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rF.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:fF(e)}),rF.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:dF(e),stroke:2===e.flag?"white":void 0,strokeWidth:2===e.flag?"2px":void 0})),pF=e=>rF.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},rF.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:2===e.flag?"white":dF(e),strokeWidth:2===e.flag?"2px":void 0}))}));function gF(e,t){let n=e.children.map((e=>"propWithChildren"===e.type?gF(e,t):vF(e,t))).filter(wF);return 0===n.length?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function vF(e,t){let n=t.find((t=>t.track.id===e.trackId));return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function yF(e){var t,n,r,i;let{cur:a}=e.utils,o=qU("sheet"===e.editorProps.viewModel.type?null:"sheetObject"===e.editorProps.viewModel.type?null!=(n=null==(t=function(e,t){let n=e.children.map((e=>"propWithChildren"===e.type?gF(e,t):vF(e,t))).filter(wF);return 0===n.length?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}(e.editorProps.viewModel,a.keyframes))?void 0:t.children)?n:null:null!=(i=null==(r=gF(e.editorProps.viewModel,a.keyframes))?void 0:r.children)?i:null),s=CM(e.utils.itemKey);s.useRelations((()=>a.keyframes.map((e=>({affects:e.itemKey,flag:2})))),[a.keyframes.map((e=>e.track.id)).join("-")]);let[l,u]=$v(null),[c]=function(e,t){return gM(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let t=e.editorProps.viewModel,n=e.editorProps.selection;return[{label:n?"Copy (selection)":"Copy",callback:()=>{if(n){let{projectId:e,sheetId:r}="sheet"===t.type?t.sheet.address:t.sheetObject.address,i=CU(e,r,n);O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}))}else{let n=e.utils.cur.keyframes.flatMap((e=>{var t;return null!=(t=MU(x(w({},e.track.sheetObject.address),{trackId:e.track.id,keyframeIds:[e.kf.id]})))?t:[]})),r=gL(["sheet"===t.type?[]:"sheetObject"===t.type?[t.sheetObject.address.objectKey]:"propWithChildren"===t.type?[t.sheetObject.address.objectKey,...t.pathToProp]:[],...n.map((e=>e.pathToProp))]),i=n.map((e=>{let{keyframe:t,pathToProp:n}=e;return{keyframe:t,pathToProp:n.slice(r.length)}}));O().transaction((e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}))}}},{label:n?"Delete (selection)":"Delete",callback:()=>{n?n.delete():O().transaction((t=>{let{stateEditors:n}=t;for(let r of e.utils.cur.keyframes)n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},r.track.sheetObject.address),{keyframeIds:[r.kf.id],trackId:r.track.id}))}))}}]}})}(e,u);return bF.default.createElement(bF.default.Fragment,null,bF.default.createElement(sF,x(w(w({ref:l},s.attrs),RL.includePositionSnapAttrs(a.position)),{onClick:t=>"sheet"!==e.editorProps.viewModel.type?o.open(t,l.current):null})),bF.default.createElement(nF,{flag:s.flag,isAllHere:a.allHere,isSelected:a.selected}),c,o.node)}var bF,wF,xF,_F,SF,EF,kF,CF,MF=S((()=>{bF=M(zf()),ty(),cP(),bM(),mF(),L(),RU(),bL(),OL(),KU(),wF=e=>null!==e})),PF=S((()=>{xF=n(5194),_F=M(zf()),qp(),tF(),Kj(),MF(),EF=Gp.div(SF||(SF=T(["\n  position: absolute;\n"]))),kF=_F.default.memo((e=>{let t=Gj(e);return _F.default.createElement(EF,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,xF.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},_F.default.createElement(yF,{editorProps:e,utils:t}),_F.default.createElement(eF,{editorProps:e,utils:t}))})),CF=kF}));function TF(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:r}=e,i=ix("AggregatedKeyframeTrack"),[a,o]=$v(null),{selectedPositions:s,selection:l}=function(e,t){return jf((()=>(0,LF.val)(function(e,t){return(0,LF.prism)((()=>{let n=(0,LF.val)(e.selectionAtom),r=(0,LF.val)(n.pointer.current);if(!r)return jF;let i=new Map;for(let[e,a]of t.byPosition){let t=AF(a,r);void 0!==t&&t!==GF&&i.set(e,t)}return{selectedPositions:i,selection:(0,LF.val)(n.pointer.current)}}))}(e,t))),[e,t])}(t,n),[u,c,d]=function(e,t,n){return gM(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var e;let n=null!=(e=(0,LF.pointerToPrism)(O().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())?e:[];return[RF(t,n)]}})}(o,e,(()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes))),f=(0,DF.useMemo)((()=>[...n.byPosition.entries()].sort(((e,t)=>e[0]-t[0])).map((e=>{let[t,r]=e;return{position:t,keyframes:r,selected:s.get(t),allHere:r.length===n.tracks.length}}))),[n,s]),h=qf(WD),p="snapToAll"===h.mode,m="snapToSome"===h.mode?h.positions:EP,g=(0,DF.useMemo)((()=>"sheet"===r.type?function(e,t){return Tf(e.children.flatMap((e=>NL(e,t))))}(r,m):NL(r,m)),[m]).map((e=>DF.default.createElement(VD,{key:"snap-target-"+e,layoutP:t,leaf:r,position:e}))),v=(0,DF.useMemo)((()=>f.map(((e,n)=>{let{position:i,keyframes:a}=e;return{position:i,editorProps:{index:n,layoutP:t,viewModel:r,aggregateKeyframes:f,selection:s.has(i)?l:void 0}}}))),[f,r,s]),[y]=function(e,t,n){let r=ix("useDragForAggregateKeyframeDot"),i=pD(),a=(0,DF.useMemo)((()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(a){r._debug("onDragStart",{target:a.target});let o=Number(a.target.dataset.pos),s=t(o);if(!s)return r._debug("no props found for ",{positionToFind:o}),!1;i(!0,o);let l=(0,LF.prism)(qj(s)).getValue().cur.keyframes,u="sheet"===s.viewModel.type?s.viewModel.sheet.address:s.viewModel.sheetObject.address,c=zD((0,LF.val)(O().atomP.historic.coreByProject[u.projectId].sheetsById[u.sheetId].sequence.tracksByObject),(function(e,t){let{trackId:n,objectKey:r}=t;var i,a;return l.every((t=>e.id!==t.kf.id))&&!(s.selection&&null!=(a=null==(i=s.selection.byObjectKey[r])?void 0:i.byTrackId[n])&&a.byKeyframeId[e.id])}));if(OD(c),s.selection&&0===s.aggregateKeyframes[s.index].selected){let{selection:t,viewModel:r}=s,i=t.getDragHandlers(x(w({},u),{domNode:e,positionAtStartOfDrag:l[0].kf.position})).onDragStart(a);return i&&x(w({},i),{onClick:n.onClickFromDrag,onDragEnd:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null==(e=i.onDragEnd)||e.call(i,...n),ID()}})}let d,f=s,h=(0,LF.val)(f.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,t,n){var r;let a=Math.max(null!=(r=RL.checkIfMouseEventSnapToPos(n,{}))?r:l[0].kf.position+h(e),0);i(!0,a),null==d||d.discard(),d=void 0,d=O().tempTransaction((e=>{let{stateEditors:t}=e;for(let n of l){let e=n.kf;t.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},n.track.sheetObject.address),{trackId:n.track.id,keyframes:[x(w({},e),{position:a})],snappingFunction:(0,LF.val)(f.layoutP.sheet).getSequence().closestGridPosition}))}}))},onDragEnd(e){i(!1,-1),e?null==d||d.commit():(null==d||d.discard(),n.onClickFromDrag(a)),ID()},onClick(e){n.onClickFromDrag(e)}}}})),[t,n.onClickFromDrag]),[o]=gx(e,a);return $w(o,"draggingPositionInSequenceEditor","ew-resize"),[o]}(o,(e=>{var t;return null==(t=v.find((t=>t.position===e)))?void 0:t.editorProps}),{onClickFromDrag(e){}}),b=v.map(((e,n)=>DF.default.createElement(DF.Fragment,{key:"agg-"+f[n].keyframes[0].kf.id},p&&DF.default.createElement(VD,{layoutP:t,leaf:r,position:e.position}),DF.default.createElement(CF,w({},e.editorProps)))));return DF.default.createElement(UF,{ref:a,style:{background:d?"#444850 ":"unset"}},b,g,u)}function AF(e,t){var n,r,i;let a;for(let{track:o,kf:s}of e){let e=!0===(null==(i=null==(r=null==(n=t.byObjectKey[o.sheetObject.address.objectKey])?void 0:n.byTrackId[o.id])?void 0:r.byKeyframeId)?void 0:i[s.id]);void 0===a?a=e?HF:GF:e?a===GF&&(a=WF):a===HF&&(a=WF)}return a}function RF(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,LF.val)(e.layoutP.sheet).getSequence();"sheet"===e.viewModel.type?function(e,t,n){var r;let{projectId:i,sheetId:a,sheetInstanceId:o}=e.sheet.address;if(t.every((e=>{let{pathToProp:t}=e;return 0===t.length})))for(let s of e.children.map((e=>e.sheetObject))){let e=(0,LF.pointerToPrism)(O().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject[s.address.objectKey]).getValue(),o=Object.keys(null!=(r=null==e?void 0:e.trackData)?r:{});IF(s.address,o,t,n)}else{let e=(0,LF.pointerToPrism)(O().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject).getValue();OF(t.map((t=>{let{keyframe:n,pathToProp:r}=t;var s,l;let u=r[0],c=r.slice(1),d=vL([...c]),f=(null!=(l=null==(s=null==e?void 0:e[u])?void 0:s.trackIdByPropPath)?l:{})[d];return f?{keyframe:n,trackId:f,address:{objectKey:u,projectId:i,sheetId:a,sheetInstanceId:o}}:null})).filter((e=>null!==e)),n)}}(e.viewModel,t,n):function(e,t,n){var r;let{projectId:i,sheetId:a,objectKey:o}=e.sheetObject.address,s=(0,LF.pointerToPrism)(O().atomP.historic.coreByProject[i].sheetsById[a].sequence.tracksByObject[o]).getValue();if(t.every((e=>{let{pathToProp:t}=e;return 0===t.length}))){let i=Object.keys(null!=(r=null==s?void 0:s.trackData)?r:{});if("sheetObject"===e.type)IF(e.sheetObject.address,i,t,n);else{let r=(null==s?void 0:s.trackIdByPropPath)||{},i=Object.entries(r).filter((t=>{let[n,r]=t;return void 0!==r&&function(e,t){return t.every(((t,n)=>t===e[n]))}(yL(n),e.pathToProp)})).map((e=>{let[t,n]=e;return n}));IF(e.sheetObject.address,i,t,n)}}else{let r=(null==s?void 0:s.trackIdByPropPath)||{},i="propWithChildren"===e.type?e.pathToProp:[];OF(t.map((t=>{let{keyframe:n,pathToProp:a}=t,o=vL([...i,...a]),s=r[o];return s?{keyframe:n,trackId:s,address:e.sheetObject.address}:null})).filter((e=>null!==e)),n)}}(e.viewModel,t,n)}}}function IF(e,t,n,r){var i;r.position=r.closestGridPosition(r.position);let a=null==(i=zF(n.map((e=>{let{keyframe:t}=e;return t}))))?void 0:i.position;O().transaction((i=>{let{stateEditors:o}=i;for(let s of t)for(let{keyframe:t}of n)o.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(x(w({},e),{trackId:s,position:r.position+t.position-a,handles:t.handles,value:t.value,snappingFunction:r.closestGridPosition,type:t.type}))}))}function OF(e,t){var n;t.position=t.closestGridPosition(t.position);let r=null==(n=zF(e.map((e=>{let{keyframe:t}=e;return t}))))?void 0:n.position;O().transaction((n=>{let{stateEditors:i}=n;for(let{keyframe:a,trackId:o,address:s}of e)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(x(w({},s),{trackId:o,position:t.position+a.position-r,handles:a.handles,value:a.value,snappingFunction:t.closestGridPosition,type:a.type}))}))}function zF(e){let t=null;for(let n of e)(null===t||n.position<t.position)&&(t=n);return t}var LF,DF,NF,UF,jF,FF,BF,VF,HF,WF,GF,qF,XF,KF,YF,QF,ZF,JF,$F,eB,tB,nB,rB,iB,aB=S((()=>{var e;eh(),LF=n(5194),DF=M(zf()),qp(),bM(),ty(),PF(),jL(),sx(),Kj(),OL(),wx(),TD(),nx(),L(),bL(),GD(),CP(),GD(),jL(),UF=Gp.div(NF||(NF=T(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),jF=Object.freeze({selectedPositions:new Map,selection:void 0}),FF=DF.default.memo(TF),BF=FF,(e=VF||{})[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",VF=e,({AllSelected:HF,AtLeastOneUnselected:WF,NoneSelected:GF}=VF)})),oB=S((()=>{eh(),qF=M(zf()),Hj(),uN(),aB(),jL(),sx(),XF=(e,t)=>"propWithChildren"===e.type?qF.default.createElement(KF,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):qF.default.createElement(Bj,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),KF=e=>{let{viewModel:t,layoutP:n}=e,r=ix("RightPropWithChildrenRow",t.pathToProp.join());return jf((()=>{let e=zL(t);return qF.default.createElement(rx,{logger:r},qF.default.createElement(sN,{leaf:t,node:qF.default.createElement(BF,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((e=>XF(e,n)))))}),[t,n])}})),sB=S((()=>{eh(),YF=M(zf()),oB(),uN(),jL(),aB(),QF=e=>{let{leaf:t,layoutP:n}=e;return jf((()=>{let e=zL(t);return YF.default.createElement(sN,{leaf:t,node:YF.default.createElement(BF,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((e=>XF(e,n))))}),[t,n])}})),lB=S((()=>{eh(),ZF=M(zf()),sB(),uN(),jL(),aB(),JF=e=>{let{leaf:t,layoutP:n}=e;return jf((()=>{let e=zL(t);return ZF.default.createElement(sN,{leaf:t,node:ZF.default.createElement(BF,{layoutP:n,aggregatedKeyframes:e,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map((e=>ZF.default.createElement(QF,{layoutP:n,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e}))))}),[t,n])}})),uB=S((()=>{eh(),$F=n(5194),eB=M(zf()),qp(),ED(),lN(),lB(),tB=1e6,rB=Gp.ul(nB||(nB=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  width: ","px;\n"])),tB),iB=e=>{let{layoutP:t}=e;return jf((()=>{let e=(0,$F.val)(t.tree),n=(0,$F.val)(t.tree.top)+Math.max((0,$F.val)(t.tree.heightIncludingChildren),(0,$F.val)(t.dopeSheetDims.height));return eB.default.createElement(eB.default.Fragment,null,eB.default.createElement($D,{layoutP:t,height:n},eB.default.createElement(QL,{layoutP:t,height:n},eB.default.createElement(rB,{style:{top:e.top+"px"}},eB.default.createElement(JF,{leaf:e,layoutP:t})))))}),[t])}}));function cB(e,t,n,r){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),a="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");0===n&&(n=1e-4);let o="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");0===r&&(r=.001);let s="calc(var(--graphEditorVerticalSpace) * ".concat(-1*r,")");return"translate(".concat(i,", ").concat(a,") scale(").concat(o,", ").concat(s,")")}var dB,fB,hB,pB,mB=S((()=>{XC(),L(),bM(),ty(),dB=M(zf()),qp(),hB=Gp.path(fB||(fB=T(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),pB=e=>{let{index:t,trackData:n}=e,r=n.keyframes[t],i=n.keyframes[t+1],a=i.position-r.position,[o,s]=$v(null),[l]=function(e,t){let{index:n,trackData:r}=t,i=r.keyframes[n],a=r.keyframes[n+1];return gM(e,{menuItems:()=>[{label:"Delete",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e,{deleteKeyframes:r}=n.coreByProject.historic.sheetsById.sequence;r(x(w({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,a.id]}))}))}}]})}(s,e),u=e.isScalar?zC(r.value,e.propConfig):0,c=e.isScalar?zC(i.value,e.propConfig):1,d=e.extremumSpace.fromValueSpace(u),f=e.extremumSpace.fromValueSpace(c)-d,h=cB(r.position,d,a,f),p=r.handles[2],m=r.handles[3],g=i.handles[0],v=i.handles[1],y="M 0 0 C ".concat(p," ").concat(m," ").concat(g," ").concat(v," 1 1");return dB.default.createElement(dB.default.Fragment,null,dB.default.createElement(hB,{ref:o,d:r.type&&"bezier"!==r.type?"M 0 0 L 1 0 L 1 1":y,style:{transform:h}}),l)}}));var gB,vB,yB,bB,wB,xB,_B,SB,EB,kB=S((()=>{L(),bM(),wx(),ty(),gB=n(5194),Rf(),vB=M(zf()),qp(),mB(),Cy(),bB=Gp.circle(yB||(yB=T(["\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n  fill: var(--main-color);\n  r: 2px;\n  pointer-events: none;\n"]))),xB=Gp.circle(wB||(wB=T(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  cursor: move;\n  ",";\n  &:hover {\n  }\n  &:hover + "," {\n    r: 6px;\n  }\n"])),ay,bB),SB=Gp.path(_B||(_B=T(["\n  stroke-width: 1;\n  stroke: var(--main-color);\n  /* stroke: gray; */\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),EB=e=>{let[t,n]=$v(null),{index:r,trackData:i}=e,a=i.keyframes[r],o=i.keyframes[r+1],[s]=function(e,t){return gM(e,{menuItems:()=>[{label:"Delete",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]})}(n,e);!function(e,t){let n=(0,vB.useRef)(t);n.current=t,gx(e,(0,vB.useMemo)((()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let e,r=n.current,i=(0,gB.val)(r.layoutP.scaledSpace.toUnitSpace),a=(0,gB.val)(r.layoutP.graphEditorVerticalSpace.toExtremumSpace),o=r.extremumSpace.lock();return{onDrag(n,o){e&&(e.discard(),e=void 0);let{index:s,trackData:l}=r,u=l.keyframes[s],c=l.keyframes[s+1],d=i(n)/(c.position-u.position),f=a(-o),h=r.extremumSpace.deltaToValueSpace(f),p=t.isScalar?u.value:0,m=h/((t.isScalar?c.value:1)-p);if("left"===r.which){let t=ms(u.handles[2]+d,0,1),n=u.handles[3]+m;e=O().tempTransaction((e=>{let{stateEditors:i}=e;i.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},r.sheetObject.address),{snappingFunction:(0,gB.val)(r.layoutP.sheet).getSequence().closestGridPosition,trackId:r.trackId,keyframes:[x(w({},u),{handles:[u.handles[0],u.handles[1],t,n]})]}))}))}else{let t=ms(c.handles[0]+d,0,1),n=c.handles[1]+m;e=O().tempTransaction((e=>{let{stateEditors:i}=e;i.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},r.sheetObject.address),{trackId:r.trackId,snappingFunction:(0,gB.val)(r.layoutP.sheet).getSequence().closestGridPosition,keyframes:[x(w({},c),{handles:[t,n,c.handles[2],c.handles[3]]})]}))}))}},onDragEnd(t){o(),t?e&&e.commit():e&&e.discard()}}}})),[]))}(n,e);let l="left"===e.which?a.handles[2]:o.handles[0],u=a.position+(o.position-a.position)*l,c="left"===e.which?a.handles[3]:o.handles[1],d=e.isScalar?a.value:0,f=e.isScalar?o.value:1,h=d+(f-d)*c,p=e.extremumSpace.fromValueSpace(h),m=p-e.extremumSpace.fromValueSpace("left"===e.which?d:f),g=cB("left"===e.which?a.position:o.position,e.extremumSpace.fromValueSpace("left"===e.which?d:f),u-("left"===e.which?a.position:o.position),m);return vB.default.createElement("g",null,vB.default.createElement(xB,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)")}}),vB.default.createElement(bB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(p,") * 1px)")}}),vB.default.createElement(SB,{d:"M 0 0 L 1 1",style:{transform:g}}),s)}}));var CB,MB,PB,TB,AB,RB,IB,OB=S((()=>{L(),bM(),wx(),ty(),CB=n(5194),MB=M(zf()),qp(),TD(),TD(),Cy(),nx(),OL(),KU(),cP(),TB=Gp.circle(PB||(PB=T(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),RB=Gp.circle(AB||(AB=T(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: move;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),ay,TB,Xw),IB=e=>{let[t,n]=$v(null),{index:r,trackData:i}=e,a=i.keyframes[r],[o]=function(e,t){return gM(e,{menuItems:()=>[{label:"Delete",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]})}(n,e),s=CM(e.itemKey),l=a.value,u=e.extremumSpace.fromValueSpace(l),c=qU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),d=function(e){let[t,n]=(0,MB.useState)(!1);mD(t,e.props.keyframe.position);let r=(0,MB.useRef)(e.props);r.current=e.props;let i=(0,MB.useMemo)((()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(t){n(!0);let i,a=!!t.altKey,o=r.current,s=(0,CB.val)(o.layoutP.scaledSpace.toUnitSpace),l=(0,CB.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),u=o.extremumSpace.lock();return{onDrag(e,t){let n=o.trackData.keyframes[o.index],r=s(e),u=l(-t),c=o.extremumSpace.deltaToValueSpace(u),d=[],f=x(w({},n),{position:n.position+r,value:n.value+c,handles:[...n.handles]});if(d.push(f),a){let e=o.trackData.keyframes[o.index-1];if(e&&Math.abs(n.value-e.value)>0){let t=x(w({},e),{handles:[...e.handles]});d.push(t),t.handles[3]=function(e,t,n,r,i){return(r-t)*e/(i-n)}(e.handles[3],e.value,e.value,n.value,f.value)}let t=o.trackData.keyframes[o.index+1];if(t&&Math.abs(n.value-t.value)>0){let e=x(w({},t),{handles:[...t.handles]});d.push(e),e.handles[1]=function(e,t,n,r,i){return((t-r)*e+r-t+n-i)/(n-i)}(e.handles[1],e.value,e.value,n.value,f.value)}}null==i||i.discard(),i=O().tempTransaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},o.sheetObject.address),{trackId:o.trackId,keyframes:d,snappingFunction:(0,CB.val)(o.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd(r){n(!1),u(),r?null==i||i.commit():(null==i||i.discard(),e.onDetectedClick(t))}}}})),[]);return gx(e.node,i),$w(t,"draggingPositionInSequenceEditor","move"),t}({node:n,props:e,onDetectedClick:e=>c.toggle(e,e.target instanceof Element?e.target:n)});return MB.default.createElement(MB.default.Fragment,null,MB.default.createElement(RB,x(w(w(w({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(a.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(u,") * 1px)")}},gD(a.position)),RL.includePositionSnapAttrs(a.position)),s.attrs),{className:d?"beingDragged":""})),MB.default.createElement(TB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(a.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(u,") * 1px)"),fill:2===s.flag?"white":void 0}}),c.node,o)}}));var zB,LB,DB,NB,UB,jB,FB,BB,VB,HB,WB,GB,qB,XB,KB,YB,QB=S((()=>{L(),bM(),wx(),ty(),zB=n(5194),LB=M(zf()),qp(),TD(),TD(),Cy(),nx(),OL(),KU(),cP(),NB=Gp.circle(DB||(DB=T(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),jB=Gp.circle(UB||(UB=T(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: ew-resize;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),ay,NB,Xw),FB=e=>{let[t,n]=$v(null),{index:r,trackData:i,itemKey:a}=e,o=i.keyframes[r],[s]=function(e,t){return gM(e,{menuItems:()=>[{label:"Delete",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(x(w({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))}))}}]})}(n,e),l=CM(a),u="left"===e.which?0:1,c=qU([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),d=function(e){let[t,n]=(0,LB.useState)(!1);mD(t,e.props.keyframe.position);let r=(0,LB.useRef)(e.props);r.current=e.props;let i=(0,LB.useMemo)((()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(t){n(!0);let i,a=r.current,o=(0,zB.val)(a.layoutP.scaledSpace.toUnitSpace),s=a.extremumSpace.lock();return{onDrag(e,t){let n=a.trackData.keyframes[a.index],r=o(e),s=[],l=x(w({},n),{position:n.position+r,value:n.value,handles:[...n.handles]});s.push(l),null==i||i.discard(),i=O().tempTransaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.replaceKeyframes(x(w({},a.sheetObject.address),{trackId:a.trackId,keyframes:s,snappingFunction:(0,zB.val)(a.layoutP.sheet).getSequence().closestGridPosition}))}))},onDragEnd(r){n(!1),s(),r?null==i||i.commit():(null==i||i.discard(),e.onDetectedClick(t))}}}})),[]);return gx(e.node,i),$w(t,"draggingPositionInSequenceEditor","ew-resize"),t}({node:n,props:e,onDetectedClick:e=>c.toggle(e,e.target instanceof Element?e.target:n)}),f=e.extremumSpace.fromValueSpace(u);return LB.default.createElement(LB.default.Fragment,null,LB.default.createElement(jB,x(w(w(w({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},l.attrs),gD(o.position)),RL.includePositionSnapAttrs(o.position)),{className:d?"beingDragged":""})),LB.default.createElement(NB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(o.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:2===l.flag?"white":void 0}}),c.node,s)}})),ZB=S((()=>{BB=M(zf()),qp(),mB(),HB=Gp.path(VB||(VB=T(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  stroke-dasharray: 3 2;\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  opacity: 0.3;\n"]))),WB=e=>{let{index:t,trackData:n}=e,r=cB(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return BB.default.createElement(BB.default.Fragment,null,BB.default.createElement(HB,{d:"M 0 0 L 1 1",style:{transform:r}}))}})),JB=S((()=>{GB=M(zf()),qp(),mB(),kB(),OB(),QB(),ZB(),XB=Gp.g(qB||(qB=T(["\n  /* position: absolute; */\n"]))),KB=GB.default.createElement(GB.default.Fragment,null),YB=e=>{let{index:t,trackData:n,isScalar:r}=e,i=n.keyframes[t],a=n.keyframes[t+1],o=i.connectedRight&&!!a&&a.value!==i.value;return GB.default.createElement(XB,null,o?GB.default.createElement(GB.default.Fragment,null,GB.default.createElement(pB,w({},e)),!i.type||"bezier"===i.type&&GB.default.createElement(GB.default.Fragment,null,GB.default.createElement(EB,x(w({},e),{which:"left"})),GB.default.createElement(EB,x(w({},e),{which:"right"})))):KB,r?GB.default.createElement(IB,w({},e)):GB.default.createElement(GB.default.Fragment,null,GB.default.createElement(FB,x(w({},e),{which:"left"})),GB.default.createElement(FB,x(w({},e),{which:"right"})),GB.default.createElement(WB,w({},e))))}}));var $B,eV,tV,nV,rV,iV,aV=S((()=>{wP(),$B=M(zf()),VV(),JB(),XC(),eh(),eV=$B.default.memo((e=>{let{layoutP:t,trackData:n,sheetObject:r,trackId:i,color:a,pathToProp:o}=e,s=OC(qf(r.template.configPointer),o);if(IC(s))return console.error("Composite prop types cannot be keyframed"),$B.default.createElement($B.default.Fragment,null);let[l,u]=(0,$B.useState)(!1),c=(0,$B.useMemo)((()=>{let e=new Set;return function(){let t=0===e.size;function n(){let t=e.size>0;e.delete(n),t&&0===e.size&&u(!1)}return e.add(n),t&&u(!0),n}}),[]),d=(0,$B.useMemo)((()=>{let e="number"===s.type?function(e,t){let n=1/0,r=-1/0;function i(e){n=Math.min(e,n),r=Math.max(e,r)}return e.forEach(((n,r)=>{let a=zC(n.value,t);if(i(a),!n.connectedRight)return;let o=e[r+1];if(!o)return;let s=("number"==typeof o.value?o.value:1)-a;i(a+n.handles[3]*s),i(a+o.handles[1]*s)})),[n,r]}(n.keyframes,s):function(e){let t=0,n=1;function r(e){t=Math.min(e,t),n=Math.max(e,n)}return e.forEach(((t,n)=>{if(!t.connectedRight)return;let i=e[n+1];i&&(r(t.handles[3]),r(i.handles[1]))})),[t,n]}(n.keyframes),t=t=>t*(e[1]-e[0]);return{fromValueSpace:t=>(t-e[0])/(e[1]-e[0]),toValueSpace:n=>e[0]+t(n),deltaToValueSpace:t,lock:c}}),[n.keyframes]),f=(0,$B.useRef)(void 0);l||(f.current=d);let h=n.keyframes.map(((e,l)=>$B.default.createElement(YB,{pathToProp:o,propConfig:s,itemKey:bP.forTrackKeyframe(r,i,e.id),keyframe:e,index:l,trackData:n,layoutP:t,sheetObject:r,trackId:i,isScalar:"number"===s.type,key:e.id,extremumSpace:f.current,color:a})));return $B.default.createElement("g",{style:{"--main-color":_V[a].iconColor}},h)})),tV=eV})),oV=S((()=>{L(),eh(),nV=n(5194),rV=M(zf()),aV(),iV=e=>jf((()=>{let{sheetObject:t,trackId:n}=e,r=(0,nV.val)(O().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return"BasicKeyframedTrack"!==(null==r?void 0:r.type)?(console.error("trackData type ".concat(null==r?void 0:r.type," is not yet supported on the graph editor")),rV.default.createElement(rV.default.Fragment,null)):rV.default.createElement(tV,x(w({},e),{trackData:r}))}),[e.trackId,e.layoutP])}));function sV(e,t){let{clippedSpaceRange:n,clippedSpaceWidth:r,fps:i,gapWidth:a=120}=e,o=1/i,s=r/(i*(n.end-n.start)),l=Math.floor(a/s),u=(l<i?lV(i).find((e=>e>=l)):i*Math.floor(l/i))*o,c=Math.floor(n.start/u),d=Math.ceil(n.end/u);for(let f=c;f<=d;f++){let e=f*u;t(e,e%1===0)}}var lV,uV=S((()=>{Rf(),lV=co((e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t}))}));var cV,dV,fV,hV,pV,mV,gV,vV,yV,bV,wV,xV,_V,SV,EV,kV,CV,MV,PV,TV,AV,RV,IV,OV,zV,LV,DV,NV,UV,jV,FV,BV=S((()=>{cV=n(5194),dV=M(zf()),qp(),uV(),L(),hV=Gp.div(fV||(fV=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),mV=Gp.canvas(pV||(pV=T(["\n  position: relative;\n  left: 0;\n"]))),gV=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},vV=()=>window.devicePixelRatio||1,yV=e=>vV()/gV(e),bV=e=>{let{layoutP:t,width:n,height:r}=e,i=(0,dV.useRef)(null),[a,o]=(0,dV.useState)(null),{ctx:s,ratio:l}=(0,dV.useMemo)((()=>{if(!a)return{};let e=a.getContext("2d");return{ctx:e,ratio:yV(e)}}),[a]);return(0,dV.useLayoutEffect)((()=>{if(!s)return;a.width=n*l,a.height=r*l;let e=(0,cV.prism)((()=>{let e=(0,cV.val)(t.sheet).getSequence();return{ctx:s,clippedSpaceRange:(0,cV.val)(t.clippedSpace.range),clippedSpaceWidth:(0,cV.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,cV.val)(t.clippedSpace.fromUnitSpace),height:r,leftPadding:(0,cV.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,snapToGrid:t=>e.closestGridPosition(t)}})).onChange(O().ticker,(e=>{s.save(),s.scale(l,l),function(e){let{clippedSpaceWidth:t,height:n,ctx:r,unitSpaceToClippedSpace:i,snapToGrid:a}=e;r.clearRect(0,0,t,n),sV(e,((e,t)=>{let o=a(e),s=Math.floor(i(o));r.strokeStyle=t?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(s,0),r.lineTo(s,n),r.stroke(),r.closePath()}))}(e),s.restore()}),!0);return()=>{e()}}),[s,n,r,t]),dV.default.createElement(hV,{ref:i,style:{width:n+"px"}},dV.default.createElement(mV,{ref:o,style:{width:n+"px",height:r+"px"}}))}})),VV=S((()=>{L(),bL(),xM(),eh(),wV=n(5194),xV=M(zf()),qp(),uB(),lN(),oV(),BV(),Zm(),_V={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},EV=Gp.div(SV||(SV=T(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background: ",";\n"])),Ym(.03,"#1a1c1e")),CV=Gp.svg(kV||(kV=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  pointer-events: none;\n"]))),MV=e=>{let{layoutP:t}=e;return jf((()=>{let e=(0,wV.val)(t.sheet),n=(0,wV.val)(O().atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,wV.val)(t.graphEditorDims.height),i=(0,wV.val)(t.scaledSpace.fromUnitSpace)(1),a=[];if(n)for(let[s,l]of Object.entries(n)){let n=e.getObject(s);if(!n)continue;let r=(0,wV.val)(n.template.getMapOfValidSequenceTracks_forStudio());for(let[e,i]of Object.entries(l)){let o=yL(e),l=wM(r,o);l&&a.push(xV.default.createElement(iV,{key:"graph-".concat(s,"-").concat(e),sheetObject:n,pathToProp:o,layoutP:t,trackId:l,color:i}))}}let o=(0,wV.val)(t.rightDims.width);return xV.default.createElement(EV,{style:{width:o+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,wV.val)(t.graphEditorVerticalSpace.space))}},xV.default.createElement(bV,{layoutP:t,width:o,height:r}),xV.default.createElement($D,{layoutP:t,height:r},xV.default.createElement(CV,{width:tB,height:r,viewBox:"0 0 ".concat(tB," ").concat(r)},xV.default.createElement("g",{style:{transform:"translate(".concat((0,wV.val)(t.scaledSpace.leftPadding),"px, ").concat((0,wV.val)(t.graphEditorDims.padding.top),"px)")}},a))))}),[t])}})),HV=S((()=>{L(),bL(),kM(),eh(),PV=n(5194),TV=M(zf()),qp(),rT(),dP(),VV(),mL(),YC(),pL(),AV={label:{color:"#9a9a9a"}},IV=Gp(nL)(RV||(RV=T([""]))),zV=Gp(iL)(OV||(OV=T(["\n  display: flex;\n  color: ",";\n  padding-right: 12px;\n  align-items: center;\n  justify-content: flex-end;\n  box-sizing: border-box;\n"])),AV.label.color),DV=Gp.button(LV||(LV=T(["\n  background: none;\n  border: none;\n  outline: none;\n  display: flex;\n  box-sizing: border-box;\n  font-size: 14px;\n  align-items: center;\n  height: 100%;\n  margin-left: 12px;\n  color: ",";\n\n  &:not([disabled]):hover {\n    color: white;\n  }\n"])),(e=>e.isSelected?_V[e.graphEditorColor].iconColor:FM.offColor)),NV=()=>TV.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},TV.default.createElement("g",{transform:"translate(0 100)"},TV.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),jV=Gp.span(UV||(UV=T(["\n  margin-right: 4px;\n  ",";\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),jC,zV),FV=e=>{let{leaf:t}=e;var n;let r=EM(t.sheetObject.propsP,t.pathToProp),i=t.sheetObject,{controlIndicators:a}=$P(r,i,t.propConf),o=jf((()=>{let e=t.sheetObject.address,n=vL(t.pathToProp);return(0,PV.val)(O().atomP.historic.projects.stateByProjectId[e.projectId].stateBySheetId[e.sheetId].sequenceEditor.selectedPropsByObject[e.objectKey][n])}),[t]),s=(0,TV.useRef)(!1),l="string"==typeof o;s.current=l;let u=(0,TV.useCallback)((()=>{let e=t.sheetObject.address;O().transaction((n=>{let{stateEditors:r}=n;s.current?r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(x(w({},e),{pathToProp:t.pathToProp})):(r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(x(w({},e),{pathToProp:t.pathToProp})),r.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))}))}),[t]),c=null!=(n=t.propConf.label)?n:t.pathToProp[t.pathToProp.length-1],d=(0,TV.useRef)(null);return Jz(d.current,t),TV.default.createElement(IV,{depth:t.depth},TV.default.createElement(zV,{ref:d,isEven:t.n%2===0,style:{height:t.nodeHeight+"px"},isSelected:!0===l},TV.default.createElement(jV,null,c),a,TV.default.createElement(DV,{onClick:u,isSelected:!0===l,graphEditorColor:null!=o?o:"1",style:{opacity:1},disabled:!1},TV.default.createElement(NV,null))))}}));function WV(e,t){O().transaction((n=>{let{stateEditors:r}=n;r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(x(w({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))}))}var GV,qV,XV,KV,YV,QV,ZV,JV,$V,eH,tH,nH,rH,iH,aH,oH,sH,lH,uH,cH,dH,fH,hH=S((()=>{L()})),pH=S((()=>{GV=M(zf()),mL(),HV(),hH(),qV=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?"propWithChildren"===e.type?GV.default.createElement(XV,{leaf:e,key:t}):GV.default.createElement(FV,{leaf:e,key:t}):GV.default.createElement(GV.default.Fragment,{key:t})},XV=e=>{let{leaf:t}=e;return GV.default.createElement(hL,{leaf:t,label:t.pathToProp[t.pathToProp.length-1],isCollapsed:t.isCollapsed,toggleCollapsed:()=>WV(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map((e=>qV(e))))}})),mH=S((()=>{KV=M(zf()),mL(),pH(),hH(),L(),YV=e=>{let{leaf:t}=e;return KV.default.createElement(hL,{leaf:t,label:t.sheetObject.address.objectKey,isCollapsed:t.isCollapsed,toggleSelect:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.studio.historic.panels.outline.selection.set([t.sheetObject])}))},toggleCollapsed:()=>WV(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map((e=>qV(e))))}})),gH=S((()=>{eh(),QV=M(zf()),mH(),mL(),hH(),hA(),ZV=e=>{let{leaf:t}=e;return jf((()=>QV.default.createElement(hL,{leaf:t,label:t.sheet.address.sheetId,isCollapsed:t.isCollapsed,toggleCollapsed:()=>{WV(!t.isCollapsed,{sheetAddress:t.sheet.address,sheetItemKey:t.sheetItemKey})}},t.children.map((e=>QV.default.createElement(YV,{key:"sheetObject-"+eA(e.sheetObject),leaf:e}))))),[t])}})),vH=S((()=>{eh(),JV=n(5194),$V=M(zf()),qp(),gH(),tH=Gp.div(eH||(eH=T(["\n  position: absolute;\n  left: 0;\n  overflow-x: visible;\n"]))),rH=Gp.ul(nH||(nH=T(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),iH=e=>{let{layoutP:t}=e;return jf((()=>{let e=(0,JV.val)(t.tree),n=(0,JV.val)(t.leftDims.width);return $V.default.createElement(tH,{style:{width:n+"px",top:e.top+"px"}},$V.default.createElement(rH,null,$V.default.createElement(ZV,{leaf:e})))}),[t])}})),yH=S((()=>{Cy(),RX(),eh(),Zm(),aH=M(zf()),qp(),BV(),sH=Gp.div(oH||(oH=T(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: hidden;\n  background: ",";\n  pointer-events: none;\n"])),(()=>fX.rightBackground),Ym(.01,qm(.03,oy.panel.bg))),lH=e=>{let{layoutP:t}=e,n=qf(t.rightDims.width),r=qf(t.panelDims.height);return aH.default.createElement(sH,{style:{width:n+"px"}},aH.default.createElement(bV,{width:n,height:r,layoutP:t}))}})),bH=S((()=>{eh(),uH=M(zf()),qp(),vH(),yH(),uB(),kD(),dH=Gp.div(cH||(cH=T(["\n  position: absolute;\n  left: 0;\n  right: 0;\n"]))),fH=e=>{let{layoutP:t}=e,n=qf(t.dopeSheetDims.height);return uH.default.createElement(dH,{style:{height:n+"px"}},uH.default.createElement(lH,{layoutP:t}),uH.default.createElement(nD,null,uH.default.createElement(iH,{layoutP:t}),uH.default.createElement(iB,{layoutP:t})))}}));var wH,xH=S((()=>{wH=n(5194)}));function _H(e){return function(t,n){return e(t,n())}}function SH(e){return Object.freeze({audience:EH(e,8)?"internal":EH(e,16)?"dev":"public",category:EH(e,4)?"troubleshooting":EH(e,2)?"todo":"general",level:EH(e,512)?512:EH(e,256)?256:EH(e,128)?128:64})}function EH(e,t){return(e&t)===t}function kH(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}function CH(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=x(w({},OH),{includes:w({},OH.includes)}),n={styled:TH.bind(t,e),noStyle:AH.bind(t,e)},r=PH.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger(e){var n;"console"===e?(t.loggerConsoleStyle=OH.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:OH.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=t=>e.keyed(t.names),t.create=r):"named"===e.type&&(t.creatExt=MH.bind(null,e.named),t.create=r)},configureLogging(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:OH.includes.dev,t.includes.internal=null!=(r=e.internal)?r:OH.includes.internal,t.includes.min=null!=(a=e.min)?a:OH.includes.min,t.include=null!=(o=e.include)?o:OH.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:OH.loggingConsoleStyle,t.create=i()},getLogger:()=>t.create({names:[]})}}function MH(e,t){let n=[];for(let{name:r,key:i}of t.names)n.push(null==i?r:"".concat(r," (").concat(i,")"));return e(n)}function PH(e){let t=w(w({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=kH(t,524),o=kH(t,522),s=kH(t,521),l=kH(t,529),u=kH(t,545),c=kH(t,265),d=kH(t,268),f=kH(t,273),h=kH(t,289),p=kH(t,137),m=kH(t,145),g=kH(t,73),v=kH(t,81),y=a?i.error.bind(i,IH._hmm):n.bind(e,524),b=o?i.error.bind(i,IH._todo):n.bind(e,522),x=s?i.error.bind(i,IH._error):n.bind(e,521),_=l?i.error.bind(i,IH.errorDev):n.bind(e,529),S=u?i.error.bind(i,IH.errorPublic):n.bind(e,545),E=d?i.warn.bind(i,IH._kapow):n.bind(e,268),k=c?i.warn.bind(i,IH._warn):n.bind(e,265),C=f?i.warn.bind(i,IH.warnDev):n.bind(e,273),M=h?i.warn.bind(i,IH.warnPublic):n.bind(e,273),P=p?i.debug.bind(i,IH._debug):n.bind(e,137),T=m?i.debug.bind(i,IH.debugDev):n.bind(e,145),A=g?i.trace.bind(i,IH._trace):n.bind(e,73),R=v?i.trace.bind(i,IH.traceDev):n.bind(e,81),I={_hmm:y,_todo:b,_error:x,errorDev:_,errorPublic:S,_kapow:E,_warn:k,warnDev:C,warnPublic:M,_debug:P,debugDev:T,_trace:A,traceDev:R,lazy:{_hmm:a?_H(y):y,_todo:o?_H(b):b,_error:s?_H(x):x,errorDev:l?_H(_):_,errorPublic:u?_H(S):S,_kapow:d?_H(E):E,_warn:c?_H(k):k,warnDev:f?_H(C):C,warnPublic:h?_H(M):M,_debug:p?_H(P):P,debugDev:m?_H(T):T,_trace:g?_H(A):A,traceDev:v?_H(R):R},named:r,utilFor:{internal:()=>({debug:I._debug,error:I._error,warn:I._warn,trace:I._trace,named:(e,t)=>I.named(e,t).utilFor.internal()}),dev:()=>({debug:I.debugDev,error:I.errorDev,warn:I.warnDev,trace:I.traceDev,named:(e,t)=>I.named(e,t).utilFor.dev()}),public:()=>({error:I.errorPublic,warn:I.warnPublic,debug(e,t){I._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){I._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>I.named(e,t).utilFor.public()})}};return I}function TH(e,t){let n=w(w({},this.includes),this.include(t)),r=[],i="";for(let l=0;l<t.names.length;l++){let{name:e,key:n}=t.names[l];if(i+=" %c".concat(e),r.push(this.style.css(e)),null!=n){let e="%c#".concat(n);i+=e,r.push(this.style.css(e))}}let a=this.filtered,o=this.named.bind(this,t),s=[i,...r];return RH(a,t,n,e,s,function(e){let t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(s),o)}function AH(e,t){let n=w(w({},this.includes),this.include(t)),r="";for(let a=0;a<t.names.length;a++){let{name:e,key:n}=t.names[a];r+=" ".concat(e),null!=n&&(r+="#".concat(n))}let i=[r];return RH(this.filtered,t,n,e,i,i,this.named.bind(this,t))}function RH(e,t,n,r,i,a,o){let s=kH(n,524),l=kH(n,522),u=kH(n,521),c=kH(n,529),d=kH(n,545),f=kH(n,265),h=kH(n,268),p=kH(n,273),m=kH(n,289),g=kH(n,137),v=kH(n,145),y=kH(n,73),b=kH(n,81),w=s?r.error.bind(r,...i):e.bind(t,524),x=l?r.error.bind(r,...i):e.bind(t,522),_=u?r.error.bind(r,...i):e.bind(t,521),S=c?r.error.bind(r,...i):e.bind(t,529),E=d?r.error.bind(r,...i):e.bind(t,545),k=h?r.warn.bind(r,...a):e.bind(t,268),C=f?r.warn.bind(r,...i):e.bind(t,265),M=p?r.warn.bind(r,...i):e.bind(t,273),P=m?r.warn.bind(r,...i):e.bind(t,273),T=g?r.info.bind(r,...i):e.bind(t,137),A=v?r.info.bind(r,...i):e.bind(t,145),R=y?r.debug.bind(r,...i):e.bind(t,73),I=b?r.debug.bind(r,...i):e.bind(t,81),O={_hmm:w,_todo:x,_error:_,errorDev:S,errorPublic:E,_kapow:k,_warn:C,warnDev:M,warnPublic:P,_debug:T,debugDev:A,_trace:R,traceDev:I,lazy:{_hmm:s?_H(w):w,_todo:l?_H(x):x,_error:u?_H(_):_,errorDev:c?_H(S):S,errorPublic:d?_H(E):E,_kapow:h?_H(k):k,_warn:f?_H(C):C,warnDev:p?_H(M):M,warnPublic:m?_H(P):P,_debug:g?_H(T):T,debugDev:v?_H(A):A,_trace:y?_H(R):R,traceDev:b?_H(I):I},named:o,utilFor:{internal:()=>({debug:O._debug,error:O._error,warn:O._warn,trace:O._trace,named:(e,t)=>O.named(e,t).utilFor.internal()}),dev:()=>({debug:O.debugDev,error:O.errorDev,warn:O.warnDev,trace:O.traceDev,named:(e,t)=>O.named(e,t).utilFor.dev()}),public:()=>({error:O.errorPublic,warn:O.warnPublic,debug(e,t){O._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){O._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>O.named(e,t).utilFor.public()})}};return O}var IH,OH,zH,LH,DH,NH,UH,jH=S((()=>{IH={_hmm:SH(524),_todo:SH(522),_error:SH(521),errorDev:SH(529),errorPublic:SH(545),_kapow:SH(268),_warn:SH(265),warnDev:SH(273),warnPublic:SH(289),_debug:SH(137),debugDev:SH(145),_trace:SH(73),traceDev:SH(81)},OH={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,r,i;let a=this.cssMemo.get(e);if(a)return a;let o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return null!=(r=this.bold)&&r.test(e)&&(o+=";font-weight:600"),null!=(i=this.italic)&&i.test(e)&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}}})),FH=S((()=>{jH(),jH(),(zH=CH(console,{_debug:function(){},_error:function(){}})).configureLogging({dev:!0,min:64}),LH=zH.getLogger().named("Theatre.js (default logger)").utilFor.dev()})),BH=S((()=>{wP(),DH=n(5194),FH(),My(),NH=28,UH=(e,t)=>{var n;DH.prism.ensurePrism();let r=!0,i=xy+NH,a=0,o=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,s=o.byId[bP.forSheet()].isCollapsed,l=null!=(n=(0,DH.pointerToPrism)(s).getValue())&&n,u={type:"sheet",isCollapsed:l,sheet:e,children:[],sheetItemKey:bP.forSheet(),shouldRender:r,top:xy,depth:0,n:a,nodeHeight:NH,heightIncludingChildren:-1};a+=1;for(let h of Object.values((0,DH.val)(e.objectsP)))h&&c(h,u.children,u.depth+1,!l);function c(e,t,n,r){var s;let l=(0,DH.val)(e.template.getMapOfValidSequenceTracks_forStudio()),u=(0,DH.val)(e.template.configPointer);if(0===Object.keys(l).length)return;let c=o.byId[bP.forSheetObject(e)].isCollapsed,f=null!=(s=(0,DH.pointerToPrism)(c).getValue())&&s,h={type:"sheetObject",isCollapsed:f,sheetItemKey:bP.forSheetObject(e),shouldRender:r,top:i,children:[],depth:n,n:a,sheetObject:e,nodeHeight:r?NH:0,heightIncludingChildren:-1};t.push(h),r&&(a+=1,i+=h.nodeHeight),d(e,l,[],u,h.children,n+1,r&&!f),h.heightIncludingChildren=i-h.top}function d(e,t,n,r,i,a,o){for(let[s,l]of Object.entries(t)){f(e,l,[...n,s],r.props[s],i,a,o)}}function f(e,t,n,r,s,l,u){"compound"===r.type?function(e,t,n,r,s,l,u,c){var f;let h=o.byId[bP.forSheetObjectProp(e,r)].isCollapsed,p=null!=(f=(0,DH.pointerToPrism)(h).getValue())&&f,m={type:"propWithChildren",isCollapsed:p,propConf:n,pathToProp:r,sheetItemKey:bP.forSheetObjectProp(e,r),sheetObject:e,shouldRender:c,top:i,children:[],nodeHeight:c?NH:0,heightIncludingChildren:-1,depth:u,trackMapping:t,n:a};l.push(m),c&&(i+=m.nodeHeight,a+=1),d(e,t,r,s,m.children,u+1,c&&!p),m.heightIncludingChildren=i-m.top}(e,t,r,n,r,s,l,u):"enum"===r.type?LH.warn("Prop type enum is not yet supported in the sequence editor"):function(e,t,n,r,o,s,l){let u={type:"primitiveProp",propConf:r,depth:s,sheetItemKey:bP.forSheetObjectProp(e,n),sheetObject:e,pathToProp:n,shouldRender:l,top:i,nodeHeight:l?NH:0,heightIncludingChildren:l?NH:0,trackId:t,n:a};o.push(u),a+=1,i+=u.nodeHeight}(e,t,n,r,s,l,u)}return u.heightIncludingChildren=i-u.top,u}}));function VH(e,t){let n=O(),r=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,HH.prism)((()=>{var a;let o=function(e,t,n){return wH.prism.memo(e,(()=>(0,wH.prism)(t)),n).getValue()}("tree",(()=>UH(e,n)),[]),s=(0,HH.val)(t),l=(0,HH.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),u=(0,HH.val)(i.sequenceEditor.selectedPropsByObject),c=!!u&&Object.keys(u).length>0,{leftDims:d,rightDims:f,graphEditorDims:h,dopeSheetDims:p,horizontalScrollbarDims:m}=HH.prism.memo("leftDims",(()=>{var e;let t={width:Math.floor(s.width*WH),height:s.height,screenX:s.screenX,screenY:s.screenY},n={width:s.width-t.width,height:s.height,screenX:s.screenX+t.width,screenY:s.screenY},r=c&&!0===(null==l?void 0:l.isOpen),i=Math.floor((r?ms(null!=(e=null==l?void 0:l.height)?e:.5,.1,.7):0)*s.heightWithoutBorder),a=0+i,o=s.height-a,u={width:s.width,height:o,screenX:s.screenX,screenY:s.screenY};return{leftDims:t,rightDims:n,graphEditorDims:{isAvailable:c,isOpen:r,width:n.width,height:i,screenX:s.screenX,screenY:s.screenY+o,padding:{top:20,bottom:20}},dopeSheetDims:u,horizontalScrollbarDims:{bottom:0}}}),[s,l,c]),g=HH.prism.memo("graphEditorVerticalSpace",(()=>{let e=h.height-h.padding.top-h.padding.bottom;return{space:e,fromExtremumSpace:t=>t*e,toExtremumSpace:t=>t/e}}),[h]),[v,y]=HH.prism.state("isSeeking",!1),b={isSeeking:v,setIsSeeking:y},_=null!=(a=(0,HH.val)(r.sequence.clippedSpaceRange))?a:GH,S=HH.prism.memo("scaledSpace",(()=>{let e=_.end-_.start,t=f.width,n=e/t,r=t/e;return{fromUnitSpace:e=>e*r,toUnitSpace:e=>e*n,leftPadding:10}}),[_,f.width]),E=HH.prism.memo("setClippedSpaceRange",(()=>function(t){n.transaction((n=>{let{stateEditors:r}=n,i=w({},t);if(i.end<=i.start&&(i.end=i.start+1),i.start<0){let e=i.end-i.start;i.start=0,i.end=e}r.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(x(w({},e.address),{range:i}))}))}),[]),k=HH.prism.memo("clippedSpace",(()=>({range:_,width:f.width,fromUnitSpace:e=>S.fromUnitSpace(e-_.start)+S.leftPadding,toUnitSpace:e=>S.toUnitSpace(e-S.leftPadding)+_.start,setRange:E})),[_,f.width,S,E]),C=HH.prism.memo("selection.current",(()=>new HH.Atom({})),[]);return Bz("finalAtom",{sheet:e,tree:o,panelDims:s,leftDims:d,rightDims:f,dopeSheetDims:p,horizontalScrollbarDims:m,seeker:b,unitSpace:{},scaledSpace:S,clippedSpace:k,graphEditorDims:h,graphEditorVerticalSpace:g,selectionAtom:C}).pointer}))}var HH,WH,GH,qH=S((()=>{L(),xH(),Zz(),HH=n(5194),BH(),Rf(),WH=.2,GH={start:0,end:10}}));function XH(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:r,unitSpaceToClippedSpace:i}=e,a="";sV(e,((e,t)=>{let o=r(e),s=i(o);a+=t?KH(n.formatFullUnitForGrid(o),s,"full-unit"):KH(n.formatSubUnitForGrid(o),s,"sub-unit")})),t.innerHTML=a}function KH(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var YH,QH,ZH,JH,$H,eW,tW,nW,rW,iW,aW=S((()=>{YH=n(5194),Zm(),QH=M(zf()),qp(),uV(),L(),JH=Gp.div(ZH||(ZH=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),$H={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return qm(.2,$H.fullUnitStampColor)}},tW=Gp.div(eW||(eW=T(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n"]))),rW=Gp.div(nW||(nW=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  & > span {\n    position: absolute;\n    display: block;\n    top: 9px;\n    left: -10px;\n    color: ",";\n    text-align: center;\n    font-size: ",";\n    width: 20px;\n\n    &.full-unit {\n      color: ",";\n    }\n\n    &.sub-unit {\n      color: ",";\n    }\n  }\n\n  pointer-events: none;\n"])),$H.fullUnitStampColor,$H.stampFontSize,$H.fullUnitStampColor,$H.subUnitStampColor),iW=e=>{let{layoutP:t,width:n}=e,r=(0,QH.useRef)(null),[i,a]=(0,QH.useState)(null);return(0,QH.useLayoutEffect)((()=>{if(i)return(0,YH.prism)((()=>{let e=(0,YH.val)(t.sheet).getSequence();return{fullSecondStampsContainer:i,clippedSpaceRange:(0,YH.val)(t.clippedSpace.range),clippedSpaceWidth:(0,YH.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,YH.val)(t.clippedSpace.fromUnitSpace),leftPadding:(0,YH.val)(t.scaledSpace.leftPadding),fps:e.subUnitsPerUnit,sequencePositionFormatter:e.positionFormatter,snapToGrid:t=>e.closestGridPosition(t)}})).onChange(O().ticker,XH,!0)}),[i,n,t]),QH.default.createElement(JH,{ref:r,style:{width:n+"px"}},QH.default.createElement(tW,{style:{width:n+"px"}},QH.default.createElement(rW,{ref:a})))}}));var oW,sW=S((()=>{oW=M(zf())}));var lW,uW,cW,dW,fW,hW,pW,mW,gW,vW,yW,bW,wW,xW,_W,SW=S((()=>{lW=n(5194),eh(),Cy(),L(),GW(),bM(),wx(),ty(),uW=M(zf()),qp(),TD(),cW={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},fW=Gp.div(dW||(dW=T(["\n  position: absolute;\n  height: ","px;\n  background-color: ",";\n  cursor: grab;\n  top: 0;\n  left: 0;\n  width: ","px;\n  transform-origin: left top;\n  &:hover {\n    background-color: ",";\n  }\n  &.dragging {\n    background-color: ",";\n    cursor: grabbing !important;\n  }\n  ",";\n\n  /* covers the one pixel space between the focus range strip and the top strip\n  of the sequence editor panel, which would have caused that one pixel to act\n  like a panel drag zone */\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    bottom: -1px;\n    height: 1px;\n    left: 0;\n    right: 0;\n    background: transparent;\n    pointer-events: normal;\n    z-index: -1;\n  }\n"])),(()=>RW-1),(e=>e.enabled?cW.enabled.backgroundColor:cW.disabled.backgroundColor),1e3,cW.hover.backgroundColor,cW.dragging.backgroundColor,ay),hW=e=>{let{layoutP:t}=e,n=(0,uW.useMemo)((()=>(0,lW.prism)((()=>{let{projectId:e,sheetId:n}=(0,lW.val)(t.sheet).address;return(0,lW.val)(O().atomP.ahistoric.projects.stateByProjectId[e].stateBySheetId[n].sequence.focusRange)}))),[t]),[r,i]=$v(null),[a]=gM(i,{menuItems:()=>{let e=(0,lW.val)(t.sheet),r=n.getValue();return[{label:"Delete focus range",callback:()=>{O().tempTransaction((t=>{let{stateEditors:n}=t;n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(w({},e.address))})).commit()}},{label:null!=r&&r.enabled?"Disable focus range":"Enable focus range",callback:()=>{void 0!==r&&O().tempTransaction((t=>{let{stateEditors:n}=t;n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(x(w({},e.address),{range:r.range,enabled:!r.enabled}))})).commit()}}]}}),o=qf(t.scaledSpace.toUnitSpace),s=qf(t.sheet),l=(0,uW.useMemo)((()=>{let e,r;return{debugName:"FocusRangeStrip",onDragStart(i){let a,l=n.getValue();if(!l)return!1;let u=l.range.start,c=l.range.end,d=!1,f=(0,lW.val)(t.sheet).getSequence();return{onDrag(t){if(l=n.getValue(),l){d=!0;let n=o(t),i=u+n,h=c+n;h<i&&(h=i),[e,r]=function(e,t){let n=0,[r,i]=e,[a,o]=t;return i-r>o-a?[a,o]:(r<a&&(n=0-r),i>o&&(n=o-i),[r+n,i+n])}([i,h],[0,f.length]).map((e=>f.closestGridPosition(e))),a&&a.discard(),a=O().tempTransaction((t=>{let{stateEditors:n}=t;var i;n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(x(w({},s.address),{range:{start:e,end:r},enabled:null==(i=null==l?void 0:l.enabled)||i}))}))}},onDragEnd(){l&&(d&&void 0!==a?a.commit():a&&a.discard())}}},lockCSSCursorTo:"grabbing"}}),[s,o]),[u]=gx(i,l);return mD(u,-1),jf((()=>{let e,i,o=n.getValue(),s=(null==o?void 0:o.range)||{start:0,end:0},l=(0,lW.val)(t.clippedSpace.fromUnitSpace)(s.start),c=(0,lW.val)(t.clippedSpace.fromUnitSpace)(s.end);return l<0&&(l=0),c>(0,lW.val)(t.clippedSpace.width)&&(c=(0,lW.val)(t.clippedSpace.width)),l>c?(i=0,e=0):(i=l,e=(c-l)/1e3),o?uW.default.createElement(uW.default.Fragment,null,a,uW.default.createElement(fW,{id:"range-strip",enabled:o.enabled,className:"".concat(u?"dragging":""," ").concat(o.enabled?"enabled":""),ref:r,style:{transform:"translateX(".concat(i,"px) scale(").concat(e,", 1)")}})):uW.default.createElement(uW.default.Fragment,null)}),[t,r,n,a,u])}})),EW=S((()=>{pW=n(5194),eh(),L(),GW(),nx(),wx(),ty(),mW=M(zf()),qp(),TD(),SW(),OL(),vW=Gp.div(gW||(gW=T(["\n  position: absolute;\n  top: 0;\n  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side\n  left: ","px;\n  transform-origin: left top;\n  width: ","px;\n  height: ","px;\n  z-index: 3;\n\n  --bg: ",";\n\n  stroke: ",";\n  user-select: none;\n\n  cursor: ",";\n\n  // no pointer events unless pointer-root is in normal mode _and_ the\n  // focus range is enabled\n  #pointer-root & {\n    pointer-events: none;\n  }\n\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.dragging {\n    pointer-events: none !important;\n  }\n\n  // highlight the handle if it's hovered, or the whole strip is hovverd\n  ",":hover ~ &, &:hover {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  // highlight the handle when it's being dragged or the whole strip is being dragged.\n  // using dragging.dragging to give this selector priority, as it seems to be overridden\n  // by the hover selector above\n  &.dragging,\n  ",".dragging.dragging ~ & {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor &:hover {\n    --bg: ",";\n    stroke: #40aaa4;\n  }\n\n  background-color: var(--bg);\n\n  // a larger hit zone\n  &:before {\n    display: block;\n    content: ' ';\n    position: absolute;\n    inset: -8px;\n  }\n"])),(e=>"start"===e.type?0:-cW.thumbWidth),cW.thumbWidth,(()=>RW-1),(e=>{let{enabled:t}=e;return t?cW.enabled.backgroundColor:cW.disabled.backgroundColor}),cW.enabled.stroke,(e=>"start"===e.type?"w-resize":"e-resize"),Xw,(()=>fW),cW.hover.backgroundColor,cW.hover.stroke,(()=>fW),cW.dragging.backgroundColor,cW.dragging.stroke,cW.dragging.backgroundColor),bW=Gp.div(yW||(yW=T(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    var(--bg) 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(e=>"start"===e.type?90:-90),(e=>"start"===e.type?cW.thumbWidth:1-cW.thumbWidth)),xW=Gp.div(wW||(wW=T(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    "," 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),(e=>"start"===e.type?-90:90),(()=>IW.backgroundColor),(e=>"start"===e.type?-12:cW.thumbWidth)),_W=e=>{let{layoutP:t,thumbType:n}=e;var r;let[i,a]=$v(null),o=(0,mW.useMemo)((()=>(0,pW.prism)((()=>{let{projectId:e,sheetId:n}=(0,pW.val)(t.sheet).address;return(0,pW.val)(O().atomP.ahistoric.projects.stateByProjectId[e].stateBySheetId[n].sequence.focusRange)}))),[t]),s=(0,mW.useMemo)((()=>({debugName:"FocusRangeThumb",onDragStart(){let e,r,i=(0,pW.val)(t.sheet),s={start:0,end:i.getSequence().length},l=o.getValue()||{range:s,enabled:!1},u=l.enabled,c=l.range[n],d=(0,pW.val)(t.scaledSpace.toUnitSpace),f=d(cW.rangeStripMinWidth);return{onDrag(t,l,h){var p;let m,g=RL.checkIfMouseEventSnapToPos(h,{ignore:a});if(null==g){let e=d(t);m=c+e}else m=g;r=(null==(p=o.getValue())?void 0:p.range)||s,m="start"===n?Math.max(Math.min(m,r.end-f),0):Math.min(Math.max(m,r.start+f),i.getSequence().length);let v=i.getSequence().closestGridPosition(m);void 0!==e&&e.discard(),e=O().tempTransaction((e=>{let{stateEditors:t}=e;t.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(x(w({},i.address),{range:x(w({},r),{[n]:v}),enabled:u}))}))},onDragEnd(t){t?null==e||e.commit():null==e||e.discard()}}}})),[t]),[l]=gx(a,s);$w(l,"draggingPositionInSequenceEditor","start"===n?"w-resize":"e-resize");let u=qf(o);return mD(l,null!=(r=null==u?void 0:u.range[n])?r:0),jf((()=>{let e=o.getValue();if(!e)return null;let{enabled:r}=e,a=e.range[n],s=(0,pW.val)(t.clippedSpace.fromUnitSpace)(a);return(s<0||(0,pW.val)(t.clippedSpace.width)<s)&&(s=-1e4),mW.default.createElement(vW,x(w(w({ref:i},RL.includePositionSnapAttrs(a)),gD(a)),{className:"".concat(l&&"dragging"," ").concat(r&&"enabled"),enabled:r,type:n,style:{transform:"translate3d(".concat(s,"px, 0, 0)")}}),mW.default.createElement(bW,{type:n,enabled:r}),mW.default.createElement(xW,{type:n}),mW.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},mW.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),mW.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))}),[t,i,o,l])}}));var kW,CW,MW,PW,TW,AW,RW,IW,OW,zW,LW,DW,NW,UW,jW,FW,BW,VW,HW,WW=S((()=>{kW=n(5194),eh(),L(),Wz(),GW(),nx(),wx(),sW(),EL(),ty(),Rf(),CW=M(zf()),qp(),SW(),EW(),My(),PW=Gp.div(MW||(MW=T(["\n  position: absolute;\n  height: ",'px;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */\n  cursor: ',";\n"])),(()=>RW),(e=>e.isShiftDown?"ew-resize":"move")),TW=e=>{let{layoutP:t}=e,[n,r]=$v(null),i=RO(),a=(0,CW.useRef)(i);a.current=i;let o=(0,CW.useMemo)((()=>(0,kW.prism)((()=>{let{projectId:e,sheetId:n}=(0,kW.val)(t.sheet).address;return(0,kW.val)(O().atomP.ahistoric.projects.stateByProjectId[e].stateBySheetId[n].sequence.focusRange)}))),[t]);gx(r,function(e,t){let[n,r]=(0,CW.useState)("none");return $w("none"!==n,"dragging","creating"===n?"ew-resize":"move"),(0,CW.useMemo)((()=>({debugName:"FocusRangeZone",onDragStart(n){let[i,a]=n.shiftKey?["creating",{debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(t){let n,r=(0,kW.val)(e.clippedSpace.toUnitSpace),i=(0,kW.val)(e.scaledSpace.toUnitSpace),a=(0,kW.val)(e.sheet),o=a.getSequence(),s=t.target.getBoundingClientRect(),l=r(t.clientX-s.left),u=i(cW.rangeStripMinWidth);return{onDrag(e){let t=i(e),r=l,s=l+t;[r,s]=[ms(r,0,o.length),ms(s,0,o.length)].map((e=>o.closestGridPosition(e))),s<r?[r,s]=[Math.max(Math.min(s,r-u),0),r]:e>0&&(s=Math.min(Math.max(s,r+u),o.length)),n&&n.discard(),n=O().tempTransaction((e=>{let{stateEditors:t}=e;t.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(x(w({},a.address),{range:{start:r,end:s},enabled:!0}))}))},onDragEnd(e){e&&void 0!==n?n.commit():n&&n.discard()}}},lockCSSCursorTo:"ew-resize"}.onDragStart(n)]:["moving-panel",{debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let e,n=t.current,r=t.current.addBoundsHighlightLock();return{onDrag(t,r){let i=x(w({},n.dims),{top:ms(n.dims.top+r,0,window.innerHeight-Ey),left:ms(n.dims.left+t,-n.dims.width+Ey,window.innerWidth-Ey)}),a=TO(i,{width:window.innerWidth,height:window.innerHeight});null==e||e.discard(),e=O().tempTransaction((e=>{let{stateEditors:t}=e;t.studio.historic.panelPositions.setPanelPosition({position:a,panelId:n.panelId})}))},onDragEnd(t){r(),t?null==e||e.commit():null==e||e.discard()}}},lockCSSCursorTo:"move"}.onDragStart(n)];return r(i),!1!==a&&{onDrag(e,t,n,r,i){a.onDrag(e,t,n,r,i)},onDragEnd(e){var t;r("none"),null==(t=a.onDragEnd)||t.call(a,e)}}}})),[e,t])}(t,a));let s=_L("Shift"),l=function(e){let[t,n]=(0,oW.useState)(!1);return(0,oW.useEffect)((()=>{if(n(!1),!e)return;let t=t=>{t.target===e?n(!0):n(!1)},r=()=>{n(!1)};return e.addEventListener("mouseenter",t),e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r),()=>{n(!1),e.removeEventListener("mouseenter",t),e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",r)}}),[e]),t}(r);return(0,CW.useEffect)((()=>{if(!s&&l)return a.current.addBoundsHighlightLock()}),[!s&&l]),jf((()=>CW.default.createElement(PW,{ref:n,isShiftDown:s},CW.default.createElement(hW,{layoutP:t}),CW.default.createElement(_W,{thumbType:"start",layoutP:t}),CW.default.createElement(_W,{thumbType:"end",layoutP:t}))),[t,o,s])}})),GW=S((()=>{eh(),AW=M(zf()),qp(),aW(),TD(),Cy(),WW(),RW=18,IW={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},zW=Gp.div(OW||(OW=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  box-sizing: border-box;\n  background: ",";\n  border-bottom: 1px solid ",";\n  ",";\n"])),RW,IW.backgroundColor,IW.borderColor,ay),LW=e=>{let{layoutP:t}=e,n=qf(t.rightDims.width);return AW.default.createElement(AW.default.Fragment,null,AW.default.createElement(zW,w({},gD("hide")),AW.default.createElement(iW,{layoutP:t,width:n,height:RW}),AW.default.createElement(TW,{layoutP:t})))}})),qW=S((()=>{DW=M(zf()),qp(),eh(),L(),zx(),YC(),NW=e=>isFinite(e)&&e>0,jW=Gp.div(UW||(UW=T(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),BW=Gp.div(FW||(FW=T(["\n  ",";\n  white-space: nowrap;\n"])),jC),VW=e=>{let{deltaX:t}=e;return.25*t},HW=e=>{let{layoutP:t}=e,n=qf(t.sheet),r=(0,DW.useMemo)((()=>{let e;return{temporarilySetValue(t){e&&(e.discard(),e=void 0),e=O().tempTransaction((e=>{let{stateEditors:r}=e;r.coreByProject.historic.sheetsById.sequence.setLength(x(w({},n.address),{length:t}))}))},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(t){e&&(e.discard(),e=void 0),O().transaction((e=>{let{stateEditors:r}=e;r.coreByProject.historic.sheetsById.sequence.setLength(x(w({},n.address),{length:t}))}))}}}),[t,n]),i=(0,DW.useRef)(null);return(0,DW.useLayoutEffect)((()=>{i.current.focus()}),[]),jf((()=>{let e=n.getSequence().length;return DW.default.createElement(jW,null,DW.default.createElement(BW,null,"Sequence length"),DW.default.createElement(Ox,x(w({value:e},r),{isValid:NW,inputRef:i,nudge:VW})))}),[n,r,i])}}));var XW,KW,YW,QW,ZW,JW,$W,eG,tG,nG,rG,iG,aG,oG,sG,lG,uG,cG,dG,fG,hG,pG,mG,gG,vG,yG,bG,wG,xG,_G,SG,EG,kG,CG,MG,PG,TG,AG,RG,IG,OG,zG,LG,DG,NG,UG,jG,FG,BG,VG,HG,WG,GG,qG,XG,KG,YG,QG=S((()=>{eh(),XW=n(5194),KW=M(zf()),qp(),RX(),GW(),ty(),wx(),L(),Ik(),TD(),L_(),qW(),Cy(),zk(),YW={stripNormal:"#0000006c",stripActive:"#000000"},ZW=Gp.div(QW||(QW=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  z-index: ",";\n  pointer-events: none;\n\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    /* top: ","px; */\n    top: 0;\n    bottom: 0;\n    left: -1px;\n    width: 1px;\n    background-color: ",";\n  }\n\n  &:hover:after,\n  &.dragging:after {\n    background-color: ",";\n  }\n"])),(()=>fX.lengthIndicatorStrip),RW,YW.stripNormal,YW.stripActive),$W=Gp.div(JW||(JW=T(["\n  position: absolute;\n  top: ","px;\n  width: 100px;\n  left: -50px;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"])),RW-15),tG=Gp.div(eG||(eG=T(["\n  margin-top: 8px;\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 2px 8px;\n  border-radius: 2px;\n  ",";\n  cursor: ew-resize;\n  color: #464646;\n  background-color: #0000004d;\n  display: none;\n\n  ",":hover &, ",".dragging & {\n    display: block;\n    color: white;\n    background-color: ",";\n  }\n"])),ay,ZW,ZW,YW.stripActive),rG=Gp.div(nG||(nG=T(["\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 1px 2px;\n  border-radius: 2px;\n  ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ew-resize;\n  color: #5d5d5d;\n  background-color: #191919;\n\n  ",":hover &, ",".dragging & {\n    color: white;\n    background-color: ",";\n\n    & > svg:first-child {\n      margin-right: -1px;\n    }\n  }\n\n  & > svg:first-child {\n    margin-right: -4px;\n  }\n"])),ay,ZW,ZW,YW.stripActive),aG=Gp.div(iG||(iG=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgb(23 23 23 / 43%);\n  width: ","px;\n  z-index: ",";\n  transform-origin: left top;\n\n  ",".dragging ~ &, ",":hover ~ & {\n    background-color: rgb(23 23 23 / 60%);\n  }\n"])),1e3,(()=>fX.lengthIndicatorCover),ZW,ZW),oG=e=>{let{layoutP:t}=e,[n,r]=$v(null),[i]=function(e,t){let n=(0,KW.useRef)(t);n.current=t;let r=(0,KW.useMemo)((()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(e){let t,r=n.current,i=(0,XW.val)(n.current.layoutP.sheet),a=i.getSequence().length,o=(0,XW.val)(r.layoutP.scaledSpace.toUnitSpace);return{onDrag(e,n,r){let s=o(e);t&&(t.discard(),t=void 0),t=O().tempTransaction((e=>{let{stateEditors:t}=e;t.coreByProject.historic.sheetsById.sequence.setLength(x(w({},i.address),{length:a+s}))}))},onDragEnd(e){e?t&&t.commit():t&&t.discard()}}}})),[]),[i]=gx(e,r);return mD(i,-1),[i]}(r,{layoutP:t}),{node:a,toggle:o,close:s}=uk({debugName:"LengthIndicator"},(()=>KW.default.createElement(Rk,null,KW.default.createElement(HW,{layoutP:t,onRequestClose:s}))));return jf((()=>{let e,s,l=(0,XW.val)(t.sheet),u=(0,XW.val)(t.rightDims.height),c=l.getSequence(),d=c.length,f=d,h=(0,XW.val)(t.clippedSpace.fromUnitSpace)(f),p=(0,XW.val)(t.clippedSpace.width);return h>p?(s=0,e=0):(h<0&&(h=0),s=h,e=(p-h)/1e3),KW.default.createElement(KW.default.Fragment,null,a,KW.default.createElement(ZW,{style:{height:u+"px",transform:"translateX(".concat(0===s?-1e4:s,"px)")},className:i?"dragging":""},KW.default.createElement($W,null,KW.default.createElement(rG,w({ref:n,onClick:e=>{o(e,r)}},gD("hide")),KW.default.createElement(p_,null),KW.default.createElement(m_,null)),KW.default.createElement(tG,null,"Sequence length:"," ",c.positionFormatter.formatBasic(d)))),KW.default.createElement(aG,{title:"Length",style:{height:u+"px",transform:"translateX(".concat(s,"px) scale(").concat(e,", 1)")}}))}),[t,n,i,a])}})),ZG=S((()=>{eh(),sG=n(5194),lG=M(zf()),qp(),aW(),RX(),GW(),TD(),cG=Gp.div(uG||(uG=T(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin-top: 0px;\n"]))),fG=Gp.div(dG||(dG=T(["\n  position: absolute;\n  top: 16px;\n  font-size: ",";\n  color: ",";\n  text-align: center;\n  transform: translateX(-50%);\n  background: ",";\n  padding: 1px 8px;\n  font-variant-numeric: tabular-nums;\n  pointer-events: none;\n  z-index: ",";\n"])),$H.stampFontSize,$H.fullUnitStampColor,IW.backgroundColor,(()=>fX.currentFrameStamp)),pG=Gp.div(hG||(hG=T(["\n  position: absolute;\n  top: 5px;\n  left: -0px;\n  bottom: 0;\n  width: 0.5px;\n  background: rgba(100, 100, 100, 0.2);\n  pointer-events: none;\n"]))),mG=lG.default.memo((e=>{let{layoutP:t}=e,[n,r]=qf(hD()),i=qf(t.clippedSpace.fromUnitSpace),{sequence:a,formatter:o,clippedSpaceWidth:s}=jf((()=>{let e=(0,sG.val)(t.sheet).getSequence(),n=(0,sG.val)(t.clippedSpace.width);return{sequence:e,formatter:e.positionFormatter,clippedSpaceWidth:n}}),[t]);if(-1==n)return lG.default.createElement(lG.default.Fragment,null);let l=3===r?a.closestGridPosition(n):n,u=i(l),c=u>=0&&u<=s;return lG.default.createElement(lG.default.Fragment,null,lG.default.createElement(cG,null,lG.default.createElement(fG,{style:{opacity:c?1:0,transform:"translate3d(calc(".concat(u,"px - 50%), 0, 0)")}},o.formatForPlayhead(l)),lG.default.createElement(pG,{posType:r,style:{opacity:c?1:0,transform:"translate3d(".concat(u,"px, 0, 0)")}}))," ")})),gG=mG})),JG=S((()=>{eh(),vG=n(5194),zd(),Zm(),yG=M(zf()),qp(),RX(),TD(),Cy(),wx(),wG=Gp.div(bG||(bG=T(["\n  --threadHeight: 6px;\n  --bg-inactive: #32353b;\n  --bg-active: #5b5c5d;\n  position: absolute;\n  height: 0;\n  width: 100%;\n  left: 12px;\n  /* bottom: 8px; */\n  z-index: ",";\n  ","\n"])),(()=>fX.horizontalScrollbar),ay),_G=Gp.div(xG||(xG=T(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--threadHeight);\n"]))),EG=Gp.div(SG||(SG=T(["\n  position: absolute;\n  height: 5px;\n  background: var(--bg-inactive);\n  cursor: ew-resize;\n  z-index: 2;\n\n  &:hover,\n  &:active {\n    background: var(--bg-active);\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Tm("absolute","-4px")),CG=Gp.div(kG||(kG=T(["\n  position: absolute;\n  height: 5px;\n  width: 7px;\n  left: 0;\n  z-index: 2;\n  top: 0;\n  bottom: 0;\n  display: block;\n\n  &:hover:before {\n    background: var(--bg-active);\n  }\n\n  &:before {\n    ",";\n    display: block;\n    content: ' ';\n    background: var(--bg-inactive);\n    border-radius: 0 2px 2px 0;\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),Tm("absolute","0"),Tm("absolute","-4px")),PG=Gp(CG)(MG||(MG=T(["\n  left: calc(-1 * 7px);\n  cursor: w-resize;\n  &:before {\n    transform: scaleX(-1);\n  }\n"]))),AG=Gp(CG)(TG||(TG=T(["\n  cursor: e-resize;\n  left: 0px;\n"]))),IG=Gp.div(RG||(RG=T(["\n  display: ",";\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 4px;\n  transform: translateX(-50%);\n  background: #131d1f;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n\n  ",":hover &,\n  ",":hover &,\n  ",":hover ~ "," &,\n  ",":hover ~ "," & {\n    display: block;\n  }\n"])),(e=>e.active?"block":"none"),PG,AG,EG,PG,EG,AG),OG=e=>{let{layoutP:t}=e,n=(0,yG.useCallback)((e=>e.toFixed(2)),[]),r=(0,yG.useMemo)((()=>(0,vG.prism)((()=>{let e=(0,vG.val)(t.rightDims.width)-25,n=(0,vG.val)(t.clippedSpace.range),r=(0,vG.val)(t.sheet).getSequence().length,i=Math.max(n.end,r);return{rightWidth:e,clippedSpaceRange:n,sequenceLength:r,assumedLengthOfSequence:i,rangeStartX:n.start/i*e,rangeEndX:n.end/i*e,bottom:(0,vG.val)(t.horizontalScrollbarDims.bottom)}}))),[t]),{rangeStartX:i,rangeEndX:a,clippedSpaceRange:o,bottom:s}=qf(r),[l,u]=(0,yG.useState)("nothing"),c=(0,yG.useMemo)((()=>{let e=(0,vG.val)(r),n=()=>{e=(0,vG.val)(r)},i=t=>t/e.rightWidth*e.assumedLengthOfSequence;return{onRangeDragStart:()=>(n(),{onDrag(n){u("both");let r=i(n),a=Od(e.clippedSpaceRange,(e=>e+r));(0,vG.val)(t.clippedSpace.setRange)(a)},onDragEnd(){u("nothing")}}),onRangeStartDragStart:()=>(n(),{onDrag(n){u("start");let r=i(n),a={start:e.clippedSpaceRange.start+r,end:e.clippedSpaceRange.end};a.start>a.end-1&&(a.start=a.end-1),a.start<=0&&(a.start=0),(0,vG.val)(t.clippedSpace.setRange)(a)},onDragEnd(){u("nothing")}}),onRangeEndDragStart:()=>(n(),{onDrag(n){u("end");let r=i(n),a={start:e.clippedSpaceRange.start,end:e.clippedSpaceRange.end+r};a.end<a.start+1&&(a.end=a.start+1),a.end>=e.assumedLengthOfSequence&&(a.end=e.assumedLengthOfSequence),(0,vG.val)(t.clippedSpace.setRange)(a)},onDragEnd(){u("nothing")}})}}),[t,r]),[d,f]=(0,yG.useState)(null);gx(d,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:c.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[h,p]=(0,yG.useState)(null);gx(h,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:c.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[m,g]=(0,yG.useState)(null);return gx(m,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:c.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),yG.default.createElement(wG,w({style:{bottom:s+8+"px"}},gD("hide")),yG.default.createElement(_G,null,yG.default.createElement(EG,{ref:f,style:{width:"".concat(a-i,"px"),transform:"translate3d(".concat(i,"px, 0, 0)")}}),yG.default.createElement(PG,{ref:p,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},yG.default.createElement(IG,{active:"both"===l||"start"===l},n(o.start))),yG.default.createElement(AG,{ref:g,style:{transform:"translate3d(".concat(a,"px, 0, 0)")}},yG.default.createElement(IG,{active:"both"===l||"end"===l},n(o.end)))))}})),$G=S((()=>{zG=M(zf()),qp(),DG=Gp.div(LG||(LG=T(["\n  position: absolute;\n  inset: ","px;\n"])),(e=>-1*e.room)),NG=e=>zG.default.createElement(DG,{room:e.room})})),eq=S((()=>{qp(),eh(),zx(),YC(),UG=M(zf()),jG=M(zf()),FG=n(5194),gs(),BG=e=>isFinite(e)&&e>=0,HG=Gp.div(VG||(VG=T(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),GG=Gp.div(WG||(WG=T(["\n  ",";\n  white-space: nowrap;\n"])),jC),qG=e=>{let{deltaX:t}=e;return.25*t},XG=e=>{let{layoutP:t,onRequestClose:n}=e,r=(0,FG.val)(t.sheet),i=r.getSequence(),a=(0,UG.useMemo)((()=>{let e,t=i.position;return{temporarilySetValue(t){e&&(e=void 0),e=ms(t,0,i.length),i.position=e},discardTemporaryValue(){e&&(e=void 0,i.position=t,n("discardTemporaryValue"))},permanentlySetValue(t){e&&(e=void 0),i.position=ms(t,0,i.length),n("permanentlySetValue")}}}),[t,i]),o=(0,UG.useRef)(null);return(0,UG.useLayoutEffect)((()=>{o.current.focus()}),[]),jf((()=>{let e=r.getSequence(),t=Number((0,FG.val)(e.pointer.position).toFixed(3));return jG.default.createElement(HG,null,jG.default.createElement(GG,null,"Sequence position"),jG.default.createElement(Ox,x(w({value:t},a),{isValid:BG,inputRef:o,nudge:qG})))}),[r,a,o])}})),tq=S((()=>{KG="undefined"!=typeof navigator&&navigator.platform.toUpperCase().indexOf("MAC")>=0})),nq=S((()=>{tq(),YG=e=>KG?!0===e.metaKey:!0===e.ctrlKey}));function rq(){let e=O();(0,iq.useEffect)((()=>{let t=t=>{let n=t.composedPath()[0];if(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName){if("z"===t.key||"Z"===t.key||"KeyZ"===t.code){if(!YG(t))return;!0===t.shiftKey?e.redo():e.undo()}else if("Space"!==t.code||t.shiftKey||t.metaKey||t.altKey||t.ctrlKey){if(!t.altKey||"\\"!==t.key&&"Backslash"!==t.code&&"IntlBackslash"!==t.code)return;e.transaction((e=>{let{stateEditors:t,drafts:n}=e;t.studio.ahistoric.setVisibilityState("everythingIsHidden"===n.ahistoric.visibilityState?"everythingIsVisible":"everythingIsHidden")}))}else{if(!oq)return;let e=function(){let e=Tf(Eb().filter((e=>V(e)||W(e))).map((e=>W(e)?e.sheet:e)))[0];if(e)return e.getSequence()}();if(!e)return;if(e.playing)e.pause();else{let{projectId:t,sheetId:n}=e.address,r=(0,aq.prism)((()=>{let r=(0,aq.val)(O().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange);return aq.prism.memo("shouldFollowFocusRange",(()=>{let t=e.position;if(r){let e=t>=r.range.start&&t<=r.range.end;return!r.enabled||!!e}return!0}),[])&&r&&r.enabled?{range:[r.range.start,r.range.end],isFollowingARange:!0}:{range:[0,(0,aq.val)(e.pointer.length)],isFollowingARange:!1}})),i=e.playDynamicRange((0,aq.prism)((()=>(0,aq.val)(r).range)),O().ticker),a=sq(e);i.finally((()=>{a.set(void 0)})),a.set(r)}}t.preventDefault(),t.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[])}var iq,aq,oq,sq,lq,uq=S((()=>{iq=M(zf()),L(),nq(),Pb(),aq=n(5194),RC(),oq=!0,sq=AC((e=>new aq.Atom(void 0))),lq=AC((e=>(0,aq.prism)((()=>{let t=sq(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:t,sheetId:n}=e.address,r=(0,aq.val)(O().atomP.ahistoric.projects.stateByProjectId[t].stateBySheetId[n].sequence.focusRange);if(!r||!r.enabled)return!1;let i=(0,aq.val)(e.pointer.position);return i>=r.range.start&&i<=r.range.end}}))))}));var cq,dq,fq,hq,pq,mq,gq,vq,yq,bq,wq,xq,_q,Sq,Eq,kq,Cq,Mq,Pq,Tq,Aq,Rq,Iq,Oq,zq=S((()=>{$G(),wx(),ty(),eh(),cq=n(5194),gs(),dq=M(zf()),qp(),RX(),TD(),Cy(),Ik(),zk(),eq(),uq(),nx(),bM(),L(),wP(),OL(),GD(),hq=Gp.div(fq||(fq=T(["\n  --thumbColor: #00e0ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 5px;\n  height: 100%;\n  z-index: ",";\n  pointer-events: none;\n\n  display: ",";\n"])),(()=>fX.playhead),(e=>e.isVisible?"block":"none")),mq=Gp.div(pq||(pq=T(["\n  position: absolute;\n  top: 8px;\n  width: 0;\n  height: calc(100% - 8px);\n  border-left: 1px solid #27e0fd;\n  z-index: 10;\n  pointer-events: none;\n\n  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {\n    /* pointer-events: auto; */\n    /* cursor: var(","); */\n\n    &:after {\n      position: absolute;\n      inset: -8px;\n      display: block;\n      content: ' ';\n    }\n  }\n"])),Xw),vq=Gp.div(gq||(gq=T(["\n  background-color: var(--thumbColor);\n  position: absolute;\n  width: 5px;\n  height: 13px;\n  top: -4px;\n  left: -2px;\n  z-index: 11;\n  cursor: ew-resize;\n  --sunblock-color: #1f2b2b;\n\n  ",";\n\n  ",".seeking > & {\n    pointer-events: none !important;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor\n    ",":not(.seeking)\n    > & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  ",".playheadattachedtofocusrange > & {\n    top: -8px;\n    --sunblock-color: #005662;\n    &:before,\n    &:after {\n      border-bottom-width: 8px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-left: 2px solid transparent;\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    right: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-right: 2px solid transparent;\n  }\n"])),ay,hq,hq,Xw,hq),bq=Gp.div(yq||(yq=T(["\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 13px;\n  border-top: 3px solid var(--thumbColor);\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  pointer-events: none;\n\n  /* ",".playheadattachedtofocusrange & {\n    top: 10px;\n    &:before,\n    &:after {\n      height: 15px;\n    }\n  } */\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    left: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 0 100% 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-right: 1px solid var(--thumbColor);\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    right: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 100% 0 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-left: 1px solid var(--thumbColor);\n  }\n"])),hq),xq=Gp.div(wq||(wq=T(["\n  display: none;\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 2px;\n  transform: translateX(-50%);\n  background: #1a1a1a;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n  ",":hover &, ",".seeking & {\n    display: block;\n  }\n"])),vq,hq),_q=e=>{let{layoutP:t}=e,[n,r]=$v(null),{node:i,toggle:a,close:o}=uk({debugName:"Playhead"},(()=>dq.default.createElement(Rk,null,dq.default.createElement(XG,{layoutP:t,onRequestClose:o})))),s=(0,dq.useMemo)((()=>({debugName:"RightOverlay/Playhead",onDragStart(){let e=(0,cq.val)(t.sheet).getSequence(),i=e.position,o=(0,cq.val)(t.scaledSpace.toUnitSpace),s=(0,cq.val)(t.seeker.setIsSeeking);return s(!0),RD(),{onDrag(t,n,a){var s;let l=o(t);e.position=null!=(s=RL.checkIfMouseEventSnapToPos(a,{ignore:r}))?s:ms(i+l,0,e.length)},onDragEnd(e){s(!1),ID()},onClick(e){a(e,n.current)}}}})),[t,r]),[l]=gx(r,s);$w(l,"draggingPositionInSequenceEditor","ew-resize"),mD(qf(t.seeker.isSeeking)||l,-1);let[u]=function(e,t){return gM(e,{menuItems:()=>[{label:"Place marker",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e,r=(0,cq.val)(t.layoutP.sheet),i=r.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:r.address,markers:[{id:mP(10),position:i.position}],snappingFunction:i.closestGridPosition})}))}}]})}(r,{layoutP:t});return jf((()=>{let e=(0,cq.val)(t.seeker.isSeeking),r=(0,cq.val)(t.sheet).getSequence(),a=(0,cq.val)(lq(r)),o=r.positionPrism.getValue(),s=(0,cq.val)(t.clippedSpace.fromUnitSpace)(o),l=s>=0&&s<=(0,cq.val)(t.clippedSpace.width);return dq.default.createElement(dq.default.Fragment,null,u,i,dq.default.createElement(hq,w({isVisible:l,style:{transform:"translate3d(".concat(s,"px, 0, 0)")},className:"".concat(e&&"seeking"," ").concat(a&&"playheadattachedtofocusrange")},gD("hide")),dq.default.createElement(vq,w({ref:n},RL.includePositionSnapAttrs(o)),dq.default.createElement(NG,{room:8}),dq.default.createElement(bq,null),dq.default.createElement(xq,null,r.positionFormatter.formatForPlayhead(r.closestGridPosition(o)))),dq.default.createElement(mq,x(w({},RL.includePositionSnapAttrs(o)),{className:e?"seeking":""}))))}),[t,n,i])}})),Lq=S((()=>{Sq=n(5194),eh(),L(),GW(),Eq=M(zf()),qp(),kq=1e3,Mq=Gp.div(Cq||(Cq=T(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  opacity: 0.15;\n  width: ","px;\n  transform-origin: top left;\n  pointer-events: none;\n  background-color: ",";\n"])),RW,kq,(e=>e.enabled?"#000000":"transparent")),Pq=e=>{let{layoutP:t}=e,n=(0,Eq.useMemo)((()=>(0,Sq.prism)((()=>{let{projectId:e,sheetId:n}=(0,Sq.val)(t.sheet).address;return(0,Sq.val)(O().atomP.ahistoric.projects.stateByProjectId[e].stateBySheetId[n].sequence.focusRange)}))),[t]);return jf((()=>{let e=n.getValue();if(!e||!e.enabled)return null;let{range:r}=e,i=(0,Sq.val)(t.rightDims.height)-RW,a=(0,Sq.val)(t.clippedSpace.fromUnitSpace),o=(0,Sq.val)(t.clippedSpace.width),s=[];{let t,n,r=0,i=a(e.range.start);r>i?(n=0,t=0):(i>o&&(i=o),n=r,t=(i-r)/kq),s.push({translateX:n,scaleX:t})}{let t,n,r=a(e.range.end);r>o?(n=0,t=0):(r<0&&(r=0),n=r,t=(o-r)/kq),s.push({translateX:n,scaleX:t})}return Eq.default.createElement(Eq.default.Fragment,null,s.map(((e,t)=>{let{translateX:n,scaleX:r}=e;return Eq.default.createElement(Mq,{key:"curtain-".concat(t),enabled:!0,style:{height:"".concat(i,"px"),transform:"translateX(".concat(n,"px) scaleX(").concat(r,")")}})})))}),[t,n])}})),Dq=S((()=>{Tq=M(zf()),qp(),eh(),L(),YC(),nS(),Rq=Gp.div(Aq||(Aq=T(["\n  display: flex;\n  gap: 8px;\n  /* padding: 4px 8px; */\n  height: 28px;\n  align-items: center;\n"]))),Gp.div(Iq||(Iq=T(["\n  ",";\n  white-space: nowrap;\n"])),jC),Oq=e=>{let{layoutP:t,marker:n}=e;var r;let i=qf(t.sheet),a=(0,Tq.useMemo)((()=>{let e;return{temporarilySetValue(t){e&&(e.discard(),e=void 0),e=O().tempTransaction((e=>{let{stateEditors:r}=e;r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:i.address,markerId:n.id,label:t})}))},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(t){e&&(e.discard(),e=void 0),O().transaction((e=>{let{stateEditors:r}=e;r.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:i.address,markerId:n.id,label:t})}))}}}),[t,i]),o=(0,Tq.useRef)(null);return(0,Tq.useLayoutEffect)((()=>{o.current.focus()}),[]),Tq.default.createElement(Rq,null,Tq.default.createElement(eS,x(w({value:null!=(r=n.label)?r:""},a),{isValid:()=>!0,inputRef:o})))}}));var Nq,Uq,jq,Fq,Bq,Vq,Hq,Wq,Gq,qq,Xq,Kq,Yq,Qq,Zq,Jq,$q,eX,tX,nX,rX,iX,aX,oX,sX,lX,uX,cX,dX,fX,hX,pX,mX,gX,vX,yX,bX,wX,xX,_X,SX,EX,kX,CX,MX=S((()=>{Nq=n(5194),eh(),L(),nx(),bM(),ty(),Uq=M(zf()),qp(),TD(),wx(),RX(),OL(),MD(),AD(),GD(),Ik(),zk(),Dq(),Fq=Gp.div(jq||(jq=T(['\n  position: absolute;\n  // below the sequence ruler "top bar"\n  top: 18px;\n  z-index: ',";\n"])),(()=>fX.marker)),Vq=Gp.div(Bq||(Bq=T(["\n  position: absolute;\n  ","\n  pointer-events: none;\n"])),iD(12,12)),Hq=Uq.default.memo((()=>Uq.default.createElement(Vq,{children:Uq.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Uq.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))}))),Gq=Gp.div(Wq||(Wq=T(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  // :not dragging marker to ensure that markers don't snap to other markers\n  // this works because only one marker track (so this technique is not used by keyframes...)\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {\n    ",'\n  }\n\n  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"\n  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,\n  #pointer-root.draggingPositionInSequenceEditor\n    &.'," {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &:hover\n    + ",',\n    // notice , "or" in CSS\n    &.',"\n    + "," {\n    ","\n  }\n"])),SD.CSS,SD.CSS_WHEN_SOMETHING_DRAGGING,SD.BEING_DRAGGED_CLASS,Xw,Vq,SD.BEING_DRAGGED_CLASS,Vq,iD(24,24)),qq=e=>{let{layoutP:t,markerId:n}=e,r=qf(t.sheet.address),i=qf(O().atomP.historic.projects.stateByProjectId[r.projectId].stateBySheetId[r.sheetId].sequenceEditor.markerSet.byId[n]);if(!i)return null;let a=qf(t.clippedSpace.width),o=qf(t.clippedSpace.fromUnitSpace)(i.position),s=o<=0||o>a,l=s?-1e4:o,u=s?0:1;return Uq.default.createElement(Fq,{style:{transform:"translateX(".concat(l,"px) scale(").concat(u,")")}},Uq.default.createElement(Xq,{marker:i,layoutP:t}))},Xq=e=>{let{layoutP:t,marker:n}=e,r=qf(t.sheet.address),[i,a]=$v(null),[o]=function(e,t){return gM(e,{menuItems:()=>[{label:"Remove marker",callback:()=>{O().transaction((e=>{let{stateEditors:n}=e;n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})}))}}]})}(a,{sheetAddress:r,markerId:n.id}),[s]=function(e,t){let n=(0,Uq.useRef)(t);n.current=t;let r=(0,Uq.useMemo)((()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(r){let i,a=n.current.marker,o=(0,Nq.val)(t.layoutP.scaledSpace.toUnitSpace);return RD(),{onDrag(n,r,s){var l;let u=a,c=Math.max(null!=(l=RL.checkIfMouseEventSnapToPos(s,{ignore:e}))?l:u.position+o(n),0);null==i||i.discard(),i=O().tempTransaction((e=>{let{stateEditors:n}=e;n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,Nq.val)(t.layoutP.sheet.address),markers:[x(w({},u),{position:c})],snappingFunction:(0,Nq.val)(t.layoutP.sheet).getSequence().closestGridPosition})}))},onDragEnd(e){e?null==i||i.commit():null==i||i.discard(),ID()}}}})),[]),[i]=gx(e,r);return mD(i,t.marker.position),$w(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}(a,{layoutP:t,marker:n}),{node:l,toggle:u,close:c}=uk({debugName:"MarkerPopover"},(()=>Uq.default.createElement(Rk,null,Uq.default.createElement(Oq,{marker:n,layoutP:t,onRequestClose:c}))));return Uq.default.createElement(Uq.default.Fragment,null,o,l,Uq.default.createElement(Gq,w({title:n.label?"Marker: ".concat(n.label):"Marker",ref:i,onClick:e=>{u(e,i.current)}},SD.reactProps({isDragging:s,position:n.position}))),Uq.default.createElement(Hq,null))}})),PX=S((()=>{eh(),L(),Kq=M(zf()),MX(),Yq=e=>{let{layoutP:t}=e,n=qf(t.sheet.address),r=O().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet,i=qf(r.allIds);return Kq.default.createElement(Kq.default.Fragment,null,i&&Object.keys(i).map((e=>Kq.default.createElement(qq,{key:e,layoutP:t,markerId:e}))))}})),TX=S((()=>{RX(),eh(),Qq=n(5194),Zq=M(zf()),qp(),QG(),ZG(),JG(),zq(),GW(),Lq(),PX(),$q=Gp.div(Jq||(Jq=T(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: visible;\n  pointer-events: none;\n"])),(()=>fX.rightOverlay)),eX=e=>{let{layoutP:t}=e;return jf((()=>{let e=(0,Qq.val)(t.rightDims.width);return Zq.default.createElement($q,{style:{width:e+"px"}},Zq.default.createElement(_q,{layoutP:t}),Zq.default.createElement(OG,{layoutP:t}),Zq.default.createElement(gG,{layoutP:t}),Zq.default.createElement(LW,{layoutP:t}),Zq.default.createElement(Yq,{layoutP:t}),Zq.default.createElement(oG,{layoutP:t}),Zq.default.createElement(Pq,{layoutP:t}))}),[t])}})),AX=S((()=>{tX=n(5194),eh(),L(),nX=M(zf()),qp(),L_(),TD(),iX=Gp.button(rX||(rX=T(["\n  outline: none;\n  background-color: #1c1d21;\n  border: 1px solid #191919;\n  border-radius: 2px;\n  display: flex;\n  bottom: 14px;\n  right: 8px;\n  z-index: 1;\n  position: absolute;\n\n  padding: 4px 8px;\n  display: flex;\n  color: #656d77;\n  line-height: 20px;\n  font-size: 10px;\n\n  &:hover {\n    color: white;\n  }\n\n  & > svg {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg);\n  }\n\n  &:hover > svg {\n    transform: rotateZ(-20deg);\n  }\n\n  &.open > svg {\n    transform: rotateZ(-180deg);\n  }\n\n  &.open:hover > svg {\n    transform: rotateZ(-160deg);\n  }\n"]))),aX=e=>{let{layoutP:t}=e,n=qf(t.graphEditorDims.isOpen),r=(0,nX.useCallback)((()=>{let e=(0,tX.val)(t.graphEditorDims.isOpen);O().transaction((t=>{let{stateEditors:n}=t;n.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!e})}))}),[t]);return nX.default.createElement(iX,w({onClick:r,title:"Toggle graph editor",className:n?"open":""},gD("hide")),nX.default.createElement(O_,null))}})),RX=S((()=>{Pb(),eh(),Zz(),oX=n(5194),sX=M(zf()),qp(),bH(),VV(),qH(),TX(),Wz(),Gz(),Kz(),TD(),ne(),Rf(),AX(),My(),cP(),uX=Gp(bz)(lX||(lX=T(["\n  z-index: ",";\n  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);\n"])),hy.sequenceEditorPanel),dX=Gp.div(cX||(cX=T(["\n  background-color: rgba(40, 43, 47, 0.99);\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none;\n"]))),fX=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),pX=Gp(DO)(hX||(hX=T(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n"]))),mX={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},gX={width:800,height:200},vX=e=>sX.default.createElement(IO,{panelId:"sequenceEditor",defaultPosition:mX,minDims:gX},sX.default.createElement(yX,null)),yX=()=>{let{dims:e}=RO(),[t,n]=(0,sX.useState)(null);return MM(t),jf((()=>{let r=oX.prism.memo("panelSize",(()=>{let t=e.width,n=e.height;return{width:t,height:n,widthWithoutBorder:t-2,heightWithoutBorder:n-4,screenX:e.left,screenY:e.top}}),[e]),i=Tf(Eb().filter((e=>V(e)||W(e))).map((e=>W(e)?e.sheet:e)));if(1!==Tf(i.map((e=>e.template))).length)return sX.default.createElement(sX.default.Fragment,null);let a=i[0];if(!a)return sX.default.createElement(sX.default.Fragment,null);let o=Bz("panelSizeP",r).pointer,s=oX.prism.memo("key",(()=>JSON.stringify(a.address)),[a]),l=oX.prism.memo("layout",(()=>VH(a,o)),[a,o]).getValue();if(0===(0,oX.val)(l.tree.children).length)return sX.default.createElement(sX.default.Fragment,null);let u=oX.prism.memo("containerRef",xX,[]),c=(0,oX.val)(l.graphEditorDims.isAvailable),d=(0,oX.val)(l.graphEditorDims.isOpen);return sX.default.createElement(uX,{ref:e=>{u(e),e!==t&&n(e)}},sX.default.createElement(dX,{style:{width:"".concat((0,oX.val)(l.leftDims.width),"px")}}),sX.default.createElement(bD,{layoutP:l},sX.default.createElement(bX,{layoutP:l}),sX.default.createElement(fH,{key:s+"-dopeSheet",layoutP:l}),d&&sX.default.createElement(MV,{key:s+"-graphEditor",layoutP:l}),c&&sX.default.createElement(aX,{layoutP:l}),sX.default.createElement(eX,{layoutP:l})))}),[e,t])},bX=e=>{let{layoutP:t}=e;return jf((()=>{let e=(0,oX.val)(t.sheet);return sX.default.createElement(pX,{style:{width:(0,oX.val)(t.leftDims.width)}},sX.default.createElement(Sy,null,sX.default.createElement(gy,null,e.address.sheetId," "),sX.default.createElement(yy,null,":","\xa0"),sX.default.createElement(gy,null,e.address.sheetInstanceId," "),sX.default.createElement(yy,null,"\xa0",">","\xa0"),sX.default.createElement(gy,null,"Sequence")))}),[t])},wX=vX,xX=()=>{let e=null,t={passive:!1,capture:!1},n=e=>{Math.abs(e.deltaY)<Math.abs(e.deltaX)&&(e.preventDefault(),e.stopPropagation())};return r=>{e!==r&&e&&e.removeEventListener("wheel",n,t),e=r,r&&r.addEventListener("wheel",n,t)}}})),IX=S((()=>{zw(),Hz(),_X=M(zf()),L(),eh(),Qz(),RX(),SX=()=>{let e=qf(O().paneManager.allPanesD),t=Object.entries(e).map((e=>{let[t,n]=e;return _X.default.createElement(jz,{key:"pane-".concat(t),paneInstance:n})}));return _X.default.createElement(_X.default.Fragment,null,t,_X.default.createElement(Cw,null),_X.default.createElement(EO,null),_X.default.createElement(wX,null))}})),OX=S((()=>{qp(),hR(),kX=Gp(zA)(EX||(EX=T(["\n  --popover-outer-stroke: #e11c1c;\n  --popover-inner-stroke: #2c1c1c;\n  --popover-bg: #2c1c1c;\n  pointer-events: none !important;\n"]))),CX=kX})),zX=E(((e,t)=>{var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,l,u,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),l=u=f++,d=-1;++d<a;)c=s===r[d]?u:u+1,u=n[d],n[d]=l=u>l?c>l?l+1:c:c>u?u+1:c;return l}})),LX=E(((e,t)=>{var n=zX();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],l=arguments[1],u=l.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<u;++d)(e=(t=a?n(s,l[d],!0):n(s,l[d]))>s.length?1-t/l[d].length:1-t/s.length)>o&&(o=e,r=l[d]);return o>=i?r:null}}));var DX,NX=S((()=>{DX=M(LX())}));function UX(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var jX,FX,BX,VX,HX,WX,GX,qX,XX,KX,YX,QX,ZX,JX=S((()=>{})),$X=S((()=>{JX(),jX=e=>"string"==typeof e?'string("'.concat(UX(e,10),'")'):"number"==typeof e?"number(".concat(UX(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"==typeof e?String(e):Array.isArray(e)?"array":"object"==typeof e?"object":"unknown"})),eK=S((()=>{qp(),Jv(),BX=Gp(Fv)(FX||(FX=T(["\n  display: flex;\n  height: fit-content;\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n"]))),VX=BX})),tK=S((()=>{qp(),Cy(),HX=M(zf()),fR(),Hw(),NI(),eK(),GX=Gp.button(WX||(WX=T(["\n  ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: 600;\n  width: 32px;\n  height: 32px;\n  outline: none;\n\n  color: #a8a8a9;\n\n  background: rgba(40, 43, 47, 0.8);\n  backdrop-filter: blur(14px);\n  border: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 2px;\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    background: rgba(59, 63, 69, 0.8);\n  }\n\n  &:active {\n    background: rgba(82, 88, 96, 0.8);\n  }\n\n  &.selected {\n    color: rgba(255, 255, 255, 0.8);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  }\n\n  // Don't blur if in a button group, because it already blurs. We need to blur\n  // on the group-level, otherwise we get seams.\n  "," > & {\n    backdrop-filter: none;\n    filter: none;\n    border-radius: 0;\n\n    &:first-child {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n\n    &:last-child {\n      border-bottom-right-radius: 2px;\n      border-top-right-radius: 2px;\n    }\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),ay,VX),qX=HX.default.forwardRef(((e,t)=>{var n=e,{title:r}=n,i=_(n,["title"]);let[a,o]=MA({enabled:"string"==typeof r},(()=>HX.default.createElement(rI,null,r)));return HX.default.createElement(HX.default.Fragment,null,a,HX.default.createElement(GX,w({ref:Vw([o,t])},i))," ")})),XX=qX})),nK=S((()=>{KX=M(zf()),tK(),qp(),Cy(),QX=Gp(XX)(YX||(YX=T(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ay),ZX=e=>{let{config:t,testId:n}=e;var r;return KX.default.createElement(QX,{onClick:t.onClick,"data-testid":n,title:t.title,dangerouslySetInnerHTML:{__html:null!=(r=t.svgSource)?r:""}})}}));function rK(e){let{value:t,label:n,icon:r,onClick:i,isSelected:a}=e;return iK.default.createElement(iK.default.Fragment,null,iK.default.createElement(XX,{forwardedAs:Uv,className:a?"selected":void 0,"aria-label":n,onClick:i,title:n},r))}var iK,aK,oK,sK,lK,uK,cK,dK,fK,hK,pK=S((()=>{iK=M(zf()),Jv(),tK(),eK(),aK=e=>{let{value:t,onChange:n,options:r}=e;return iK.default.createElement(VX,null,r.map((e=>{let{label:r,icon:i,value:a}=e;return iK.default.createElement(rK,{key:a,value:a,isSelected:t===a,label:r,icon:i,onClick:()=>n(a)})})))}})),mK=S((()=>{oK=M(zf()),qp(),Cy(),pK(),lK=Gp.div(sK||(sK=T(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ay),uK=e=>{let{config:t}=e;return oK.default.createElement(aK,{onChange:t.onChange,options:t.options.map((e=>{let{label:t,value:n,svgSource:r}=e;return{label:t,value:n,icon:oK.default.createElement(lK,{dangerouslySetInnerHTML:{__html:r}})}})),value:t.value})}})),gK=S((()=>{cK=M(zf()),qp(),Cy(),tK(),hM(),Ik(),fK=Gp.div(dK||(dK=T(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),ay),hK=e=>{let{config:t}=e,n=(0,cK.useRef)(null),r=uk((()=>{let e=n.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+t.label,constraints:{maxX:e.right,maxY:8,minX:e.left,minY:8},verticalGap:2}}),(()=>cK.default.createElement(iM,{items:t.items.map(((e,t)=>({label:e.label,callback:()=>{var t;try{null==(t=e.onClick)||t.call(e)}catch(n){console.error(n)}}}))),onRequestClose:()=>{r.close("clicked")}})));return cK.default.createElement(fK,null,r.node,cK.default.createElement(XX,{ref:n,onClick:e=>{r.open(e,n.current)}},t.label))}}));var vK,yK,bK,wK,xK,_K,SK,EK,kK,CK,MK,PK,TK,AK,RK,IK,OK,zK,LK=S((()=>{NX(),$X(),vK=M(zf()),nK(),mK(),gK(),yK=e=>vK.default.createElement(vK.default.Fragment,null,e.config.map(((e,t)=>vK.default.createElement(wK,{config:e,key:t})))),bK={Icon:ZX,Switch:uK,Flyout:hK},wK=e=>{let{config:t}=e,n=function(e){return bK[e]}(t.type);if(!n)throw new Error("No tool with tool.type ".concat(jX(t.type)," exists. Did you mean ").concat(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Did you mean ",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"?",i=(0,DX.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+r:""}(t.type,Object.keys(bK))));return vK.default.createElement(n,{config:t})},xK=yK})),DK=S((()=>{_K=n(5194),eh(),L(),SK=M(zf()),qp(),LK(),kK=Gp.div(EK||(EK=T(["\n  height: 36px;\n  /* pointer-events: none; */\n\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n"]))),MK=Gp.div(CK||(CK=T(["\n  position: abolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),PK=e=>{let{extension:t,toolbarId:n}=e;var r;let i=(0,SK.useMemo)((()=>new _K.Atom([])),[]),a=null==(r=t.toolbars)?void 0:r[n];(0,SK.useLayoutEffect)((()=>{let e=null==a?void 0:a(i.set.bind(i),O().publicApi);if("function"==typeof e)return e}),[t,n,a]);let o=qf(i.prism);return SK.default.createElement(xK,{config:o})},TK=e=>{let{toolbarId:t,showLeftDivider:n}=e;var r;let i=[],a=qf(O().atomP.ephemeral.extensions.byId),o=!1;for(let[,s]of Object.entries(a))!s||null==(r=s.toolbars)||!r[t]||(i.push(SK.default.createElement(SK.default.Fragment,{key:"extensionToolbar-"+s.id},o?SK.default.createElement(MK,null):void 0,SK.default.createElement(PK,{extension:s,toolbarId:t}))),o=!0);return 0===i.length?null:SK.default.createElement(kK,{"data-testid":"theatre-extensionToolbar-".concat(t)},n?SK.default.createElement(MK,null):void 0,i)}})),NK=S((()=>{qp(),AK=M(zf()),tK(),IK=Gp(XX)(RK||(RK=T(["\n  color: ",";\n\n  border-bottom: 1px solid\n    ",";\n"])),(e=>{let{pinned:t}=e;return t?"rgba(255, 255, 255, 0.8)":"#A8A8A9"}),(e=>{let{pinned:t}=e;return t?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"})),OK=(0,AK.forwardRef)(((e,t)=>{var n=e,{children:r,hint:i,pinned:a,icon:o,pinHintIcon:s,unpinHintIcon:l}=n,u=_(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[c,d]=(0,AK.useState)(!1),f=c||i;return AK.default.createElement(IK,x(w({},u),{pinned:a,ref:t,onMouseOver:()=>d(!0),onMouseOut:()=>d(!1)}),AK.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},f&&!a?s:f&&a?l:o),r)})),zK=OK}));function UK(e){return jK.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),jK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var jK,FK,BK=S((()=>{jK=M(zf()),FK=UK}));function VK(e){return HK.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),HK.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var HK,WK,GK,qK,XK,KK,YK,QK,ZK,JK,$K,eY,tY,nY,rY,iY,aY,oY,sY,lY,uY,cY,dY,fY,hY,pY,mY,gY,vY,yY,bY,wY,xY,_Y,SY,EY,kY,CY,MY,PY,TY,AY,RY,IY,OY,zY,LY=S((()=>{HK=M(zf()),WK=VK})),DY=S((()=>{eh(),L(),GK=M(zf()),qp(),XK=Gp.div(qK||(qK=T(["\n  width: 138px;\n  border-radius: 2px;\n  background-color: rgba(42, 45, 50, 0.9);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  pointer-events: auto;\n  // makes the edges of the item highlights match the rounded corners\n  overflow: hidden;\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(42, 45, 50, 0.98);\n  }\n\n  color: rgba(255, 255, 255, 0.9);\n\n  & a {\n    // Fix colors of links to not be default\n    color: inherit;\n  }\n"]))),YK=Gp.div(KK||(KK=T(["\n  position: relative;\n  padding: 0px 12px;\n  font-weight: 400;\n  font-size: 11px;\n  height: 32px;\n  text-decoration: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: default;\n"]))),ZK=Gp(YK)(QK||(QK=T(["\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    inset: 3px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    opacity: 0;\n  }\n\n  &.secondary {\n    color: rgba(255, 255, 255, 0.5);\n  }\n\n  &:hover {\n    /* background-color: #398995; */\n    color: white !important;\n    &:before {\n      opacity: 1;\n    }\n  }\n"]))),$K=Gp(YK)(JK||(JK=T(["\n  height: auto;\n  min-height: 32px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.5);\n"]))),tY=Gp.div(eY||(eY=T(["\n  font-weight: 600;\n"]))),rY=Gp.div(nY||(nY=T(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),aY=Gp.div(iY||(iY=T(["\n  margin-left: 2px;\n"]))),sY=Gp.div(oY||(oY=T(["\n  height: 1px;\n  margin: 0 2px;\n  background: rgba(255, 255, 255, 0.02);\n"]))),uY=Gp.div(lY||(lY=T(["\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #40aaa4;\n  right: 14px;\n  top: 12px;\n  border-radius: 50%;\n"]))),dY=(cY="0.7.2").match(/^[^\-]+/)[0],fY=GK.default.forwardRef(((e,t)=>{let n=qf(O().atomP.ahistoric.updateChecker.result.hasUpdates);return GK.default.createElement(XK,{ref:t},GK.default.createElement(ZK,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),GK.default.createElement(ZK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),GK.default.createElement(sY,null),GK.default.createElement(ZK,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),GK.default.createElement(ZK,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),GK.default.createElement(ZK,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),GK.default.createElement(sY,null),GK.default.createElement($K,null,GK.default.createElement(tY,null,"Version"),GK.default.createElement(rY,null,GK.default.createElement(aY,null,cY," ",!0===n?"(outdated)":!1===n?"(latest)":""))),!0===n&&GK.default.createElement(GK.default.Fragment,null,GK.default.createElement(sY,null),GK.default.createElement(ZK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(dY)),className:"",target:"_blank"},"Update",GK.default.createElement(uY,null)),GK.default.createElement(ZK,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(dY)),className:"",target:"_blank"},"What's new?")))})),hY=fY})),NY=S((()=>{eh(),L(),pY=M(zf()),qp(),fR(),OX(),hR(),mY=n(5194),DK(),NK(),xb(),BK(),LY(),tK(),Ik(),DY(),UI(),vY=Gp.div(gY||(gY=T(["\n  height: 36px;\n  pointer-events: none;\n\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n"]))),bY=Gp.div(yY||(yY=T(["\n  color: white;\n  width: 14px;\n  height: 14px;\n  background: #d00;\n  border-radius: 4px;\n  text-align: center;\n  line-height: 14px;\n  font-weight: 600;\n  font-size: 8px;\n  position: relative;\n  left: -6px;\n  top: -11px;\n  margin-right: -14px;\n  box-shadow: 0 4px 6px -4px #00000059;\n"]))),xY=Gp.div(wY||(wY=T(["\n  display: flex;\n  gap: 8px;\n"]))),SY=Gp.div(_Y||(_Y=T(["\n  position: absolute;\n  background: ",";\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  right: -2px;\n  top: -2px;\n"])),(e=>{let{type:t}=e;return"info"===t?"#40aaa4":"#f59e0b"})),Gp.div(EY||(EY=T(["\n  position: absolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),kY=!1,CY=()=>{var e,t,n;let r=jf((()=>{let e=(0,mY.val)(O().atomP.ephemeral.coreByProject);return Object.entries(e).map((e=>{let[t,n]=e;return{projectId:t,state:n}})).filter((e=>{let{state:t}=e;return"browserStateIsNotBasedOnDiskState"===t.loadingState.type}))}),[]),[i,a]=MA({enabled:r.length>0,enterDelay:r.length>0?0:200},(()=>r.length>0?pY.default.createElement(CX,null,1===r.length?'There is a state conflict in project "'.concat(r[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(r.length," projects that have state conflicts. They are highlighted in the outline below. ")):pY.default.createElement(zA,null,pY.default.createElement(pY.default.Fragment,null,"Outline")))),o=null==(e=qf(O().atomP.ahistoric.pinOutline))||e,s=null==(t=qf(O().atomP.ahistoric.pinDetails))||t,l=!0===qf(O().atomP.ahistoric.updateChecker.result.hasUpdates),u=uk((()=>{let e=c.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:e.right,maxY:8,minX:e.left-140,minY:8},verticalGap:2}}),(()=>pY.default.createElement(hY,null))),c=(0,pY.useRef)(null),d=(0,pY.useMemo)((()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(kY||(kY=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),!(!l&&!window.__IS_VISUAL_REGRESSION_TESTING)||l)),[l]),{hasNotifications:f}=LI(),[h,p]=OI();return pY.default.createElement(vY,null,pY.default.createElement(xY,null,i,pY.default.createElement(zK,{ref:a,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{O().transaction((e=>{let{stateEditors:t,drafts:n}=e;var r;t.studio.ahistoric.setPinOutline(!(null==(r=n.ahistoric.pinOutline)||r))}))},icon:pY.default.createElement(Ry,null),pinHintIcon:pY.default.createElement(WK,null),unpinHintIcon:pY.default.createElement(FK,null),pinned:o}),r.length>0?pY.default.createElement(bY,null,r.length):null,pY.default.createElement(TK,{showLeftDivider:!0,toolbarId:"global"})),pY.default.createElement(xY,null,h,pY.default.createElement(zK,{ref:p,onClick:()=>{O().transaction((e=>{let{stateEditors:t,drafts:n}=e;var r;t.studio.ahistoric.setPinNotifications(!(null!=(r=n.ahistoric.pinNotifications)&&r))}))},icon:pY.default.createElement(Zy,null),pinHintIcon:pY.default.createElement(Zy,null),unpinHintIcon:pY.default.createElement(Zy,null),pinned:null!=(n=qf(O().atomP.ahistoric.pinNotifications))&&n},f&&pY.default.createElement(SY,{type:"warning"})),u.node,pY.default.createElement(XX,{ref:c,onClick:e=>{u.toggle(e,c.current)}},pY.default.createElement(Hy,null),d&&pY.default.createElement(SY,{type:"info"})),pY.default.createElement(zK,{ref:a,onClick:()=>{O().transaction((e=>{let{stateEditors:t,drafts:n}=e;var r;t.studio.ahistoric.setPinDetails(!(null==(r=n.ahistoric.pinDetails)||r))}))},icon:pY.default.createElement(jy,null),pinHintIcon:pY.default.createElement(FK,null),unpinHintIcon:pY.default.createElement(WK,null),pinned:s})))}})),UY=S((()=>{MY=n(5194),eh(),PY=M(zf()),TY=M(Uf()),AY=new MY.Atom({set:{},byId:{}}),RY=1,IY=()=>{let e=RY++;return{mountOrRender:function(t,n,r){AY.reduce((i=>({byId:x(w({},i.byId),{[e]:{comp:t,props:n,portalNode:r}}),set:x(w({},i.set),{[e]:!0})})))},unmount:function(){AY.reduce((t=>{let n=w({},t.set),r=w({},t.byId);return delete n[e],{byId:r,set:n}}))}}},OY=()=>{let e=Object.keys(qf(AY.pointer.set));return PY.default.createElement(PY.default.Fragment,null,e.map((e=>PY.default.createElement(zY,{key:"id-"+e,id:e}))))},zY=e=>{let{id:t}=e,{comp:n,portalNode:r,props:i}=qf(AY.pointer.byId[t]);return(0,TY.createPortal)(PY.default.createElement(n,w({},i)),r)}}));function jY(e){let t=O(),[n,r]=$v(void 0),i=CH();i.configureLogging({min:128,dev:XY,internal:XY});let a=i.getLogger().named("Theatre.js UIRoot");rq();let o=qf(t.atomP.ahistoric.visibilityState);return(0,BY.useEffect)((()=>("everythingIsHidden"===o&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{})),[o]),jf((()=>{let i=(0,FY.val)(t.atomP.ahistoric.visibilityState);return(0,FY.val)(t.atomP.ephemeral.initialised)?BY.default.createElement(rx,{logger:a},BY.default.createElement(EA,null,BY.default.createElement(lx,null,BY.default.createElement(KY,null),BY.default.createElement(Kv.Provider,{value:r},BY.default.createElement(dy,{target:!0===window.__IS_VISUAL_REGRESSION_TESTING?void 0:e.containerShadow},BY.default.createElement(BY.default.Fragment,null,BY.default.createElement(HY,null),BY.default.createElement(GY,{className:"everythingIsHidden"===i?"invisible":""},BY.default.createElement(cy,{ref:n}),BY.default.createElement(CY,null),BY.default.createElement(SX,null),BY.default.createElement(zI,null)))))))):null}),[t,n,r])}var FY,BY,VY,HY,WY,GY,qY,XY,KY,YY=S((()=>{L(),eh(),FY=n(5194),BY=M(zf()),qp(),IX(),NY(),ty(),Jv(),uq(),nx(),CA(),px(),UY(),Cy(),FH(),sx(),UI(),HY="undefined"!=typeof window?Uh(VY||(VY=T(["\n  :host {\n    contain: strict;\n  }\n"]))):{},GY=Gp(ex)(WY||(WY=T(["\n  z-index: 50;\n  position: fixed;\n  inset: 0;\n\n  &.invisible {\n    pointer-events: none !important;\n    opacity: 0;\n    transform: translateX(1000000px);\n  }\n"]))),XY=/Playground.+Theatre\.js/.test(null!=(qY="undefined"!=typeof document?null==document?void 0:document.title:null)?qY:""),KY=()=>BY.default.createElement(OY,null)})),QY=E((e=>{var t=Uf();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot})),ZY={};k(ZY,{default:()=>eQ});var JY,$Y,eQ,tQ,nQ=S((()=>{YY(),JY=M(zf()),$Y=M(QY()),UY(),Cy(),DK(),eQ=class{constructor(){P(this,"containerEl",document.createElement("div")),P(this,"_renderTimeout"),P(this,"_documentBodyUIIsRenderedIn"),P(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText="\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 100;\n    ";this.containerShadow=(()=>{if(!0===window.__IS_VISUAL_REGRESSION_TESTING){let e=document.createElement("div");return e.id="theatrejs-faux-shadow-root",document.body.appendChild(e),e}return this.containerEl.attachShadow({mode:"open"})})()}render(){let e=()=>{document.body?(this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),$Y.default.createRoot(this.containerShadow).render(JY.default.createElement(jY,{containerShadow:this.containerShadow}))):this._renderTimeout=setTimeout(e,5)};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=IY();return n.mountOrRender((r=TK,e=>ny.default.createElement(fy,null,ny.default.createElement(r,w({},e)))),{toolbarId:e},t),n.unmount;var r}}})),rQ=E((e=>{var t,n,r;function i(e,i,a,o,s,l){return i[s+o]===a[l+o]?{value:e[l+1][s+1].value,type:r}:e[l][s+1].value<e[l+1][s].value?{value:e[l][s+1].value+1,type:t}:{value:e[l+1][s].value+1,type:n}}e.compare=function(e,a){for(var o=e.length,s=a.length,l=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r&&e[n]===t[n];)++n;return n}(e,a),u=l<o&&l<s?function(e,t){for(var n=e.length-1,r=t.length-1,i=Math.min(n,r),a=0;a<i&&e[n-a]===t[r-a];)++a;return a}(e,a):0,c=u+l-1,d=function(e,i){var a,o,s,l=[];for(s=l[i]=[],o=0;o<e;++o)s[o]={value:e-o,type:t};for(a=0;a<i;++a)l[a]=[],l[a][e]={value:i-a,type:n};return l[i][e]={value:0,type:r},l}(o-=c,s-=c),f=o-1;f>=0;--f)for(var h=s-1;h>=0;--h)d[h][f]=i(d,e,a,l,f,h);return{prefix:l,matrix:d,suffix:u}},e.reduce=function(e,i,a){var o,s,l,u,c=a.matrix,d=a.prefix;for(o=0;o<d;++o)i=e(i,r,o,o);for(l=o,d=c.length,o=0,s=0;o<d;)switch(u=c[o][s].type,i=e(i,u,o+l,s+l),u){case r:++o,++s;break;case t:++s;break;case n:++o}for(o+=l,s+=l,d=a.suffix,l=0;l<d;++l)i=e(i,r,o+l,s+l);return i},e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=r=0})),iQ=E((e=>{e.cons=function(e,t){var n=t.length,r=new Array(n+1);r[0]=e;for(var i=0;i<n;++i)r[i+1]=t[i];return r},e.tail=function(e){for(var t=e.length-1,n=new Array(t),r=0;r<t;++r)n[r]=e[r+1];return n},e.map=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r)n[r]=e(t[r]);return n}})),aQ=E(((e,t)=>{t.exports=function(e,t){var o,s,l,u;for(o=e.charAt(0)===r?1:0,s="",n.lastIndex=o;l=n.exec(e);)if(u=l[0],s+=e.slice(o,n.lastIndex-u.length),o=n.lastIndex,u===r){if(!1===t(s))return e;s=""}else s+=u===a?r:i;return s+=e.slice(o),t(s),e};var n=/\/|~1|~0/g,r="/",i="~",a="~1"})),oQ=E((e=>{var t=aQ();e.find=function(e,r,i,a){if("string"==typeof r){if(""===r)return{target:e,key:void 0};if(r===n)return{target:e,key:""};var o,s=e,l=void 0!==a;return t(r,(function(t){if(null==e)return s=null,!1;o=Array.isArray(e)?l?function(e,t,n,r){var i=t;if(i<0)throw new Error("array index out of bounds "+i);if(void 0!==r&&"function"==typeof e&&(i=e(t,n,r),i<0))throw new Error("could not find patch context "+r);return i}(i,f(t),e,a):"-"===t?t:f(t):t,s=e,e=e[o]})),null===s?void 0:{target:s,key:o}}},e.join=function(e){return e.join(n)},e.absolute=function(e){return e[0]===n?e:n+e},e.parse=function(e){var n=[];return t(e,n.push.bind(n)),n},e.contains=function(e,t){return 0===t.indexOf(e)&&t[e.length]===n},e.encodeSegment=function(e){return e.replace(s,l).replace(r,i)},e.decodeSegment=function(e){return e.replace(a,n).replace(u,o)},e.parseArrayIndex=f,e.isValidArrayIndex=d;var n="/",r=/\//g,i="~1",a=/~1/g,o="~",s=/~/g,l="~0",u=/~0/g;var c=/^(0|[1-9]\d*)$/;function d(e){return c.test(e)}function f(e){if(d(e))return+e;throw new SyntaxError("invalid array index "+e)}})),sQ=E(((e,t)=>{function n(e){return null==e||"object"!=typeof e?e:Array.isArray(e)?function(e){for(var t=e.length,r=new Array(t),i=0;i<t;++i)r[i]=n(e[i]);return r}(e):function(e){for(var t,r=Object.keys(e),i={},a=0,o=r.length;a<o;++a)t=r[a],i[t]=n(e[t]);return i}(e)}t.exports=n})),lQ=E(((e,t)=>{function n(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(e,t):"object"==typeof e&&"object"==typeof t&&function(e,t){if(null===e&&null!==t||null!==e&&null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a,o=0;o<r.length;++o)if(!((a=r[o])in t)||!n(e[a],t[a]))return!1;return!0}(e,t))}t.exports=n})),uQ=E(((e,t)=>{var n=oQ();function r(e,t,n,r,i){var a=t.length-1,o=+t[a],s=+r[a],l=r.slice();return o>s||("add"===e.op||"copy"===e.op?l[a]=Math.max(0,s-i):"remove"===e.op&&(l[a]=Math.max(0,s+i))),l}function i(e){return"remove"===e.op?{op:e.op,path:e.path}:"copy"===e.op||"move"===e.op?{op:e.op,path:e.path,from:e.from}:{op:e.op,path:e.path,value:e.value}}t.exports=function(e,t){var a=n.parse(e.path),o=n.parse(t.path),s=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||n<2&&r<2)return[];for(var i=n===r?n-1:Math.min(n,r),a=0;a<i&&e[a]===t[a];)++a;return e.slice(0,a)}(a,o),l=function(e,t,r){return n.isValidArrayIndex(e[r])&&n.isValidArrayIndex(t[r])}(a,o,s.length),u=i(e),c=i(t);return 0!==s.length||l?l?function(e,t,i,a){return t.length===a.length?function(e,t,r,i){var a,o=t.length-1,s=+t[o],l=+i[o];return s<l?"add"===e.op||"copy"===e.op?(a=i.slice(),a[o]=Math.max(0,l-1),r.path=n.absolute(n.join(a))):"remove"===e.op&&(a=i.slice(),a[o]=l+1,r.path=n.absolute(n.join(a))):"add"===r.op||"copy"===r.op?(a=t.slice(),a[o]=s+1,e.path=n.absolute(n.join(a))):s>l&&"remove"===r.op&&(a=t.slice(),a[o]=Math.max(0,s-1),e.path=n.absolute(n.join(a))),[r,e]}(e,t,i,a):(t.length>a.length?(t=r(i,a,e,t,-1),e.path=n.absolute(n.join(t))):(a=r(e,t,i,a,1),i.path=n.absolute(n.join(a))),[i,e])}(u,a,c,o):function(e,t,n,r){if(e.path===n.path)throw new TypeError("cannot commute "+e.op+","+n.op+" with identical object paths");return[n,e]}(u,0,c):[c,u]}})),cQ=E(((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),dQ=E(((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),fQ=E(((e,t)=>{function n(e){Error.call(this),this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}t.exports=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=n})),hQ=E((e=>{var t=oQ(),n=sQ(),r=lQ(),i=uQ(),a=iQ(),o=cQ(),s=dQ(),l=fQ(),u=t.find,c=t.parseArrayIndex;function d(e,t){var n=e.target;if(Array.isArray(n))if("-"===e.key)n.push(t);else{if(e.key>n.length)throw new s("target of add outside of array bounds");n.splice(e.key,0,t)}else{if(!g(n))throw new s("target of add must be an object or array "+e.key);n[e.key]=t}}function f(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(e,t)}function h(e){var t,n=e.target;if(Array.isArray(n))return(t=n.splice(c(e.key),1))[0];if(g(n))return t=n[e.key],delete n[e.key],t;throw new s("target of remove must be an object or array")}function p(e){return void 0===e||null==e.target&&void 0!==e.key}function m(e){return void 0!==e.key&&void 0===e.target[e.key]}function g(e){return null!==e&&"object"==typeof e}e.test={apply:function(e,t,n){var i,a,s=u(e,t.path,n.findContext,t.context),l=s.target;if(Array.isArray(l)?(i=c(s.key),a=l[i]):a=void 0===s.key?s.target:s.target[s.key],!r(a,t.value))throw new o("test failed "+JSON.stringify(t));return e},inverse:function(e,t){return e.push(t),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute test,remove -> remove,test for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.add={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context);if(p(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);return void 0===i.key?a:(d(i,a),e)},inverse:function(e,t){var n=t.context;return void 0!==n&&(n={before:n.before,after:a.cons(t.value,n.after)}),e.push({op:"test",path:t.path,value:t.value,context:n}),e.push({op:"remove",path:t.path,context:n}),1},commute:f},e.remove={apply:function(e,t,n){var r=u(e,t.path,n.findContext,t.context);if(p(r)||void 0===r.target[r.key])throw new s("path does not exist "+t.path);return h(r),e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new l("cannot invert remove w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.tail(o.after)}),e.push({op:"add",path:i.path,value:i.value,context:o}),2},commute:function(e,t){return e.path===t.path&&"remove"===t.op?[t,e]:i(e,t)}},e.replace={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context);if(p(i)||m(i))throw new s("path does not exist "+t.path);if(void 0===t.value)throw new s("missing value");var a=n(t.value);if(void 0===i.key)return a;var o=i.target;return Array.isArray(o)?o[c(i.key)]=a:o[i.key]=a,e},inverse:function(e,t,n,r){var i=r[n-1];if(void 0===i||"test"!==i.op||i.path!==t.path)throw new l("cannot invert replace w/o test");var o=i.context;return void 0!==o&&(o={before:o.before,after:a.cons(i.value,a.tail(o.after))}),e.push({op:"test",path:i.path,value:t.value}),e.push({op:"replace",path:i.path,value:i.value}),2},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return"test"===t.op||"replace"===t.op?[t,e]:i(e,t)}},e.move={apply:function(e,n,r){if(t.contains(n.path,n.from))throw new s("move.from cannot be ancestor of move.path");var i=u(e,n.path,r.findContext,n.context),a=u(e,n.from,r.findContext,n.fromContext);return d(i,h(a)),e},inverse:function(e,t){return e.push({op:"move",path:t.from,context:t.fromContext,from:t.path,fromContext:t.context}),1},commute:function(e,t){if(e.path===t.path&&"remove"===t.op)throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(e,t)}},e.copy={apply:function(e,t,r){var i=u(e,t.path,r.findContext,t.context),a=u(e,t.from,r.findContext,t.fromContext);if(p(a)||m(a))throw new s("copy.from must exist");var o,l=a.target;return o=Array.isArray(l)?l[c(a.key)]:l[a.key],d(i,n(o)),e},inverse:function(e,t){throw new l("cannot invert "+t.op)},commute:f}})),pQ=E((e=>{var t=hQ(),n=sQ(),r=dQ();e.apply=function(e,t,r){return a(e,n(t),r)},e.applyInPlace=a,e.clone=n,e.isValidObject=o,e.defaultHash=function(e){return o(e)||function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e};var i={};function a(e,n,a){if(a||(a=i),!Array.isArray(e))return n;for(var o,s,l=0;l<e.length;++l){if(s=e[l],void 0===(o=t[s.op]))throw new r("invalid op "+JSON.stringify(s));n=o.apply(n,s,a)}return n}function o(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}})),mQ=E(((e,t)=>{var n=hQ();function r(e,t,r,i){var a=n[t.op];return void 0!==a&&"function"==typeof a.inverse?a.inverse(e,t,r,i):1}t.exports=function(e){var t,n,i=[];for(t=e.length-1;t>=0;t-=n)n=r(i,e[t],t,e);return i}})),gQ=E((e=>{var t=rQ(),n=iQ(),r=pQ(),i=mQ(),a=oQ().encodeSegment;e.diff=function(e,t,n){return l(e,t,"",function(e,t){return"object"==typeof e?{patch:t,hash:u(d,e.hash,s),makeContext:u(d,e.makeContext,c),invertible:!1!==e.invertible}:{patch:t,hash:u(d,e,s),makeContext:c,invertible:!0}}(n,[])).patch},e.patch=r.apply,e.patchInPlace=r.applyInPlace,e.inverse=i,e.clone=r.clone,e.InvalidPatchOperationError=dQ(),e.TestFailedError=cQ(),e.PatchNotInvertibleError=fQ();var o=r.isValidObject,s=r.defaultHash;function l(e,r,i,s){return Array.isArray(e)&&Array.isArray(r)?function(e,r,i,a){var o=n.map(a.hash,e),s=n.map(a.hash,r),u=t.compare(o,s);return function(e,n,r,i,a){var o=0;return t.reduce((function(i,a,s,u){var c,d,f=i.patch,h=r+"/"+(u+o);return a===t.REMOVE?(c=f[f.length-1],d=i.makeContext(u,e),i.invertible&&f.push({op:"test",path:h,value:e[u],context:d}),void 0!==c&&"add"===c.op&&c.path===h?(c.op="replace",c.context=d):f.push({op:"remove",path:h,context:d}),o-=1):a===t.ADD?(f.push({op:"add",path:h,value:n[s],context:i.makeContext(u,e)}),o+=1):l(e[u],n[s],h,i),i}),i,a)}(e,r,i,a,u)}(e,r,i,s):o(e)&&o(r)?function(e,t,n,r){var i,o,s=Object.keys(t),u=r.patch;for(i=s.length-1;i>=0;--i){o=s[i];var c=n+"/"+a(o);void 0!==e[o]?l(e[o],t[o],c,r):u.push({op:"add",path:c,value:t[o]})}for(s=Object.keys(e),i=s.length-1;i>=0;--i)if(o=s[i],void 0===t[o]){var d=n+"/"+a(o);r.invertible&&u.push({op:"test",path:d,value:e[o]}),u.push({op:"remove",path:d})}return r}(e,r,i,s):function(e,t,n,r){return e!==t&&(r.invertible&&r.patch.push({op:"test",path:n,value:e}),r.patch.push({op:"replace",path:n,value:t})),r}(e,r,i,s)}function u(e,t,n){return e(t)?t:n}function c(){}function d(e){return"function"==typeof e}})),vQ=E(((e,t)=>{t.exports=function(e,t){for(var n=0,r=t.length-1;n<r;n++){if(!e[t[n]])return null;e=e[t[n]]}return e}})),yQ=E(((e,t)=>{function n(e){return"~0"===e?"~":"/"}t.exports=function(e){var t=e.split("/");if(-1===e.indexOf("~"))return t;for(var r=0,i=t.length;r<i;r++)-1!==t[r].indexOf("~")&&(t[r]=t[r].replace(/~[01]/g,n));return t}})),bQ=E(((e,t)=>{var n=vQ(),r=yQ();t.exports=function(e,t){var i=r(t),a=i[i.length-1],o=n(e,i);return o?o[a]:void 0}})),wQ=E(((e,t)=>{t.exports=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!=typeof t||"object"!=typeof n||t.length!==n.length)return!1;if(Array.isArray(t)){if(!Array.isArray(n))return!1;for(var r=0,i=t.length;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;for(var o=0,s=a.length;o<s;o++){var l=a[o];if(!e(t[l],n[l]))return!1}return!0}})),xQ=E(((e,t)=>{t.exports=function(e,t){if("-"===t)return e.length;for(var n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);if(57<i||i<48)return 1/0}return+t}})),_Q=E(((e,t)=>{var n=wQ(),r=vQ(),i=xQ(),a=yQ();t.exports=function(e,t,o,s){if("undefined"==typeof o)return"[op:add] require value, but got undefined";var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:add] path not found: "+t;if(Array.isArray(c)){var d=i(c,u);if(c.length<d)return"[op:add] invalid array index: "+t;s(e,l).splice(d,0,o)}else n(c[u],o)||(s(e,l)[u]=o)}})),SQ=E(((e,t)=>{var n=vQ(),r=xQ(),i=yQ();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],l=n(e,o);if(null===l)return"[op:remove] path not found: "+t;if(Array.isArray(l)){var u=r(l,s);if(l.length<=u)return"[op:remove] invalid array index: "+t;a(e,o).splice(u,1)}else delete a(e,o)[s]}})),EQ=E(((e,t)=>{var n=wQ(),r=vQ(),i=xQ(),a=yQ();t.exports=function(e,t,o,s){if("undefined"==typeof o)return"[op:replace] require value, but got undefined";var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:replace] path not found: "+t;if(Array.isArray(c)){var d=i(c,u);if(c.length<=d)return"[op:replace] invalid array index: "+t;n(c[d],o)||s(e,l).splice(d,1,o)}else n(c[u],o)||(s(e,l)[u]=o)}})),kQ=E(((e,t)=>{var n=_Q(),r=vQ(),i=xQ(),a=yQ();t.exports=function(e,t,o,s){if(o!==t){var l=a(t),u=l[l.length-1],c=r(e,l);if(null===c)return"[op:move] path not found: "+t;var d=void 0;if(Array.isArray(c)){var f=i(c,u);if(c.length<=f)return"[op:move] invalid array index: "+o;d=c[f],s(e,l).splice(f,1)}else d=c[u],delete s(e,l)[u];return n(e,o,d,s)}}})),CQ=E(((e,t)=>{var n=vQ(),r=yQ(),i=_Q();t.exports=function(e,t,a,o){var s=r(t),l=s[s.length-1],u=n(e,s);return null===u?"[op:copy] path not found: "+t:i(e,a,u[l],o)}})),MQ=E(((e,t)=>{var n=wQ(),r=vQ(),i=yQ();t.exports=function(e,t,a){var o=i(t),s=o[o.length-1],l=r(e,o);return null===l?"[op:test] path not found: "+t:n(l[s],a)?void 0:"[op:test] not matched: "+JSON.stringify(l[s])+" "+JSON.stringify(a)}})),PQ=E(((e,t)=>{t.exports=function(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e[r];return n}for(var i=Object.keys(e),a={},o=0,s=i.length;o<s;o++){var l=i[o];a[l]=e[l]}return a}})),TQ=E(((e,t)=>{var n=bQ(),r=_Q(),i=SQ(),a=EQ(),o=kQ(),s=CQ(),l=MQ(),u=wQ(),c=PQ(),d=yQ();t.exports=function(e,t){return{get:function(t){return n(e,t)},add:function(n,i){return r(e,n,i,t)},remove:function(n){return i(e,n,t)},replace:function(n,r){return a(e,n,r,t)},move:function(n,r){return o(e,n,r,t)},copy:function(n,r){return s(e,n,r,t)},test:function(t,n){return l(e,t,n)},deepEqual:u,shallowCopy:c,toKeys:d}}})),AQ=E(((e,t)=>{t.exports=function(e,t,n,r){return r.error=n,r.partial?t[""]:e}})),RQ=E(((e,t)=>{t.exports=function(e){return!!e}})),IQ=E(((e,t)=>{t.exports=function(e){if(e)throw new TypeError(e)}})),OQ=E(((e,t)=>{var n=PQ();t.exports=function(e,t){for(var r=0,i=t.length-1;r<i;r++)e=e[t[r]]=n(e[t[r]]);return e}})),zQ=E(((e,t)=>{var n=PQ();function r(e,t,r){var i=e[t];return r.has(i)||(i=n(i),r.add(i)),i}t.exports=function(e,t,n){for(var i=0,a=t.length-1;i<a;i++)e=e[t[i]]=r(e,t[i],n);return e}})),LQ=E(((e,t)=>{var n=TQ(),r=AQ(),i=RQ(),a=IQ(),o=OQ(),s=zQ(),l=_Q(),u=SQ(),c=EQ(),d=kQ(),f=CQ(),h=MQ(),p=Set||function(){var e=[];return e.has=function(e){return-1!==this.indexOf(e)},e.add=function(e){this.push(e)},e};t.exports=function(e,t,m){if(0===t.length)return e;for(var g,v=(m=m||{}).strict?a:i,y=1===t.length?o:function(e){return function(t,n){return s(t,n,e)}}(new p),b={"":e},w=0,x=t.length;w<x;w++){var _=t[w];switch(_.op){case"add":if(v(l(b,""+_.path,_.value,y)))return r(e,b,_,m);break;case"remove":if(v(u(b,""+_.path,y)))return r(e,b,_,m);break;case"replace":if(v(c(b,""+_.path,_.value,y)))return r(e,b,_,m);break;case"move":if(v(d(b,""+_.from,""+_.path,y)))return r(e,b,_,m);break;case"copy":if(v(f(b,""+_.from,""+_.path,y)))return r(e,b,_,m);break;case"test":if(v(h(b,""+_.path,_.value)))return r(e,b,_,m);break;default:if(!m.custom||!m.custom[_.op])return v("[op:"+_.op+"] unknown"),r(e,b,_,m);if(g=g||n(b,y),v(m.custom[_.op](g,_,w,t)))return r(e,b,_,m)}}return b[""]}})),DQ=E(((e,t)=>{t.exports=LQ()})),NQ=E(((n,o)=>{var s;window,s=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._messageId=1,n._messages=new Map,n._worker=e,n._worker.onmessage=n._onMessage.bind(n),n._id=Math.ceil(1e7*Math.random()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments[3];return new Promise((function(a,o){var s=n._messageId++;n._messages.set(s,[a,o,i]),n._worker.postMessage([s,t,e],r||[])}))}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise((function(i,a){var o=t._messageId++;t._messages.set(o,[i,a,r]),t._worker.postMessage([o,e],n||[])}))}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._worker.postMessage({eventName:e,args:n})}},{key:"_onMessage",value:function(e){var n;if(!Array.isArray(e.data)&&e.data.eventName)return(n=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e.data.eventName].concat(a(e.data.args)));var r,i=(r=e.data,Array.isArray(r)?r:Array.from(r)),o=i[0],s=i.slice(1);if(1===o)this._onEvent.apply(this,a(s));else{if(0!==o)throw new Error("Wrong message type '"+o+"'");this._onResult.apply(this,a(s))}}},{key:"_onResult",value:function(e,t,n){var i=this._messages.get(e),a=r(i,2),o=a[0],s=a[1];return this._messages.delete(e),1===t?o(n):s(n)}},{key:"_onEvent",value:function(e,t,n){var i=this._messages.get(e),a=r(i,3)[2];a&&a(t,n)}}]),t}(n(2));e.exports=o},function(e,t,n){e.exports=function(){return n(3)('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);',null)}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var s,l=this.__listeners[e][Symbol.iterator]();!(i=(s=l.next()).done);i=!0)s.value.apply(void 0,n)}catch(u){a=!0,o=u}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return this}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=i},function(e,t,n){var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(i){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(i){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(i){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),a=n(1),o=n.n(a);n.d(t,"workersEnabled",(function(){return s})),n.d(t,"default",(function(){return l}));let s=!!window.Worker;class l{static toBinaryStringWithWorker(e,t){return A(this,null,(function*(){let n=new i.a(new o.a),r=yield n.exec("binary",{blob:e,chunk:t});return n.terminate(),r}))}static toBinaryStringWithoutWorker(e,t){return n=e,r=t,new Promise(((e,t)=>{let i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=()=>e(i.result),i.onerror=t,i.readAsBinaryString(o)}));var n,r}static toBinaryString(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||!s?this.toBinaryStringWithoutWorker(e,t):this.toBinaryStringWithWorker(e,t)}static toArrayBufferWithWorker(e,t){return A(this,null,(function*(){let n=new i.a(new o.a),r=yield n.exec("buffer",{blob:e,chunk:t});return n.terminate(),r}))}static toArrayBufferWithoutWorker(e,t){return n=e,r=t,new Promise(((e,t)=>{let i=new FileReader,a=r?Math.min(r,n.size):n.size,o=n.slice(0,a);i.onload=()=>e(i.result),i.onerror=t,i.readAsArrayBuffer(o)}));var n,r}static toArrayBuffer(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||!s?this.toArrayBufferWithoutWorker(e,t):this.toArrayBufferWithWorker(e,t)}static compareBuffersWithWorker(e,t){return A(this,null,(function*(){if(e===t)return!0;let n=new i.a(new o.a),r=yield n.exec("compare",{buf1:e,buf2:t},[e,t]);return n.terminate(),r}))}static compareBuffersWithoutWorker(e,t){return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;let n=new DataView(e),r=new DataView(t);for(var i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t)}static compareBuffers(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]||!s?this.compareBuffersWithoutWorker(e,t):this.compareBuffersWithWorker(e,t)}static sizeEqual(e,t){return e.size===t.size}static typeEqual(e,t){return e.type===t.type}static magicNumbersEqual(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return A(this,null,(function*(){if(e===t)return!0;let r=[24,16,14,12,8,6,4],[i,a]=yield Promise.all([this.toBinaryString(e,24,n),this.toBinaryString(t,24,n)]);for(let e of r)if(i.substring(0,e)===a.substring(0,e))return!0;return!1}))}static bytesEqualWithBinaryString(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return A(this,null,(function*(){if(e===t)return!0;let[i,a]=yield Promise.all([this.toBinaryString(e,n,r),this.toBinaryString(t,n,r)]);return i===a}))}static bytesEqualWithArrayBuffer(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return A(this,null,(function*(){if(e===t)return!0;let[i,a]=yield Promise.all([this.toArrayBuffer(e,n,r),this.toArrayBuffer(t,n,r)]);return this.compareBuffers(i,a,r)}))}static isEqual(e,t){return A(this,arguments,(function(e,t){var n=this;let{methods:r=["size","type","magic","byte"],byte:i="buffer",partial:a=!1,chunks:o=null,worker:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){let l=null;for(let u of r){if(!1===l||a&&!0===l)break;switch(u){case"byte":case"bytes":case"content":o=o instanceof Array?o:[e.size],l=!0;for(let r of o){let a=!1;a="buffer"===i?yield n.bytesEqualWithArrayBuffer(e,t,r,s):yield n.bytesEqualWithBinaryString(e,t,r,s),a||(l=!1)}break;case"magic":case"headers":case"numbers":case"mime":l=yield n.magicNumbersEqual(e,t,s);break;case"size":case"sizes":l=n.sizeEqual(e,t);break;case"type":case"types":l=n.typeEqual(e,t);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return l}()}))}}}])},"object"==typeof n&&"object"==typeof o?o.exports=s():(i=[],void 0===(a="function"===typeof(r=s)?r.apply(t,i):r)||(e.exports=a))})),UQ={};k(UQ,{ToolbarDropdownSelect:()=>l$,default:()=>c$}),e.exports=(tQ=UQ,C(l({},"__esModule",{value:!0}),tQ)),L(),j();var jQ=n(5194);ne();var FQ=0,BQ=class{constructor(e){this._studio=e,P(this,"_id"),P(this,"_state",{type:"Ready"}),this._id=String(FQ++)}get status(){return this._state.type}reset(){let{_state:e}=this;if("Ready"!==e.type){if("Captured"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.");this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard()}}commit(){let{_state:e}=this;if("Captured"!==e.type){if("Ready"===e.type)return void console.warn("Scrub is empty. Nothing to commit.");throw"Committed"===e.type?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"}}capture(e){if("Captured"===this._state.type&&this.reset(),"Ready"!==this._state.type)throw"Committed"===this._state.type?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()");{let t=!0;try{this._state=w({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}}_capture(e){let t=[];return{transaction:this._studio.tempTransaction((n=>{let r=!0,i={set:(e,i)=>{if(!r)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:a,path:o}=(0,jQ.getPointerParts)(e);if(!W(a))throw new Error("We can only scrub props of Sheet Objects for now");n.set(e,i),t.push(e)}};try{e(i)}finally{r=!1}})),flagsTransaction:this._studio.tempTransaction((e=>{let{stateEditors:n}=e;t.forEach((e=>{let{root:t,path:r}=(0,jQ.getPointerParts)(e);W(t)&&D(t.template.getDefaultsAtPointer(e),((e,r)=>{n.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(x(w({},t.address),{pathToProp:r}))}),r)}))}))}}discard(){let{_state:e}=this;if("Captured"!==e.type&&"Ready"!==e.type)throw"Committed"===e.type?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded");"Captured"===e.type&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"}}},VQ=n(5194),HQ="undefined"!=typeof window?Promise.resolve().then((()=>(nQ(),ZY))).then((e=>e.default)):null,WQ=class{constructor(e){this.studio=e,P(this,"_rendered",!1),P(this,"_nonSSRBits",HQ?HQ.then((e=>new e)):Promise.reject()),P(this,"ready",this._nonSSRBits.then((()=>{}),(()=>{})))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then((e=>{e.render()})).catch((e=>{throw console.error(e),e})))}hide(){this.studio.transaction((e=>{let{drafts:t}=e;t.ahistoric.visibilityState="everythingIsHidden"}))}restore(){this.render(),this.studio.transaction((e=>{let{drafts:t}=e;t.ahistoric.visibilityState="everythingIsVisible"}))}get isHidden(){return"everythingIsHidden"===(0,VQ.val)(this.studio.atomP.ahistoric.visibilityState)}renderToolset(e,t){let n=!1,r=null;return this._nonSSRBits.then((i=>{n||(r=i.renderToolset(e,t))})).catch((e=>{console.error(e)})),()=>{r?r():n||(n=!0)}}},GQ=n(5194);function qQ(e){return e}var XQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qQ,n=n=>({type:e,payload:t(n)});return n.type=e,n.is=t=>t&&t.type&&t.type===e,n},KQ=M(gQ()),YQ=M(DQ());ad();var QQ,ZQ=new Uint8Array(16);function JQ(){if(!QQ&&!(QQ="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return QQ(ZQ)}var $Q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var eZ,tZ=function(e){return"string"==typeof e&&$Q.test(e)},nZ=[];for(eZ=0;eZ<256;++eZ)nZ.push((eZ+256).toString(16).substr(1));var rZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(nZ[e[t+0]]+nZ[e[t+1]]+nZ[e[t+2]]+nZ[e[t+3]]+"-"+nZ[e[t+4]]+nZ[e[t+5]]+"-"+nZ[e[t+6]]+nZ[e[t+7]]+"-"+nZ[e[t+8]]+nZ[e[t+9]]+"-"+nZ[e[t+10]]+nZ[e[t+11]]+nZ[e[t+12]]+nZ[e[t+13]]+nZ[e[t+14]]+nZ[e[t+15]]).toLowerCase();if(!tZ(n))throw TypeError("Stringified UUID is invalid");return n};var iZ=function(e,t,n){var r=(e=e||{}).random||(e.rng||JQ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return rZ(r)},aZ={replaceHistory:XQ("@history/replaceHistory"),startHistoryFromScratch:XQ("@history/startHistoryFromScratch"),undo:XQ("@history/undo"),redo:XQ("@history/redo")},oZ={type:"@history/unknownAction",payload:""},sZ={maxNumberOfCommits:100};function lZ(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}FH();var uZ={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},cZ=XQ("@storeBundle/replacePersistentState",(e=>e)),dZ=XQ("@storeBundle/reduceParts",(e=>e)),fZ={historic:aZ,replacePersistentState:cZ,reduceParts:dZ},hZ=XQ("@storeBundle/setInnerHistoricState",(e=>e)),pZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sZ,n=lZ(e(void 0,oZ));return function(r,i){return aZ.startHistoryFromScratch.is(i)?lZ(e(void 0,i.payload)):aZ.replaceHistory.is(i)?i.payload:aZ.undo.is(i)?r?function(e){if(void 0===e.currentCommitHash)return e;let t=e.listOfCommitHashes.findIndex((t=>t===e.currentCommitHash));if(-1===t)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],r=(0,YQ.default)(e.innerState,n.backwardDiff),i=t-1,a=-1===i?void 0:e.listOfCommitHashes[i];return x(w({},e),{currentCommitHash:a,innerState:r})}(r):n:aZ.redo.is(i)?r?function(e){if(0===e.listOfCommitHashes.length)return e;let t=e.listOfCommitHashes.findIndex((t=>t===e.currentCommitHash));if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,r=e.listOfCommitHashes[n],i=e.commitsByHash[r],a=(0,YQ.default)(e.innerState,i.forwardDiff);return x(w({},e),{currentCommitHash:r,innerState:a})}(r):n:r?function(e,t,n){if(t===e.innerState)return e;let r=function(e,t){let n=KQ.default.diff(e,t,{invertible:!1}),r=KQ.default.diff(t,e,{invertible:!1}),i=Date.now(),a=iZ();return{forwardDiff:n,backwardDiff:r,timestamp:i,hash:a}}(e.innerState,t);if(0===r.forwardDiff.length)return e;let i=id(e.listOfCommitHashes),a={currentCommitHash:r.hash,commitsByHash:w({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let t=e.listOfCommitHashes.findIndex((t=>t===e.currentCommitHash));e.listOfCommitHashes.slice(t+1).forEach((e=>{delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(t+1,a.listOfCommitHashes.length)}if(a.listOfCommitHashes.push(r.hash),a.commitsByHash[r.hash]=r,a.listOfCommitHashes.length>n.maxNumberOfCommits){let e=a.listOfCommitHashes.length-n.maxNumberOfCommits;a.listOfCommitHashes.slice(0,e).forEach((e=>{delete a.commitsByHash[e]})),a.listOfCommitHashes.splice(0,e)}return a}(r,e(r.innerState,i),t):lZ(e(void 0,i))}}((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uZ.historic,t=arguments.length>1?arguments[1]:void 0;return hZ.is(t)?t.payload:e})),mZ=(e,t)=>{if(cZ.is(t)){let{historic:n,ahistoric:r}=t.payload;return{$persistent:{historic:n,ahistoric:r},ephemeral:(null==e?void 0:e.ephemeral)||uZ.ephemeral}}if(e){let{historic:n,ahistoric:r}=e.$persistent,{ephemeral:i}=e;if(dZ.is(t)){let a={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},o=t.payload(a);if(o===a)return e;n.innerState!==o.historic&&(n=pZ(n,hZ(o.historic))),r=o.ahistoric,i=o.ephemeral}else{let r=pZ(n,t);if(r===n)return e;n=r}return{$persistent:n===e.$persistent.historic&&r===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:r},ephemeral:i}}return{$persistent:{historic:pZ(void 0,{}),ahistoric:uZ.ahistoric},ephemeral:uZ.ephemeral}},gZ=XQ("@history/pushTempAction",(e=>e)),vZ=XQ("@history/discardTempAction",(e=>e)),yZ=XQ("@history/commitTempAction",(e=>e)),bZ=0,wZ=(e,t)=>{if(e){let n,{tempActions:r,permanent:i}=e.$temps;if(gZ.is(t))r=[...r,t];else if(yZ.is(t)){let e=r.find((e=>e.payload.id===t.payload));e?(n=e.payload.originalAction,r=r.filter((e=>e.payload.id!==t.payload))):LH.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else vZ.is(t)?r=r.filter((e=>e.payload.id!==t.payload)):n=t;n&&(i=mZ(e.$temps.permanent,n));let a={historic:i.$persistent.historic.innerState,ahistoric:i.$persistent.ahistoric,ephemeral:i.ephemeral};for(let e of r)a=e.payload.originalAction.payload(a);return w({$temps:{tempActions:r,permanent:i},$persistent:i.$persistent},a)}{let e=mZ(void 0,t);return{$temps:{permanent:e,tempActions:[]},$persistent:e.$persistent,historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral}}};function xZ(e,t){if("object"!=typeof e||null===e)return;if(0===t.length){for(let t of Object.keys(e))delete e[t];return}let n=t.slice(0,t.length-1),r=e,i=new WeakMap;for(let o of n){let e=r,t=e[o];if("object"!=typeof t||null===t)return;i.set(t,e),r=t}let a=t.slice().reverse();for(let o of a){if(delete r[o],Object.keys(r).length>0)return;r=i.get(r)}}function _Z(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function SZ(e){return!!e&&!!e[lJ]}function EZ(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===uJ}(e)||Array.isArray(e)||!!e[sJ]||!!e.constructor[sJ]||TZ(e)||AZ(e))}function kZ(e,t,n){void 0===n&&(n=!1),0===CZ(e)?(n?Object.keys:cJ)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function CZ(e){var t=e[lJ];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:TZ(e)?2:AZ(e)?3:0}function MZ(e,t){return 2===CZ(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PZ(e,t,n){var r=CZ(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function TZ(e){return rJ&&e instanceof Map}function AZ(e){return iJ&&e instanceof Set}function RZ(e){return e.o||e.t}function IZ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dJ(e);delete t[lJ];for(var n=cJ(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function OZ(e,t){return void 0===t&&(t=!1),LZ(e)||SZ(e)||!EZ(e)||(CZ(e)>1&&(e.set=e.add=e.clear=e.delete=zZ),Object.freeze(e),t&&kZ(e,(function(e,t){return OZ(t,!0)}),!0)),e}function zZ(){_Z(2)}function LZ(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function DZ(e){var t=fJ[e];return t||_Z(18,e),t}function NZ(){return tJ}function UZ(e,t){t&&(DZ("Patches"),e.u=[],e.s=[],e.v=t)}function jZ(e){FZ(e),e.p.forEach(VZ),e.p=null}function FZ(e){e===tJ&&(tJ=e.l)}function BZ(e){return tJ={p:[],l:tJ,h:e,m:!0,_:0}}function VZ(e){var t=e[lJ];0===t.i||1===t.i?t.j():t.O=!0}function HZ(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||DZ("ES5").S(t,e,r),r?(n[lJ].P&&(jZ(t),_Z(4)),EZ(e)&&(e=WZ(t,e),t.l||qZ(t,e)),t.u&&DZ("Patches").M(n[lJ],e,t.u,t.s)):e=WZ(t,n,[]),jZ(t),t.u&&t.v(t.u,t.s),e!==oJ?e:void 0}function WZ(e,t,n){if(LZ(t))return t;var r=t[lJ];if(!r)return kZ(t,(function(i,a){return GZ(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return qZ(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=IZ(r.k):r.o;kZ(3===r.i?new Set(i):i,(function(t,a){return GZ(e,r,i,t,a,n)})),qZ(e,i,!1),n&&e.u&&DZ("Patches").R(r,n,e.u,e.s)}return r.o}function GZ(e,t,n,r,i,a){if(SZ(i)){var o=WZ(e,i,a&&t&&3!==t.i&&!MZ(t.D,r)?a.concat(r):void 0);if(PZ(n,r,o),!SZ(o))return;e.m=!1}if(EZ(i)&&!LZ(i)){if(!e.h.F&&e._<1)return;WZ(e,i),t&&t.A.l||qZ(e,i)}}function qZ(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&OZ(t,n)}function XZ(e,t){var n=e[lJ];return(n?RZ(n):e)[t]}function KZ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function YZ(e){e.P||(e.P=!0,e.l&&YZ(e.l))}function QZ(e){e.o||(e.o=IZ(e.t))}function ZZ(e,t,n){var r=TZ(t)?DZ("MapSet").N(t,n):AZ(t)?DZ("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:NZ(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=hJ;n&&(i=[r],a=pJ);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):DZ("ES5").J(t,n);return(n?n.A:NZ()).p.push(r),r}function JZ(e){return SZ(e)||_Z(22,e),function e(t){if(!EZ(t))return t;var n,r=t[lJ],i=CZ(t);if(r){if(!r.P&&(r.i<4||!DZ("ES5").K(r)))return r.t;r.I=!0,n=$Z(t,i),r.I=!1}else n=$Z(t,i);return kZ(n,(function(t,i){r&&function(e,t){return 2===CZ(e)?e.get(t):e[t]}(r.t,t)===i||PZ(n,t,e(i))})),3===i?new Set(n):n}(e)}function $Z(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return IZ(e)}bL(),bL(),wP();var eJ,tJ,nJ="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),rJ="undefined"!=typeof Map,iJ="undefined"!=typeof Set,aJ="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oJ=nJ?Symbol.for("immer-nothing"):((eJ={})["immer-nothing"]=!0,eJ),sJ=nJ?Symbol.for("immer-draftable"):"__$immer_draftable",lJ=nJ?Symbol.for("immer-state"):"__$immer_state",uJ=""+Object.prototype.constructor,cJ="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dJ=Object.getOwnPropertyDescriptors||function(e){var t={};return cJ(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fJ={},hJ={get:function(e,t){if(t===lJ)return e;var n=RZ(e);if(!MZ(n,t))return function(e,t,n){var r,i=KZ(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!EZ(r)?r:r===XZ(e.t,t)?(QZ(e),e.o[t]=ZZ(e.A.h,r,e)):r},has:function(e,t){return t in RZ(e)},ownKeys:function(e){return Reflect.ownKeys(RZ(e))},set:function(e,t,n){var r=KZ(RZ(e),t);if(null!=r&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XZ(RZ(e),t),a=null==i?void 0:i[lJ];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||MZ(e.t,t)))return!0;QZ(e),YZ(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==XZ(e.t,t)||t in e.t?(e.D[t]=!1,QZ(e),YZ(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=RZ(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty:function(){_Z(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_Z(12)}},pJ={};kZ(hJ,(function(e,t){pJ[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pJ.deleteProperty=function(e,t){return hJ.deleteProperty.call(this,e[0],t)},pJ.set=function(e,t,n){return hJ.set.call(this,e[0],t,n,e[0])};var mJ=function(){function e(e){var t=this;this.g=aJ,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&_Z(6),void 0!==r&&"function"!=typeof r&&_Z(7),EZ(e)){var s=BZ(t),l=ZZ(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?jZ(s):FZ(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return UZ(s,r),HZ(e,s)}),(function(e){throw jZ(s),e})):(UZ(s,r),HZ(o,s))}if(!e||"object"!=typeof e)return(o=n(e))===oJ?void 0:(void 0===o&&(o=e),t.F&&OZ(o,!0),o);_Z(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){EZ(e)||_Z(8),SZ(e)&&(e=JZ(e));var t=BZ(this),n=ZZ(this,e,void 0);return n[lJ].C=!0,FZ(t),n},t.finishDraft=function(e,t){var n=(e&&e[lJ]).A;return UZ(n,t),HZ(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!aJ&&_Z(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=DZ("Patches").$;return SZ(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),gJ=new mJ,vJ=(gJ.produce,gJ.produceWithPatches.bind(gJ),gJ.setAutoFreeze.bind(gJ),gJ.setUseProxies.bind(gJ),gJ.applyPatches.bind(gJ),gJ.createDraft.bind(gJ)),yJ=gJ.finishDraft.bind(gJ);pd(),Rd(),ff(),xf(),_f(),VV(),Rf(),ne();var bJ,wJ,xJ={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,r]of e)t.byId[n]=r,t.allIds[n]=!0;return t},shallowCopy:e=>({byId:w({},null==e?void 0:e.byId),allIds:w({},null==e?void 0:e.allIds)}),add:(e,t,n)=>({byId:x(w({},null==e?void 0:e.byId),{[t]:n}),allIds:x(w({},null==e?void 0:e.allIds),{[t]:!0})}),merge(e){let t=xJ.create();for(let n=0;n<e.length;n++)t.byId=w(w({},t.byId),e[n].byId),t.allIds=w(w({},t.allIds),e[n].allIds);return t},remove(e,t){let n=xJ.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=xJ.shallowCopy(e);for(let[r,i]of Object.entries(n.byId))t(i)||(delete n.allIds[r],delete n.byId[r]);return n}},_J=e=>(bJ=e,wJ),SJ=()=>{if(void 0===bJ)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return bJ};function EJ(){let e,t,n=new Promise(((n,i)=>{e=e=>{n(e),r.status="resolved"},t=e=>{i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}(e=>{let t,n;(t=>{let n,r,i;(t=>{let n;let r,i;(n=t.panelPositions||(t.panelPositions={})).setPanelPosition=function(e){let t=SJ().historic;null!=t.panelPositions||(t.panelPositions={}),t.panelPositions[e.panelId]=e.position},(t=>{let n,r;t._ensure=function(){var e;return null!=(e=SJ().historic).panels||(e.panels={}),SJ().historic.panels},(t=>{let n;var r;t._ensure=function(){let t=e.studio.historic.panels._ensure();return null!=t.outlinePanel||(t.outlinePanel={}),t.outlinePanel},(r=n=t.selection||(t.selection={})).set=function(n){let r=[];for(let t of Tf(n))B(t)?r.push(w({type:"Project"},t.address)):V(t)?(r.push(w({type:"Sheet"},t.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(t.address)):H(t)?r.push(w({type:"Sheet"},t.address)):W(t)?(r.push(w({type:"SheetObject"},t.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(t.sheet.address)):q(t)&&r.push(w({type:"SheetObject"},t.address));t._ensure().selection=r},r.unset=function(){t._ensure().selection=[]}})(n=t.outline||(t.outline={})),(t=>{let n;t._ensure=function(){let t=e.studio.historic.panels._ensure();return null!=t.sequenceEditor||(t.sequenceEditor={}),t.sequenceEditor},(n=t.graphEditor||(t.graphEditor={})).setIsOpen=function(e){(function(){let e=t._ensure();return null!=e.graphEditor||(e.graphEditor={height:.5,isOpen:!1}),e.graphEditor}()).isOpen=e.isOpen}})(r=t.sequenceEditor||(t.sequenceEditor={}))})(r=t.panels||(t.panels={})),(t=>{let n;(t=>{let n;t._ensure=function(e){let t=SJ().historic;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=>{let n;t._ensure=function(t){let n=e.studio.historic.projects.stateByProjectId._ensure(t);return n.stateBySheetId[t.sheetId]||(n.stateBySheetId[t.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),n.stateBySheetId[t.sheetId]},t.setSelectedInstanceId=function(t){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(t).selectedInstanceId=t.sheetInstanceId},(n=>{function r(t){let n=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(t).sequenceEditor;return n.markerSet||(n.markerSet=xJ.create()),n.markerSet}n.addPropToGraphEditor=function(e){let{selectedPropsByObject:n}=t._ensure(e).sequenceEditor;n[e.objectKey]||(n[e.objectKey]={});let r=n[e.objectKey],i=vL(e.pathToProp),a=new Set(Object.keys(_V));for(let[t,s]of Object.entries(JZ(n)))for(let[e,n]of Object.entries(s))a.delete(n);let o=a.size>0?a.values().next().value:Object.keys(_V)[0];r[i]=o},n.removePropFromGraphEditor=function(e){let{selectedPropsByObject:n}=t._ensure(e).sequenceEditor;if(!n[e.objectKey])return;let r=n[e.objectKey],i=vL(e.pathToProp);r[i]&&xZ(n,[e.objectKey,i])},n.replaceMarkers=function(e){let t=r(e.sheetAddress),n=e.markers.filter((e=>!!isFinite(e.position))).map((t=>x(w({},t),{position:e.snappingFunction(t.position)}))),i=Td(n,"id"),a=xJ.filter(t,(e=>e&&!i[e.id])),o=Td(Object.values(a.byId),"position");n.forEach((e=>{let{position:t}=e,n=o[t];n&&(a=xJ.remove(a,n.id))})),Object.assign(t,xJ.merge([a,xJ.create(n.map((e=>[e.id,e])))]))},n.removeMarker=function(e){let t=r(e.sheetAddress);Object.assign(t,xJ.remove(t,e.markerId))},n.updateMarker=function(e){let t=r(e.sheetAddress).byId[e.markerId];void 0!==t&&(t.label=e.label)}})(n=t.sequenceEditor||(t.sequenceEditor={}))})(n=t.stateBySheetId||(t.stateBySheetId={}))})(n=t.stateByProjectId||(t.stateByProjectId={}))})(i=t.projects||(t.projects={}))})(n=t.historic||(t.historic={})),(t=>{let n;t.setShowOutline=function(e){SJ().ephemeral.showOutline=e},(t=>{let n;(t=>{let n;t._ensure=function(e){let t=SJ().ephemeral;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(t=>{let n;t._ensure=function(t){let n=e.studio.ephemeral.projects.stateByProjectId._ensure(t);return n.stateBySheetId[t.sheetId]||(n.stateBySheetId[t.sheetId]={stateByObjectKey:{}}),n.stateBySheetId[t.sheetId]},(t=>{let n;t._ensure=function(t){var n;let r=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(t).stateByObjectKey;return null!=r[n=t.objectKey]||(r[n]={}),r[t.objectKey]},(t=>{function n(t){let n=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(t);return null!=n.valuesBeingScrubbed||(n.valuesBeingScrubbed={}),n.valuesBeingScrubbed}t._ensure=n,t.flag=function(e){mf(n(e),e.pathToProp,!0)}})(n=t.propsBeingScrubbed||(t.propsBeingScrubbed={}))})(n=t.stateByObjectKey||(t.stateByObjectKey={}))})(n=t.stateBySheetId||(t.stateBySheetId={}))})(n=t.stateByProjectId||(t.stateByProjectId={}))})(n=t.projects||(t.projects={}))})(r=t.ephemeral||(t.ephemeral={})),(t=>{let n;t.setPinOutline=function(e){SJ().ahistoric.pinOutline=e},t.setPinDetails=function(e){SJ().ahistoric.pinDetails=e},t.setPinNotifications=function(e){SJ().ahistoric.pinNotifications=e},t.setVisibilityState=function(e){SJ().ahistoric.visibilityState=e},t.setClipboardKeyframes=function(e){let t=gL(e.map((e=>e.pathToProp))),n=e.map((e=>{let{keyframe:n,pathToProp:r}=e;return{keyframe:n,pathToProp:r.slice(t.length)}})),r=SJ();r.ahistoric.clipboard?r.ahistoric.clipboard.keyframesWithRelativePaths=n:r.ahistoric.clipboard={keyframesWithRelativePaths:n}},(t=>{let n;(t=>{let n;var r;let i;t._ensure=function(e){let t=SJ().ahistoric;return t.projects.stateByProjectId[e.projectId]||(t.projects.stateByProjectId[e.projectId]={stateBySheetId:{}}),t.projects.stateByProjectId[e.projectId]},(r=n=t.collapsedItemsInOutline||(t.collapsedItemsInOutline={}))._ensure=function(t){let n=e.studio.ahistoric.projects.stateByProjectId._ensure(t);return n.collapsedItemsInOutline||(n.collapsedItemsInOutline={}),n.collapsedItemsInOutline},r.set=function(t){let n=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(t);t.isCollapsed?n[t.itemKey]=!0:delete n[t.itemKey]},(t=>{let n;t._ensure=function(t){let n=e.studio.ahistoric.projects.stateByProjectId._ensure(t);return n.stateBySheetId[t.sheetId]||(n.stateBySheetId[t.sheetId]={}),n.stateBySheetId[t.sheetId]},(t=>{let n;var r;let i;let a;t._ensure=function(t){let n=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(t);return n.sequence||(n.sequence={}),n.sequence},(r=n=t.focusRange||(t.focusRange={})).set=function(t){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(t).focusRange={range:t.range,enabled:t.enabled}},r.unset=function(t){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(t).focusRange=void 0},(i=t.clippedSpaceRange||(t.clippedSpaceRange={})).set=function(t){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(t).clippedSpaceRange=w({},t.range)},(t=>{t.set=function(t){let n=function(t){let n=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(t),r=n.collapsableItems;return r||(r=n.collapsableItems=xJ.create()),r}(t);Object.assign(n,xJ.add(n,t.studioSheetItemKey,{isCollapsed:t.isCollapsed}))}})(a=t.sequenceEditorCollapsableItems||(t.sequenceEditorCollapsableItems={}))})(n=t.sequence||(t.sequence={}))})(i=t.stateBySheetId||(t.stateBySheetId={}))})(n=t.stateByProjectId||(t.stateByProjectId={}))})(n=t.projects||(t.projects={}))})(i=t.ahistoric||(t.ahistoric={}))})(t=e.studio||(e.studio={})),(t=>{let n;(t=>{let n;let r;(n=t.revisionHistory||(t.revisionHistory={})).add=function(e){let t=SJ().historic.coreByProject[e.projectId].revisionHistory;t.unshift(e.revision),t.length>50&&(t.length=50)},(t=>{let n,r;t._ensure=function(e){let t=SJ().historic.coreByProject[e.projectId].sheetsById;return t[e.sheetId]||(t[e.sheetId]={staticOverrides:{byObject:{}}}),t[e.sheetId]},t.forgetObject=function(e){let t=SJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId];if(!t)return;delete t.staticOverrides.byObject[e.objectKey];let n=t.sequence;n&&delete n.tracksByObject[e.objectKey]},t.forgetSheet=function(e){SJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId]&&delete SJ().historic.coreByProject[e.projectId].sheetsById[e.sheetId]},(t=>{function n(t){let n=e.coreByProject.historic.sheetsById._ensure(t);return null!=n.sequence||(n.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),n.sequence}function r(t){var n;let r=e.coreByProject.historic.sheetsById.sequence._ensure(t).tracksByObject;return null!=r[n=t.objectKey]||(r[n]={trackData:{},trackIdByPropPath:{}}),r[t.objectKey]}function i(e){return r(e).trackData[e.trackId]}function a(e){let t=i(e);if(t)return t.keyframes.find((t=>t.id===e.keyframeId))}function o(e){let t=i(e);if(!t)return;let n=JZ(t.keyframes),r=e.keyframes.filter((e=>!("number"==typeof e.value&&!isFinite(e.value)||!e.handles.every((e=>isFinite(e)))))).map((t=>x(w({},t),{position:e.snappingFunction(t.position)}))),a=Td(r,"id"),o=n.filter((e=>!a[e.id])),s=Td(o,"position");r.forEach((e=>{let{position:t}=e,n=s[t];n&&lf(o,n)}));let l=vf([...o,...r],"position");t.keyframes=l}t._ensure=n,t.setLength=function(e){n(e).length=ms(parseFloat(e.length.toFixed(2)),.01,1/0)},t.setSubUnitsPerUnit=function(e){n(e).subUnitsPerUnit=ms(e.subUnitsPerUnit,1,y(2,12))},t.setPrimitivePropAsSequenced=function(e,t){let n=r(e),i=vL(e.pathToProp);if("string"==typeof n.trackIdByPropPath[i])return;let a=mP(10),o={type:"BasicKeyframedTrack",__debugName:"".concat(e.objectKey,":").concat(i),keyframes:[]};n.trackData[a]=o,n.trackIdByPropPath[i]=a},t.setPrimitivePropAsStatic=function(t){let n=r(t),i=vL(t.pathToProp),a=n.trackIdByPropPath[i];"string"==typeof a&&(delete n.trackIdByPropPath[i],delete n.trackData[a],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(t))},t.setCompoundPropAsStatic=function(t){let n=r(t);for(let e of Object.keys(n.trackIdByPropPath)){let r=JSON.parse(e);if(t.pathToProp.every(((e,t)=>r[t]===e))){let t=n.trackIdByPropPath[e];if("string"!=typeof t)continue;delete n.trackIdByPropPath[e],delete n.trackData[t]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(t)},t.setKeyframeAtPosition=function(e){let t=e.snappingFunction(e.position),n=i(e);if(!n)return;let{keyframes:r}=n,a=r.findIndex((e=>e.position===t));if(-1!==a){return void(r[a].value=e.value)}let o=hd(r,(e=>e.position<t));if(-1===o)return void r.unshift({id:yP(),position:t,connectedRight:!0,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value});let s=r[o];r.splice(o+1,0,{id:yP(),position:t,connectedRight:s.connectedRight,handles:e.handles||[.5,1,.5,0],type:e.type||"bezier",value:e.value})},t.unsetKeyframeAtPosition=function(e){let t=i(e);if(!t)return;let{keyframes:n}=t,r=n.findIndex((t=>t.position===e.position));-1!==r&&n.splice(r,1)},t.transformKeyframes=function(e){let t=i(e);if(!t)return;let n=JZ(t.keyframes).filter((t=>e.keyframeIds.includes(t.id))).map((t=>{let n=t.position,r=e.snappingFunction(function(e,t){let{scale:n,origin:r,translate:i}=t;return i+(r+(e-r)*n)}(n,e));return x(w({},t),{position:r})}));o(x(w({},e),{keyframes:n}))},t.setTweenBetweenKeyframes=function(e){let t=i(e);t&&(t.keyframes=t.keyframes.map(((n,r)=>{let i=t.keyframes[r-1],a=e.keyframeIds.includes(n.id),o=e.keyframeIds.includes(null==i?void 0:i.id);return a&&!o?x(w({},n),{handles:[n.handles[0],n.handles[1],e.handles[0],e.handles[1]]}):a&&o?x(w({},n),{handles:[e.handles[2],e.handles[3],e.handles[0],e.handles[1]]}):o?x(w({},n),{handles:[e.handles[2],e.handles[3],n.handles[2],n.handles[3]]}):n})))},t.setHandlesForKeyframe=function(e){var t,n,r,i,o,s,l,u;let c=a(e);c&&(c.handles=[null!=(n=null==(t=e.end)?void 0:t[0])?n:c.handles[0],null!=(i=null==(r=e.end)?void 0:r[1])?i:c.handles[1],null!=(s=null==(o=e.start)?void 0:o[0])?s:c.handles[2],null!=(u=null==(l=e.start)?void 0:l[1])?u:c.handles[3]])},t.deleteKeyframes=function(e){let t=i(e);t&&(t.keyframes=t.keyframes.filter((t=>-1===e.keyframeIds.indexOf(t.id))))},t.setKeyframeType=function(e){let t=a(e);t&&(t.type=e.keyframeType)},t.replaceKeyframes=o})(n=t.sequence||(t.sequence={})),(t=>{let n;(t=>{function n(t){var n;let r=e.coreByProject.historic.sheetsById._ensure(t).staticOverrides.byObject;return null!=r[n=t.objectKey]||(r[n]={}),r[t.objectKey]}t.setValueOfCompoundProp=function(e){let t=n(e);mf(t,e.pathToProp,e.value)},t.setValueOfPrimitiveProp=function(e){let t=n(e);mf(t,e.pathToProp,e.value)},t.unsetValueOfPrimitiveProp=function(t){let n=e.coreByProject.historic.sheetsById._ensure(t).staticOverrides.byObject[t.objectKey];n&&xZ(n,t.pathToProp)}})(n=t.byObject||(t.byObject={}))})(r=t.staticOverrides||(t.staticOverrides={}))})(r=t.sheetsById||(t.sheetsById={}))})(n=t.historic||(t.historic={}))})(n=e.coreByProject||(e.coreByProject={}))})(wJ||(wJ={}));var kJ=n(5194);as();var CJ=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:e),MJ=CJ,PJ={INIT:"@@redux/INIT"};function TJ(e,t,n){var r;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(TJ)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){return a}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!is(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:PJ.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:PJ.INIT})}})[MJ]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[MJ]=function(){return this},e},r}function AJ(e){let t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}();return TJ(e.rootReducer,void 0,t)}FH(),$c();var RJ=new WeakMap,IJ=(e,t,n)=>{let r=OJ(n);!function(){let n=localStorage.getItem(r);if(n){let r,a=!0;try{r=JSON.parse(n),a=!1}catch(i){LH.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{a||(t=>{e.dispatch(fZ.replacePersistentState(t))})(r),t()}}else t()}();let i=()=>{let t=e.getState().$persistent;t!==RJ.get(e)&&(RJ.set(e,t),localStorage.setItem(r,JSON.stringify(t)))};e.subscribe(Jc(i,1e3)),window&&window.addEventListener("beforeunload",i)};function OJ(e){return e+".persistent"}kA(),ne(),No(),Ad(),j(),xM();var zJ=n(5194);function LJ(e){if("boolean"==typeof e||"string"==typeof e||"number"==typeof e)return e;if(is(e)){let t={},n=!1;for(let[r,i]of Object.entries(e))void 0!==LJ(i)&&(t[r]=i,n=!0);if(n)return t}}function DJ(e,t,n){for(let[r,i]of Object.entries(e.props))if("compound"===i.type)DJ(i,[...t,r],n);else{if("enum"===i.type)throw new Error("Not yet implemented");n(i,[...t,r])}}function NJ(e,t,n){return{set:(n,r)=>{e();let i=LJ(r);if("undefined"==typeof i)return;let{root:a,path:o}=(0,zJ.getPointerParts)(n);if(W(a)){let e=a.template.getMapOfValidSequenceTracks_forStudio().getValue(),r=OC(a.template.staticConfig,o);if(!r)throw new Error("Object ".concat(a.address.objectKey," does not have a prop at ").concat(JSON.stringify(o)));let s=(n,r,i)=>{if(null==n)return;if(void 0===LJ(r.deserializeAndSanitize(n)))throw new Error("Invalid value ".concat(jX(n)," for object.props").concat(i.map((e=>"[".concat(JSON.stringify(e),"]"))).join("")," is invalid"));let o=x(w({},a.address),{pathToProp:i}),s=Do(e,i);if("string"==typeof s){let e=a.sheet.getSequence();e.position=e.closestGridPosition(e.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(x(w({},o),{trackId:s,position:e.position,value:n,snappingFunction:e.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(x(w({},o),{value:n}))};if("compound"===r.type){let e=(0,zJ.getPointerParts)(n).path,t=e.length;DJ(r,e,((e,n)=>{let r=n.slice(t),a=wM(i,r);if("undefined"==typeof a)throw new Error("Property object.props".concat(n.map((e=>"[".concat(JSON.stringify(e),"]"))).join("")," is required but not provided"));s(a,e,n)}))}else{if("enum"===r.type)throw new Error("Enums aren't implemented yet");s(i,r,o)}}else{if(!G(a))throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far");{let[e]=o;if("subUnitsPerUnit"===e){if("number"!=typeof i||!Md(i)||i<1)throw new Error("Value ".concat(i," is not an integer, which is required for setting sequence prop ").concat(e));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(x(w({},a.address),{subUnitsPerUnit:i}))}else{if("length"!==e)throw new Error("Setting sequence prop ".concat(e," is not supported"));if("number"!=typeof i||i<=.001)throw new Error("Value ".concat(i," is not a positive number, which is required for setting sequence prop ").concat(e));t.coreByProject.historic.sheetsById.sequence.setLength(x(w({},a.address),{length:i}))}}}},unset:n=>{e();let{root:r,path:i}=(0,zJ.getPointerParts)(n);if(!W(r))throw new Error("Only setting props of SheetObject-s is supported in a transaction so far");{let e=r.template.getMapOfValidSequenceTracks_forStudio().getValue(),a=wM(r.template.getDefaultValues().getValue(),i),o=OC(r.template.staticConfig,i),s=(n,i)=>{let a=x(w({},r.address),{pathToProp:i}),s=Do(e,i);"string"==typeof s?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(x(w({},a),{trackId:s,position:r.sheet.getSequence().positionSnappedToGrid})):void 0!==o&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(a)};"compound"===o.type?D(a,((e,t)=>{s(e,t)}),(0,zJ.getPointerParts)(n).path):s(a,i)}},get drafts(){return e(),n},get stateEditors(){return t}}}XC(),Rf(),$X();var UJ=class{constructor(){P(this,"_reduxStore"),P(this,"_atom"),P(this,"atomP"),this._reduxStore=AJ({rootReducer:wZ,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=function(e){let t=e.getState(),n=new kJ.Atom(t);return e.subscribe((()=>{let r=e.getState();n.set(r),t=r})),n}(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=EJ();return!0===e.usePersistentStorage?IJ(this._reduxStore,(()=>{this.tempTransaction((e=>{let{drafts:t}=e;t.ephemeral.initialised=!0})).commit(),t.resolve()}),e.persistenceKey):(this.tempTransaction((e=>{let{drafts:t}=e;t.ephemeral.initialised=!0})).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return((e,t)=>{let n=OJ(t),r=e.getState().$persistent;localStorage.removeItem(n),RJ.set(e,r)})(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(fZ.historic.startHistoryFromScratch(fZ.reduceParts((t=>x(w({},t),{historic:e})))))}tempTransaction(e){let t,n=(()=>{let e=bZ++;return{push:t=>gZ({id:e,originalAction:t}),discard:()=>vZ(e),commit:()=>yZ(e)}})(),r=n.push(fZ.reduceParts((n=>{let r={historic:vJ(n.historic),ahistoric:vJ(n.ahistoric),ephemeral:vJ(n.ephemeral)},i=!0,a=NJ((()=>{if(!i)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")}),_J(r),r);try{return e(a),i=!1,{historic:yJ(r.historic),ahistoric:yJ(r.ahistoric),ephemeral:yJ(r.ephemeral)}}catch(o){return t=o,n}finally{_J(void 0)}})));if(this._reduxStore.dispatch(r),t)throw this._reduxStore.dispatch(n.discard()),t;return{commit:()=>{this._reduxStore.dispatch(n.commit())},discard:()=>{this._reduxStore.dispatch(n.discard())}}}undo(){this._reduxStore.dispatch(fZ.historic.undo())}redo(){this._reduxStore.dispatch(fZ.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=yA();this.tempTransaction((n=>{let{stateEditors:r}=n;r.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})})).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return w({},n)}},jJ=n(5194),FJ=class{constructor(){P(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};ne(),Pb(),L(),Rf(),uq();var BJ=class{constructor(e){P(this,"ui",{hide(){O().ui.hide()},get isHidden(){return O().ui.isHidden},restore(){O().ui.restore()},renderToolset:(e,t)=>O().ui.renderToolset(e,t)}),P(this,"_cache",new FJ),P(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){oq=!1},__experimental_enablePlayPauseKeyboardShortcut(){oq=!0},__experimental_clearPersistentStorage:e=>O().clearPersistentStorage(e),__experimental_createContentOfSaveFileTyped:e=>O().createContentOfSaveFile(e)})}initialize(e){return O().initialize(e)}extend(e,t){O().extend(e,t)}transaction(e){return O().transaction((t=>{let{set:n,unset:r,stateEditors:i}=t;return e({set:n,unset:r,__experimental_forgetObject:e=>{if(!K(e))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");i.coreByProject.historic.sheetsById.forgetObject(e.address)},__experimental_forgetSheet:e=>{if(!X(e))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");i.coreByProject.historic.sheetsById.forgetSheet(e.address)}})}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",(()=>(0,jJ.prism)((()=>Eb().filter((e=>"Theatre_SheetObject"===e.type||"Theatre_Sheet"===e.type)).map((e=>e.publicApi))))))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter((e=>K(e)||X(e))).map((e=>O().corePrivateAPI(e)));O().transaction((e=>{let{stateEditors:n}=e;n.studio.historic.panels.outline.selection.set(t)}))}onSelectionChange(e){let t=O();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return O().scrub()}getStudioProject(){let e=O().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return O().getStudioProject(e)}debouncedScrub(){let e,t=Jc((()=>{let t=e;t&&(e=void 0,t.commit())}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3);return{capture:n=>{e||(e=this.scrub());let r=!0;try{e.capture(n),r=!1}finally{if(r){let t=e;e=void 0,t.discard()}else t()}}}}createPane(e){return O().paneManager.createPane(e)}destroyPane(e){return O().paneManager.destroyPane(e)}createContentOfSaveFile(e){return O().createContentOfSaveFile(e)}};vP();var VJ=n(5194),HJ=class{constructor(e){this._studio=e,P(this,"_cache",new FJ),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale((()=>{e.getValue()}))}_getAllPanes(){return this._cache.get("_getAllPanels()",(()=>(0,VJ.prism)((()=>{if(!(0,VJ.val)(this._studio.coreP))return{};let e=(0,VJ.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,VJ.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let r of Object.values(e)){if(!r)continue;let e=t[r.paneClass];if(!e)continue;let{instanceId:i}=r,{extensionId:a,classDefinition:o}=e,s=VJ.prism.memo("instance-".concat(r.instanceId),(()=>({extensionId:a,instanceId:i,definition:o})),[o]);n[i]=s}return n}))))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t,n=(0,VJ.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),r=(0,VJ.val)(this._studio.atomP.historic.panelInstanceDesceriptors);for(let i=1;i<1e3&&(t="".concat(e," #").concat(i),r[t]);i++);if(!n)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction((n=>{let{drafts:r}=n;r.historic.panelInstanceDesceriptors[t]={instanceId:t,paneClass:e}})),this._getAllPanes().getValue()[t]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction((t=>{let{drafts:n}=t;delete n.historic.panelInstanceDesceriptors[e]}))}},WJ=n(5194);L();var GJ=18e5;function qJ(){return A(this,null,(function*(){if(!"0.7.2".match(/COMPAT/))for(yield XJ(500),yield function(){return A(this,null,(function*(){let e=O().atomP.ahistoric.visibilityState;if("everythingIsVisible"===(0,WJ.val)(e))return;let t=EJ(),n=(0,WJ.pointerToPrism)(e).onStale((()=>{"everythingIsVisible"===(0,WJ.val)(e)&&(n(),t.resolve(void 0))}));return t.promise}))}();;){let t=(0,WJ.val)(O().atomP.ahistoric.updateChecker);if(t&&"error"!==t.result){let e=t.lastChecked,n=Date.now(),r=Math.abs(n-e);r<GJ&&(yield XJ(GJ-r))}try{let e=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(!e.ok)throw new Error("HTTP Error ".concat(e.statusText));{let t=yield e.json();if(!KJ(t))throw new Error("Bad response");O().transaction((e=>{let{drafts:n}=e;n.ahistoric.updateChecker={lastChecked:Date.now(),result:w({},t)}})),yield XJ(1e3)}}catch(e){yield XJ(36e5)}}}))}var XJ=e=>new Promise((t=>setTimeout(t,e)));function KJ(e){if("object"!=typeof e)return!1;let t=e;return"boolean"==typeof t.hasUpdates&&(!0===t.hasUpdates&&"string"==typeof t.newVersion&&"string"==typeof t.releasePage||!1===t.hasUpdates)}var YJ,QJ=M(rh());function ZJ(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function JJ(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=ZJ(n);return(e,n)=>r.then((r=>n(r.transaction(t,e).objectStore(t))))}function $J(){return YJ||(YJ=JJ("keyval-store","keyval")),YJ}function e$(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ZJ(e.transaction)}var t$=e=>{let t=JJ("theatrejs-".concat(e),"default-store");return{set:(e,n)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:$J())("readwrite",(n=>(n.put(t,e),ZJ(n.transaction))))}(e,n,t),get:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$J())("readonly",(t=>ZJ(t.get(e))))}(e,t),del:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$J())("readwrite",(t=>(t.delete(e),ZJ(t.transaction))))}(e,t),keys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$J())("readonly",(e=>{if(e.getAllKeys)return ZJ(e.getAllKeys());let t=[];return e$(e,(e=>t.push(e.key))).then((()=>t))}))}(t),entries:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$J();return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([ZJ(t.getAllKeys()),ZJ(t.getAll())]).then((e=>{let[t,n]=e;return t.map(((e,t)=>[e,n[t]]))}));let n=[];return e("readonly",(e=>e$(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}(t),values:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$J())("readonly",(e=>{if(e.getAll)return ZJ(e.getAll());let t=[];return e$(e,(e=>t.push(e.value))).then((()=>t))}))}(t)}};BI(),UI();var n$="theatre-0.4",r$="__TheatreJS_StudioBundle",i$=class{constructor(e){this._studio=e,P(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");let t;this._coreBundle=e,e.getBitsForStudio(this._studio,(e=>{t=e})),this._studio.setCoreBits(t)}},a$=M(zf());qp();var o$,s$=Gp.div(o$||(o$=T([""]))),l$=e=>a$.default.createElement(s$,null);UI();var u$=new class{constructor(){P(this,"ui"),P(this,"publicApi"),P(this,"address"),P(this,"_projectsProxy",new GQ.PointerProxy(new GQ.Atom({}).pointer)),P(this,"projectsP",this._projectsProxy.pointer),P(this,"_store",new UJ),P(this,"_corePrivateApi"),P(this,"_cache",new FJ),P(this,"paneManager"),P(this,"_coreAtom",new GQ.Atom({})),P(this,"_initializedDeferred",EJ()),P(this,"_initializeFnCalled",!1),P(this,"_didWarnAboutNotInitializing",!1),P(this,"_coreBits"),P(this,"_rafDriver"),this.address={studioId:mP(10)},this.publicApi=new BJ(this),this.ui=new WQ(this),this._attachToIncomingProjects(),this.paneManager=new HJ(this),"undefined"!=typeof window&&setTimeout((()=>{this._initializeFnCalled||(console.error("You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\n```\n\n* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.\n\n* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:\n\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\nstudio.ui.hide()\n```\n"),this._didWarnAboutNotInitializing=!0)}),100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return A(this,null,(function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn("You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n");let t={persistenceKey:n$,usePersistentStorage:!0};if("string"==typeof(null==e?void 0:e.persistenceKey)&&(t.persistenceKey=e.persistenceKey),(!1===(null==e?void 0:e.usePersistentStorage)||"undefined"==typeof window)&&(t.usePersistentStorage=!1),null!=e&&e.__experimental_rafDriver){if("Theatre_RafDriver_PublicAPI"!==e.__experimental_rafDriver.type)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let t=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!t)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=t}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(n){return void this._initializedDeferred.reject(n)}"undefined"!=typeof window&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),qJ().catch((e=>{console.error(e)}))}))}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,GQ.pointerToPrism)(this.projectsP),t=e=>{for(let t of Object.values(e))t.isAttachedToStudio||t.attachToStudio(this)};e.onStale((()=>{t(e.getValue())})),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer((e=>e.core),e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new BQ(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||"object"!=typeof e)throw new Error("Extensions must be JS objects");if("string"!=typeof e.id)throw new Error("extension.id must be a string");let n=!0===(null==t?void 0:t.__experimental_reconfigure),r=e.id,i=this._store.getState().ephemeral.extensions.byId[r];if(i&&!n){if(e===i||(0,QJ.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction((t=>{let{drafts:r}=t;var a,o;r.ephemeral.extensions.byId[e.id]=e;let s=r.ephemeral.extensions.paneClasses;n&&i&&(null==(a=i.panes)||a.forEach((e=>{delete s[e.class]}))),null==(o=e.panes)||o.forEach((t=>{if("string"!=typeof t.class)throw new Error("pane.class must be a string");if(t.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let r=s[t.class];if(r){if(!n||r.extensionId!==e.id)throw new Error('Pane class "'.concat(t.class,'" already exists and is supplied by extension ').concat(r));console.warn('Pane class "'.concat(t.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'))}s[t.class]={extensionId:e.id,classDefinition:t}}))}))}getStudioProject(e){return this._cache.get("getStudioProject",(()=>e.getProject("Studio")))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,(()=>this.getStudioProject(t).sheet("Extension "+e)))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return A(this,null,(function*(){if("undefined"==typeof window)return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:e=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:e=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=t$("".concat(e.address.projectId,"-assets")),r=jI(e),i=yield n.keys();yield Promise.all(i.map((e=>A(this,null,(function*(){r.includes(e)||(yield n.del(e))}))))),yield Promise.all(i.map((r=>A(this,null,(function*(){var i,a;let o="".concat(t,"/").concat(r);try{(yield fetch(o,{method:"HEAD"})).ok&&(yield n.del(r))}catch(s){_I.error("Failed to access assets","Failed to access assets at ".concat(null!=(a=null==(i=e.config.assets)?void 0:i.baseUrl)?a:"/",". This is likely due to a CORS issue."))}})))));let a=new Map(yield n.entries()),o=new Map,s=e=>{let t=a.get(e);if(!t)throw new Error("Asset with id ".concat(e," not found"));return(e=>{if(o.has(e))return o.get(e);{let t=URL.createObjectURL(e);return o.set(e,t),t}})(t)};return{getAssetUrl:e=>a.has(e)?s(e):"".concat(t,"/").concat(e),createAsset:r=>A(this,null,(function*(){var i,o,s;let l=jI(e),u=!1;if(l.includes(r.name)){let n;try{n=null!=(i=a.get(r.name))?i:yield fetch("".concat(t,"/").concat(r.name)).then((e=>e.ok?e.blob():void 0))}catch(c){return _I.error("Failed to access assets","Failed to access assets at ".concat(null!=(s=null==(o=e.config.assets)?void 0:o.baseUrl)?s:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(n){if(u=yield(yield Promise.resolve().then((()=>M(NQ())))).default.isEqual(r,n),u)return r.name;{let e=t=>{let n=prompt(t,r.name);return null!==n&&(""===n?e("Asset name cannot be empty. Please choose a different file name for this asset."):l.includes(n)?(console.log(l),e("An asset with this name already exists. Please choose a different file name for this asset.")):(r=new File([r],n,{type:r.type}),!0))};if(!e("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return a.set(r.name,r),yield n.set(r.name,r),r.name}))}}))}clearPersistentStorage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n$;this._store.__experimental_clearPersistentStorage(e)}};!function(e){z=e}(u$);var c$=u$.publicApi;!function(){if("undefined"==typeof window)return;let e=window[r$];if("undefined"!=typeof e)throw"object"==typeof e&&e&&"string"==typeof e.version?new Error("It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(r$," seems to be already set by a module other than @theatre/core."));let t=new i$(u$);window[r$]=t;let n=window.__TheatreJS_CoreBundle;n&&null!==n&&"Theatre_CoreBundle"===n.type&&t.registerCoreBundle(n)}(),"undefined"!=typeof window&&(window.__TheatreJS_Notifications={notify:_I})},4695:e=>{function t(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var D,N=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case k:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Me(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Te(),Me())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ne=null,Ue=!1,je=null,Fe={onError:function(e){De=!0,Ne=e}};function Be(e,t,n,r,i,a,o,s,l){De=!1,Ne=null,Le.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,kt,Ct=!1,Mt=[],Pt=null,Tt=null,At=null,Rt=new Map,It=new Map,Ot=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Pt&&Ut(Pt)&&(Pt=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),It.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Mt.length){Bt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Rt.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Nt(n),null===n.blockedOn&&Ot.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Xt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Dt(Pt,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return At=Dt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Dt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=N({},un,{view:0,detail:0}),fn=an(dn),hn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(N({},hn,{dataTransfer:0})),gn=an(N({},dn,{relatedTarget:0})),vn=an(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(N({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return En}var Cn=N({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Cn),Pn=an(N({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=an(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=N({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Rn),On=[9,13,27,32],zn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Dn=c&&"TextEvent"in window&&!Ln,Nn=c&&(!zn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Kn(e){Ur(e,0)}function Yn(e){if(X(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Gn(t,Xn,e,xe(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function kr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=kr("animationend"),Mr=kr("animationiteration"),Pr=kr("animationstart"),Tr=kr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var zr=Rr[Or];Ir(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Ir(Cr,"onAnimationEnd"),Ir(Mr,"onAnimationIteration"),Ir(Pr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Be.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Ne;De=!1,Ne=null,Ue||(Ue=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Nr(i,s,u),a=l}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=xe(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Mr:case Pr:l=vn;break;case Tr:l=An;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ie(p,f))&&c.push(Gr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wi(l),h=null==u?s:wi(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Xr(h))p++;for(h=0,m=f;m;m=Xr(m))h++;for(;0<p-h;)c=Xr(c),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==l&&Kr(o,s,l,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Wn(s))if(Zn)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!zn&&Fn(e,t)?(e=en(),$t=Jt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ie(n,a))&&o.unshift(Gr(n,l,s)):i||null!=(l=Ie(n,a))&&o.push(Gr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[hi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function ki(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Mi={},Pi=Ei(Mi),Ti=Ei(!1),Ai=Mi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ti),ki(Pi)}function zi(e,t,n){if(Pi.current!==Mi)throw Error(a(168));Ci(Pi,t),Ci(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return N({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ai=Pi.current,Ci(Pi,e),Ci(Ti,Ti.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Pi),Ci(Pi,e)):ki(Ti),Ci(Ti,n)}var Ui=null,ji=!1,Fi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Xe($e,Vi),i}finally{bt=t,Fi=!1}}return null}var Hi=[],Wi=0,Gi=null,qi=0,Xi=[],Ki=0,Yi=null,Qi=1,Zi="";function Ji(e,t){Hi[Wi++]=qi,Hi[Wi++]=Gi,Gi=e,qi=t}function $i(e,t,n){Xi[Ki++]=Qi,Xi[Ki++]=Zi,Xi[Ki++]=Yi,Yi=e;var r=Qi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Qi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--Wi],Hi[Wi]=null,qi=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Xi[--Ki],Xi[Ki]=null,Zi=Xi[--Ki],Xi[Ki]=null,Qi=Xi[--Ki],Xi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case _:return(t=Uu(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),ia&&Ji(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Ji(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),u}function g(i,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&Ji(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ia&&Ji(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=Lu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=zu(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uu(o,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(L(o))return g(r,a,o,l);va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Nu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var wa=ba(!0),xa=ba(!1),_a=Ei(null),Sa=null,Ea=null,ka=null;function Ca(){ka=Ea=Sa=null}function Ma(e){var t=_a.current;ki(_a),e._currentValue=t}function Pa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){Sa=e,ka=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===Sa)throw Error(a(308));Ea=e,Sa.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Ra=null;function Ia(e){null===Ra?Ra=[e]:Ra.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,za(e,r)}function za(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,za(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,za(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=N({},d,f);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Wa={},Ga=Ei(Wa),qa=Ei(Wa),Xa=Ei(Wa);function Ka(e){if(e===Wa)throw Error(a(174));return e}function Ya(e,t){switch(Ci(Xa,t),Ci(qa,e),Ci(Ga,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ga),Ci(Ga,t)}function Qa(){ki(Ga),ki(qa),ki(Xa)}function Za(e){Ka(Xa.current);var t=Ka(Ga.current),n=le(t,e.type);t!==n&&(Ci(qa,e),Ci(Ga,n))}function Ja(e){qa.current===e&&(ki(Ga),ki(qa))}var $a=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,uo=!1,co=!1,fo=0,ho=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:es,e=n(r,i),co){o=0;do{if(co=!1,fo=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,uo=!1,t)throw Error(a(300));return e}function vo(){var e=0!==fo;return fo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((ao&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,oo.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Do(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,Co.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ao)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&To(e)}function Mo(e,t,n){return n((function(){Po(t)&&To(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function To(e){var t=za(e,1);null!==t&&nu(t,e,1,-1)}function Ao(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return bo().memoizedState}function Oo(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Do(e,t){return zo(2048,8,e,t)}function No(e,t){return zo(4,2,e,t)}function Uo(e,t){return zo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,jo.bind(null,t,e),n)}function Bo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function qo(){return bo().memoizedState}function Xo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Oa(e,t,n,r))){nu(n,e,r,eu()),Zo(n,t,r)}}function Ko(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ia(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Oa(e,t,i,r))&&(nu(n,e,r,i=eu()),Zo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Aa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Aa,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&ao)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Tl.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Aa,useCallback:Vo,useContext:Aa,useEffect:Do,useImperativeHandle:Fo,useInsertionEffect:No,useLayoutEffect:Uo,useMemo:Ho,useReducer:xo,useRef:Io,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),so.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:qo,unstable_isNewReconciler:!1},ts={readContext:Aa,useCallback:Vo,useContext:Aa,useEffect:Do,useImperativeHandle:Fo,useInsertionEffect:No,useLayoutEffect:Uo,useMemo:Ho,useReducer:_o,useRef:Io,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:qo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(nu(t,e,i,r),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(nu(t,e,i,r),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ja(e,i,r))&&(nu(t,e,r,n),Fa(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(i=Ii(t)?Ai:Pi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Aa(a):(a=Ii(t)?Ai:Pi.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ds(0,t)},n}function ps(e,t,n){(n=Ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?xa(t,null,n,r):wa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=go(e,t,n,r,a,i),n=vo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ou(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ol,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ol,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ol,Il),Il|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ol,Il),Il|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ii(n)?Ai:Pi.current;return a=Ri(t,a),Ta(t,i),n=go(e,t,n,r,a,i),r=vo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ms(e,t,n,r,i){if(Ii(n)){var a=!0;Di(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Aa(u):u=Ri(t,u=Ii(n)?Ai:Pi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,o,r,u),La=!1;var f=t.memoizedState;o.state=f,Va(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ti.current||La?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=La||as(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Aa(l):l=Ri(t,l=Ii(n)?Ai:Pi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,o,r,l),La=!1,f=t.memoizedState,o.state=f,Va(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ti.current||La?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(u=La||as(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){ks(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Ws(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),Ya(e,t.containerInfo)}function As(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Is,Os,zs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,o=$a.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci($a,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,i,0,null),e=Lu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Us(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=cs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,za(e,i),nu(r,e,i,-1))}return mu(),js(e,t,s,r=cs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Ki++]=Qi,Xi[Ki++]=Zi,Xi[Ki++]=Yi,Qi=e.id,Zi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ou(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),wa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Pa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ii(t.type)&&Oi(),qs(t),null;case 3:return r=t.stateNode,Qa(),ki(Ti),ki(Pi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Is(e,t),qs(t),null;case 5:Ja(t);var i=Ka(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Ka(Ga.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":q(r),$(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)zs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Xa.current),Ka(Ga.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return qs(t),null;case 13:if(ki($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===zl&&(zl=3):mu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Qa(),Is(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return Ma(t.type._context),qs(t),null;case 19:if(ki($a),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Vl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return qs(t),null}else 2*Ze()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=$a.current,Ci($a,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),ki(Ti),ki(Pi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(ki($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki($a),null;case 4:return Qa(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ka(Ga.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&jr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},zs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||$s(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Qs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fl(e,t,n),Qs=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,ml(t,e),Qs=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$s(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Js=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Eu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=o,(Qs=l)&&!u)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Js=l):_l(i);for(;null!==a;)Js=a,bl(a,t,n),a=a.sibling;Js=i,Ys=s,Qs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(h){Eu(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,El=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Ml=w.ReactCurrentBatchConfig,Pl=0,Tl=null,Al=null,Rl=0,Il=0,Ol=Ei(0),zl=0,Ll=null,Dl=0,Nl=0,Ul=0,jl=null,Fl=null,Bl=0,Vl=1/0,Hl=null,Wl=!1,Gl=null,ql=null,Xl=!1,Kl=null,Yl=0,Ql=0,Zl=null,Jl=-1,$l=0;function eu(){return 0!==(6&Pl)?Ze():-1!==Jl?Jl:Jl=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Rl?Rl&-Rl:null!==ma.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Pl)&&e===Tl||(e===Tl&&(0===(2&Pl)&&(Nl|=n),4===zl&&su(e,Rl)),ru(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Ze()+500,ji&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Tl?Rl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),oi((function(){0===(6&Pl)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,$l=0,0!==(6&Pl))throw Error(a(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Pl;Pl|=2;var o=pu();for(Tl===e&&Rl===t||(Hl=null,Vl=Ze()+500,fu(e,t));;)try{yu();break}catch(l){hu(e,l)}Ca(),kl.current=o,Pl=i,null!==Al?t=0:(Tl=null,Rl=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Ll,fu(e,0),su(e,r),ru(e,Ze()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=Ll,fu(e,0),su(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Fl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Fl,Hl),t);break}xu(e,Fl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Fl,Hl),r);break}xu(e,Fl,Hl);break;default:throw Error(a(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fl,Fl=n,null!==t&&ou(t)),e}function ou(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Ul,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Pl))throw Error(a(327));_u();var t=ft(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Ll,fu(e,0),su(e,t),ru(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Fl,Hl),ru(e,Ze()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Ze()+500,ji&&Vi())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&_u();var t=Pl;Pl|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(Pl=t))&&Vi()}}function du(){Il=Ol.current,ki(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Qa(),ki(Ti),ki(Pi),no();break;case 5:Ja(r);break;case 4:Qa();break;case 13:case 19:ki($a);break;case 10:Ma(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Al=e=Ou(e.current,null),Rl=Il=t,zl=0,Ll=null,Ul=Nl=Dl=0,Fl=jl=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ra=null}return e}function hu(e,t){for(;;){var n=Al;try{if(Ca(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(ao=0,lo=so=oo=null,co=!1,fo=0,Cl.current=null,null===n||null===n.return){zl=1,Ll=t,Al=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pa(us(u,l));break e}}o=u=us(u,l),4!==zl&&(zl=2),null===jl?jl=[o]:jl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,hs(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=kl.current;return kl.current=Jo,null===e?Jo:e}function mu(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Nl)||su(Tl,Rl)}function gu(e,t){var n=Pl;Pl|=2;var r=pu();for(Tl===e&&Rl===t||(Hl=null,fu(e,t));;)try{vu();break}catch(i){hu(e,i)}if(Ca(),Pl=n,kl.current=r,null!==Al)throw Error(a(261));return Tl=null,Rl=0,zl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Ye();)bu(Al)}function bu(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Il)))return void(Al=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return zl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===zl&&(zl=5)}function xu(e,t,n){var r=bt,i=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Kl);if(0!==(6&Pl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tl&&(Al=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tu(tt,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Pl=l,bt=s,Ml.transition=o}else e.current=n;if(Xl&&(Xl=!1,Kl=e,Yl=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&_u(),o=e.pendingLanes,0!==(1&o)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Vi()}(e,t,n,r)}finally{Ml.transition=i,bt=r}return null}function _u(){if(null!==Kl){var e=wt(Yl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Pl))throw Error(a(331));var i=Pl;for(Pl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(al(d),d===c){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Eu(l,l.return,_)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Pl=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Su(e,t,n){e=ja(e,t=hs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=ja(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===zl||3===zl&&(130023424&Rl)===Rl&&500>Ze()-Bl?fu(e,0):Ul|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=za(e,t))&&(vt(e,t,n),ru(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cu(e,n)}function Tu(e,t){return Xe(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Au(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(n.children,i,o,t);case E:s=8,i|=8;break;case k:return(e=Ru(12,n,t,2|i)).elementType=k,e.lanes=o,e;case T:return(e=Ru(13,n,t,i)).elementType=T,e.lanes=o,e;case A:return(e=Ru(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Du(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case P:s=11;break e;case R:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,a,o,s,l){return e=new ju(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bu(e){if(!e)return Mi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Li(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Fu(n,r,!0,e,0,a,0,s,l)).context=Bu(null),n=e.current,(a=Ua(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ja(i,t,o))&&(nu(e,i,o,a),Fa(e,i,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),ha();break;case 5:Za(t);break;case 1:Ii(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_a,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Ci($a,1&$a.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Pi.current);Ta(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=us(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=us(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Ns(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(_a,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ua(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Pa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Pa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Aa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),_s(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Ii(r)?(e=!0,Di(t)):e=!1,Ta(t,n),os(t,r,i),ls(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function $u(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wu(o);s.call(e)}}Hu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,i,r);return Wu(o)}Yu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hu(e,t,null,null)},Yu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ze()),0===(6&Pl)&&(Vl=Ze()+500,Vi()))}break;case 13:cu((function(){var t=za(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},_t=function(e){if(13===e.tag){var t=za(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=za(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Me,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return $u(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $u(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7251:function(e,t,n){var r,i,a;i=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},75:function(e,t,n){var r,i,a;i=[t,n(5043),n(5173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=h;var r=a(t),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=!1;function h(e){f=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){h(!0)}}))}catch(v){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return f?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a._handleSwipeStart=a._handleSwipeStart.bind(a),a._handleSwipeMove=a._handleSwipeMove.bind(a),a._handleSwipeEnd=a._handleSwipeEnd.bind(a),a._onMouseDown=a._onMouseDown.bind(a),a._onMouseMove=a._onMouseMove.bind(a),a._onMouseUp=a._onMouseUp.bind(a),a._setSwiperRef=a._setSwiperRef.bind(a),a}return d(t,e),u(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,a=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:a},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:a}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,a=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,s(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,o({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},a),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},7302:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},6958:(e,t,n)=>{e.exports=function(e){var t={},r=n(5043),i=n(8513),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function E(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(k(e)!==e)throw Error(o(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return C(i),e;if(a===r)return C(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function P(e){return null!==(e=M(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var R,I=Array.isArray,O=e.getPublicInstance,z=e.getRootHostContext,L=e.getChildHostContext,D=e.prepareForCommit,N=e.resetAfterCommit,U=e.createInstance,j=e.appendInitialChild,F=e.finalizeInitialChildren,B=e.prepareUpdate,V=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,K=e.supportsMutation,Y=e.supportsPersistence,Q=e.supportsHydration,Z=e.getInstanceFromNode,J=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,de=e.appendChild,fe=e.appendChildToContainer,he=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,Se=e.unhideInstance,Ee=e.unhideTextInstance,ke=e.clearContainer,Ce=e.cloneInstance,Me=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,Te=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,ze=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Ne=e.isSuspenseInstanceFallback,Ue=e.registerSuspenseInstanceRetry,je=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Be=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ke=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Qe=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),dt=ot(!1),ft=ut;function ht(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){st(dt),st(ct)}function gt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(dt,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,E(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=ct.current,lt(ct,e),lt(dt,dt.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=vt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ct),lt(ct,e)):st(dt),lt(dt,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var St=64,Et=4194304;function kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=kt(s):0!==(a&=o)&&(r=kt(a))}else 0!==(o=n&~i)?r=kt(o):0!==a&&(r=kt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function Mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var zt=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,Nt=i.unstable_requestPaint,Ut=i.unstable_now,jt=i.unstable_ImmediatePriority,Ft=i.unstable_UserBlockingPriority,Bt=i.unstable_NormalPriority,Vt=i.unstable_IdlePriority,Ht=null,Wt=null;var Gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Xt=!1,Kt=!1;function Yt(e){null===qt?qt=[e]:qt.push(e)}function Qt(){if(!Kt&&null!==qt){Kt=!0;var e=0,t=It;try{var n=qt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),zt(jt,Qt),i}finally{It=t,Kt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Jt(e,t){if(Gt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function dn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var fn=null,hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ka&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===fn?fn=[n]:fn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(s=0,d=c=u=null,l=o;;){var h=l.lane,p=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(p,f,h):m)||void 0===h)break e;f=a({},f,h);break e;case 2:hn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=f):d=d.next=p,s|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=f}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var En={isMounted:function(e){return!!(e=e._reactInternals)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=gn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),vn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=gn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),vn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=_o(e),i=gn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),vn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function kn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function Cn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"===typeof a&&null!==a?a=dn(a):(i=pt(t)?ft:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ht(e,i):ut),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=En,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&En.enqueueReplaceState(t,t.state,null)}function Pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=dn(a):(a=pt(t)?ft:ct.current,i.context=ht(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&En.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Tn=[],An=0,Rn=null,In=0,On=[],zn=0,Ln=null,Dn=1,Nn="";function Un(e,t){Tn[An++]=In,Tn[An++]=Rn,Rn=e,In=t}function jn(e,t,n){On[zn++]=Dn,On[zn++]=Nn,On[zn++]=Ln,Ln=e;var r=Dn;e=Nn;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-wt(t)+i|n<<i|r,Nn=a+e}else Dn=1<<a|n<<i|r,Nn=e}function Fn(e){null!==e.return&&(Un(e,1),jn(e,1,0))}function Bn(e){for(;e===Rn;)Rn=Tn[--An],Tn[An]=null,In=Tn[--An],Tn[An]=null;for(;e===Ln;)Ln=On[--zn],On[zn]=null,Nn=On[--zn],On[zn]=null,Dn=On[--zn],On[zn]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,qn=null;function Xn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Kn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Fe(t),!0);case 6:return null!==(t=ze(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:Dn,overflow:Nn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Qn(e){if(Wn){var t=Hn;if(t){var n=t;if(!Kn(e,t)){if(Yn(e))throw Error(o(418));t=je(n);var r=Vn;t&&Kn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Yn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Jn(e){if(!Q||e!==Vn)return!1;if(!Wn)return Zn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!V(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=je(e);throw Error(o(418))}for(;t;)Xn(e,t),t=je(t)}}if(Zn(e),13===e.tag){if(!Q)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=qe(e)}else Hn=Vn?je(e.stateNode):null;return!0}function $n(){Q&&(Hn=Vn=null,Gn=Wn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=as(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(I(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?f(e,t,n,r):null;case u:return n.key===i?h(e,t,n,r):null;case b:return g(e,t,(i=n._init)(n._payload),r)}if(I(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return v(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,f=o=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),Wn&&Un(i,f),u;if(null===d){for(;f<s.length;f++)null!==(d=m(i,s[f],l))&&(o=a(d,o,f),null===c?u=d:c.sibling=d,c=d);return Wn&&Un(i,f),u}for(d=r(i,d);f<s.length;f++)null!==(h=v(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=a(h,o,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),Wn&&Un(i,f),u}function w(i,s,l,u){var c=_(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,f=s,h=s=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=g(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),Wn&&Un(i,h),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=m(i,y.value,u))&&(s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return Wn&&Un(i,h),c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=v(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),s=a(y,s,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),Wn&&Un(i,h),c}return function e(r,a,o,d){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var f=o.key,h=a;null!==h;){if(h.key===f){if((f=o.type)===c){if(7===h.tag){n(r,h.sibling),(a=i(h,o.props.children)).return=r,r=a;break e}}else if(h.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===b&&rr(f)===h.type){n(r,h.sibling),(a=i(h,o.props)).ref=tr(r,h,o),a.return=r,r=a;break e}n(r,h);break}t(r,h),h=h.sibling}o.type===c?((a=ns(o.props.children,r.mode,d,o.key)).return=r,r=a):((d=ts(o.type,o.key,o.props,null,r.mode,d)).ref=tr(r,a,o),d.return=r,r=d)}return s(r);case u:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,d)).return=r,r=a}return s(r);case b:return e(r,a,(h=o._init)(o._payload),d)}if(I(o))return y(r,a,o,d);if(_(o))return w(r,a,o,d);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,d)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function dr(e){if(e===sr)throw Error(o(174));return e}function fr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=z(t),st(lr),lt(lr,e)}function hr(){st(lr),st(ur),st(cr)}function pr(e){var t=dr(cr.current),n=dr(lr.current);n!==(t=L(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function mr(e){ur.current===e&&(st(lr),st(ur))}var gr=ot(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Ne(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var wr=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,_r=0,Sr=null,Er=null,kr=null,Cr=!1,Mr=!1,Pr=0,Tr=0;function Ar(){throw Error(o(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,a){if(_r=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Mr){a=0;do{if(Mr=!1,Pr=0,25<=a)throw Error(o(301));a+=1,kr=Er=null,t.updateQueue=null,wr.current=gi,e=n(r,i)}while(Mr)}if(wr.current=hi,t=null!==Er&&null!==Er.next,_r=0,kr=Er=Sr=null,Cr=!1,t)throw Error(o(300));return e}function Or(){var e=0!==Pr;return Pr=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kr?Sr.memoizedState=kr=e:kr=kr.next=e,kr}function Lr(){if(null===Er){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===kr?Sr.memoizedState:kr.next;if(null!==t)kr=t,Er=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===kr?Sr.memoizedState=kr=e:kr=kr.next=e}return kr}function Dr(e,t){return"function"===typeof t?t(e):t}function Nr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((_r&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,Sr.lanes|=d,to|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Gt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ur(e){var t=Lr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jr(){}function Fr(e,t){var n=Sr,r=Lr(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),r=r.queue,Zr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==kr&&1&kr.memoizedState.tag){if(n.flags|=2048,qr(9,Vr.bind(null,n,r,i,t),void 0,null),null===Ka)throw Error(o(349));0!==(30&_r)||Br(n,t,i)}return i}function Br(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&So(e,1,-1)}function Hr(e,t,n){return n((function(){Wr(t)&&So(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=zr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Lr().memoizedState}function Kr(e,t,n,r){var i=zr();Sr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var a=void 0;if(null!==Er){var o=Er.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}Sr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Qr(e,t){return Kr(8390656,8,e,t)}function Zr(e,t){return Yr(2048,8,e,t)}function Jr(e,t){return Yr(4,2,e,t)}function $r(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{It=n,xr.transition=r}}function oi(){return Lr().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(di(e,t,n),null!==(e=So(e,r,n=xo()))&&fi(e,t,r))}function li(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{di(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(l){}null!==(e=So(e,r,n=xo()))&&fi(e,t,r)}}function ui(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Mr=Cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==Ka&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===fn?fn=[t]:fn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function fi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var hi={readContext:dn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return zr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Qr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=zr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zr().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=zr();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ka)throw Error(o(349));0!==(30&_r)||Br(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Qr(Hr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Vr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=zr(),t=Ka.identifierPrefix;if(Wn){var n=Nn;t=":"+t+"R"+(n=(Dn&~(1<<32-wt(Dn)-1)).toString(32)+n),0<(n=Pr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Tr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Nr,useRef:Xr,useState:function(){return Nr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(Dr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Nr(Dr)[0],Lr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1},gi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Ur,useRef:Xr,useState:function(){return Ur(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Dr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Ur(Dr)[0],Lr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,wi,xi,_i,Si="function"===typeof WeakMap?WeakMap:Map;function Ei(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function ki(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ci(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Pi(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ti(e){e.flags|=4}function Ai(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)j(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=dr(lr.current);n=B(a,n,e,r,i,o),(t.updateQueue=n)&&Ti(t)}},_i=function(e,t,n,r){n!==r&&Ti(t)};else if(Y){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),j(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),j(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),Pe(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),Pe(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Ri(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};wi=function(e,t){var n=t.stateNode;if(!Ai(e,t)){e=n.containerInfo;var r=Me(e);Ri(r,t,!1,!1),n.pendingChildren=r,Ti(t),Te(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ai(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=dr(lr.current),u=null;o!==r&&(u=B(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Ce(a,u,n,o,r,t,e,s),F(a,n,r,i,l)&&Ti(t),t.stateNode=a,e?Ti(t):bi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=dr(cr.current),n=dr(lr.current),t.stateNode=H(r,e,n,t),Ti(t)):t.stateNode=e.stateNode}}else wi=function(){},xi=function(){},_i=function(){};function Ii(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zi(e,t,n){var r=t.pendingProps;switch(Bn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return pt(t.type)&&mt(),Oi(t),null;case 3:return r=t.stateNode,hr(),st(dt),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Ti(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(Po(qn),qn=null))),wi(e,t),Oi(t),null;case 5:mr(t),n=dr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Oi(t),null}if(e=dr(lr.current),Jn(t)){if(!Q)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ti(t)}else{var a=U(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,F(a,i,r,n,e)&&Ti(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=dr(cr.current),n=dr(lr.current),Jn(t)){if(!Q)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Vn))switch(a=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ti(t)}else t.stateNode=H(r,e,n,t)}return Oi(t),null;case 13:if(st(gr),r=t.memoizedState,Wn&&null!==Hn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Hn;e;)e=je(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(o(318));if(!Q)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Oi(t),null}return null!==qn&&(Po(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&gr.current)?0===$a&&($a=3):Do())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return hr(),wi(e,t),null===e&&J(t.stateNode.containerInfo),Oi(t),null;case 10:return ln(t.type._context),Oi(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return Oi(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=vr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>so&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Oi(t),null}else 2*Ut()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Oi(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Za)&&(Oi(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Li=s.ReactCurrentOwner,Di=!1;function Ni(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Ui(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Ir(e,t,n,r,a,i),n=Or(),null===e||Di?(Wn&&n&&Fn(t),t.flags|=1,Ni(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function ji(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||$o(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Di=!0)}return Hi(e,t,n,r,i)}function Bi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Ja,Za),Za|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Ja,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Ja,Za),Za|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Ja,Za),Za|=r;return Ni(e,t,i,n),t.child}function Vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,i){var a=pt(n)?ft:ct.current;return a=ht(t,a),cn(t,i),n=Ir(e,t,n,r,a,i),r=Or(),null===e||Di?(Wn&&r&&Fn(t),t.flags|=1,Ni(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Wi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Pn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=dn(u):u=ht(t,u=pt(n)?ft:ct.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Mn(t,o,r,u),hn=!1;var f=t.memoizedState;o.state=f,wn(t,r,o,i),l=t.memoizedState,s!==r||f!==l||dt.current||hn?("function"===typeof c&&(Sn(t,n,c,r),l=t.memoizedState),(s=hn||kn(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=ht(t,l=pt(n)?ft:ct.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Mn(t,o,r,l),hn=!1,f=t.memoizedState,o.state=f,wn(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||dt.current||hn?("function"===typeof h&&(Sn(t,n,h,r),p=t.memoizedState),(u=hn||kn(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,a,i)}function Gi(e,t,n,r,i,a){Vi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Li.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ni(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),fr(e,t.containerInfo)}function Xi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Ni(e,t,n,r),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Qi(e,t,n){var r,i=t.pendingProps,a=gr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(gr,1&a),null===e)return Qn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ne(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Ki,e):Zi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Ki,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ne(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Ka)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Ko.bind(null,e),Ue(r,t),t=null):(n=a.treeContext,Q&&(Hn=Ve(r),Vn=t,Wn=!0,qn=null,Gn=!1,null!==n&&(On[zn++]=Dn,On[zn++]=Nn,On[zn++]=Ln,Dn=n.id,Nn=n.overflow,Ln=t)),(t=Zi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ki,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Zi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ni(e,t,r.children,n),0!==(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Bn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return hr(),st(dt),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return hr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var oa=!1,sa=!1,la="function"===typeof WeakSet?WeakSet:Set,ua=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Go(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){Go(e,t,r)}}var fa=!1;function ha(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&da(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ga(e,t,n){if(Wt&&"function"===typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&da(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Go(t,n,o)}break;case 5:ca(t,n);break;case 4:K?Ea(e,t,n):Y&&Y&&(t=t.stateNode.containerInfo,n=Me(t),Ae(t,n))}}function va(e,t,n){for(var r=t;;)if(ga(e,r,n),null===r.child||K&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(K){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),Sa(e,n=wa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=wa(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ea(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)va(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Qe(r,a.stateNode):Ye(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ga(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ka(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&me(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void he(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Q&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Ca(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return ha(3,t,t.return),pa(3,t),void ha(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ca(t);case 3:Q&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Ae(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ca(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ma(e,t,n){ua=e,Pa(e,t,n)}function Pa(e,t,n){for(var r=0!==(1&e.mode);null!==ua;){var i=ua,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||sa;s=oa;var u=sa;if(oa=o,(sa=l)&&!u)for(ua=i;null!==ua;)l=(o=ua).child,22===o.tag&&null!==o.memoizedState?Ra(i):null!==l?(l.return=o,ua=l):Ra(i);for(;null!==a;)ua=a,Pa(a,t,n),a=a.sibling;ua=i,oa=s,sa=u}Ta(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ua=a):Ta(e)}}function Ta(e){for(;null!==ua;){var t=ua;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Q&&null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Ke(d)}}}break;default:throw Error(o(163))}sa||512&t.flags&&ma(t)}catch(f){Go(t,t.return,f)}}if(t===e){ua=null;break}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}function Aa(e){for(;null!==ua;){var t=ua;if(t===e){ua=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ua=n;break}ua=t.return}}function Ra(e){for(;null!==ua;){var t=ua;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(l){Go(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Go(t,i,l)}}var a=t.return;try{ma(t)}catch(l){Go(t,a,l)}break;case 5:var o=t.return;try{ma(t)}catch(l){Go(t,o,l)}}}catch(l){Go(t,t.return,l)}if(t===e){ua=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ua=s;break}ua=t.return}}var Ia=0,Oa=1,za=2,La=3,Da=4;if("function"===typeof Symbol&&Symbol.for){var Na=Symbol.for;Ia=Na("selector.component"),Oa=Na("selector.has_pseudo_class"),za=Na("selector.role"),La=Na("selector.test_id"),Da=Na("selector.text")}function Ua(e){var t=Z(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function ja(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case Oa:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&ja(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case za:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case La:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Fa(e){switch(e.$$typeof){case Ia:return"<"+(S(e.value)||"Unknown")+">";case Oa:return":has("+(Fa(e)||"")+")";case za:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case La:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ba(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&ja(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Va(e,t){if(!re)throw Error(o(363));e=Ba(e=Ua(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ha=Math.ceil,Wa=s.ReactCurrentDispatcher,Ga=s.ReactCurrentOwner,qa=s.ReactCurrentBatchConfig,Xa=0,Ka=null,Ya=null,Qa=0,Za=0,Ja=ot(0),$a=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function lo(){so=Ut()+500}var uo,co=!1,fo=null,ho=null,po=!1,mo=null,go=0,vo=0,yo=null,bo=-1,wo=0;function xo(){return 0!==(6&Xa)?Ut():-1!==bo?bo:bo=Ut()}function _o(e){return 0===(1&e.mode)?1:0!==(2&Xa)&&0!==Qa?Qa&-Qa:null!==Zt.transition?(0===wo&&(e=St,0===(4194240&(St<<=1))&&(St=64),wo=e),wo):0!==(e=It)?e:$()}function So(e,t,n){if(50<vo)throw vo=0,yo=null,Error(o(185));var r=Eo(e,t);return null===r?null:(At(r,t,n),0!==(2&Xa)&&r===Ka||(r===Ka&&(0===(2&Xa)&&(no|=t),4===$a&&To(r,Qa)),ko(r,n),1===t&&0===Xa&&0===(1&e.mode)&&(lo(),Xt&&Qt())),r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ko(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Mt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ct(e,e===Ka?Qa:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Xt=!0,Yt(e)}(Ao.bind(null,e)):Yt(Ao.bind(null,e)),te?ne((function(){0===Xa&&Qt()})):zt(jt,Qt),n=null;else{switch(Ot(r)){case 1:n=jt;break;case 4:n=Ft;break;case 16:default:n=Bt;break;case 536870912:n=Vt}n=Qo(n,Co.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Co(e,t){if(bo=-1,wo=0,0!==(6&Xa))throw Error(o(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=Ct(e,e===Ka?Qa:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=No(e,r);else{t=r;var i=Xa;Xa|=2;var a=Lo();for(Ka===e&&Qa===t||(lo(),Oo(e,t));;)try{jo();break}catch(l){zo(e,l)}on(),Wa.current=a,Xa=i,null!==Ya?t=0:(Ka=null,Qa=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=Pt(e))&&(r=i,t=Mo(e,i))),1===t)throw n=eo,Oo(e,0),To(e,r),ko(e,Ut()),n;if(6===t)To(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=No(e,r))&&(0!==(a=Pt(e))&&(r=a,t=Mo(e,a))),1===t))throw n=eo,Oo(e,0),To(e,r),ko(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Vo(e,ao);break;case 3:if(To(e,r),(130023424&r)===r&&10<(t=oo+500-Ut())){if(0!==Ct(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Vo.bind(null,e,ao),t);break}Vo(e,ao);break;case 4:if(To(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ha(r/1960))-r)){e.timeoutHandle=W(Vo.bind(null,e,ao),r);break}Vo(e,ao);break;default:throw Error(o(329))}}}return ko(e,Ut()),e.callbackNode===n?Co.bind(null,e):null}function Mo(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),2!==(e=No(e,t))&&(t=ao,ao=n,null!==t&&Po(t)),e}function Po(e){null===ao?ao=e:ao.push.apply(ao,e)}function To(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Ao(e){if(0!==(6&Xa))throw Error(o(327));Ho();var t=Ct(e,0);if(0===(1&t))return ko(e,Ut()),null;var n=No(e,t);if(0!==e.tag&&2===n){var r=Pt(e);0!==r&&(t=r,n=Mo(e,r))}if(1===n)throw n=eo,Oo(e,0),To(e,t),ko(e,Ut()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,ao),ko(e,Ut()),null}function Ro(e){null!==mo&&0===mo.tag&&0===(6&Xa)&&Ho();var t=Xa;Xa|=1;var n=qa.transition,r=It;try{if(qa.transition=null,It=1,e)return e()}finally{It=r,qa.transition=n,0===(6&(Xa=t))&&Qt()}}function Io(){Za=Ja.current,st(Ja)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,G(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Bn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mt();break;case 3:hr(),st(dt),st(ct),br();break;case 5:mr(r);break;case 4:hr();break;case 13:case 19:st(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Ka=e,Ya=e=es(e.current,null),Qa=Za=t,$a=0,eo=null,ro=no=to=0,ao=io=null,null!==fn){for(t=0;t<fn.length;t++)if(null!==(r=(n=fn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}fn=null}return e}function zo(e,t){for(;;){var n=Ya;try{if(on(),wr.current=hi,Cr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Cr=!1}if(_r=0,kr=Er=Sr=null,Mr=!1,Pr=0,Ga.current=null,null===n||null===n.return){$a=1,eo=t,Ya=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Qa,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Mi(s);if(null!==p){p.flags&=-257,Pi(p,s,l,0,t),1&p.mode&&Ci(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Ci(a,c,t),Do();break e}u=Error(o(426))}else if(Wn&&1&l.mode){var v=Mi(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Pi(v,s,l,0,t),er(u);break e}}a=u,4!==$a&&($a=2),null===io?io=[a]:io.push(a),u=vi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ei(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,ki(l,a,t));break e}}l=l.return}while(null!==l)}Bo(n)}catch(w){t=w,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function Lo(){var e=Wa.current;return Wa.current=hi,null===e?hi:e}function Do(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Ka||0===(268435455&to)&&0===(268435455&no)||To(Ka,Qa)}function No(e,t){var n=Xa;Xa|=2;var r=Lo();for(Ka===e&&Qa===t||Oo(e,t);;)try{Uo();break}catch(i){zo(e,i)}if(on(),Xa=n,Wa.current=r,null!==Ya)throw Error(o(261));return Ka=null,Qa=0,$a}function Uo(){for(;null!==Ya;)Fo(Ya)}function jo(){for(;null!==Ya&&!Dt();)Fo(Ya)}function Fo(e){var t=uo(e.alternate,e,Za);e.memoizedProps=e.pendingProps,null===t?Bo(e):Ya=t,Ga.current=null}function Bo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=zi(n,t,Za)))return void(Ya=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return $a=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===$a&&($a=5)}function Vo(e,t){var n=It,r=qa.transition;try{qa.transition=null,It=1,function(e,t,n){do{Ho()}while(null!==mo);if(0!==(6&Xa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ka&&(Ya=Ka=null,Qa=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Qo(Bt,(function(){return Ho(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=qa.transition,qa.transition=null;var s=It;It=1;var l=Xa;Xa|=4,Ga.current=null,function(e,t){for(D(e.containerInfo),ua=t;null!==ua;)if(t=(e=ua).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:K&&ke(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(l){Go(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}n=fa,fa=!1}(e,r),function(e,t){for(ua=t;null!==ua;){var n=(t=ua).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;K?Ea(a,i,t):va(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){Go(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,ua=n;else for(;null!==ua;){t=ua;try{var s=t.flags;if(32&s&&K&&we(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ut())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,K)e:if(r=n,i=d,a=null,K)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?xe(m):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?_e(g):Ee(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(d&&!h&&0!==(1&n.mode)){ua=n;for(var v=n.child;null!==v;){for(n=ua=v;null!==ua;){var y=(r=ua).child;switch(r.tag){case 0:case 11:case 14:case 15:ha(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){Go(r,w,x)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Aa(n);continue}}null!==y?(y.return=r,ua=y):Aa(n)}v=v.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,ka(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ka(t.alternate,t);break;case 4:ka(t.alternate,t)}}catch(x){Go(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}}(e,r),N(e.containerInfo),e.current=r,Ma(r,e,i),Nt(),Xa=l,It=s,qa.transition=a}else e.current=r;if(po&&(po=!1,mo=e,go=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(Wt&&"function"===typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ko(e,Ut()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&go)&&0!==e.tag&&Ho(),a=e.pendingLanes,0!==(1&a)?e===yo?vo++:(vo=0,yo=e):vo=0,Qt()}(e,t,n)}finally{qa.transition=r,It=n}return null}function Ho(){if(null!==mo){var e=Ot(go),t=qa.transition,n=It;try{if(qa.transition=null,It=16>e?16:e,null===mo)var r=!1;else{if(e=mo,mo=null,go=0,0!==(6&Xa))throw Error(o(331));var i=Xa;for(Xa|=4,ua=e.current;null!==ua;){var a=ua,s=a.child;if(0!==(16&ua.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ua=c;null!==ua;){var d=ua;switch(d.tag){case 0:case 11:case 15:ha(8,d,a)}var f=d.child;if(null!==f)f.return=d,ua=f;else for(;null!==ua;){var h=(d=ua).sibling,p=d.return;if(ya(d),d===c){ua=null;break}if(null!==h){h.return=p,ua=h;break}ua=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ua=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ua=s;else e:for(;null!==ua;){if(0!==(2048&(a=ua).flags))switch(a.tag){case 0:case 11:case 15:ha(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ua=y;break e}ua=a.return}}var b=e.current;for(ua=b;null!==ua;){var w=(s=ua).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,ua=w;else e:for(s=b;null!==ua;){if(0!==(2048&(l=ua).flags))try{switch(l.tag){case 0:case 11:case 15:pa(9,l)}}catch(_){Go(l,l.return,_)}if(l===s){ua=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ua=x;break e}ua=l.return}}if(Xa=i,Qt(),Wt&&"function"===typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(_){}r=!0}return r}finally{It=n,qa.transition=t}}return!1}function Wo(e,t,n){vn(e,t=Ei(0,t=vi(n,t),1)),t=xo(),null!==(e=Eo(e,1))&&(At(e,1,t),ko(e,t))}function Go(e,t,n){if(3===e.tag)Wo(e,e,n);else for(;null!==t;){if(3===t.tag){Wo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){vn(t,e=ki(t,e=vi(n,e),1)),e=xo(),null!==(t=Eo(t,1))&&(At(t,1,e),ko(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Ka===e&&(Qa&n)===n&&(4===$a||3===$a&&(130023424&Qa)===Qa&&500>Ut()-oo?Oo(e,0):ro|=n),ko(e,t)}function Xo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Et,0===(130023424&(Et<<=1))&&(Et=4194304)));var n=xo();null!==(e=Eo(e,t))&&(At(e,t,n),ko(e,n))}function Ko(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Xo(e,n)}function Qo(e,t){return zt(e,t)}function Zo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new Zo(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case d:s=8,i|=8;break;case f:return(e=Jo(12,n,t,2|i)).elementType=f,e.lanes=a,e;case g:return(e=Jo(13,n,t,i)).elementType=g,e.lanes=a,e;case v:return(e=Jo(19,n,t,i)).elementType=v,e.lanes=a,e;case w:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Jo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,Q&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ls(e){if(!e)return ut;e:{if(k(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=P(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function fs(e){return null===(e=P(e))?null:e.stateNode}function hs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Di=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:qi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:fr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qi(e,t,n):(lt(gr,1&gr.current),null!==(e=ia(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,Wn&&0!==(1048576&t.flags)&&jn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ht(t,ct.current);cn(t,n),i=Ir(null,t,r,e,i,n);var a=Or();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=En,t.stateNode=i,i._reactInternals=t,Pn(t,r,e,n),t=Gi(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&Fn(t),Ni(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Ui(null,t,r,e,n);break e;case 14:t=ji(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,mn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Q&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(o(424)));break e}for(Q&&(Hn=Be(t.stateNode.containerInfo),Vn=t,Wn=!0,qn=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Qn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,V(r,i)?s=null:null!==a&&V(r,a)&&(t.flags|=32),Vi(e,t),Ni(e,t,s,n),t.child;case 6:return null===e&&Qn(t),null;case 13:return Qi(e,t,n);case 4:return fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ui(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Gt(a.value,s)){if(a.children===i.children&&!dt.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=gn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ni(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=dn(i)),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),ji(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Cn(t,r,i),Pn(t,r,i,n),Gi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Bi(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,xo()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=_o(e);So(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kt(t.pendingLanes);0!==n&&(Rt(t,1|n),ko(t,Ut()),0===(6&Xa)&&(lo(),Qt()))}break;case 13:var r=xo();Ro((function(){return So(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(lo(),Xt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Oa,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ss(n,r,!0,e,0,a,0,s,l)).context=ls(null),n=e.current,(a=gn(r=xo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,vn(n,a),e.current.lanes=i,At(e,i,r),ko(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:za,value:e}},t.createTestNameSelector=function(e){return{$$typeof:La,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=It,n=qa.transition;try{return qa.transition=null,It=16,e()}finally{It=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=qa.transition;try{return qa.transition=null,It=1,e(t,n,r,i)}finally{It=a,qa.transition=o,0===Xa&&lo()}},t.findAllNodes=Va,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Va(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&a>=f&&i<=d&&s<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<a||f>s)){f>a&&(u.height+=f-a,u.y=a),h<s&&(u.height=s-f),e.splice(t,1);break}if(!(a!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=us,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?A(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return us(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=qa.transition,r=It;try{qa.transition=null,It=1,e()}finally{It=r,qa.transition=n,0===(Xa=t)&&(lo(),Qt())}},t.flushPassiveEffects=Ho,t.flushSync=Ro,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ba(e=Ua(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Ua(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(ja(a,l)&&(r.push(Fa(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:fs,findFiberByHostInstance:e.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Va(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=_o(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},7205:(e,t,n)=>{"use strict";e.exports=n(7302)},2016:(e,t,n)=>{"use strict";e.exports=n(6958)},2062:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(_);else{var t=r(c);null!==t&&z(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&z(x,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,M=5,P=-1;function T(){return!(t.unstable_now()-P<M)}function A(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){v(A,0)};function O(e){k=e,E||(E=!0,S())}function z(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,z(x,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8513:(e,t,n)=>{"use strict";e.exports=n(2062)},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},8226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(5043),a=(r=n(178))&&r.__esModule?r:{default:r},o=n(564);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,s=r,u=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>u))return s<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,o.setPosition)(-(u+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,o.setPosition)(100*-(u+2),e.axis):s>u&&(n.itemListStyle=(0,o.setPosition)(0,e.axis)),n;var c=(0,o.getPosition)(r,e),d=(0,a.default)(c,"%",e.axis),f=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:f,MozTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var a={},s="horizontal"===t.axis,l=i.Children.count(t.children),u=(0,o.getPosition)(n.selectedItem,t),c=t.infiniteLoop?(0,o.getPosition)(l-1,t)-100:(0,o.getPosition)(l-1,t),d=s?e.x:e.y,f=d;0===u&&d>0&&(f=0),u===c&&d<0&&(f=0);var h=u+100/(n.itemSize/f),p=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&h>-100?h-=100*l:n.selectedItem===l-1&&h<100*-l&&(h+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),a.itemListStyle=(0,o.setPosition)(h,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),a};t.slideStopSwipingHandler=function(e,t){var n=(0,o.getPosition)(t.selectedItem,e);return{itemListStyle:(0,o.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=l(l({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:l(l({},i),{},{opacity:1,position:"relative"}),prevStyle:l({},i)}}},3481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=d(n(7251)),a=d(n(8656)),o=d(n(4169)),s=d(n(5559)),l=d(n(9386)),u=n(564),c=n(8226);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(h,e);var t,n,d,f=b(h);function h(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),_(w(t=f.call(this,e)),"thumbsRef",void 0),_(w(t),"carouselWrapperRef",void 0),_(w(t),"listRef",void 0),_(w(t),"itemsRef",void 0),_(w(t),"timer",void 0),_(w(t),"animationHandler",void 0),_(w(t),"setThumbsRef",(function(e){t.thumbsRef=e})),_(w(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),_(w(t),"setListRef",(function(e){t.listRef=e})),_(w(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),_(w(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),_(w(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),_(w(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),_(w(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),_(w(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),_(w(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,s.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,s.default)().activeElement))})),_(w(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),_(w(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),_(w(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),_(w(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),_(w(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),_(w(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),_(w(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),_(w(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),_(w(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(w(t)));return t.setState(g({},r)),!!Object.keys(r).length})),_(w(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),_(w(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),_(w(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),_(w(t),"onClickNext",(function(){t.increment(1)})),_(w(t),"onClickPrev",(function(){t.decrement(1)})),_(w(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(w(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(w(t),"changeItem",(function(e){return function(n){(0,u.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),_(w(t),"selectItem",(function(e){t.setState(g({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),_(w(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),_(w(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var a=(r[0]||n.children[0]).clientHeight;return a>0?a:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&c.fadeAnimationHandler||c.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var o=i===t.state.selectedItem,s=i===t.state.previousItem,l=o&&t.state.selectedStyle||s&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var u={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:a.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:l};return r.default.createElement("li",u,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,a=t.renderIndicator,o=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(o,(function(t,n){return a&&a(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(o.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,o=this.props.showArrows&&r.Children.count(this.props.children)>1,s=o&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=o&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),c=u.shift(),d=u.pop(),f={className:a.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},h={};if(n){if(f.onSwipeLeft=this.onSwipeForward,f.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);h.height=m||"auto"}}else f.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,f.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,f.style=g(g({},f.style),{},{height:this.state.itemSize}),h.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:a.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:a.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,s,this.props.labels.leftArrow),r.default.createElement("div",{className:a.default.WRAPPER(!0,this.props.axis),style:h},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},f,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&c):r.default.createElement("ul",{className:a.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&c)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&v(t.prototype,n),d&&v(t,d),h}(r.default.Component);t.default=S,_(S,"displayName","Carousel"),_(S,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:a.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:c.slideSwipeAnimationHandler,stopSwipingHandler:c.slideStopSwipingHandler})},3096:()=>{},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(5043),a=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,a=n-1;return e&&(e!==a||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===a&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,a.default)(e,"%",t)})),n}},4169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=u(n(8656)),a=n(1256),o=u(n(178)),s=u(n(7251)),l=u(n(9386));function u(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,u,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(t=c.call(this,e)),"itemsWrapperRef",void 0),y(g(t),"itemsListRef",void 0),y(g(t),"thumbsRef",void 0),y(g(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),y(g(t),"setItemsListRef",(function(e){t.itemsListRef=e})),y(g(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),y(g(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,a.outerWidth)(t.thumbsRef[0]),o=Math.floor(n/i),s=o<e,l=s?e-o:0;t.setState((function(e,n){return{itemSize:i,visibleItems:o,firstItem:s?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:s}}))}})),y(g(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),y(g(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),y(g(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),y(g(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),a=-100*t.state.firstItem/t.state.visibleItems;0===a&&n>0&&(n=0),a===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var s=a+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,o.default)(s,"%",t.props.axis)})),!0})),y(g(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),y(g(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),y(g(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var a=i.default.ITEM(!1,n===e.state.selectedItem),o={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:a,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",f({},o,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,u=-this.state.firstItem*(this.state.itemSize||0),c=(0,o.default)(u,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!a),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(s.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&h(t.prototype,n),u&&h(t,u),d}(r.Component);t.default=b,y(b,"displayName","Thumbs"),y(b,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},8656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(8139))&&r.__esModule?r:{default:r};var a={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=a},1256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},1577:(e,t,n)=>{"use strict";var r=o(n(3481)),i=n(3096),a=o(n(4169));function o(e){return e&&e.__esModule?e:{default:e}}},5559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},9386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+P(l,0):a,x(o)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+P(s=e[u],u);l+=T(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,c=a+P(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},z={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(_);else{var t=r(c);null!==t&&z(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&z(x,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,C=-1,M=5,P=-1;function T(){return!(t.unstable_now()-P<M)}function A(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){v(A,0)};function O(e){k=e,E||(E=!0,S())}function z(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,z(x,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},2906:(e,t,n)=>{"use strict";n.d(t,{DY:()=>o,IU:()=>l,uv:()=>s});const r=[];function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const l of r)if(i(t,l.keys,l.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(l,"error"))throw l.error;if(Object.prototype.hasOwnProperty.call(l,"response"))return a.lifespan&&a.lifespan>0&&(l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout(l.remove,a.lifespan)),l.response;if(!n)throw l.promise}const o={keys:t,equal:a.equal,remove:()=>{const e=r.indexOf(o);-1!==e&&r.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e(...t)).then((e=>{o.response=e,a.lifespan&&a.lifespan>0&&(o.timeout=setTimeout(o.remove,a.lifespan))})).catch((e=>o.error=e))};var s;if(r.push(o),!n)throw o.promise}const o=(e,t,n)=>a(e,t,!1,n),s=(e,t,n)=>{a(e,t,!0,n)},l=e=>{if(void 0===e||0===e.length)r.splice(0,r.length);else{const t=r.find((t=>i(e,t.keys,t.equal)));t&&t.remove()}}},4871:(e,t,n)=>{"use strict";e=n.nmd(e);var r,i=Object.create,a=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&p(e,n,t[n]);if(c)for(var n of c(t))h.call(t,n)&&p(e,n,t[n]);return e},g=(e,t)=>o(e,l(t)),v=(e,t)=>function(){return t||(0,e[u(e)[0]])((t={exports:{}}).exports,t),t.exports},y=(e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})},b=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of u(t))f.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},w=(e,t,n)=>(n=null!=e?i(d(e)):{},b(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),x=(e,t,n)=>(p(e,"symbol"!==typeof t?t+"":t,n),n),_=v({"../node_modules/timing-function/lib/UnitBezier.js"(e,t){t.exports=function(){function e(e,t,n,r){this.set(e,t,n,r)}return e.prototype.set=function(e,t,n,r){this._cx=3*e,this._bx=3*(n-e)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*t,this._by=3*(r-t)-this._cy,this._ay=1-this._cy-this._by},e.epsilon=1e-6,e.prototype._sampleCurveX=function(e){return((this._ax*e+this._bx)*e+this._cx)*e},e.prototype._sampleCurveY=function(e){return((this._ay*e+this._by)*e+this._cy)*e},e.prototype._sampleCurveDerivativeX=function(e){return(3*this._ax*e+2*this._bx)*e+this._cx},e.prototype._solveCurveX=function(e,t){var n,r,i,a,o,s;for(i=void 0,a=void 0,o=void 0,s=void 0,n=void 0,r=void 0,o=e,r=0;r<8;){if(s=this._sampleCurveX(o)-e,Math.abs(s)<t)return o;if(n=this._sampleCurveDerivativeX(o),Math.abs(n)<t)break;o-=s/n,r++}if((o=e)<(i=0))return i;if(o>(a=1))return a;for(;i<a;){if(s=this._sampleCurveX(o),Math.abs(s-e)<t)return o;e>s?i=o:a=o,o=.5*(a-i)+i}return o},e.prototype.solve=function(e,t){return this._sampleCurveY(this._solveCurveX(e,t))},e.prototype.solveSimple=function(e){return this._sampleCurveY(this._solveCurveX(e,1e-6))},e}()}}),S=v({"../node_modules/levenshtein-edit-distance/index.js"(e,t){var n,r;n=[],r=[],t.exports=function(e,t,i){var a,o,s,l,u,c,d,f;if(e===t)return 0;if(a=e.length,o=t.length,0===a)return o;if(0===o)return a;for(i&&(e=e.toLowerCase(),t=t.toLowerCase()),d=0;d<a;)r[d]=e.charCodeAt(d),n[d]=++d;for(f=0;f<o;)for(s=t.charCodeAt(f),l=u=f++,d=-1;++d<a;)c=s===r[d]?u:u+1,u=n[d],n[d]=l=u>l?c>l?l+1:c:c>u?u+1:c;return l}}}),E=v({"../node_modules/propose/propose.js"(e,t){var n=S();t.exports=function(){var e,t,r,i,a,o=0,s=arguments[0],l=arguments[1],u=l.length,c=arguments[2];c&&(i=c.threshold,a=c.ignoreCase),void 0===i&&(i=0);for(var d=0;d<u;++d)(e=(t=a?n(s,l[d],!0):n(s,l[d]))>s.length?1-t/l[d].length:1-t/s.length)>o&&(o=e,r=l[d]);return o>=i?r:null}}}),k=v({"../node_modules/fast-deep-equal/index.js"(e,t){t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}}}),C={};y(C,{createRafDriver:()=>bo,getProject:()=>vl,notify:()=>po,onChange:()=>bl,types:()=>Ao,val:()=>wl}),e.exports=(r=C,b(a({},"__esModule",{value:!0}),r));var M={};y(M,{createRafDriver:()=>bo,getProject:()=>vl,notify:()=>po,onChange:()=>bl,types:()=>Ao,val:()=>wl});var P=n(5194),T=new class{constructor(){x(this,"atom",new P.Atom({projects:{}}))}add(e,t){this.atom.setByPointer((t=>t.projects[e]),t)}get(e){return this.atom.get().projects[e]}has(e){return!!this.get(e)}},A=new WeakMap;function R(e){return A.get(e)}function I(e,t){A.set(e,t)}var O=[],z=Array.isArray,L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,D="object"==typeof self&&self&&self.Object===Object&&self,N=L||D||Function("return this")(),U=N.Symbol,j=Object.prototype,F=j.hasOwnProperty,B=j.toString,V=U?U.toStringTag:void 0;var H=function(e){var t=F.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(a){}var i=B.call(e);return r&&(t?e[V]=n:delete e[V]),i},W=Object.prototype.toString;var G=function(e){return W.call(e)},q=U?U.toStringTag:void 0;var X=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?H(e):G(e)};var K=function(e){return null!=e&&"object"==typeof e};var Y=function(e){return"symbol"==typeof e||K(e)&&"[object Symbol]"==X(e)},Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/;var J=function(e,t){if(z(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Y(e))||(Z.test(e)||!Q.test(e)||null!=t&&e in Object(t))};var $=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ee=function(e){if(!$(e))return!1;var t=X(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},te=N["__core-js_shared__"],ne=function(){var e=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var re=function(e){return!!ne&&ne in e},ie=Function.prototype.toString;var ae=function(e){if(null!=e){try{return ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""},oe=/^\[object .+?Constructor\]$/,se=Function.prototype,le=Object.prototype,ue=se.toString,ce=le.hasOwnProperty,de=RegExp("^"+ue.call(ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fe=function(e){return!(!$(e)||re(e))&&(ee(e)?de:oe).test(ae(e))};var he=function(e,t){return null==e?void 0:e[t]};var pe=function(e,t){var n=he(e,t);return fe(n)?n:void 0},me=pe(Object,"create");var ge=function(){this.__data__=me?me(null):{},this.size=0};var ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye=Object.prototype.hasOwnProperty;var be=function(e){var t=this.__data__;if(me){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(t,e)?t[e]:void 0},we=Object.prototype.hasOwnProperty;var xe=function(e){var t=this.__data__;return me?void 0!==t[e]:we.call(t,e)};var _e=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=ge,Se.prototype.delete=ve,Se.prototype.get=be,Se.prototype.has=xe,Se.prototype.set=_e;var Ee=Se;var ke=function(){this.__data__=[],this.size=0};var Ce=function(e,t){return e===t||e!==e&&t!==t};var Me=function(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1},Pe=Array.prototype.splice;var Te=function(e){var t=this.__data__,n=Me(t,e);return!(n<0)&&(n==t.length-1?t.pop():Pe.call(t,n,1),--this.size,!0)};var Ae=function(e){var t=this.__data__,n=Me(t,e);return n<0?void 0:t[n][1]};var Re=function(e){return Me(this.__data__,e)>-1};var Ie=function(e,t){var n=this.__data__,r=Me(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oe.prototype.clear=ke,Oe.prototype.delete=Te,Oe.prototype.get=Ae,Oe.prototype.has=Re,Oe.prototype.set=Ie;var ze=Oe,Le=pe(N,"Map");var De=function(){this.size=0,this.__data__={hash:new Ee,map:new(Le||ze),string:new Ee}};var Ne=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ue=function(e,t){var n=e.__data__;return Ne(t)?n["string"==typeof t?"string":"hash"]:n.map};var je=function(e){var t=Ue(this,e).delete(e);return this.size-=t?1:0,t};var Fe=function(e){return Ue(this,e).get(e)};var Be=function(e){return Ue(this,e).has(e)};var Ve=function(e,t){var n=Ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function He(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}He.prototype.clear=De,He.prototype.delete=je,He.prototype.get=Fe,He.prototype.has=Be,He.prototype.set=Ve;var We=He;function Ge(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ge.Cache||We),n}Ge.Cache=We;var qe=Ge;var Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g,Ye=function(e){var t=qe(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xe,(function(e,n,r,i){t.push(r?i.replace(Ke,"$1"):n||e)})),t}));var Qe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ze=U?U.prototype:void 0,Je=Ze?Ze.toString:void 0;var $e=function e(t){if("string"==typeof t)return t;if(z(t))return Qe(t,e)+"";if(Y(t))return Je?Je.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var et=function(e){return null==e?"":$e(e)};var tt=function(e,t){return z(e)?e:J(e,t)?[e]:Ye(et(e))};var nt=function(e){if("string"==typeof e||Y(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var rt=function(e,t){for(var n=0,r=(t=tt(t,e)).length;null!=e&&n<r;)e=e[nt(t[n++])];return n&&n==r?e:void 0};var it=function(e,t,n){var r=null==e?void 0:rt(e,t);return void 0===r?n:r};function at(e,t){return 0===t.length?e:it(e,t)}var ot=class{constructor(){x(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{const n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}},st=n(5194),lt=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var ut=function(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ct=Object.prototype.hasOwnProperty;var dt=function(e,t,n){var r=e[t];ct.call(e,t)&&Ce(r,n)&&(void 0!==n||t in e)||ut(e,t,n)},ft=/^(?:0|[1-9]\d*)$/;var ht=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ft.test(e))&&e>-1&&e%1==0&&e<t};var pt=function(e,t,n,r){if(!$(e))return e;for(var i=-1,a=(t=tt(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=nt(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=$(c)?c:ht(t[i+1])?[]:{})}dt(s,l,u),s=s[l]}return e};var mt=function(e,t,n){return null==e?e:pt(e,t,n)},gt=new WeakMap;function vt(e){if(gt.has(e))return gt.get(e);const t="compound"===e.type?function(e){const t={};for(const[n,r]of Object.entries(e.props))t[n]=vt(r);return t}(e):"enum"===e.type?function(e){const t={$case:e.defaultCase};for(const[n,r]of Object.entries(e.cases))t[n]=vt(r);return t}(e):e.default;return gt.set(e,t),t}var yt=n(5194),bt=w(_());function wt(e,t,n){return(0,yt.prism)((()=>{const r=(0,yt.val)(t),i=yt.prism.memo("driver",(()=>r?"BasicKeyframedTrack"===r.type?function(e,t,n){return(0,yt.prism)((()=>{let e=yt.prism.ref("state",{started:!1}),r=e.current;const i=n.getValue();return(!r.started||i<r.validFrom||r.validTo<=i)&&(e.current=r=function(e,t,n){const r=t.getValue();if(0===n.keyframes.length)return{started:!0,validFrom:-1/0,validTo:1/0,der:xt};let i=0;for(;;){const e=n.keyframes[i];if(!e)return _t.error;const a=i===n.keyframes.length-1;if(r<e.position)return 0===i?_t.beforeFirstKeyframe(e):_t.error;if(e.position===r)return a?_t.lastKeyframe(e):_t.between(e,n.keyframes[i+1],t);if(i===n.keyframes.length-1)return _t.lastKeyframe(e);{const a=i+1;if(n.keyframes[a].position<=r){i=a;continue}return _t.between(e,n.keyframes[i+1],t)}}}(0,n,t)),r.der.getValue()}))}(0,r,n):(e.logger.error("Track type not yet supported."),(0,yt.prism)((()=>{}))):(0,yt.prism)((()=>{}))),[r]);return i.getValue()}))}var xt=(0,yt.prism)((()=>{}));var _t={beforeFirstKeyframe:e=>({started:!0,validFrom:-1/0,validTo:e.position,der:(0,yt.prism)((()=>({left:e.value,progression:0})))}),lastKeyframe:e=>({started:!0,validFrom:e.position,validTo:1/0,der:(0,yt.prism)((()=>({left:e.value,progression:0})))}),between(e,t,n){if(!e.connectedRight)return{started:!0,validFrom:e.position,validTo:t.position,der:(0,yt.prism)((()=>({left:e.value,progression:0})))};const r=n=>(n-e.position)/(t.position-e.position);if(!e.type||"bezier"===e.type){const i=new bt.default(e.handles[2],e.handles[3],t.handles[0],t.handles[1]),a=(0,yt.prism)((()=>{const a=r(n.getValue()),o=i.solveSimple(a);return{left:e.value,right:t.value,progression:o}}));return{started:!0,validFrom:e.position,validTo:t.position,der:a}}const i=(0,yt.prism)((()=>{const i=r(n.getValue()),a=Math.floor(i);return{left:e.value,right:t.value,progression:a}}));return{started:!0,validFrom:e.position,validTo:t.position,der:i}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:xt}};function St(e,t,n){const r=n.get(e);if(r&&r.override===t)return r.merged;const i=m({},e);for(const a of Object.keys(t)){const r=t[a],o=e[a];i[a]="object"===typeof r&&"object"===typeof o?St(o,r,n):void 0===r?o:r}return n.set(e,{override:t,merged:i}),i}function Et(e,t){let n=e;for(const r of t)n=n[r];return n}var kt=n(5194),Ct=n(5194),Mt=n(5194),Pt=/\s/;var Tt=function(e){for(var t=e.length;t--&&Pt.test(e.charAt(t)););return t},At=/^\s+/;var Rt=function(e){return e?e.slice(0,Tt(e)+1).replace(At,""):e},It=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,zt=/^0o[0-7]+$/i,Lt=parseInt;var Dt=function(e){if("number"==typeof e)return e;if(Y(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var n=Ot.test(e);return n||zt.test(e)?Lt(e.slice(2),n?2:8):It.test(e)?NaN:+e},Nt=1/0;var Ut=function(e){return e?(e=Dt(e))===Nt||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var jt=function(e){var t=Ut(e),n=t%1;return t===t?n?t-n:t:0};var Ft=function(e){return e},Bt=pe(N,"WeakMap"),Vt=Object.create,Ht=function(){function e(){}return function(t){if(!$(t))return{};if(Vt)return Vt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Wt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Gt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var qt=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?ut(n,s,l):dt(n,s,l)}return n};var Xt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Kt=function(e){return null!=e&&Xt(e.length)&&!ee(e)},Yt=Object.prototype;var Qt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Yt)};var Zt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Jt=function(e){return K(e)&&"[object Arguments]"==X(e)},$t=Object.prototype,en=$t.hasOwnProperty,tn=$t.propertyIsEnumerable,nn=Jt(function(){return arguments}())?Jt:function(e){return K(e)&&en.call(e,"callee")&&!tn.call(e,"callee")};var rn=function(){return!1},an=t&&!t.nodeType&&t,on=an&&e&&!e.nodeType&&e,sn=on&&on.exports===an?N.Buffer:void 0,ln=(sn?sn.isBuffer:void 0)||rn,un={};un["[object Float32Array]"]=un["[object Float64Array]"]=un["[object Int8Array]"]=un["[object Int16Array]"]=un["[object Int32Array]"]=un["[object Uint8Array]"]=un["[object Uint8ClampedArray]"]=un["[object Uint16Array]"]=un["[object Uint32Array]"]=!0,un["[object Arguments]"]=un["[object Array]"]=un["[object ArrayBuffer]"]=un["[object Boolean]"]=un["[object DataView]"]=un["[object Date]"]=un["[object Error]"]=un["[object Function]"]=un["[object Map]"]=un["[object Number]"]=un["[object Object]"]=un["[object RegExp]"]=un["[object Set]"]=un["[object String]"]=un["[object WeakMap]"]=!1;var cn=function(e){return K(e)&&Xt(e.length)&&!!un[X(e)]};var dn=function(e){return function(t){return e(t)}},fn=t&&!t.nodeType&&t,hn=fn&&e&&!e.nodeType&&e,pn=hn&&hn.exports===fn&&L.process,mn=function(){try{var e=hn&&hn.require&&hn.require("util").types;return e||pn&&pn.binding&&pn.binding("util")}catch(t){}}(),gn=mn&&mn.isTypedArray,vn=gn?dn(gn):cn,yn=Object.prototype.hasOwnProperty;var bn=function(e,t){var n=z(e),r=!n&&nn(e),i=!n&&!r&&ln(e),a=!n&&!r&&!i&&vn(e),o=n||r||i||a,s=o?Zt(e.length,String):[],l=s.length;for(var u in e)!t&&!yn.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ht(u,l))||s.push(u);return s};var wn=function(e,t){return function(n){return e(t(n))}},xn=wn(Object.keys,Object),_n=Object.prototype.hasOwnProperty;var Sn=function(e){if(!Qt(e))return xn(e);var t=[];for(var n in Object(e))_n.call(e,n)&&"constructor"!=n&&t.push(n);return t};var En=function(e){return Kt(e)?bn(e):Sn(e)};var kn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Cn=Object.prototype.hasOwnProperty;var Mn=function(e){if(!$(e))return kn(e);var t=Qt(e),n=[];for(var r in e)("constructor"!=r||!t&&Cn.call(e,r))&&n.push(r);return n};var Pn=function(e){return Kt(e)?bn(e,!0):Mn(e)};var Tn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},An=wn(Object.getPrototypeOf,Object),Rn=Function.prototype,In=Object.prototype,On=Rn.toString,zn=In.hasOwnProperty,Ln=On.call(Object);var Dn=function(e){if(!K(e)||"[object Object]"!=X(e))return!1;var t=An(e);if(null===t)return!0;var n=zn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&On.call(n)==Ln};var Nn=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Un=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Nn(e,t,n)},jn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Fn=function(e){return jn.test(e)};var Bn=function(e){return e.split("")},Vn="\\ud800-\\udfff",Hn="["+Vn+"]",Wn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gn="\\ud83c[\\udffb-\\udfff]",qn="[^"+Vn+"]",Xn="(?:\\ud83c[\\udde6-\\uddff]){2}",Kn="[\\ud800-\\udbff][\\udc00-\\udfff]",Yn="(?:"+Wn+"|"+Gn+")"+"?",Qn="[\\ufe0e\\ufe0f]?",Zn=Qn+Yn+("(?:\\u200d(?:"+[qn,Xn,Kn].join("|")+")"+Qn+Yn+")*"),Jn="(?:"+[qn+Wn+"?",Wn,Xn,Kn,Hn].join("|")+")",$n=RegExp(Gn+"(?="+Gn+")|"+Jn+Zn,"g");var er=function(e){return e.match($n)||[]};var tr=function(e){return Fn(e)?er(e):Bn(e)};var nr=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};var rr=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Dt(n))===n?n:0),void 0!==t&&(t=(t=Dt(t))===t?t:0),nr(Dt(e),t,n)};var ir=function(){this.__data__=new ze,this.size=0};var ar=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var or=function(e){return this.__data__.get(e)};var sr=function(e){return this.__data__.has(e)};var lr=function(e,t){var n=this.__data__;if(n instanceof ze){var r=n.__data__;if(!Le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new We(r)}return n.set(e,t),this.size=n.size,this};function ur(e){var t=this.__data__=new ze(e);this.size=t.size}ur.prototype.clear=ir,ur.prototype.delete=ar,ur.prototype.get=or,ur.prototype.has=sr,ur.prototype.set=lr;var cr=ur;var dr=function(e,t){return e&&qt(t,En(t),e)};var fr=function(e,t){return e&&qt(t,Pn(t),e)},hr=t&&!t.nodeType&&t,pr=hr&&e&&!e.nodeType&&e,mr=pr&&pr.exports===hr?N.Buffer:void 0,gr=mr?mr.allocUnsafe:void 0;var vr=function(e,t){if(t)return e.slice();var n=e.length,r=gr?gr(n):new e.constructor(n);return e.copy(r),r};var yr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var br=function(){return[]},wr=Object.prototype.propertyIsEnumerable,xr=Object.getOwnPropertySymbols,_r=xr?function(e){return null==e?[]:(e=Object(e),yr(xr(e),(function(t){return wr.call(e,t)})))}:br;var Sr=function(e,t){return qt(e,_r(e),t)},Er=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Tn(t,_r(e)),e=An(e);return t}:br;var kr=function(e,t){return qt(e,Er(e),t)};var Cr=function(e,t,n){var r=t(e);return z(e)?r:Tn(r,n(e))};var Mr=function(e){return Cr(e,En,_r)};var Pr=function(e){return Cr(e,Pn,Er)},Tr=pe(N,"DataView"),Ar=pe(N,"Promise"),Rr=pe(N,"Set"),Ir="[object Map]",Or="[object Promise]",zr="[object Set]",Lr="[object WeakMap]",Dr="[object DataView]",Nr=ae(Tr),Ur=ae(Le),jr=ae(Ar),Fr=ae(Rr),Br=ae(Bt),Vr=X;(Tr&&Vr(new Tr(new ArrayBuffer(1)))!=Dr||Le&&Vr(new Le)!=Ir||Ar&&Vr(Ar.resolve())!=Or||Rr&&Vr(new Rr)!=zr||Bt&&Vr(new Bt)!=Lr)&&(Vr=function(e){var t=X(e),n="[object Object]"==t?e.constructor:void 0,r=n?ae(n):"";if(r)switch(r){case Nr:return Dr;case Ur:return Ir;case jr:return Or;case Fr:return zr;case Br:return Lr}return t});var Hr=Vr,Wr=Object.prototype.hasOwnProperty;var Gr=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Wr.call(e,"index")&&(n.index=e.index,n.input=e.input),n},qr=N.Uint8Array;var Xr=function(e){var t=new e.constructor(e.byteLength);return new qr(t).set(new qr(e)),t};var Kr=function(e,t){var n=t?Xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Yr=/\w*$/;var Qr=function(e){var t=new e.constructor(e.source,Yr.exec(e));return t.lastIndex=e.lastIndex,t},Zr=U?U.prototype:void 0,Jr=Zr?Zr.valueOf:void 0;var $r=function(e){return Jr?Object(Jr.call(e)):{}};var ei=function(e,t){var n=t?Xr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var ti=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Xr(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Kr(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ei(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Qr(e);case"[object Symbol]":return $r(e)}};var ni=function(e){return"function"!=typeof e.constructor||Qt(e)?{}:Ht(An(e))};var ri=function(e){return K(e)&&"[object Map]"==Hr(e)},ii=mn&&mn.isMap,ai=ii?dn(ii):ri;var oi=function(e){return K(e)&&"[object Set]"==Hr(e)},si=mn&&mn.isSet,li=si?dn(si):oi,ui="[object Arguments]",ci="[object Function]",di="[object Object]",fi={};fi[ui]=fi["[object Array]"]=fi["[object ArrayBuffer]"]=fi["[object DataView]"]=fi["[object Boolean]"]=fi["[object Date]"]=fi["[object Float32Array]"]=fi["[object Float64Array]"]=fi["[object Int8Array]"]=fi["[object Int16Array]"]=fi["[object Int32Array]"]=fi["[object Map]"]=fi["[object Number]"]=fi[di]=fi["[object RegExp]"]=fi["[object Set]"]=fi["[object String]"]=fi["[object Symbol]"]=fi["[object Uint8Array]"]=fi["[object Uint8ClampedArray]"]=fi["[object Uint16Array]"]=fi["[object Uint32Array]"]=!0,fi["[object Error]"]=fi[ci]=fi["[object WeakMap]"]=!1;var hi=function e(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!$(t))return t;var d=z(t);if(d){if(s=Gr(t),!l)return Wt(t,s)}else{var f=Hr(t),h=f==ci||"[object GeneratorFunction]"==f;if(ln(t))return vr(t,l);if(f==di||f==ui||h&&!a){if(s=u||h?{}:ni(t),!l)return u?kr(t,fr(s,t)):Sr(t,dr(s,t))}else{if(!fi[f])return a?t:{};s=ti(t,f,l)}}o||(o=new cr);var p=o.get(t);if(p)return p;o.set(t,s),li(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):ai(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=d?void 0:(c?u?Pr:Mr:u?Pn:En)(t);return Gt(m||t,(function(i,a){m&&(i=t[a=i]),dt(s,a,e(i,n,r,a,t,o))})),s};var pi=function(e){return hi(e,5)};var mi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var gi=function(e){return this.__data__.has(e)};function vi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new We;++t<n;)this.add(e[t])}vi.prototype.add=vi.prototype.push=mi,vi.prototype.has=gi;var yi=vi;var bi=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var wi=function(e,t){return e.has(t)};var xi=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new yi:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!bi(t,(function(e,t){if(!wi(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f};var _i=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Si=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ei=U?U.prototype:void 0,ki=Ei?Ei.valueOf:void 0;var Ci=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new qr(e),new qr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ce(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=_i;case"[object Set]":var l=1&r;if(s||(s=Si),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=xi(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(ki)return ki.call(e)==ki.call(t)}return!1},Mi=Object.prototype.hasOwnProperty;var Pi=function(e,t,n,r,i,a){var o=1&n,s=Mr(e),l=s.length;if(l!=Mr(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:Mi.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var v=o?r(g,m,c,t,e,a):r(m,g,c,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Ti="[object Arguments]",Ai="[object Array]",Ri="[object Object]",Ii=Object.prototype.hasOwnProperty;var Oi=function(e,t,n,r,i,a){var o=z(e),s=z(t),l=o?Ai:Hr(e),u=s?Ai:Hr(t),c=(l=l==Ti?Ri:l)==Ri,d=(u=u==Ti?Ri:u)==Ri,f=l==u;if(f&&ln(e)){if(!ln(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new cr),o||vn(e)?xi(e,t,n,r,i,a):Ci(e,t,l,n,r,i,a);if(!(1&n)){var h=c&&Ii.call(e,"__wrapped__"),p=d&&Ii.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return a||(a=new cr),i(m,g,n,r,a)}}return!!f&&(a||(a=new cr),Pi(e,t,n,r,i,a))};var zi=function e(t,n,r,i,a){return t===n||(null==t||null==n||!K(t)&&!K(n)?t!==t&&n!==n:Oi(t,n,r,i,e,a))};var Li=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new cr;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?zi(c,u,3,r,d):f))return!1}}return!0};var Di=function(e){return e===e&&!$(e)};var Ni=function(e){for(var t=En(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Di(i)]}return t};var Ui=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var ji=function(e){var t=Ni(e);return 1==t.length&&t[0][2]?Ui(t[0][0],t[0][1]):function(n){return n===e||Li(n,e,t)}};var Fi=function(e,t){return null!=e&&t in Object(e)};var Bi=function(e,t,n){for(var r=-1,i=(t=tt(t,e)).length,a=!1;++r<i;){var o=nt(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Xt(i)&&ht(o,i)&&(z(e)||nn(e))};var Vi=function(e,t){return null!=e&&Bi(e,t,Fi)};var Hi=function(e,t){return J(e)&&Di(t)?Ui(nt(e),t):function(n){var r=it(n,e);return void 0===r&&r===t?Vi(n,e):zi(t,r,3)}};var Wi=function(e){return function(t){return null==t?void 0:t[e]}};var Gi=function(e){return function(t){return rt(t,e)}};var qi=function(e){return J(e)?Wi(nt(e)):Gi(e)};var Xi=function(e){return"function"==typeof e?e:null==e?Ft:"object"==typeof e?z(e)?Hi(e[0],e[1]):ji(e):qi(e)};var Ki=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}();var Yi=function(e,t){return e&&Ki(e,t,En)},Qi=function(){return N.Date.now()},Zi=Math.max,Ji=Math.min;var $i=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function m(){var e=Qi();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?Ji(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?h(e):(r=i=void 0,o)}function v(){var e=Qi(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Dt(t)||0,$(n)&&(c=!!n.leading,a=(d="maxWait"in n)?Zi(Dt(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(Qi())},v};var ea=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var ta=function(e,t){return t.length<2?e:rt(e,Nn(t,0,-1))};var na=function(e){return"number"==typeof e&&e==jt(e)};var ra=function(e,t){var n={};return t=Xi(t,3),Yi(e,(function(e,r,i){ut(n,r,t(e,r,i))})),n};var ia=function(e,t){return t=tt(t,e),null==(e=ta(e,t))||delete e[nt(ea(t))]},aa=Math.floor;var oa=function(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=aa(t/2))&&(e+=e)}while(t);return n},sa=Wi("length"),la="\\ud800-\\udfff",ua="["+la+"]",ca="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",da="\\ud83c[\\udffb-\\udfff]",fa="[^"+la+"]",ha="(?:\\ud83c[\\udde6-\\uddff]){2}",pa="[\\ud800-\\udbff][\\udc00-\\udfff]",ma="(?:"+ca+"|"+da+")"+"?",ga="[\\ufe0e\\ufe0f]?",va=ga+ma+("(?:\\u200d(?:"+[fa,ha,pa].join("|")+")"+ga+ma+")*"),ya="(?:"+[fa+ca+"?",ca,ha,pa,ua].join("|")+")",ba=RegExp(da+"(?="+da+")|"+ya+va,"g");var wa=function(e){for(var t=ba.lastIndex=0;ba.test(e);)++t;return t};var xa=function(e){return Fn(e)?wa(e):sa(e)},_a=Math.ceil;var Sa=function(e,t){var n=(t=void 0===t?" ":$e(t)).length;if(n<2)return n?oa(t,e):t;var r=oa(t,_a(e/xa(t)));return Fn(t)?Un(tr(r),0,e).join(""):r.slice(0,e)};var Ea=function(e,t,n){e=et(e);var r=(t=jt(t))?xa(e):0;return t&&r<t?Sa(t-r,n)+e:e};var ka=function(e,t){return null==e||ia(e,t)},Ca=class{constructor(e){x(this,"_cache",new ot),x(this,"_keepHotUntapDebounce"),I(this,e)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return R(this).propsP}get sheet(){return R(this).sheet.publicApi}get project(){return R(this).sheet.project.publicApi}get address(){return m({},R(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",(()=>{const e=R(this);return(0,Mt.prism)((()=>(0,Mt.val)(e.getValues().getValue())))}))}onValuesChange(e,t){return bl(this._valuesPrism(),e,t)}get value(){const e=this._valuesPrism();if(!e.isHot){null!=this._keepHotUntapDebounce&&this._keepHotUntapDebounce.flush();const t=e.keepHot();this._keepHotUntapDebounce=$i((()=>{t(),this._keepHotUntapDebounce=void 0}),5e3)}return this._keepHotUntapDebounce&&this._keepHotUntapDebounce(),e.getValue()}set initialValue(e){R(this).setInitialValue(e)}};function Ma(e){const t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}function Pa(e){return"compound"===e.type||"enum"===e.type}function Ta(e,t){if(!e)return;const[n,...r]=t;if(void 0===n)return e;if(!Pa(e))return;return Ta("enum"===e.type?e.cases[n]:e.props[n],r)}var Aa=Ma((e=>{if("enum"===e.type)throw new Error("Not implemented yet for enums");for(const t in e.props){const n=e.props[t];if(!Pa(n))return!0;if(Aa(n))return!0}return!1})),Ra=class{constructor(e,t,n){this.sheet=e,this.template=t,this.nativeObject=n,x(this,"$$isPointerToPrismProvider",!0),x(this,"address"),x(this,"publicApi"),x(this,"_initialValue",new Ct.Atom({})),x(this,"_cache",new ot),x(this,"_logger"),x(this,"_internalUtilCtx"),this._logger=e._logger.named("SheetObject",t.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=g(m({},t.address),{sheetInstanceId:e.address.sheetInstanceId}),this.publicApi=new Ca(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",(()=>(0,Ct.prism)((()=>{const e=St((0,Ct.val)(this.template.getDefaultValues()),(0,Ct.val)(this._initialValue.pointer),Ct.prism.memo("withInitialCache",(()=>new WeakMap),[]));let t,n=St(e,(0,Ct.val)(this.template.getStaticValues()),Ct.prism.memo("withStatics",(()=>new WeakMap),[]));{const e=Ct.prism.memo("seq",(()=>this.getSequencedValues()),[]),r=Ct.prism.memo("withSeqsCache",(()=>new WeakMap),[]);t=(0,Ct.val)((0,Ct.val)(e));n=St(n,t,r)}return((e,t)=>{const n=kt.prism.memo(e,(()=>new kt.Atom(t)),[]);return n.set(t),n})("finalAtom",n).pointer}))))}getValueByPointer(e){const t=(0,Ct.val)(this.getValues()),{path:n}=(0,Ct.getPointerParts)(e);return(0,Ct.val)(Et(t,n))}pointerToPrism(e){const{path:t}=(0,Ct.getPointerParts)(e);return(0,Ct.prism)((()=>{const e=(0,Ct.val)(this.getValues());return(0,Ct.val)(Et(e,t))}))}getSequencedValues(){return(0,Ct.prism)((()=>{const e=Ct.prism.memo("tracksToProcess",(()=>this.template.getArrayOfValidSequenceTracks()),[]),t=(0,Ct.val)(e),n=new Ct.Atom({}),r=(0,Ct.val)(this.template.configPointer);return Ct.prism.effect("processTracks",(()=>{const e=[];for(const{trackId:i,pathToProp:a}of t){const t=this._trackIdToPrism(i),o=Ta(r,a),s=o.deserializeAndSanitize,l=o.interpolate,u=()=>{const e=t.getValue();if(!e)return n.setByPointer((e=>Et(e,a)),void 0);const r=s(e.left),i=void 0===r?o.default:r;if(void 0===e.right)return n.setByPointer((e=>Et(e,a)),i);const u=s(e.right),c=void 0===u?o.default:u;return n.setByPointer((e=>Et(e,a)),l(i,c,e.progression))},c=t.onStale(u);u(),e.push(c)}return()=>{for(const t of e)t()}}),[r,...t]),n.pointer}))}_trackIdToPrism(e){const t=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[e],n=this.sheet.getSequence().positionPrism;return wt(this._internalUtilCtx,t,n)}get propsP(){return this._cache.get("propsP",(()=>(0,Ct.pointer)({root:this,path:[]})))}validateValue(e,t){}setInitialValue(e){this.validateValue(this.propsP,e),this._initialValue.set(e)}};function Ia(e){return function(t,n){return e(t,n())}}var Oa={_hmm:za(524),_todo:za(522),_error:za(521),errorDev:za(529),errorPublic:za(545),_kapow:za(268),_warn:za(265),warnDev:za(273),warnPublic:za(289),_debug:za(137),debugDev:za(145),_trace:za(73),traceDev:za(81)};function za(e){return Object.freeze({audience:La(e,8)?"internal":La(e,16)?"dev":"public",category:La(e,4)?"troubleshooting":La(e,2)?"todo":"general",level:La(e,512)?512:La(e,256)?256:La(e,128)?128:64})}function La(e,t){return(e&t)===t}function Da(e,t){return(32===(32&t)||(16===(16&t)?e.dev:8===(8&t)&&e.internal))&&e.min<=t}var Na={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;const t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,r,i;const a=this.cssMemo.get(e);if(a)return a;let o="color:".concat(null!=(n=null==(t=this.color)?void 0:t.call(this,e))?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(null==(r=this.bold)?void 0:r.test(e))&&(o+=";font-weight:600"),(null==(i=this.italic)?void 0:i.test(e))&&(o+=";font-style:italic"),this.cssMemo.set(e,o),o}}};function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console;const t=g(m({},Na),{includes:m({},Na.includes)}),n={styled:Ba.bind(t,e),noStyle:Va.bind(t,e)},r=Fa.bind(t);function i(){return t.loggingConsoleStyle&&t.loggerConsoleStyle?n.styled:n.noStyle}return t.create=i(),{configureLogger(e){var n;"console"===e?(t.loggerConsoleStyle=Na.loggerConsoleStyle,t.create=i()):"console"===e.type?(t.loggerConsoleStyle=null!=(n=e.style)?n:Na.loggerConsoleStyle,t.create=i()):"keyed"===e.type?(t.creatExt=t=>e.keyed(t.names),t.create=r):"named"===e.type&&(t.creatExt=ja.bind(null,e.named),t.create=r)},configureLogging(e){var n,r,a,o,s;t.includes.dev=null!=(n=e.dev)?n:Na.includes.dev,t.includes.internal=null!=(r=e.internal)?r:Na.includes.internal,t.includes.min=null!=(a=e.min)?a:Na.includes.min,t.include=null!=(o=e.include)?o:Na.include,t.loggingConsoleStyle=null!=(s=e.consoleStyle)?s:Na.loggingConsoleStyle,t.create=i()},getLogger:()=>t.create({names:[]})}}function ja(e,t){const n=[];for(let{name:r,key:i}of t.names)n.push(null==i?r:"".concat(r," (").concat(i,")"));return e(n)}function Fa(e){const t=m(m({},this.includes),this.include(e)),n=this.filtered,r=this.named.bind(this,e),i=this.creatExt(e),a=Da(t,524),o=Da(t,522),s=Da(t,521),l=Da(t,529),u=Da(t,545),c=Da(t,265),d=Da(t,268),f=Da(t,273),h=Da(t,289),p=Da(t,137),g=Da(t,145),v=Da(t,73),y=Da(t,81),b=a?i.error.bind(i,Oa._hmm):n.bind(e,524),w=o?i.error.bind(i,Oa._todo):n.bind(e,522),x=s?i.error.bind(i,Oa._error):n.bind(e,521),_=l?i.error.bind(i,Oa.errorDev):n.bind(e,529),S=u?i.error.bind(i,Oa.errorPublic):n.bind(e,545),E=d?i.warn.bind(i,Oa._kapow):n.bind(e,268),k=c?i.warn.bind(i,Oa._warn):n.bind(e,265),C=f?i.warn.bind(i,Oa.warnDev):n.bind(e,273),M=h?i.warn.bind(i,Oa.warnPublic):n.bind(e,273),P=p?i.debug.bind(i,Oa._debug):n.bind(e,137),T=g?i.debug.bind(i,Oa.debugDev):n.bind(e,145),A=v?i.trace.bind(i,Oa._trace):n.bind(e,73),R=y?i.trace.bind(i,Oa.traceDev):n.bind(e,81),I={_hmm:b,_todo:w,_error:x,errorDev:_,errorPublic:S,_kapow:E,_warn:k,warnDev:C,warnPublic:M,_debug:P,debugDev:T,_trace:A,traceDev:R,lazy:{_hmm:a?Ia(b):b,_todo:o?Ia(w):w,_error:s?Ia(x):x,errorDev:l?Ia(_):_,errorPublic:u?Ia(S):S,_kapow:d?Ia(E):E,_warn:c?Ia(k):k,warnDev:f?Ia(C):C,warnPublic:h?Ia(M):M,_debug:p?Ia(P):P,debugDev:g?Ia(T):T,_trace:v?Ia(A):A,traceDev:y?Ia(R):R},named:r,utilFor:{internal:()=>({debug:I._debug,error:I._error,warn:I._warn,trace:I._trace,named:(e,t)=>I.named(e,t).utilFor.internal()}),dev:()=>({debug:I.debugDev,error:I.errorDev,warn:I.warnDev,trace:I.traceDev,named:(e,t)=>I.named(e,t).utilFor.dev()}),public:()=>({error:I.errorPublic,warn:I.warnPublic,debug(e,t){I._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){I._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>I.named(e,t).utilFor.public()})}};return I}function Ba(e,t){const n=m(m({},this.includes),this.include(t)),r=[];let i="";for(let l=0;l<t.names.length;l++){const{name:e,key:n}=t.names[l];if(i+=" %c".concat(e),r.push(this.style.css(e)),null!=n){const e="%c#".concat(n);i+=e,r.push(this.style.css(e))}}const a=this.filtered,o=this.named.bind(this,t),s=[i,...r];return Ha(a,t,n,e,s,function(e){const t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}(s),o)}function Va(e,t){const n=m(m({},this.includes),this.include(t));let r="";for(let a=0;a<t.names.length;a++){const{name:e,key:n}=t.names[a];r+=" ".concat(e),null!=n&&(r+="#".concat(n))}const i=[r];return Ha(this.filtered,t,n,e,i,i,this.named.bind(this,t))}function Ha(e,t,n,r,i,a,o){const s=Da(n,524),l=Da(n,522),u=Da(n,521),c=Da(n,529),d=Da(n,545),f=Da(n,265),h=Da(n,268),p=Da(n,273),m=Da(n,289),g=Da(n,137),v=Da(n,145),y=Da(n,73),b=Da(n,81),w=s?r.error.bind(r,...i):e.bind(t,524),x=l?r.error.bind(r,...i):e.bind(t,522),_=u?r.error.bind(r,...i):e.bind(t,521),S=c?r.error.bind(r,...i):e.bind(t,529),E=d?r.error.bind(r,...i):e.bind(t,545),k=h?r.warn.bind(r,...a):e.bind(t,268),C=f?r.warn.bind(r,...i):e.bind(t,265),M=p?r.warn.bind(r,...i):e.bind(t,273),P=m?r.warn.bind(r,...i):e.bind(t,273),T=g?r.info.bind(r,...i):e.bind(t,137),A=v?r.info.bind(r,...i):e.bind(t,145),R=y?r.debug.bind(r,...i):e.bind(t,73),I=b?r.debug.bind(r,...i):e.bind(t,81),O={_hmm:w,_todo:x,_error:_,errorDev:S,errorPublic:E,_kapow:k,_warn:C,warnDev:M,warnPublic:P,_debug:T,debugDev:A,_trace:R,traceDev:I,lazy:{_hmm:s?Ia(w):w,_todo:l?Ia(x):x,_error:u?Ia(_):_,errorDev:c?Ia(S):S,errorPublic:d?Ia(E):E,_kapow:h?Ia(k):k,_warn:f?Ia(C):C,warnDev:p?Ia(M):M,warnPublic:m?Ia(P):P,_debug:g?Ia(T):T,debugDev:v?Ia(A):A,_trace:y?Ia(R):R,traceDev:b?Ia(I):I},named:o,utilFor:{internal:()=>({debug:O._debug,error:O._error,warn:O._warn,trace:O._trace,named:(e,t)=>O.named(e,t).utilFor.internal()}),dev:()=>({debug:O.debugDev,error:O.errorDev,warn:O.warnDev,trace:O.traceDev,named:(e,t)=>O.named(e,t).utilFor.dev()}),public:()=>({error:O.errorPublic,warn:O.warnPublic,debug(e,t){O._warn('(public "debug" filtered out) '.concat(e),t)},trace(e,t){O._warn('(public "trace" filtered out) '.concat(e),t)},named:(e,t)=>O.named(e,t).utilFor.public()})}};return O}var Wa=Ua(console,{_debug:function(){},_error:function(){}});Wa.configureLogging({dev:!0,min:64});var Ga=Wa.getLogger().named("Theatre.js (default logger)").utilFor.dev(),qa=new WeakMap;function Xa(e,t,n){for(const[r,i]of Object.entries(t.props))if(!Pa(i)){const t=[...e,r];n.set(JSON.stringify(t),n.size),Ka(t,i,n)}for(const[r,i]of Object.entries(t.props))if(Pa(i)){const t=[...e,r];n.set(JSON.stringify(t),n.size),Ka(t,i,n)}}function Ka(e,t,n){if("compound"===t.type)Xa(e,t,n);else{if("enum"===t.type)throw new Error("Enums aren't supported yet");n.set(JSON.stringify(e),n.size)}}function Ya(e){return"object"===typeof e&&null!==e&&0===Object.keys(e).length}var Qa=class{constructor(e,t,n,r,i){this.sheetTemplate=e,x(this,"address"),x(this,"type","Theatre_SheetObjectTemplate"),x(this,"_config"),x(this,"_temp_actions_atom"),x(this,"_cache",new ot),x(this,"project"),x(this,"pointerToSheetState"),x(this,"pointerToStaticOverrides"),this.address=g(m({},e.address),{objectKey:t}),this._config=new st.Atom(r),this._temp_actions_atom=new st.Atom(i),this.project=e.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(e,t,n){return this._config.set(n),new Ra(e,this,t)}reconfigure(e){this._config.set(e)}_temp_setActions(e){this._temp_actions_atom.set(e)}getDefaultValues(){return this._cache.get("getDefaultValues()",(()=>(0,st.prism)((()=>function(e){return vt(e)}((0,st.val)(this.configPointer))))))}getStaticValues(){return this._cache.get("getStaticValues",(()=>(0,st.prism)((()=>{var e;const t=null!=(e=(0,st.val)(this.pointerToStaticOverrides))?e:{};return(0,st.val)(this.configPointer).deserializeAndSanitize(t)||{}}))))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",(()=>(0,st.prism)((()=>{const e=this.project.pointers.historic.sheetsById[this.address.sheetId],t=(0,st.val)(e.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!t)return O;const n=[];if(!t)return O;const r=(0,st.val)(this.configPointer),i=Object.entries(t);for(const[o,s]of i){const e=Za(o);if(!e)continue;const t=Ta(r,e);t&&!Pa(t)&&n.push({pathToProp:e,trackId:s})}const a=function(e){const t=qa.get(e);if(t)return t;const n=new Map;return qa.set(e,n),Xa([],e,n),n}(r);return n.sort(((e,t)=>{const n=e.pathToProp,r=t.pathToProp;return a.get(JSON.stringify(n))>a.get(JSON.stringify(r))?1:-1})),0===n.length?O:n}))))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",(()=>(0,st.prism)((()=>{const e=(0,st.val)(this.getArrayOfValidSequenceTracks());let t={};for(const{pathToProp:n,trackId:r}of e)mt(t,n,r);return t}))))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",(()=>(0,st.prism)((()=>{const e=(0,st.val)(this.getStaticValues()),t=(0,st.val)(this.getArrayOfValidSequenceTracks()),n=pi(e);for(const{pathToProp:r}of t){ka(n,r);let e=r.slice(0,-1);for(;e.length>0;){if(!Ya(at(n,e)))break;ka(n,e),e=e.slice(0,-1)}}return Ya(n)?void 0:n}))))}getDefaultsAtPointer(e){const{path:t}=(0,st.getPointerParts)(e);return at(this.getDefaultValues().getValue(),t)}};function Za(e){try{return JSON.parse(e)}catch(t){return void Ga.warn("property ".concat(JSON.stringify(e)," cannot be parsed. Skipping."))}}var Ja=n(5194),$a=Ma((e=>JSON.stringify(e)));w(E());var eo=class extends Error{},to=class extends eo{},no=n(5194),ro=n(5194),io=n(5194),ao=n(5194);function oo(){let e,t;const n=new Promise(((n,i)=>{e=e=>{n(e),r.status="resolved"},t=e=>{i(e),r.status="rejected"}})),r={resolve:e,reject:t,promise:n,status:"pending"};return r}var so=()=>{},lo=n(5194),uo=class{constructor(){x(this,"_stopPlayCallback",so),x(this,"_state",new lo.Atom({position:0,playing:!1})),x(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=so}gotoPosition(e){this._updatePositionInState(e)}_updatePositionInState(e){this._state.setByPointer((e=>e.position),e)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(e){this._state.setByPointer((e=>e.playing),e)}play(e,t,n,r,i){this.playing&&this.pause(),this.playing=!0;const a=t[1]-t[0];{const e=this.getCurrentPosition();e<t[0]||e>t[1]?"normal"===r||"alternate"===r?this._updatePositionInState(t[0]):"reverse"!==r&&"alternateReverse"!==r||this._updatePositionInState(t[1]):"normal"===r||"alternate"===r?e===t[1]&&this._updatePositionInState(t[0]):e===t[0]&&this._updatePositionInState(t[1])}const o=oo(),s=i.time,l=a*e;let u=this.getCurrentPosition()-t[0];"reverse"!==r&&"alternateReverse"!==r||(u=t[1]-this.getCurrentPosition());const c=i=>{const c=Math.max(i-s,0)/1e3,f=Math.min(c*n+u,l);if(f!==l){const e=Math.floor(f/a);let n=f/a%1*a;if("normal"!==r)if("reverse"===r)n=a-n;else{const t=e%2===0;"alternate"===r?t||(n=a-n):t&&(n=a-n)}this._updatePositionInState(n+t[0]),d()}else{if("normal"===r)this._updatePositionInState(t[1]);else if("reverse"===r)this._updatePositionInState(t[0]);else{const n=(e-1)%2===0;"alternate"===r?n?this._updatePositionInState(t[1]):this._updatePositionInState(t[0]):n?this._updatePositionInState(t[0]):this._updatePositionInState(t[1])}this.playing=!1,o.resolve(!0)}};this._stopPlayCallback=()=>{i.offThisOrNextTick(c),i.offNextTick(c),this.playing&&o.resolve(!1)};const d=()=>i.onNextTick(c);return i.onThisOrNextTick(c),o.promise}playDynamicRange(e,t){this.playing&&this.pause(),this.playing=!0;const n=oo(),r=e.keepHot();n.promise.then(r,r);let i=t.time;const a=t=>{const n=Math.max(t-i,0);i=t;const r=n/1e3,a=this.getCurrentPosition(),s=e.getValue();if(a<s[0]||a>s[1])this.gotoPosition(s[0]);else{let e=a+r;e>s[1]&&(e=s[0]+(e-s[1])),this.gotoPosition(e)}o()};this._stopPlayCallback=()=>{t.offThisOrNextTick(a),t.offNextTick(a),n.resolve(!1)};const o=()=>t.onNextTick(a);return t.onThisOrNextTick(a),n.promise}},co=n(5194),fo="__TheatreJS_CoreBundle",ho=e=>function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];switch(e){case"success":case"info":Ga.debug(r.slice(0,2).join("\n"));break;case"warning":Ga.warn(r.slice(0,2).join("\n"))}return"undefined"!==typeof window?null==(t=window.__TheatreJS_Notifications)?void 0:t.notify[e](...r):void 0},po={warning:ho("warning"),success:ho("success"),info:ho("info"),error:ho("error")};"undefined"!==typeof window&&(window.addEventListener("error",(e=>{po.error("An error occurred","<pre>".concat(e.message,"</pre>\n\nSee **console** for details."))})),window.addEventListener("unhandledrejection",(e=>{po.error("An error occurred","<pre>".concat(e.reason,"</pre>\n\nSee **console** for details."))})));var mo,go=class{constructor(e,t,n){this._decodedBuffer=e,this._audioContext=t,this._nodeDestination=n,x(this,"_mainGain"),x(this,"_state",new co.Atom({position:0,playing:!1})),x(this,"statePointer"),x(this,"_stopPlayCallback",so),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(e,t){const n=oo();let r;this._playing&&this.pause(),this._playing=!0;const i=()=>{null==r||r(),r=this._loopInRange(e.getValue(),t).stop},a=e.onStale(i);return i(),this._stopPlayCallback=()=>{null==r||r(),a(),n.resolve(!1)},n.promise}_loopInRange(e,t){let n=this.getCurrentPosition();const r=e[1]-e[0];(n<e[0]||n>e[1]||n===e[1])&&this._updatePositionInState(e[0]),n=this.getCurrentPosition();const i=this._audioContext.createBufferSource();i.buffer=this._decodedBuffer,i.connect(this._mainGain),i.playbackRate.value=1,i.loop=!0,i.loopStart=e[0],i.loopEnd=e[1];const a=t.time;let o=n-e[0];i.start(0,n);const s=t=>{let n=(1*(Math.max(t-a,0)/1e3)+o)/r%1*r;this._updatePositionInState(n+e[0]),l()},l=()=>t.onNextTick(s);t.onThisOrNextTick(s);return{stop:()=>{i.stop(),i.disconnect(),t.offThisOrNextTick(s),t.offNextTick(s)}}}get _playing(){return this._state.get().playing}set _playing(e){this._state.setByPointer((e=>e.playing),e)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=so}gotoPosition(e){this._updatePositionInState(e)}_updatePositionInState(e){this._state.reduce((t=>g(m({},t),{position:e})))}getCurrentPosition(){return this._state.get().position}play(e,t,n,r,i){this._playing&&this.pause(),this._playing=!0;let a=this.getCurrentPosition();const o=t[1]-t[0];if("normal"!==r)throw new to('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(r,"' given."));(a<t[0]||a>t[1]||a===t[1])&&this._updatePositionInState(t[0]),a=this.getCurrentPosition();const s=oo(),l=this._audioContext.createBufferSource();l.buffer=this._decodedBuffer,l.connect(this._mainGain),l.playbackRate.value=n,e>1e3&&(po.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(e,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),e=1e3),e>1&&(l.loop=!0,l.loopStart=t[0],l.loopEnd=t[1]);const u=i.time;let c=a-t[0];const d=o*e;l.start(0,a,d-c);const f=e=>{const r=Math.max(e-u,0)/1e3,i=Math.min(r*n+c,d);if(i!==d){let e=i/o%1*o;this._updatePositionInState(e+t[0]),p()}else this._updatePositionInState(t[1]),this._playing=!1,h(),s.resolve(!0)},h=()=>{l.stop(),l.disconnect()};this._stopPlayCallback=()=>{h(),i.offThisOrNextTick(f),i.offNextTick(f),this._playing&&s.resolve(!1)};const p=()=>i.onNextTick(f);return i.onThisOrNextTick(f),s.promise}},vo=n(5194),yo=0;function bo(e){var t;const n=new vo.Ticker({onActive(){var t;null==(t=null==e?void 0:e.start)||t.call(e)},onDormant(){var t;null==(t=null==e?void 0:e.stop)||t.call(e)}}),r={tick:e=>{n.tick(e)},id:yo++,name:null!=(t=null==e?void 0:e.name)?t:"CustomRafDriver-".concat(yo),type:"Theatre_RafDriver_PublicAPI"};return I(r,{type:"Theatre_RafDriver_PrivateAPI",publicApi:r,ticker:n,start:null==e?void 0:e.start,stop:null==e?void 0:e.stop}),r}function wo(){return mo||function(e){if(mo)throw new Error("`setCoreRafDriver()` is already called.");const t=R(e);mo=t}(function(){let e=null;const t=bo({name:"DefaultCoreRafDriver",start:()=>{if("undefined"!==typeof window){const n=r=>{t.tick(r),e=window.requestAnimationFrame(n)};e=window.requestAnimationFrame(n)}else t.tick(0),setTimeout((()=>t.tick(1)),0)},stop:()=>{"undefined"!==typeof window&&null!==e&&window.cancelAnimationFrame(e)}});return t}()),mo}function xo(){return wo().ticker}var _o=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(e){I(this,e)}play(e){const t=R(this);if(t._project.isReady()){const n=(null==e?void 0:e.rafDriver)?R(e.rafDriver).ticker:xo();return t.play(null!=e?e:{},n)}{0;const e=oo();return e.resolve(!0),e.promise}}pause(){R(this).pause()}get position(){return R(this).position}set position(e){R(this).position=e}__experimental_getKeyframes(e){return R(this).getKeyframesOfSimpleProp(e)}async attachAudio(e){const{audioContext:t,destinationNode:n,decodedBuffer:r,gainNode:i}=await async function(e){function t(){if(e.audioContext)return Promise.resolve(e.audioContext);const t=new AudioContext;return"running"===t.state||"undefined"===typeof window?Promise.resolve(t):new Promise((e=>{const n=()=>{t.resume().catch((e=>{console.error(e)}))},r=["mousedown","keydown","touchstart"],i={capture:!0,passive:!1};r.forEach((e=>{window.addEventListener(e,n,i)})),t.addEventListener("statechange",(()=>{"running"===t.state&&(r.forEach((e=>{window.removeEventListener(e,n,i)})),e(t))}))}))}async function n(){if(e.source instanceof AudioBuffer)return e.source;const t=oo();if("string"!==typeof e.source)throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let n,i;try{n=await fetch(e.source)}catch(o){throw console.error(o),new Error("Could not fetch '".concat(e.source,"'. Network error logged above."))}try{i=await n.arrayBuffer()}catch(o){throw console.error(o),new Error("Could not read '".concat(e.source,"' as an arrayBuffer."))}let a;(await r).decodeAudioData(i,t.resolve,t.reject);try{a=await t.promise}catch(o){throw console.error(o),new Error("Could not decode ".concat(e.source," as an audio file."))}return a}const r=t(),i=n(),[a,o]=await Promise.all([r,i]),s=e.destinationNode||a.destination,l=a.createGain();return l.connect(s),{audioContext:a,decodedBuffer:o,gainNode:l,destinationNode:s}}(e),a=new go(r,t,i);return R(this).replacePlaybackController(a),{audioContext:t,destinationNode:n,decodedBuffer:r,gainNode:i}}get pointer(){return R(this).pointer}};Eo("Theatre_Project"),Eo("Theatre_Sheet"),Eo("Theatre_SheetTemplate");var So=Eo("Theatre_SheetObject");Eo("Theatre_Sequence"),Eo("Theatre_SheetObjectTemplate"),Eo("Theatre_Project_PublicAPI"),Eo("Theatre_Sheet_PublicAPI"),Eo("Theatre_SheetObject_PublicAPI");function Eo(e){return t=>"object"===typeof t&&!!t&&t.type===e}var ko=class{constructor(e,t,n,r,i){this._project=e,this._sheet=t,this._lengthD=n,this._subUnitsPerUnitD=r,x(this,"address"),x(this,"publicApi"),x(this,"_playbackControllerBox"),x(this,"_prismOfStatePointer"),x(this,"_positionD"),x(this,"_positionFormatterD"),x(this,"_playableRangeD"),x(this,"pointer",(0,io.pointer)({root:this,path:[]})),x(this,"$$isPointerToPrismProvider",!0),x(this,"_logger"),x(this,"closestGridPosition",(e=>{const t=1/this.subUnitsPerUnit;return parseFloat((Math.round(e/t)*t).toFixed(3))})),this._logger=e._logger.named("Sheet",t.address.sheetId).named("Instance",t.address.sheetInstanceId),this.address=g(m({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new _o(this),this._playbackControllerBox=new ro.Atom(null!=i?i:new uo),this._prismOfStatePointer=(0,ao.prism)((()=>this._playbackControllerBox.prism.getValue().statePointer)),this._positionD=(0,ao.prism)((()=>{const e=this._prismOfStatePointer.getValue();return(0,ao.val)(e.position)})),this._positionFormatterD=(0,ao.prism)((()=>{const e=(0,ao.val)(this._subUnitsPerUnitD);return new Co(e)}))}get type(){return"Theatre_Sequence"}pointerToPrism(e){const{path:t}=(0,no.getPointerParts)(e);if(0===t.length)return(0,ao.prism)((()=>({length:(0,ao.val)(this.pointer.length),playing:(0,ao.val)(this.pointer.playing),position:(0,ao.val)(this.pointer.position),subUnitsPerUnit:(0,ao.val)(this.pointer.subUnitsPerUnit)})));if(t.length>1)return(0,ao.prism)((()=>{}));const[n]=t;return"length"===n?this._lengthD:"subUnitsPerUnit"===n?this._subUnitsPerUnitD:"position"===n?this._positionD:"playing"===n?(0,ao.prism)((()=>(0,ao.val)(this._prismOfStatePointer.getValue().playing))):(0,ao.prism)((()=>{}))}getKeyframesOfSimpleProp(e){const{path:t,root:n}=(0,no.getPointerParts)(e);if(!So(n))throw new to("Argument prop must be a pointer to a SheetObject property");const r=(0,ao.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[n.address.objectKey]);if(!r)return[];const{trackData:i,trackIdByPropPath:a}=r,o=a[$a(t)];if(!o)return[];const s=i[o];return s?s.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(e){let t=e;this.pause(),t>this.length&&(t=this.length);const n=this.length;this._playbackControllerBox.get().gotoPosition(t>n?n:t)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,ao.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,ao.prism)((()=>[0,(0,ao.val)(this._lengthD)]))}playDynamicRange(e,t){return this._playbackControllerBox.get().playDynamicRange(e,t)}async play(e,t){const n=this.length,r=e&&e.range?e.range:[0,n];const i=e&&"number"===typeof e.iterationCount?e.iterationCount:1;const a=e&&"undefined"!==typeof e.rate?e.rate:1;const o=e&&e.direction?e.direction:"normal";return await this._play(i,[r[0],r[1]],a,o,t)}_play(e,t,n,r,i){return this._playbackControllerBox.get().play(e,t,n,r,i)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(e){this.pause();const t=this._playbackControllerBox.get();this._playbackControllerBox.set(e);const n=t.getCurrentPosition();t.destroy(),e.gotoPosition(n)}},Co=class{constructor(e){this._fps=e}formatSubUnitForGrid(e){const t=e%1,n=1/this._fps;return Math.round(t/n)+"f"}formatFullUnitForGrid(e){let t=e,n="";if(t>=To){n+=Math.floor(t/To)+"h",t%=To}if(t>=Po){n+=Math.floor(t/Po)+"m",t%=Po}if(t>=Mo){n+=Math.floor(t/Mo)+"s",t%=Mo}const r=1/this._fps;if(t>=r){n+=Math.floor(t/r)+"f",t%=r}return 0===n.length?"0s":n}formatForPlayhead(e){let t=e,n="";if(t>=To){const e=Math.floor(t/To);n+=Ea(e.toString(),2,"0")+"h",t%=To}if(t>=Po){const e=Math.floor(t/Po);n+=Ea(e.toString(),2,"0")+"m",t%=Po}else n.length>0&&(n+="00m");if(t>=Mo){const e=Math.floor(t/Mo);n+=Ea(e.toString(),2,"0")+"s",t%=Mo}else n+="00s";const r=1/this._fps;if(t>=r){const e=Math.round(t/r);n+=Ea(e.toString(),2,"0")+"f",t%=r}else if(t/r>.98){n+=Ea(1..toString(),2,"0")+"f",t%=r}else n+="00f";return 0===n.length?"00s00f":n}formatBasic(e){return e.toFixed(2)+"s"}},Mo=1,Po=60*Mo,To=60*Po,Ao={};function Ro(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}y(Ao,{boolean:()=>Jo,compound:()=>Fo,file:()=>Bo,image:()=>Ho,number:()=>Go,rgba:()=>Yo,string:()=>ts,stringLiteral:()=>rs});var Io=e=>"string"===typeof e?'string("'.concat(Ro(e,10),'")'):"number"===typeof e?"number(".concat(Ro(String(e),10),")"):null===e?"null":void 0===e?"undefined":"boolean"===typeof e?String(e):Array.isArray(e)?"array":"object"===typeof e?"object":"unknown";function Oo(e){return g(m({},e),{toString(){return function(e){let{removeAlphaIfOpaque:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(255*e.a|256).toString(16).slice(1),r=(255*e.r|256).toString(16).slice(1)+(255*e.g|256).toString(16).slice(1)+(255*e.b|256).toString(16).slice(1)+(t&&"ff"===n?"":n);return"#".concat(r)}(this,{removeAlphaIfOpaque:!0})}})}function zo(e){function t(e){return e>=.0031308?1.055*e**(1/2.4)-.055:12.92*e}return function(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,rr(n,0,1)]})))}({r:t(e.r),g:t(e.g),b:t(e.b),a:e.a})}function Lo(e){function t(e){return e>=.04045?((e+.055)/1.055)**2.4:e/12.92}return{r:t(e.r),g:t(e.g),b:t(e.b),a:e.a}}function Do(e){let t=.4122214708*e.r+.5363325363*e.g+.0514459929*e.b,n=.2119034982*e.r+.6806995451*e.g+.1073969566*e.b,r=.0883024619*e.r+.2817188376*e.g+.6299787005*e.b,i=Math.cbrt(t),a=Math.cbrt(n),o=Math.cbrt(r);return{L:.2104542553*i+.793617785*a-.0040720468*o,a:1.9779984951*i-2.428592205*a+.4505937099*o,b:.0259040371*i+.7827717662*a-.808675766*o,alpha:e.a}}var No=Symbol("TheatrePropType_Basic");function Uo(e){return"object"===typeof e&&!!e&&"TheatrePropType"===e[No]}function jo(e){if("number"===typeof e)return Go(e);if("boolean"===typeof e)return Jo(e);if("string"===typeof e)return ts(e);if("object"===typeof e&&e){if(Uo(e))return e;if(Dn(e))return Fo(e);throw new to("This value is not a valid prop type: ".concat(Io(e)))}throw new to("This value is not a valid prop type: ".concat(Io(e)))}var Fo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){const t={};for(const n of Object.keys(e)){const r=e[n];Uo(r)?t[n]=r:t[n]=jo(r)}return t}(e),r=new WeakMap;return{type:"compound",props:n,valueType:null,[No]:"TheatrePropType",label:t.label,default:ra(n,(e=>e.default)),deserializeAndSanitize:e=>{if("object"!==typeof e||!e)return;if(r.has(e))return r.get(e);const t={};let i=!1;for(const[r,a]of Object.entries(n))if(Object.prototype.hasOwnProperty.call(e,r)){const n=a.deserializeAndSanitize(e[r]);null!=n&&(i=!0,t[r]=n)}return r.set(e,t),i?t:void 0}}},Bo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"file",default:{type:"file",id:e},valueType:null,[No]:"TheatrePropType",label:t.label,interpolate:(e,n,r)=>{var i;return{type:"file",id:(null!=(i=t.interpolate)?i:es)(e.id,n.id,r)}},deserializeAndSanitize:Vo}},Vo=e=>{if(!e)return;let t=!0;return"string"===typeof e.id||[null,void 0].includes(e.id)||(t=!1),"file"!==e.type&&(t=!1),t?e:void 0},Ho=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"image",default:{type:"image",id:e},valueType:null,[No]:"TheatrePropType",label:t.label,interpolate:(e,n,r)=>{var i;return{type:"image",id:(null!=(i=t.interpolate)?i:es)(e.id,n.id,r)}},deserializeAndSanitize:Wo}},Wo=e=>{if(!e)return;let t=!0;return"string"===typeof e.id||[null,void 0].includes(e.id)||(t=!1),"image"!==e.type&&(t=!1),t?e:void 0},Go=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return g(m({type:"number",valueType:0,default:e,[No]:"TheatrePropType"},t||{}),{label:t.label,nudgeFn:null!=(n=t.nudgeFn)?n:is,nudgeMultiplier:"number"===typeof t.nudgeMultiplier?t.nudgeMultiplier:void 0,interpolate:Ko,deserializeAndSanitize:qo(t.range)})},qo=e=>e?t=>{if("number"===typeof t&&isFinite(t))return rr(t,e[0],e[1])}:Xo,Xo=e=>"number"===typeof e&&isFinite(e)?e:void 0,Ko=(e,t,n)=>e+n*(t-e),Yo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:0,g:0,b:0,a:1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};for(const r of["r","g","b","a"])n[r]=Math.min(Math.max(e[r],0),1);return{type:"rgba",valueType:null,default:Oo(n),[No]:"TheatrePropType",label:t.label,interpolate:Zo,deserializeAndSanitize:Qo}},Qo=e=>{if(!e)return;let t=!0;for(const r of["r","g","b","a"])Object.prototype.hasOwnProperty.call(e,r)&&"number"===typeof e[r]||(t=!1);if(!t)return;const n={};for(const r of["r","g","b","a"])n[r]=Math.min(Math.max(e[r],0),1);return Oo(n)},Zo=(e,t,n)=>{const r=Do(Lo(e)),i=Do(Lo(t));return Oo(zo(function(e){let t=e.L+.3963377774*e.a+.2158037573*e.b,n=e.L-.1055613458*e.a-.0638541728*e.b,r=e.L-.0894841775*e.a-1.291485548*e.b,i=t*t*t,a=n*n*n,o=r*r*r;return{r:4.0767416621*i-3.3077115913*a+.2309699292*o,g:-1.2684380046*i+2.6097574011*a-.3413193965*o,b:-.0041960863*i-.7034186147*a+1.707614701*o,a:e.alpha}}({L:(1-n)*r.L+n*i.L,a:(1-n)*r.a+n*i.a,b:(1-n)*r.b+n*i.b,alpha:(1-n)*r.alpha+n*i.alpha})))},Jo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return{type:"boolean",default:e,valueType:null,[No]:"TheatrePropType",label:t.label,interpolate:null!=(n=t.interpolate)?n:es,deserializeAndSanitize:$o}},$o=e=>"boolean"===typeof e?e:void 0;function es(e){return e}var ts=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return{type:"string",default:e,valueType:null,[No]:"TheatrePropType",label:t.label,interpolate:null!=(n=t.interpolate)?n:es,deserializeAndSanitize:ns}};function ns(e){return"string"===typeof e?e:void 0}function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;return{type:"stringLiteral",default:e,valuesAndLabels:m({},t),[No]:"TheatrePropType",valueType:null,as:null!=(r=n.as)?r:"menu",label:n.label,interpolate:null!=(i=n.interpolate)?i:es,deserializeAndSanitize(e){if("string"===typeof e)return Object.prototype.hasOwnProperty.call(t,e)?e:void 0}}}var is=e=>{let{config:t,deltaX:n,deltaFraction:r,magnitude:i}=e;var a;const{range:o}=t;return t.nudgeMultiplier||!o||o.includes(1/0)||o.includes(-1/0)?n*i*(null!=(a=t.nudgeMultiplier)?a:1):r*(o[1]-o[0])*i};function as(e,t){const n=e.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");return n}w(k());var os,ss,ls=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(e){I(this,e)}object(e,t,n){const r=R(this),i=as(e),a=r.getObject(i),o=null==n?void 0:n.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(a)return o&&a.template._temp_setActions(o),a.publicApi;{const e=Fo(t);return r.createObject(i,null,e,o).publicApi}}__experimental_getExistingObject(e){const t=R(this),n=as(e),r=t.getObject(n);return null==r?void 0:r.publicApi}get sequence(){return R(this).getSequence().publicApi}get project(){return R(this).project.publicApi}get address(){return m({},R(this).address)}detachObject(e){const t=R(this),n=as(e,'sheet.deleteObject("'.concat(e,'")'));if(!t.getObject(n))return po.warning("Couldn't delete object \"".concat(n,'"'),'There is no object with key "'.concat(n,'".\n\nTo fix this, make sure you are calling `sheet.deleteObject("').concat(n,'")` with the correct key.')),void console.warn('Object key "'.concat(n,'" does not exist.'));t.deleteObject(n)}},us=n(5194),cs=class{constructor(e,t){this.template=e,this.instanceId=t,x(this,"_objects",new us.Atom({})),x(this,"_sequence"),x(this,"address"),x(this,"publicApi"),x(this,"project"),x(this,"objectsP",this._objects.pointer),x(this,"type","Theatre_Sheet"),x(this,"_logger"),this._logger=e.project._logger.named("Sheet",t),this._logger._trace("creating sheet"),this.project=e.project,this.address=g(m({},e.address),{sheetInstanceId:this.instanceId}),this.publicApi=new ls(this)}createObject(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=this.template.getObjectTemplate(e,t,n,r).createInstance(this,t,n);return this._objects.setByPointer((t=>t[e]),i),i}getObject(e){return this._objects.get()[e]}deleteObject(e){this._objects.reduce((t=>{const n=m({},t);return delete n[e],n}))}getSequence(){if(!this._sequence){const e=(0,us.prism)((()=>{const e=(0,us.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return ds(e)})),t=(0,us.prism)((()=>{const e=(0,us.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return fs(e)}));this._sequence=new ko(this.template.project,this,e,t)}return this._sequence}},ds=e=>"number"===typeof e&&isFinite(e)&&e>0?e:10,fs=e=>"number"===typeof e&&na(e)&&e>=1&&e<=1e3?e:30,hs=class{constructor(e,t){this.project=e,x(this,"type","Theatre_SheetTemplate"),x(this,"address"),x(this,"_instances",new Ja.Atom({})),x(this,"instancesP",this._instances.pointer),x(this,"_objectTemplates",new Ja.Atom({})),x(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=g(m({},e.address),{sheetId:t})}getInstance(e){let t=this._instances.get()[e];return t||(t=new cs(this,e),this._instances.setByPointer((t=>t[e]),t)),t}getObjectTemplate(e,t,n,r){let i=this._objectTemplates.get()[e];return i||(i=new Qa(this,e,t,n,r),this._objectTemplates.setByPointer((t=>t[e]),i)),i}},ps=n(5194),ms=n(5194),gs=e=>new Promise((t=>setTimeout(t,e)));function vs(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ys(e){return!!e&&!!e[tl]}function bs(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nl}(e)||Array.isArray(e)||!!e[el]||!!e.constructor[el]||Es(e)||ks(e))}function ws(e,t,n){void 0===n&&(n=!1),0===xs(e)?(n?Object.keys:rl)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function xs(e){var t=e[tl];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Es(e)?2:ks(e)?3:0}function _s(e,t){return 2===xs(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ss(e,t,n){var r=xs(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Es(e){return Qs&&e instanceof Map}function ks(e){return Zs&&e instanceof Set}function Cs(e){return e.o||e.t}function Ms(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=il(e);delete t[tl];for(var n=rl(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Ps(e,t){return void 0===t&&(t=!1),As(e)||ys(e)||!bs(e)||(xs(e)>1&&(e.set=e.add=e.clear=e.delete=Ts),Object.freeze(e),t&&ws(e,(function(e,t){return Ps(t,!0)}),!0)),e}function Ts(){vs(2)}function As(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Rs(e){var t=al[e];return t||vs(18,e),t}function Is(){return ss}function Os(e,t){t&&(Rs("Patches"),e.u=[],e.s=[],e.v=t)}function zs(e){Ls(e),e.p.forEach(Ns),e.p=null}function Ls(e){e===ss&&(ss=e.l)}function Ds(e){return ss={p:[],l:ss,h:e,m:!0,_:0}}function Ns(e){var t=e[tl];0===t.i||1===t.i?t.j():t.O=!0}function Us(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Rs("ES5").S(t,e,r),r?(n[tl].P&&(zs(t),vs(4)),bs(e)&&(e=js(t,e),t.l||Bs(t,e)),t.u&&Rs("Patches").M(n[tl],e,t.u,t.s)):e=js(t,n,[]),zs(t),t.u&&t.v(t.u,t.s),e!==$s?e:void 0}function js(e,t,n){if(As(t))return t;var r=t[tl];if(!r)return ws(t,(function(i,a){return Fs(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Bs(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Ms(r.k):r.o;ws(3===r.i?new Set(i):i,(function(t,a){return Fs(e,r,i,t,a,n)})),Bs(e,i,!1),n&&e.u&&Rs("Patches").R(r,n,e.u,e.s)}return r.o}function Fs(e,t,n,r,i,a){if(ys(i)){var o=js(e,i,a&&t&&3!==t.i&&!_s(t.D,r)?a.concat(r):void 0);if(Ss(n,r,o),!ys(o))return;e.m=!1}if(bs(i)&&!As(i)){if(!e.h.F&&e._<1)return;js(e,i),t&&t.A.l||Bs(e,i)}}function Bs(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Ps(t,n)}function Vs(e,t){var n=e[tl];return(n?Cs(n):e)[t]}function Hs(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ws(e){e.P||(e.P=!0,e.l&&Ws(e.l))}function Gs(e){e.o||(e.o=Ms(e.t))}function qs(e,t,n){var r=Es(t)?Rs("MapSet").N(t,n):ks(t)?Rs("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Is(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ol;n&&(i=[r],a=sl);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):Rs("ES5").J(t,n);return(n?n.A:Is()).p.push(r),r}function Xs(e){return ys(e)||vs(22,e),function e(t){if(!bs(t))return t;var n,r=t[tl],i=xs(t);if(r){if(!r.P&&(r.i<4||!Rs("ES5").K(r)))return r.t;r.I=!0,n=Ks(t,i),r.I=!1}else n=Ks(t,i);return ws(n,(function(t,i){r&&function(e,t){return 2===xs(e)?e.get(t):e[t]}(r.t,t)===i||Ss(n,t,e(i))})),3===i?new Set(n):n}(e)}function Ks(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ms(e)}var Ys="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Qs="undefined"!=typeof Map,Zs="undefined"!=typeof Set,Js="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$s=Ys?Symbol.for("immer-nothing"):((os={})["immer-nothing"]=!0,os),el=Ys?Symbol.for("immer-draftable"):"__$immer_draftable",tl=Ys?Symbol.for("immer-state"):"__$immer_state",nl=""+Object.prototype.constructor,rl="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,il=Object.getOwnPropertyDescriptors||function(e){var t={};return rl(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},al={},ol={get:function(e,t){if(t===tl)return e;var n=Cs(e);if(!_s(n,t))return function(e,t,n){var r,i=Hs(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!bs(r)?r:r===Vs(e.t,t)?(Gs(e),e.o[t]=qs(e.A.h,r,e)):r},has:function(e,t){return t in Cs(e)},ownKeys:function(e){return Reflect.ownKeys(Cs(e))},set:function(e,t,n){var r=Hs(Cs(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Vs(Cs(e),t),a=null==i?void 0:i[tl];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||_s(e.t,t)))return!0;Gs(e),Ws(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Vs(e.t,t)||t in e.t?(e.D[t]=!1,Gs(e),Ws(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Cs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){vs(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vs(12)}},sl={};ws(ol,(function(e,t){sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),sl.deleteProperty=function(e,t){return ol.deleteProperty.call(this,e[0],t)},sl.set=function(e,t,n){return ol.set.call(this,e[0],t,n,e[0])};var ll=new(function(){function e(e){var t=this;this.g=Js,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&vs(6),void 0!==r&&"function"!=typeof r&&vs(7),bs(e)){var s=Ds(t),l=qs(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?zs(s):Ls(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Os(s,r),Us(e,s)}),(function(e){throw zs(s),e})):(Os(s,r),Us(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===$s)return;return void 0===o&&(o=e),t.F&&Ps(o,!0),o}vs(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){bs(e)||vs(8),ys(e)&&(e=Xs(e));var t=Ds(this),n=qs(this,e,void 0);return n[tl].C=!0,Ls(t),n},t.finishDraft=function(e,t){var n=(e&&e[tl]).A;return Os(n,t),Us(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Js&&vs(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=Rs("Patches").$;return ys(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),ul=(ll.produce,ll.produceWithPatches.bind(ll),ll.setAutoFreeze.bind(ll),ll.setUseProxies.bind(ll),ll.applyPatches.bind(ll),ll.createDraft.bind(ll),ll.finishDraft.bind(ll),{currentProjectStateDefinitionVersion:"0.4.0"});async function cl(e,t,n){await gs(0),e.transaction((e=>{let{drafts:r}=e;var i;const a=t.address.projectId;function o(){r.ephemeral.coreByProject[a].loadingState={type:"loaded"}}r.ephemeral.coreByProject[a]={lastExportedObject:null,loadingState:{type:"loading"}},r.ahistoric.coreByProject[a]={ahistoricStuff:""};const s=null==(ys(l=r.historic)||vs(23,l),i=l[tl].t)?void 0:i.coreByProject[t.address.projectId];var l,u,c;s?n&&-1==s.revisionHistory.indexOf(n.revisionHistory[0])?(u=n,r.ephemeral.coreByProject[a].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:u}):o():n?(c=n,r.ephemeral.coreByProject[a].loadingState={type:"loaded"},r.historic.coreByProject[a]=c):(r.ephemeral.coreByProject[a].loadingState={type:"loaded"},r.historic.coreByProject[a]={sheetsById:{},definitionVersion:ul.currentProjectStateDefinitionVersion,revisionHistory:[]})}))}function dl(){}function fl(e){var t,n;const r=(null==(t=null==e?void 0:e.logging)?void 0:t.internal)?null!=(n=e.logging.min)?n:256:1/0,i=r<=512,a=Ua(void 0,{_debug:r<=128?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):dl,_error:i?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):dl});if(e){const{logger:t,logging:n}=e;t&&a.configureLogger(t),n?a.configureLogging(n):a.configureLogging({dev:!1})}return a.getLogger().named("Theatre")}var hl=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;var r;this.config=t,this.publicApi=n,x(this,"pointers"),x(this,"_pointerProxies"),x(this,"address"),x(this,"_studioReadyDeferred"),x(this,"_assetStorageReadyDeferred"),x(this,"_readyPromise"),x(this,"_sheetTemplates",new ms.Atom({})),x(this,"sheetTemplatesP",this._sheetTemplates.pointer),x(this,"_studio"),x(this,"assetStorage"),x(this,"type","Theatre_Project"),x(this,"_logger"),this._logger=fl({logging:{dev:!0}}).named("Project",e),this._logger.traceDev("creating project"),this.address={projectId:e};const i=new ms.Atom({ahistoric:{ahistoricStuff:""},historic:null!=(r=t.state)?r:{sheetsById:{},definitionVersion:ul.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=oo(),this.assetStorage={getAssetUrl:e=>{var n;return"".concat(null==(n=t.assets)?void 0:n.baseUrl,"/").concat(e)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new ps.PointerProxy(i.pointer.historic),ahistoric:new ps.PointerProxy(i.pointer.ahistoric),ephemeral:new ps.PointerProxy(i.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},T.add(e,this),this._studioReadyDeferred=oo(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then((()=>{})),t.state?setTimeout((()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))}),0):"undefined"===typeof window?console.error('Argument config.state in Theatre.getProject("'.concat(e,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout((()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(e,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(e,'" will be empty.\n\n')+"To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state\n")}),1e3)}attachToStudio(e){if(this._studio){if(this._studio!==e)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId))}else this._studio=e,e.initialized.then((async()=>{var t;await cl(e,this,this.config.state),this._pointerProxies.historic.setPointer(e.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(e.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(e.atomP.ephemeral.coreByProject[this.address.projectId]),await e.createAssetStorage(this,null==(t=this.config.assets)?void 0:t.baseUrl).then((e=>{this.assetStorage=e,this._assetStorageReadyDeferred.resolve(void 0)})),this._studioReadyDeferred.resolve(void 0)})).catch((e=>{throw console.error(e),e}))}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return"resolved"===this._studioReadyDeferred.status&&"resolved"===this._assetStorageReadyDeferred.status}getOrCreateSheet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this._sheetTemplates.get()[e];return n||(n=new hs(this,e),this._sheetTemplates.reduce((t=>g(m({},t),{[e]:n})))),n.getInstance(t)}},pl=class{get type(){return"Theatre_Project_PublicAPI"}constructor(e){I(this,new hl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this))}get ready(){return R(this).ready}get isReady(){return R(this).isReady()}get address(){return m({},R(this).address)}getAssetUrl(e){if(this.isReady)return e.id?R(this).assetStorage.getAssetUrl(e.id):void 0;console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.")}sheet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";const n=as(e);return R(this).getOrCreateSheet(n,t).publicApi}},ml=(w(k()),n(5194)),gl=n(5194);function vl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=T.get(e);if(n)return n.publicApi;const r=fl().named("Project",e);return t.state?(yl(e,t.state),r._debug("deep validated config.state on disk")):r._debug("no config.state"),new pl(e,t)}var yl=(e,t)=>{((e,t)=>{if(Array.isArray(t)||null==t||t.definitionVersion!==ul.currentProjectStateDefinitionVersion)throw new to("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(e),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))})(e,t)};function bl(e,t,n){const r=n?R(n).ticker:xo();if((0,ml.isPointer)(e)){return(0,gl.pointerToPrism)(e).onChange(r,t,!0)}if((0,gl.isPrism)(e))return e.onChange(r,t,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function wl(e){if((0,ml.isPointer)(e))return(0,gl.pointerToPrism)(e).getValue();throw new Error("Called val(p) where p is not a pointer.")}var xl=class{constructor(){x(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.2"}getBitsForStudio(e,t){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=e;t({projectsP:T.atom.pointer.projects,privateAPI:R,coreExports:M,getCoreRafDriver:wo})}};!function(){if("undefined"==typeof window)return;const e=window[fo];if("undefined"!==typeof e)throw"object"===typeof e&&e&&"string"===typeof e.version?new Error("It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(fo," seems to be already set by a module other than @theatre/core."));const t=new xl;window[fo]=t;const n=window.__TheatreJS_StudioBundle;n&&null!==n&&"Theatre_StudioBundle"===n.type&&n.registerCoreBundle(t)}()},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},9408:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACESFilmicToneMapping:()=>ie,AddEquation:()=>S,AddOperation:()=>$,AdditiveAnimationBlendMode:()=>Bt,AdditiveBlending:()=>b,AgXToneMapping:()=>oe,AlphaFormat:()=>Be,AlwaysCompare:()=>Pn,AlwaysDepth:()=>W,AlwaysStencilFunc:()=>wn,AmbientLight:()=>yh,AnimationAction:()=>sp,AnimationClip:()=>Vf,AnimationLoader:()=>Zf,AnimationMixer:()=>up,AnimationObjectGroup:()=>op,AnimationUtils:()=>Tf,ArcCurve:()=>qc,ArrayCamera:()=>Gl,ArrowHelper:()=>tm,AttachedBindMode:()=>le,Audio:()=>Gh,AudioAnalyser:()=>Zh,AudioContext:()=>Ih,AudioListener:()=>Wh,AudioLoader:()=>Oh,AxesHelper:()=>nm,BackSide:()=>m,BasicDepthPacking:()=>Gt,BasicShadowMap:()=>c,BatchedMesh:()=>gc,Bone:()=>Nu,BooleanKeyframeTrack:()=>Lf,Box2:()=>_p,Box3:()=>Lr,Box3Helper:()=>Qp,BoxGeometry:()=>qa,BoxHelper:()=>Yp,BufferAttribute:()=>ua,BufferGeometry:()=>Ca,BufferGeometryLoader:()=>kh,ByteType:()=>Ae,Cache:()=>Wf,Camera:()=>Ja,CameraHelper:()=>qp,CanvasTexture:()=>Hc,CapsuleGeometry:()=>hd,CatmullRomCurve3:()=>Jc,CineonToneMapping:()=>re,CircleGeometry:()=>pd,ClampToEdgeWrapping:()=>ve,Clock:()=>Uh,Color:()=>Zi,ColorKeyframeTrack:()=>Df,ColorManagement:()=>pr,CompressedArrayTexture:()=>Bc,CompressedCubeTexture:()=>Vc,CompressedTexture:()=>Fc,CompressedTextureLoader:()=>Jf,ConeGeometry:()=>gd,ConstantAlphaFactor:()=>B,ConstantColorFactor:()=>j,CubeCamera:()=>io,CubeReflectionMapping:()=>de,CubeRefractionMapping:()=>fe,CubeTexture:()=>ao,CubeTextureLoader:()=>eh,CubeUVReflectionMapping:()=>me,CubicBezierCurve:()=>nd,CubicBezierCurve3:()=>rd,CubicInterpolant:()=>Rf,CullFaceBack:()=>s,CullFaceFront:()=>l,CullFaceFrontBack:()=>u,CullFaceNone:()=>o,Curve:()=>Wc,CurvePath:()=>cd,CustomBlending:()=>_,CustomToneMapping:()=>ae,CylinderGeometry:()=>md,Cylindrical:()=>wp,Data3DTexture:()=>Tr,DataArrayTexture:()=>Mr,DataTexture:()=>Uu,DataTextureLoader:()=>th,DataUtils:()=>oa,DecrementStencilOp:()=>un,DecrementWrapStencilOp:()=>dn,DefaultLoadingManager:()=>qf,DepthFormat:()=>qe,DepthStencilFormat:()=>Xe,DepthTexture:()=>es,DetachedBindMode:()=>ue,DirectionalLight:()=>vh,DirectionalLightHelper:()=>Hp,DiscreteInterpolant:()=>Of,DisplayP3ColorSpace:()=>Jt,DodecahedronGeometry:()=>yd,DoubleSide:()=>g,DstAlphaFactor:()=>z,DstColorFactor:()=>D,DynamicCopyUsage:()=>Dn,DynamicDrawUsage:()=>An,DynamicReadUsage:()=>On,EdgesGeometry:()=>Sd,EllipseCurve:()=>Gc,EqualCompare:()=>Sn,EqualDepth:()=>X,EqualStencilFunc:()=>mn,EquirectangularReflectionMapping:()=>he,EquirectangularRefractionMapping:()=>pe,Euler:()=>yi,EventDispatcher:()=>Vn,ExtrudeGeometry:()=>$d,FileLoader:()=>Qf,Float16BufferAttribute:()=>va,Float32BufferAttribute:()=>ya,FloatType:()=>Le,Fog:()=>ru,FogExp2:()=>nu,FramebufferTexture:()=>jc,FrontSide:()=>p,Frustum:()=>po,GLBufferAttribute:()=>pp,GLSL1:()=>Un,GLSL3:()=>jn,GreaterCompare:()=>kn,GreaterDepth:()=>Y,GreaterEqualCompare:()=>Mn,GreaterEqualDepth:()=>K,GreaterEqualStencilFunc:()=>bn,GreaterStencilFunc:()=>vn,GridHelper:()=>Up,Group:()=>ql,HalfFloatType:()=>De,HemisphereLight:()=>ih,HemisphereLightHelper:()=>Np,IcosahedronGeometry:()=>tf,ImageBitmapLoader:()=>Ah,ImageLoader:()=>$f,ImageUtils:()=>yr,IncrementStencilOp:()=>ln,IncrementWrapStencilOp:()=>cn,InstancedBufferAttribute:()=>Vu,InstancedBufferGeometry:()=>Eh,InstancedInterleavedBuffer:()=>hp,InstancedMesh:()=>Qu,Int16BufferAttribute:()=>ha,Int32BufferAttribute:()=>ma,Int8BufferAttribute:()=>ca,IntType:()=>Oe,InterleavedBuffer:()=>au,InterleavedBufferAttribute:()=>su,Interpolant:()=>Af,InterpolateDiscrete:()=>zt,InterpolateLinear:()=>Lt,InterpolateSmooth:()=>Dt,InvertStencilOp:()=>fn,KeepStencilOp:()=>on,KeyframeTrack:()=>zf,LOD:()=>Cu,LatheGeometry:()=>fd,Layers:()=>bi,LessCompare:()=>_n,LessDepth:()=>G,LessEqualCompare:()=>En,LessEqualDepth:()=>q,LessEqualStencilFunc:()=>gn,LessStencilFunc:()=>pn,Light:()=>rh,LightProbe:()=>xh,Line:()=>kc,Line3:()=>kp,LineBasicMaterial:()=>vc,LineCurve:()=>id,LineCurve3:()=>ad,LineDashedMaterial:()=>Sf,LineLoop:()=>Ac,LineSegments:()=>Tc,LinearDisplayP3ColorSpace:()=>$t,LinearFilter:()=>Ee,LinearInterpolant:()=>If,LinearMipMapLinearFilter:()=>Pe,LinearMipMapNearestFilter:()=>Ce,LinearMipmapLinearFilter:()=>Me,LinearMipmapNearestFilter:()=>ke,LinearSRGBColorSpace:()=>Zt,LinearToneMapping:()=>te,LinearTransfer:()=>en,Loader:()=>Xf,LoaderUtils:()=>Sh,LoadingManager:()=>Gf,LoopOnce:()=>Rt,LoopPingPong:()=>Ot,LoopRepeat:()=>It,LuminanceAlphaFormat:()=>Ge,LuminanceFormat:()=>We,MOUSE:()=>i,Material:()=>ea,MaterialLoader:()=>_h,MathUtils:()=>$n,Matrix3:()=>tr,Matrix4:()=>li,MaxEquation:()=>M,Mesh:()=>Wa,MeshBasicMaterial:()=>ta,MeshDepthMaterial:()=>jl,MeshDistanceMaterial:()=>Fl,MeshLambertMaterial:()=>xf,MeshMatcapMaterial:()=>_f,MeshNormalMaterial:()=>wf,MeshPhongMaterial:()=>yf,MeshPhysicalMaterial:()=>vf,MeshStandardMaterial:()=>gf,MeshToonMaterial:()=>bf,MinEquation:()=>C,MirroredRepeatWrapping:()=>ye,MixOperation:()=>J,MultiplyBlending:()=>x,MultiplyOperation:()=>Z,NearestFilter:()=>be,NearestMipMapLinearFilter:()=>Se,NearestMipMapNearestFilter:()=>xe,NearestMipmapLinearFilter:()=>_e,NearestMipmapNearestFilter:()=>we,NeutralToneMapping:()=>se,NeverCompare:()=>xn,NeverDepth:()=>H,NeverStencilFunc:()=>hn,NoBlending:()=>v,NoColorSpace:()=>Yt,NoToneMapping:()=>ee,NormalAnimationBlendMode:()=>Ft,NormalBlending:()=>y,NotEqualCompare:()=>Cn,NotEqualDepth:()=>Q,NotEqualStencilFunc:()=>yn,NumberKeyframeTrack:()=>Nf,Object3D:()=>Li,ObjectLoader:()=>Ch,ObjectSpaceNormalMap:()=>Kt,OctahedronGeometry:()=>nf,OneFactor:()=>T,OneMinusConstantAlphaFactor:()=>V,OneMinusConstantColorFactor:()=>F,OneMinusDstAlphaFactor:()=>L,OneMinusDstColorFactor:()=>N,OneMinusSrcAlphaFactor:()=>O,OneMinusSrcColorFactor:()=>R,OrthographicCamera:()=>Ao,P3Primaries:()=>rn,PCFShadowMap:()=>d,PCFSoftShadowMap:()=>f,PMREMGenerator:()=>Vo,Path:()=>dd,PerspectiveCamera:()=>no,Plane:()=>co,PlaneGeometry:()=>vo,PlaneHelper:()=>Zp,PointLight:()=>mh,PointLightHelper:()=>Op,Points:()=>Dc,PointsMaterial:()=>Rc,PolarGridHelper:()=>jp,PolyhedronGeometry:()=>vd,PositionalAudio:()=>Qh,PropertyBinding:()=>ap,PropertyMixer:()=>Jh,QuadraticBezierCurve:()=>od,QuadraticBezierCurve3:()=>sd,Quaternion:()=>Rr,QuaternionKeyframeTrack:()=>jf,QuaternionLinearInterpolant:()=>Uf,RED_GREEN_RGTC2_Format:()=>Tt,RED_RGTC1_Format:()=>Mt,REVISION:()=>r,RGBADepthPacking:()=>qt,RGBAFormat:()=>He,RGBAIntegerFormat:()=>Je,RGBA_ASTC_10x10_Format:()=>xt,RGBA_ASTC_10x5_Format:()=>yt,RGBA_ASTC_10x6_Format:()=>bt,RGBA_ASTC_10x8_Format:()=>wt,RGBA_ASTC_12x10_Format:()=>_t,RGBA_ASTC_12x12_Format:()=>St,RGBA_ASTC_4x4_Format:()=>ct,RGBA_ASTC_5x4_Format:()=>dt,RGBA_ASTC_5x5_Format:()=>ft,RGBA_ASTC_6x5_Format:()=>ht,RGBA_ASTC_6x6_Format:()=>pt,RGBA_ASTC_8x5_Format:()=>mt,RGBA_ASTC_8x6_Format:()=>gt,RGBA_ASTC_8x8_Format:()=>vt,RGBA_BPTC_Format:()=>Et,RGBA_ETC2_EAC_Format:()=>ut,RGBA_PVRTC_2BPPV1_Format:()=>ot,RGBA_PVRTC_4BPPV1_Format:()=>at,RGBA_S3TC_DXT1_Format:()=>et,RGBA_S3TC_DXT3_Format:()=>tt,RGBA_S3TC_DXT5_Format:()=>nt,RGBFormat:()=>Ve,RGB_BPTC_SIGNED_Format:()=>kt,RGB_BPTC_UNSIGNED_Format:()=>Ct,RGB_ETC1_Format:()=>st,RGB_ETC2_Format:()=>lt,RGB_PVRTC_2BPPV1_Format:()=>it,RGB_PVRTC_4BPPV1_Format:()=>rt,RGB_S3TC_DXT1_Format:()=>$e,RGFormat:()=>Qe,RGIntegerFormat:()=>Ze,RawShaderMaterial:()=>mf,Ray:()=>si,Raycaster:()=>gp,Rec709Primaries:()=>nn,RectAreaLight:()=>bh,RedFormat:()=>Ke,RedIntegerFormat:()=>Ye,ReinhardToneMapping:()=>ne,RenderTarget:()=>kr,RepeatWrapping:()=>ge,ReplaceStencilOp:()=>sn,ReverseSubtractEquation:()=>k,RingGeometry:()=>rf,SIGNED_RED_GREEN_RGTC2_Format:()=>At,SIGNED_RED_RGTC1_Format:()=>Pt,SRGBColorSpace:()=>Qt,SRGBTransfer:()=>tn,Scene:()=>iu,ShaderChunk:()=>yo,ShaderLib:()=>wo,ShaderMaterial:()=>Za,ShadowMaterial:()=>pf,Shape:()=>Ed,ShapeGeometry:()=>af,ShapePath:()=>rm,ShapeUtils:()=>Qd,ShortType:()=>Re,Skeleton:()=>Bu,SkeletonHelper:()=>Rp,SkinnedMesh:()=>Du,Source:()=>wr,Sphere:()=>$r,SphereGeometry:()=>of,Spherical:()=>bp,SphericalHarmonics3:()=>wh,SplineCurve:()=>ld,SpotLight:()=>ch,SpotLightHelper:()=>Mp,Sprite:()=>_u,SpriteMaterial:()=>lu,SrcAlphaFactor:()=>I,SrcAlphaSaturateFactor:()=>U,SrcColorFactor:()=>A,StaticCopyUsage:()=>Ln,StaticDrawUsage:()=>Tn,StaticReadUsage:()=>In,StereoCamera:()=>Nh,StreamCopyUsage:()=>Nn,StreamDrawUsage:()=>Rn,StreamReadUsage:()=>zn,StringKeyframeTrack:()=>Ff,SubtractEquation:()=>E,SubtractiveBlending:()=>w,TOUCH:()=>a,TangentSpaceNormalMap:()=>Xt,TetrahedronGeometry:()=>sf,Texture:()=>Sr,TextureLoader:()=>nh,TorusGeometry:()=>lf,TorusKnotGeometry:()=>uf,Triangle:()=>qi,TriangleFanDrawMode:()=>Wt,TriangleStripDrawMode:()=>Ht,TrianglesDrawMode:()=>Vt,TubeGeometry:()=>cf,UVMapping:()=>ce,Uint16BufferAttribute:()=>pa,Uint32BufferAttribute:()=>ga,Uint8BufferAttribute:()=>da,Uint8ClampedBufferAttribute:()=>fa,Uniform:()=>cp,UniformsGroup:()=>fp,UniformsLib:()=>bo,UniformsUtils:()=>Qa,UnsignedByteType:()=>Te,UnsignedInt248Type:()=>je,UnsignedInt5999Type:()=>Fe,UnsignedIntType:()=>ze,UnsignedShort4444Type:()=>Ne,UnsignedShort5551Type:()=>Ue,UnsignedShortType:()=>Ie,VSMShadowMap:()=>h,Vector2:()=>er,Vector3:()=>Ir,Vector4:()=>Er,VectorKeyframeTrack:()=>Bf,VideoTexture:()=>Uc,WebGL3DRenderTarget:()=>Ar,WebGLArrayRenderTarget:()=>Pr,WebGLCoordinateSystem:()=>Fn,WebGLCubeRenderTarget:()=>oo,WebGLMultipleRenderTargets:()=>im,WebGLRenderTarget:()=>Cr,WebGLRenderer:()=>tu,WebGLUtils:()=>Wl,WebGPUCoordinateSystem:()=>Bn,WireframeGeometry:()=>df,WrapAroundEnding:()=>jt,ZeroCurvatureEnding:()=>Nt,ZeroFactor:()=>P,ZeroSlopeEnding:()=>Ut,ZeroStencilOp:()=>an,createCanvasElement:()=>sr});const r="165",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o=0,s=1,l=2,u=3,c=0,d=1,f=2,h=3,p=0,m=1,g=2,v=0,y=1,b=2,w=3,x=4,_=5,S=100,E=101,k=102,C=103,M=104,P=200,T=201,A=202,R=203,I=204,O=205,z=206,L=207,D=208,N=209,U=210,j=211,F=212,B=213,V=214,H=0,W=1,G=2,q=3,X=4,K=5,Y=6,Q=7,Z=0,J=1,$=2,ee=0,te=1,ne=2,re=3,ie=4,ae=5,oe=6,se=7,le="attached",ue="detached",ce=300,de=301,fe=302,he=303,pe=304,me=306,ge=1e3,ve=1001,ye=1002,be=1003,we=1004,xe=1004,_e=1005,Se=1005,Ee=1006,ke=1007,Ce=1007,Me=1008,Pe=1008,Te=1009,Ae=1010,Re=1011,Ie=1012,Oe=1013,ze=1014,Le=1015,De=1016,Ne=1017,Ue=1018,je=1020,Fe=35902,Be=1021,Ve=1022,He=1023,We=1024,Ge=1025,qe=1026,Xe=1027,Ke=1028,Ye=1029,Qe=1030,Ze=1031,Je=1033,$e=33776,et=33777,tt=33778,nt=33779,rt=35840,it=35841,at=35842,ot=35843,st=36196,lt=37492,ut=37496,ct=37808,dt=37809,ft=37810,ht=37811,pt=37812,mt=37813,gt=37814,vt=37815,yt=37816,bt=37817,wt=37818,xt=37819,_t=37820,St=37821,Et=36492,kt=36494,Ct=36495,Mt=36283,Pt=36284,Tt=36285,At=36286,Rt=2200,It=2201,Ot=2202,zt=2300,Lt=2301,Dt=2302,Nt=2400,Ut=2401,jt=2402,Ft=2500,Bt=2501,Vt=0,Ht=1,Wt=2,Gt=3200,qt=3201,Xt=0,Kt=1,Yt="",Qt="srgb",Zt="srgb-linear",Jt="display-p3",$t="display-p3-linear",en="linear",tn="srgb",nn="rec709",rn="p3",an=0,on=7680,sn=7681,ln=7682,un=7683,cn=34055,dn=34056,fn=5386,hn=512,pn=513,mn=514,gn=515,vn=516,yn=517,bn=518,wn=519,xn=512,_n=513,Sn=514,En=515,kn=516,Cn=517,Mn=518,Pn=519,Tn=35044,An=35048,Rn=35040,In=35045,On=35049,zn=35041,Ln=35046,Dn=35050,Nn=35042,Un="100",jn="300 es",Fn=2e3,Bn=2001;class Vn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Hn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Wn=1234567;const Gn=Math.PI/180,qn=180/Math.PI;function Xn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Hn[255&e]+Hn[e>>8&255]+Hn[e>>16&255]+Hn[e>>24&255]+"-"+Hn[255&t]+Hn[t>>8&255]+"-"+Hn[t>>16&15|64]+Hn[t>>24&255]+"-"+Hn[63&n|128]+Hn[n>>8&255]+"-"+Hn[n>>16&255]+Hn[n>>24&255]+Hn[255&r]+Hn[r>>8&255]+Hn[r>>16&255]+Hn[r>>24&255]).toLowerCase()}function Kn(e,t,n){return Math.max(t,Math.min(n,e))}function Yn(e,t){return(e%t+t)%t}function Qn(e,t,n){return(1-n)*e+n*t}function Zn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Jn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const $n={DEG2RAD:Gn,RAD2DEG:qn,generateUUID:Xn,clamp:Kn,euclideanModulo:Yn,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Qn,damp:function(e,t,n,r){return Qn(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Yn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Wn=e);let t=Wn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Gn},radToDeg:function(e){return e*qn},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),h=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*f,s*u);break;case"YZY":e.set(l*f,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*f,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Jn,denormalize:Zn};class er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;er.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Kn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tr{constructor(e,t,n,r,i,a,o,s,l){tr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],f=n[5],h=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=a*p+o*v+s*w,i[3]=a*m+o*y+s*x,i[6]=a*g+o*b+s*_,i[1]=l*p+u*v+c*w,i[4]=l*m+u*y+c*x,i[7]=l*g+u*b+c*_,i[2]=d*p+f*v+h*w,i[5]=d*m+f*y+h*x,i[8]=d*g+f*b+h*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,f=l*i-a*s,h=t*c+n*d+r*f;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);const p=1/h;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(nr.makeScale(e,t)),this}rotate(e){return this.premultiply(nr.makeRotation(-e)),this}translate(e,t){return this.premultiply(nr.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const nr=new tr;function rr(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const ir={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ar(e,t){return new ir[e](t)}function or(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function sr(){const e=or("canvas");return e.style.display="block",e}const lr={};function ur(e){e in lr||(lr[e]=!0,console.warn(e))}const cr=(new tr).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),dr=(new tr).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),fr={[Zt]:{transfer:en,primaries:nn,toReference:e=>e,fromReference:e=>e},[Qt]:{transfer:tn,primaries:nn,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[$t]:{transfer:en,primaries:rn,toReference:e=>e.applyMatrix3(dr),fromReference:e=>e.applyMatrix3(cr)},[Jt]:{transfer:tn,primaries:rn,toReference:e=>e.convertSRGBToLinear().applyMatrix3(dr),fromReference:e=>e.applyMatrix3(cr).convertLinearToSRGB()}},hr=new Set([Zt,$t]),pr={enabled:!0,_workingColorSpace:Zt,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!hr.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=fr[t].toReference;return(0,fr[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return fr[e].primaries},getTransfer:function(e){return e===Yt?en:fr[e].transfer}};function mr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function gr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let vr;class yr{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vr&&(vr=or("canvas")),vr.width=e.width,vr.height=e.height;const n=vr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=or("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*mr(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*mr(t[e]/255)):t[e]=mr(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let br=0;class wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:br++}),this.uuid=Xn(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(xr(r[t].image)):e.push(xr(r[t]))}else e=xr(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function xr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?yr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _r=0;class Sr extends Vn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sr.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ve,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ee,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Me,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:He,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Te,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Sr.DEFAULT_ANISOTROPY,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Yt;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_r++}),this.uuid=Xn(),this.name="",this.source=new wr(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new er(0,0),this.repeat=new er(1,1),this.center=new er(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ce)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ge:e.x=e.x-Math.floor(e.x);break;case ve:e.x=e.x<0?0:1;break;case ye:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ge:e.y=e.y-Math.floor(e.y);break;case ve:e.y=e.y<0?0:1;break;case ye:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Sr.DEFAULT_IMAGE=null,Sr.DEFAULT_MAPPING=ce,Sr.DEFAULT_ANISOTROPY=1;class Er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Er.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],f=s[5],h=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(h-m)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(h+m)<o&&Math.abs(l+f+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(f+1)/2,v=(g+1)/2,y=(u+d)/4,b=(c+p)/4,w=(h+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=w/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=w/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-h)*(m-h)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(v)<.001&&(v=1),this.x=(m-h)/v,this.y=(c-p)/v,this.z=(d-u)/v,this.w=Math.acos((l+f+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kr extends Vn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Er(0,0,e,t),this.scissorTest=!1,this.viewport=new Er(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ee,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new Sr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=i.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new wr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Cr extends kr{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class Mr extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=be,this.minFilter=be,this.wrapR=ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Pr extends Cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Mr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Tr extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=be,this.minFilter=be,this.wrapR=ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ar extends Cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Tr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3];const d=i[a+0],f=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=f,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==d||l!==f||u!==h){let e=1-o;const t=s*d+l*f+u*h+c*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+d*i,l=l*e+f*i,u=u*e+h*i,c=c*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=e,l*=e,u*=e,c*=e}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],f=i[a+2],h=i[a+3];return e[t]=o*h+u*c+s*f-l*d,e[t+1]=s*h+u*d+l*c-o*f,e[t+2]=l*h+u*f+o*d-s*c,e[t+3]=u*h-o*c-s*d-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),f=s(r/2),h=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"YXZ":this._x=d*u*c+l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"ZXY":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c-d*f*h;break;case"ZYX":this._x=d*u*c-l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c+d*f*h;break;case"YZX":this._x=d*u*c+l*f*h,this._y=l*f*c+d*u*h,this._z=l*u*h-d*f*c,this._w=l*u*c-d*f*h;break;case"XZY":this._x=d*u*c-l*f*h,this._y=l*f*c-d*u*h,this._z=l*u*h+d*f*c,this._w=l*u*c+d*f*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(u-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>c){const e=2*Math.sqrt(1+n-o-c);this._w=(u-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>c){const e=2*Math.sqrt(1+o-n-c);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+u)/e}else{const e=2*Math.sqrt(1+c-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),u=Math.atan2(l,o),c=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=a*c+this._w*d,this._x=n*c+this._x*d,this._y=r*c+this._y*d,this._z=i*c+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ir.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(zr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),u=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*l+a*c-o*u,this.y=n+s*u+o*l-i*c,this.z=r+s*c+i*u-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Or.copy(this).projectOnVector(e),this.sub(Or)}reflect(e){return this.sub(Or.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Kn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Or=new Ir,zr=new Rr;class Lr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Nr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Nr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Nr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Nr):Nr.fromBufferAttribute(r,t),Nr.applyMatrix4(e.matrixWorld),this.expandByPoint(Nr);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Ur.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Ur.copy(n.boundingBox)),Ur.applyMatrix4(e.matrixWorld),this.union(Ur)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Nr),Nr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gr),qr.subVectors(this.max,Gr),jr.subVectors(e.a,Gr),Fr.subVectors(e.b,Gr),Br.subVectors(e.c,Gr),Vr.subVectors(Fr,jr),Hr.subVectors(Br,Fr),Wr.subVectors(jr,Br);let t=[0,-Vr.z,Vr.y,0,-Hr.z,Hr.y,0,-Wr.z,Wr.y,Vr.z,0,-Vr.x,Hr.z,0,-Hr.x,Wr.z,0,-Wr.x,-Vr.y,Vr.x,0,-Hr.y,Hr.x,0,-Wr.y,Wr.x,0];return!!Yr(t,jr,Fr,Br,qr)&&(t=[1,0,0,0,1,0,0,0,1],!!Yr(t,jr,Fr,Br,qr)&&(Xr.crossVectors(Vr,Hr),t=[Xr.x,Xr.y,Xr.z],Yr(t,jr,Fr,Br,qr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Nr).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Dr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Dr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Dr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Dr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Dr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Dr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Dr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Dr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Dr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Dr=[new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir],Nr=new Ir,Ur=new Lr,jr=new Ir,Fr=new Ir,Br=new Ir,Vr=new Ir,Hr=new Ir,Wr=new Ir,Gr=new Ir,qr=new Ir,Xr=new Ir,Kr=new Ir;function Yr(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Kr.fromArray(e,a);const o=i.x*Math.abs(Kr.x)+i.y*Math.abs(Kr.y)+i.z*Math.abs(Kr.z),s=t.dot(Kr),l=n.dot(Kr),u=r.dot(Kr);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>o)return!1}return!0}const Qr=new Lr,Zr=new Ir,Jr=new Ir;class $r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Qr.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zr.subVectors(e,this.center);const t=Zr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Zr,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Jr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zr.copy(e.center).add(Jr)),this.expandByPoint(Zr.copy(e.center).sub(Jr))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ei=new Ir,ti=new Ir,ni=new Ir,ri=new Ir,ii=new Ir,ai=new Ir,oi=new Ir;class si{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ei)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ei.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ei.copy(this.origin).addScaledVector(this.direction,t),ei.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ti.copy(e).add(t).multiplyScalar(.5),ni.copy(t).sub(e).normalize(),ri.copy(this.origin).sub(ti);const i=.5*e.distanceTo(t),a=-this.direction.dot(ni),o=ri.dot(this.direction),s=-ri.dot(ni),l=ri.lengthSq(),u=Math.abs(1-a*a);let c,d,f,h;if(u>0)if(c=a*s-o,d=a*o-s,h=i*u,c>=0)if(d>=-h)if(d<=h){const e=1/u;c*=e,d*=e,f=c*(c+a*d+2*o)+d*(a*c+d+2*s)+l}else d=i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;else d=-i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;else d<=-h?(c=Math.max(0,-(-a*i+o)),d=c>0?-i:Math.min(Math.max(-i,-s),i),f=-c*c+d*(d+2*s)+l):d<=h?(c=0,d=Math.min(Math.max(-i,-s),i),f=d*(d+2*s)+l):(c=Math.max(0,-(a*i+o)),d=c>0?i:Math.min(Math.max(-i,-s),i),f=-c*c+d*(d+2*s)+l);else d=a>0?-i:i,c=Math.max(0,-(a*d+o)),f=-c*c+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,c),r&&r.copy(ti).addScaledVector(ni,d),f}intersectSphere(e,t){ei.subVectors(e.center,this.origin);const n=ei.dot(this.direction),r=ei.dot(ei)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,ei)}intersectTriangle(e,t,n,r,i){ii.subVectors(t,e),ai.subVectors(n,e),oi.crossVectors(ii,ai);let a,o=this.direction.dot(oi);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ri.subVectors(this.origin,e);const s=a*this.direction.dot(ai.crossVectors(ri,ai));if(s<0)return null;const l=a*this.direction.dot(ii.cross(ri));if(l<0)return null;if(s+l>o)return null;const u=-a*ri.dot(oi);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class li{constructor(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m){li.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m)}set(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=f,g[7]=h,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new li).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/ui.setFromMatrixColumn(e,0).length(),i=1/ui.setFromMatrixColumn(e,1).length(),a=1/ui.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e-i*o,t[4]=-a*c,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*u,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=e*c+i,t[5]=a*u,t[9]=n*c-r,t[2]=r*c-n,t[6]=o*u,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(di,e,fi)}lookAt(e,t,n){const r=this.elements;return mi.subVectors(e,t),0===mi.lengthSq()&&(mi.z=1),mi.normalize(),hi.crossVectors(n,mi),0===hi.lengthSq()&&(1===Math.abs(n.z)?mi.x+=1e-4:mi.z+=1e-4,mi.normalize(),hi.crossVectors(n,mi)),hi.normalize(),pi.crossVectors(mi,hi),r[0]=hi.x,r[4]=pi.x,r[8]=mi.x,r[1]=hi.y,r[5]=pi.y,r[9]=mi.y,r[2]=hi.z,r[6]=pi.z,r[10]=mi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],f=n[13],h=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],S=r[8],E=r[12],k=r[1],C=r[5],M=r[9],P=r[13],T=r[2],A=r[6],R=r[10],I=r[14],O=r[3],z=r[7],L=r[11],D=r[15];return i[0]=a*x+o*k+s*T+l*O,i[4]=a*_+o*C+s*A+l*z,i[8]=a*S+o*M+s*R+l*L,i[12]=a*E+o*P+s*I+l*D,i[1]=u*x+c*k+d*T+f*O,i[5]=u*_+c*C+d*A+f*z,i[9]=u*S+c*M+d*R+f*L,i[13]=u*E+c*P+d*I+f*D,i[2]=h*x+p*k+m*T+g*O,i[6]=h*_+p*C+m*A+g*z,i[10]=h*S+p*M+m*R+g*L,i[14]=h*E+p*P+m*I+g*D,i[3]=v*x+y*k+b*T+w*O,i[7]=v*_+y*C+b*A+w*z,i[11]=v*S+y*M+b*R+w*L,i[15]=v*E+y*P+b*I+w*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*d+i*a*d-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],h=e[12],p=e[13],m=e[14],g=e[15],v=c*m*l-p*d*l+p*s*f-o*m*f-c*s*g+o*d*g,y=h*d*l-u*m*l-h*s*f+a*m*f+u*s*g-a*d*g,b=u*p*l-h*c*l+h*o*f-a*p*f-u*o*g+a*c*g,w=h*c*s-u*p*s-h*o*d+a*p*d+u*o*m-a*c*m,x=t*v+n*y+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=v*_,e[1]=(p*d*i-c*m*i-p*r*f+n*m*f+c*r*g-n*d*g)*_,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*_,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*f-n*s*f)*_,e[4]=y*_,e[5]=(u*m*i-h*d*i+h*r*f-t*m*f-u*r*g+t*d*g)*_,e[6]=(h*s*i-a*m*i-h*r*l+t*m*l+a*r*g-t*s*g)*_,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*f+t*s*f)*_,e[8]=b*_,e[9]=(h*c*i-u*p*i-h*n*f+t*p*f+u*n*g-t*c*g)*_,e[10]=(a*p*i-h*o*i+h*n*l-t*p*l-a*n*g+t*o*g)*_,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*_,e[12]=w*_,e[13]=(u*p*r-h*c*r+h*n*d-t*p*d-u*n*m+t*c*m)*_,e[14]=(h*o*r-a*p*r-h*n*s+t*p*s+a*n*m-t*o*m)*_,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,f=i*u,h=i*c,p=a*u,m=a*c,g=o*c,v=s*l,y=s*u,b=s*c,w=n.x,x=n.y,_=n.z;return r[0]=(1-(p+g))*w,r[1]=(f+b)*w,r[2]=(h-y)*w,r[3]=0,r[4]=(f-b)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(h+y)*_,r[9]=(m-v)*_,r[10]=(1-(d+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=ui.set(r[0],r[1],r[2]).length();const a=ui.set(r[4],r[5],r[6]).length(),o=ui.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ci.copy(this);const s=1/i,l=1/a,u=1/o;return ci.elements[0]*=s,ci.elements[1]*=s,ci.elements[2]*=s,ci.elements[4]*=l,ci.elements[5]*=l,ci.elements[6]*=l,ci.elements[8]*=u,ci.elements[9]*=u,ci.elements[10]*=u,t.setFromRotationMatrix(ci),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fn;const s=this.elements,l=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),d=(n+r)/(n-r);let f,h;if(o===Fn)f=-(a+i)/(a-i),h=-2*a*i/(a-i);else{if(o!==Bn)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);f=-a/(a-i),h=-a*i/(a-i)}return s[0]=l,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fn;const s=this.elements,l=1/(t-e),u=1/(n-r),c=1/(a-i),d=(t+e)*l,f=(n+r)*u;let h,p;if(o===Fn)h=(a+i)*c,p=-2*c;else{if(o!==Bn)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);h=i*c,p=-1*c}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=p,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ui=new Ir,ci=new li,di=new Ir(0,0,0),fi=new Ir(1,1,1),hi=new Ir,pi=new Ir,mi=new Ir,gi=new li,vi=new Rr;class yi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yi.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Kn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Kn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Kn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Kn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Kn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Kn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return gi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gi,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return vi.setFromEuler(this),this.setFromQuaternion(vi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}yi.DEFAULT_ORDER="XYZ";class bi{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let wi=0;const xi=new Ir,_i=new Rr,Si=new li,Ei=new Ir,ki=new Ir,Ci=new Ir,Mi=new Rr,Pi=new Ir(1,0,0),Ti=new Ir(0,1,0),Ai=new Ir(0,0,1),Ri={type:"added"},Ii={type:"removed"},Oi={type:"childadded",child:null},zi={type:"childremoved",child:null};class Li extends Vn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wi++}),this.uuid=Xn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Li.DEFAULT_UP.clone();const e=new Ir,t=new yi,n=new Rr,r=new Ir(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new li},normalMatrix:{value:new tr}}),this.matrix=new li,this.matrixWorld=new li,this.matrixAutoUpdate=Li.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Li.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new bi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _i.setFromAxisAngle(e,t),this.quaternion.multiply(_i),this}rotateOnWorldAxis(e,t){return _i.setFromAxisAngle(e,t),this.quaternion.premultiply(_i),this}rotateX(e){return this.rotateOnAxis(Pi,e)}rotateY(e){return this.rotateOnAxis(Ti,e)}rotateZ(e){return this.rotateOnAxis(Ai,e)}translateOnAxis(e,t){return xi.copy(e).applyQuaternion(this.quaternion),this.position.add(xi.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Pi,e)}translateY(e){return this.translateOnAxis(Ti,e)}translateZ(e){return this.translateOnAxis(Ai,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Si.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ei.copy(e):Ei.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ki.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Si.lookAt(ki,Ei,this.up):Si.lookAt(Ei,ki,this.up),this.quaternion.setFromRotationMatrix(Si),r&&(Si.extractRotation(r.matrixWorld),_i.setFromRotationMatrix(Si),this.quaternion.premultiply(_i.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Ri),Oi.child=e,this.dispatchEvent(Oi),Oi.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Ii),zi.child=e,this.dispatchEvent(zi),zi.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Si.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Si.multiply(e.parent.matrixWorld)),e.applyMatrix4(Si),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Ri),Oi.child=e,this.dispatchEvent(Oi),Oi.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ki,e,Ci),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ki,Mi,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),u=a(e.animations),c=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Li.DEFAULT_UP=new Ir(0,1,0),Li.DEFAULT_MATRIX_AUTO_UPDATE=!0,Li.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Di=new Ir,Ni=new Ir,Ui=new Ir,ji=new Ir,Fi=new Ir,Bi=new Ir,Vi=new Ir,Hi=new Ir,Wi=new Ir,Gi=new Ir;class qi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Di.subVectors(e,t),r.cross(Di);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Di.subVectors(r,t),Ni.subVectors(n,t),Ui.subVectors(e,t);const a=Di.dot(Di),o=Di.dot(Ni),s=Di.dot(Ui),l=Ni.dot(Ni),u=Ni.dot(Ui),c=a*l-o*o;if(0===c)return i.set(0,0,0),null;const d=1/c,f=(l*s-o*u)*d,h=(a*u-o*s)*d;return i.set(1-f-h,h,f)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,ji)&&(ji.x>=0&&ji.y>=0&&ji.x+ji.y<=1)}static getInterpolation(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,ji)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,ji.x),s.addScaledVector(a,ji.y),s.addScaledVector(o,ji.z),s)}static isFrontFacing(e,t,n,r){return Di.subVectors(n,t),Ni.subVectors(e,t),Di.cross(Ni).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Di.subVectors(this.c,this.b),Ni.subVectors(this.a,this.b),.5*Di.cross(Ni).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return qi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return qi.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return qi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;Fi.subVectors(r,n),Bi.subVectors(i,n),Hi.subVectors(e,n);const s=Fi.dot(Hi),l=Bi.dot(Hi);if(s<=0&&l<=0)return t.copy(n);Wi.subVectors(e,r);const u=Fi.dot(Wi),c=Bi.dot(Wi);if(u>=0&&c<=u)return t.copy(r);const d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return a=s/(s-u),t.copy(n).addScaledVector(Fi,a);Gi.subVectors(e,i);const f=Fi.dot(Gi),h=Bi.dot(Gi);if(h>=0&&f<=h)return t.copy(i);const p=f*l-s*h;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(n).addScaledVector(Bi,o);const m=u*h-f*c;if(m<=0&&c-u>=0&&f-h>=0)return Vi.subVectors(i,r),o=(c-u)/(c-u+(f-h)),t.copy(r).addScaledVector(Vi,o);const g=1/(m+p+d);return a=p*g,o=d*g,t.copy(n).addScaledVector(Fi,a).addScaledVector(Bi,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ki={h:0,s:0,l:0},Yi={h:0,s:0,l:0};function Qi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Zi{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,pr.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pr.workingColorSpace;return this.r=e,this.g=t,this.b=n,pr.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pr.workingColorSpace;if(e=Yn(e,1),t=Kn(t,0,1),n=Kn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Qi(i,r,e+1/3),this.g=Qi(i,r,e),this.b=Qi(i,r,e-1/3)}return pr.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt;const n=Xi[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mr(e.r),this.g=mr(e.g),this.b=mr(e.b),this}copyLinearToSRGB(e){return this.r=gr(e.r),this.g=gr(e.g),this.b=gr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return pr.fromWorkingColorSpace(Ji.copy(this),e),65536*Math.round(Kn(255*Ji.r,0,255))+256*Math.round(Kn(255*Ji.g,0,255))+Math.round(Kn(255*Ji.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr.workingColorSpace;pr.fromWorkingColorSpace(Ji.copy(this),t);const n=Ji.r,r=Ji.g,i=Ji.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const u=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=u<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=u,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr.workingColorSpace;return pr.fromWorkingColorSpace(Ji.copy(this),t),e.r=Ji.r,e.g=Ji.g,e.b=Ji.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;pr.fromWorkingColorSpace(Ji.copy(this),e);const t=Ji.r,n=Ji.g,r=Ji.b;return e!==Qt?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL(Ki),this.setHSL(Ki.h+e,Ki.s+t,Ki.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ki),e.getHSL(Yi);const n=Qn(Ki.h,Yi.h,t),r=Qn(Ki.s,Yi.s,t),i=Qn(Ki.l,Yi.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ji=new Zi;Zi.NAMES=Xi;let $i=0;class ea extends Vn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$i++}),this.uuid=Xn(),this.name="",this.type="Material",this.blending=y,this.side=p,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=I,this.blendDst=O,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Zi(0,0,0),this.blendAlpha=0,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=on,this.stencilZFail=on,this.stencilZPass=on,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==y&&(n.blending=this.blending),this.side!==p&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==I&&(n.blendSrc=this.blendSrc),this.blendDst!==O&&(n.blendDst=this.blendDst),this.blendEquation!==S&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==q&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wn&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==on&&(n.stencilFail=this.stencilFail),this.stencilZFail!==on&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==on&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class ta extends ea{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Zi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yi,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const na=ra();function ra(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function ia(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Kn(e,-65504,65504),na.floatView[0]=e;const t=na.uint32View[0],n=t>>23&511;return na.baseTable[n]+((8388607&t)>>na.shiftTable[n])}function aa(e){const t=e>>10;return na.uint32View[0]=na.mantissaTable[na.offsetTable[t]+(1023&e)]+na.exponentTable[t],na.floatView[0]}const oa={toHalfFloat:ia,fromHalfFloat:aa},sa=new Ir,la=new er;class ua{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Tn,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Le,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ur("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)la.fromBufferAttribute(this,t),la.applyMatrix3(e),this.setXY(t,la.x,la.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)sa.fromBufferAttribute(this,t),sa.applyMatrix3(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)sa.fromBufferAttribute(this,t),sa.applyMatrix4(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)sa.fromBufferAttribute(this,t),sa.applyNormalMatrix(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)sa.fromBufferAttribute(this,t),sa.transformDirection(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Zn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Zn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Zn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Zn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Zn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Tn&&(e.usage=this.usage),e}}class ca extends ua{constructor(e,t,n){super(new Int8Array(e),t,n)}}class da extends ua{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class fa extends ua{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class ha extends ua{constructor(e,t,n){super(new Int16Array(e),t,n)}}class pa extends ua{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ma extends ua{constructor(e,t,n){super(new Int32Array(e),t,n)}}class ga extends ua{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class va extends ua{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=aa(this.array[e*this.itemSize]);return this.normalized&&(t=Zn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=ia(t),this}getY(e){let t=aa(this.array[e*this.itemSize+1]);return this.normalized&&(t=Zn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=ia(t),this}getZ(e){let t=aa(this.array[e*this.itemSize+2]);return this.normalized&&(t=Zn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=ia(t),this}getW(e){let t=aa(this.array[e*this.itemSize+3]);return this.normalized&&(t=Zn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=ia(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.array[e+0]=ia(t),this.array[e+1]=ia(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.array[e+0]=ia(t),this.array[e+1]=ia(n),this.array[e+2]=ia(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.array[e+0]=ia(t),this.array[e+1]=ia(n),this.array[e+2]=ia(r),this.array[e+3]=ia(i),this}}class ya extends ua{constructor(e,t,n){super(new Float32Array(e),t,n)}}let ba=0;const wa=new li,xa=new Li,_a=new Ir,Sa=new Lr,Ea=new Lr,ka=new Ir;class Ca extends Vn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ba++}),this.uuid=Xn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rr(e)?ga:pa)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new tr).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return wa.makeRotationFromQuaternion(e),this.applyMatrix4(wa),this}rotateX(e){return wa.makeRotationX(e),this.applyMatrix4(wa),this}rotateY(e){return wa.makeRotationY(e),this.applyMatrix4(wa),this}rotateZ(e){return wa.makeRotationZ(e),this.applyMatrix4(wa),this}translate(e,t,n){return wa.makeTranslation(e,t,n),this.applyMatrix4(wa),this}scale(e,t,n){return wa.makeScale(e,t,n),this.applyMatrix4(wa),this}lookAt(e){return xa.lookAt(e),xa.updateMatrix(),this.applyMatrix4(xa.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_a).negate(),this.translate(_a.x,_a.y,_a.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ya(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Lr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Ir(-1/0,-1/0,-1/0),new Ir(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];Sa.setFromBufferAttribute(e),this.morphTargetsRelative?(ka.addVectors(this.boundingBox.min,Sa.min),this.boundingBox.expandByPoint(ka),ka.addVectors(this.boundingBox.max,Sa.max),this.boundingBox.expandByPoint(ka)):(this.boundingBox.expandByPoint(Sa.min),this.boundingBox.expandByPoint(Sa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Ir,1/0);if(e){const n=this.boundingSphere.center;if(Sa.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];Ea.setFromBufferAttribute(n),this.morphTargetsRelative?(ka.addVectors(Sa.min,Ea.min),Sa.expandByPoint(ka),ka.addVectors(Sa.max,Ea.max),Sa.expandByPoint(ka)):(Sa.expandByPoint(Ea.min),Sa.expandByPoint(Ea.max))}Sa.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)ka.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(ka));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)ka.fromBufferAttribute(a,t),o&&(_a.fromBufferAttribute(e,t),ka.add(_a)),r=Math.max(r,n.distanceToSquared(ka))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ua(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new Ir,s[S]=new Ir;const l=new Ir,u=new Ir,c=new Ir,d=new er,f=new er,h=new er,p=new Ir,m=new Ir;function g(e,t,r){l.fromBufferAttribute(n,e),u.fromBufferAttribute(n,t),c.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),f.fromBufferAttribute(i,t),h.fromBufferAttribute(i,r),u.sub(l),c.sub(l),f.sub(d),h.sub(d);const a=1/(f.x*h.y-h.x*f.y);isFinite(a)&&(p.copy(u).multiplyScalar(h.y).addScaledVector(c,-f.y).multiplyScalar(a),m.copy(c).multiplyScalar(f.x).addScaledVector(u,-h.x).multiplyScalar(a),o[e].add(p),o[t].add(p),o[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new Ir,b=new Ir,w=new Ir,x=new Ir;function _(e){w.fromBufferAttribute(r,e),x.copy(w);const t=o[e];y.copy(t),y.sub(w.multiplyScalar(w.dot(t))).normalize(),b.crossVectors(x,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)_(e.getX(r+0)),_(e.getX(r+1)),_(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ua(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Ir,i=new Ir,a=new Ir,o=new Ir,s=new Ir,l=new Ir,u=new Ir,c=new Ir;if(e)for(let d=0,f=e.count;d<f;d+=3){const f=e.getX(d+0),h=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,h),a.fromBufferAttribute(t,p),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),o.fromBufferAttribute(n,f),s.fromBufferAttribute(n,h),l.fromBufferAttribute(n,p),o.add(u),s.add(u),l.add(u),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ka.fromBufferAttribute(e,t),ka.normalize(),e.setXYZ(t,ka.x,ka.y,ka.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new ua(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ca,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,u=a.length;l<u;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ma=new li,Pa=new si,Ta=new $r,Aa=new Ir,Ra=new Ir,Ia=new Ir,Oa=new Ir,za=new Ir,La=new Ir,Da=new er,Na=new er,Ua=new er,ja=new Ir,Fa=new Ir,Ba=new Ir,Va=new Ir,Ha=new Ir;class Wa extends Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ca,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ta;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){La.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(za.fromBufferAttribute(s,e),a?La.addScaledVector(za,r):La.addScaledVector(za.sub(t),r))}t.add(La)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Ta.copy(n.boundingSphere),Ta.applyMatrix4(i),Pa.copy(e.ray).recast(e.near),!1===Ta.containsPoint(Pa.origin)){if(null===Pa.intersectSphere(Ta,Aa))return;if(Pa.origin.distanceToSquared(Aa)>(e.far-e.near)**2)return}Ma.copy(i).invert(),Pa.copy(e.ray).applyMatrix4(Ma),null!==n.boundingBox&&!1===Pa.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Pa)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(let h=0,p=d.length;h<p;h++){const i=d[h],s=a[i.materialIndex];for(let a=Math.max(i.start,f.start),d=Math.min(o.count,Math.min(i.start+i.count,f.start+f.count));a<d;a+=3){r=Ga(this,s,e,n,l,u,c,o.getX(a),o.getX(a+1),o.getX(a+2)),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),s=Math.min(o.count,f.start+f.count);i<s;i+=3){r=Ga(this,a,e,n,l,u,c,o.getX(i),o.getX(i+1),o.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(a))for(let h=0,p=d.length;h<p;h++){const i=d[h],o=a[i.materialIndex];for(let a=Math.max(i.start,f.start),d=Math.min(s.count,Math.min(i.start+i.count,f.start+f.count));a<d;a+=3){r=Ga(this,o,e,n,l,u,c,a,a+1,a+2),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),o=Math.min(s.count,f.start+f.count);i<o;i+=3){r=Ga(this,a,e,n,l,u,c,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Ga(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,Ra),e.getVertexPosition(l,Ia),e.getVertexPosition(u,Oa);const c=function(e,t,n,r,i,a,o,s){let l;if(l=t.side===m?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===p,s),null===l)return null;Ha.copy(s),Ha.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(Ha);return u<n.near||u>n.far?null:{distance:u,point:Ha.clone(),object:e}}(e,t,n,r,Ra,Ia,Oa,Va);if(c){i&&(Da.fromBufferAttribute(i,s),Na.fromBufferAttribute(i,l),Ua.fromBufferAttribute(i,u),c.uv=qi.getInterpolation(Va,Ra,Ia,Oa,Da,Na,Ua,new er)),a&&(Da.fromBufferAttribute(a,s),Na.fromBufferAttribute(a,l),Ua.fromBufferAttribute(a,u),c.uv1=qi.getInterpolation(Va,Ra,Ia,Oa,Da,Na,Ua,new er)),o&&(ja.fromBufferAttribute(o,s),Fa.fromBufferAttribute(o,l),Ba.fromBufferAttribute(o,u),c.normal=qi.getInterpolation(Va,Ra,Ia,Oa,ja,Fa,Ba,new Ir),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const e={a:s,b:l,c:u,normal:new Ir,materialIndex:0};qi.getNormal(Ra,Ia,Oa,e.normal),c.face=e}return c}class qa extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],u=[],c=[];let d=0,f=0;function h(e,t,n,r,i,a,h,p,m,g,v){const y=a/m,b=h/g,w=a/2,x=h/2,_=p/2,S=m+1,E=g+1;let k=0,C=0;const M=new Ir;for(let o=0;o<E;o++){const a=o*b-x;for(let s=0;s<S;s++){const d=s*y-w;M[e]=d*r,M[t]=a*i,M[n]=_,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,u.push(M.x,M.y,M.z),c.push(s/m),c.push(1-o/g),k+=1}}for(let o=0;o<g;o++)for(let e=0;e<m;e++){const t=d+e+S*o,n=d+e+S*(o+1),r=d+(e+1)+S*(o+1),i=d+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),C+=6}o.addGroup(f,C,v),f+=C,d+=k}h("z","y","x",-1,-1,n,t,e,a,i,0),h("z","y","x",1,-1,n,t,-e,a,i,1),h("x","z","y",1,1,e,n,t,r,a,2),h("x","z","y",1,-1,e,n,-t,r,a,3),h("x","y","z",1,-1,e,t,n,r,i,4),h("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new ya(l,3)),this.setAttribute("normal",new ya(u,3)),this.setAttribute("uv",new ya(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xa(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Ka(e){const t={};for(let n=0;n<e.length;n++){const r=Xa(e[n]);for(const e in r)t[e]=r[e]}return t}function Ya(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:pr.workingColorSpace}const Qa={clone:Xa,merge:Ka};class Za extends ea{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xa(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Ja extends Li{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new li,this.projectionMatrix=new li,this.projectionMatrixInverse=new li,this.coordinateSystem=Fn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const $a=new Ir,eo=new er,to=new er;class no extends Ja{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*qn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Gn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*qn*Math.atan(Math.tan(.5*Gn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){$a.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set($a.x,$a.y).multiplyScalar(-e/$a.z),$a.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set($a.x,$a.y).multiplyScalar(-e/$a.z)}getViewSize(e,t){return this.getViewBounds(e,eo,to),t.subVectors(to,eo)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Gn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ro=-90;class io extends Li{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new no(ro,1,e,t);r.layers=this.layers,this.add(r);const i=new no(ro,1,e,t);i.layers=this.layers,this.add(i);const a=new no(ro,1,e,t);a.layers=this.layers,this.add(a);const o=new no(ro,1,e,t);o.layers=this.layers,this.add(o);const s=new no(ro,1,e,t);s.layers=this.layers,this.add(s);const l=new no(ro,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(const l of t)this.remove(l);if(e===Fn)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==Bn)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,u]=this.children,c=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,u),e.setRenderTarget(c,d,f),e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class ao extends Sr{constructor(e,t,n,r,i,a,o,s,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:de,n,r,i,a,o,s,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oo extends Cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new ao(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ee}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new qa(5,5,5),o=new Za({name:"CubemapFromEquirect",uniforms:Xa(n),vertexShader:r,fragmentShader:i,side:m,blending:v});o.uniforms.tEquirect.value=t;const s=new Wa(a,o),l=t.minFilter;t.minFilter===Me&&(t.minFilter=Ee);return new io(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}const so=new Ir,lo=new Ir,uo=new tr;class co{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=so.subVectors(n,t).cross(lo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(so),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||uo.getNormalMatrix(e),r=this.coplanarPoint(so).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const fo=new $r,ho=new Ir;class po{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new co,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new co,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new co,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new co,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new co,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new co;this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn;const n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-f,b-g).normalize(),n[1].setComponents(s+i,d+l,m+f,b+g).normalize(),n[2].setComponents(s+a,d+u,m+h,b+v).normalize(),n[3].setComponents(s-a,d-u,m-h,b-v).normalize(),n[4].setComponents(s-o,d-c,m-p,b-y).normalize(),t===Fn)n[5].setComponents(s+o,d+c,m+p,b+y).normalize();else{if(t!==Bn)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),fo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),fo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(fo)}intersectsSprite(e){return fo.center.set(0,0,0),fo.radius=.7071067811865476,fo.applyMatrix4(e.matrixWorld),this.intersectsSphere(fo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ho.x=r.normal.x>0?e.max.x:e.min.x,ho.y=r.normal.y>0?e.max.y:e.min.y,ho.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ho)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function mo(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function go(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n._updateRange,o=n.updateRanges;if(e.bindBuffer(r,t),-1===a.count&&0===o.length&&e.bufferSubData(r,0,i),0!==o.length){for(let t=0,n=o.length;t<n;t++){const n=o[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}-1!==a.count&&(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i,a.offset,a.count),a.count=-1),n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class vo extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,u=s+1,c=e/o,d=t/s,f=[],h=[],p=[],m=[];for(let g=0;g<u;g++){const e=g*d-a;for(let t=0;t<l;t++){const n=t*c-i;h.push(n,-e,0),p.push(0,0,1),m.push(t/o),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;f.push(t,n,i),f.push(n,r,i)}this.setIndex(f),this.setAttribute("position",new ya(h,3)),this.setAttribute("normal",new ya(p,3)),this.setAttribute("uv",new ya(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vo(e.width,e.height,e.widthSegments,e.heightSegments)}}const yo={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( batchId );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},bo={common:{diffuse:{value:new Zi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tr},alphaMap:{value:null},alphaMapTransform:{value:new tr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tr}},envmap:{envMap:{value:null},envMapRotation:{value:new tr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tr},normalScale:{value:new er(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Zi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Zi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tr},alphaTest:{value:0},uvTransform:{value:new tr}},sprite:{diffuse:{value:new Zi(16777215)},opacity:{value:1},center:{value:new er(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tr},alphaMap:{value:null},alphaMapTransform:{value:new tr},alphaTest:{value:0}}},wo={basic:{uniforms:Ka([bo.common,bo.specularmap,bo.envmap,bo.aomap,bo.lightmap,bo.fog]),vertexShader:yo.meshbasic_vert,fragmentShader:yo.meshbasic_frag},lambert:{uniforms:Ka([bo.common,bo.specularmap,bo.envmap,bo.aomap,bo.lightmap,bo.emissivemap,bo.bumpmap,bo.normalmap,bo.displacementmap,bo.fog,bo.lights,{emissive:{value:new Zi(0)}}]),vertexShader:yo.meshlambert_vert,fragmentShader:yo.meshlambert_frag},phong:{uniforms:Ka([bo.common,bo.specularmap,bo.envmap,bo.aomap,bo.lightmap,bo.emissivemap,bo.bumpmap,bo.normalmap,bo.displacementmap,bo.fog,bo.lights,{emissive:{value:new Zi(0)},specular:{value:new Zi(1118481)},shininess:{value:30}}]),vertexShader:yo.meshphong_vert,fragmentShader:yo.meshphong_frag},standard:{uniforms:Ka([bo.common,bo.envmap,bo.aomap,bo.lightmap,bo.emissivemap,bo.bumpmap,bo.normalmap,bo.displacementmap,bo.roughnessmap,bo.metalnessmap,bo.fog,bo.lights,{emissive:{value:new Zi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yo.meshphysical_vert,fragmentShader:yo.meshphysical_frag},toon:{uniforms:Ka([bo.common,bo.aomap,bo.lightmap,bo.emissivemap,bo.bumpmap,bo.normalmap,bo.displacementmap,bo.gradientmap,bo.fog,bo.lights,{emissive:{value:new Zi(0)}}]),vertexShader:yo.meshtoon_vert,fragmentShader:yo.meshtoon_frag},matcap:{uniforms:Ka([bo.common,bo.bumpmap,bo.normalmap,bo.displacementmap,bo.fog,{matcap:{value:null}}]),vertexShader:yo.meshmatcap_vert,fragmentShader:yo.meshmatcap_frag},points:{uniforms:Ka([bo.points,bo.fog]),vertexShader:yo.points_vert,fragmentShader:yo.points_frag},dashed:{uniforms:Ka([bo.common,bo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yo.linedashed_vert,fragmentShader:yo.linedashed_frag},depth:{uniforms:Ka([bo.common,bo.displacementmap]),vertexShader:yo.depth_vert,fragmentShader:yo.depth_frag},normal:{uniforms:Ka([bo.common,bo.bumpmap,bo.normalmap,bo.displacementmap,{opacity:{value:1}}]),vertexShader:yo.meshnormal_vert,fragmentShader:yo.meshnormal_frag},sprite:{uniforms:Ka([bo.sprite,bo.fog]),vertexShader:yo.sprite_vert,fragmentShader:yo.sprite_frag},background:{uniforms:{uvTransform:{value:new tr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yo.background_vert,fragmentShader:yo.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tr}},vertexShader:yo.backgroundCube_vert,fragmentShader:yo.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yo.cube_vert,fragmentShader:yo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yo.equirect_vert,fragmentShader:yo.equirect_frag},distanceRGBA:{uniforms:Ka([bo.common,bo.displacementmap,{referencePosition:{value:new Ir},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yo.distanceRGBA_vert,fragmentShader:yo.distanceRGBA_frag},shadow:{uniforms:Ka([bo.lights,bo.fog,{color:{value:new Zi(0)},opacity:{value:1}}]),vertexShader:yo.shadow_vert,fragmentShader:yo.shadow_frag}};wo.physical={uniforms:Ka([wo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tr},clearcoatNormalScale:{value:new er(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tr},sheen:{value:0},sheenColor:{value:new Zi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tr},transmissionSamplerSize:{value:new er},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tr},attenuationDistance:{value:0},attenuationColor:{value:new Zi(0)},specularColor:{value:new Zi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tr},anisotropyVector:{value:new er},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tr}}]),vertexShader:yo.meshphysical_vert,fragmentShader:yo.meshphysical_frag};const xo={r:0,b:0,g:0},_o=new yi,So=new li;function Eo(e,t,n,r,i,a,o){const s=new Zi(0);let l,u,c=!0===a?0:1,d=null,f=0,h=null;function g(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function v(t,n){t.getRGB(xo,Ya(e)),r.buffers.color.setClear(xo.r,xo.g,xo.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),c=t,v(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,v(s,c)},render:function(t){let n=!1;const i=g(t);null===i?v(s,c):i&&i.isColor&&(v(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=g(n);r&&(r.isCubeTexture||r.mapping===me)?(void 0===u&&(u=new Wa(new qa(1,1,1),new Za({name:"BackgroundCubeMaterial",uniforms:Xa(wo.backgroundCube.uniforms),vertexShader:wo.backgroundCube.vertexShader,fragmentShader:wo.backgroundCube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),_o.copy(n.backgroundRotation),_o.x*=-1,_o.y*=-1,_o.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(_o.y*=-1,_o.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(So.makeRotationFromEuler(_o)),u.material.toneMapped=pr.getTransfer(r.colorSpace)!==tn,d===r&&f===r.version&&h===e.toneMapping||(u.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Wa(new vo(2,2),new Za({name:"BackgroundMaterial",uniforms:Xa(wo.background.uniforms),vertexShader:wo.background.vertexShader,fragmentShader:wo.background.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=pr.getTransfer(r.colorSpace)!==tn,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&f===r.version&&h===e.toneMapping||(l.material.needsUpdate=!0,d=r,f=r.version,h=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function ko(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=u(null);let a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function u(e){const t=[],r=[],i=[];for(let a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){f(e,0)}function f(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function h(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function m(){g(),o=!0,a!==i&&(a=i,s(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];void 0===l&&(l=u(e.createVertexArray()),s[a]=l);return l}(m,l,i);a!==y&&(a=y,s(a.object)),v=function(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=i[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[a]=n,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,i,a){c();const o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const u in s){const r=s[u];if(r.location>=0){let i=o[u];if(void 0===i&&("instanceMatrix"===u&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===u&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const o=i.normalized,s=i.itemSize,l=t.get(i);if(void 0===l)continue;const u=l.buffer,c=l.type,h=l.bytesPerElement,m=c===e.INT||c===e.UNSIGNED_INT||i.gpuType===Oe;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)f(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,c,o,l*h,(g+s/r.locationSize*e)*h,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)f(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,c,o,s*h,s/r.locationSize*e*h,m)}}else if(void 0!==l){const t=l[u];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}h()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:c,enableAttribute:d,disableUnusedAttributes:h}}function Co(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;const o=t.get("WEBGL_multi_draw");if(null===o)for(let t=0;t<a;t++)this.render(e[t],i[t]);else{o.multiDrawArraysWEBGL(r,e,0,i,0,a);let t=0;for(let e=0;e<a;e++)t+=i[e];n.update(t,r,1)}},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e];for(let e=0;e<s.length;e++)n.update(t,r,s[e])}}}function Mo(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===He||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===De&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==Te&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Le&&!i)},precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:c>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function Po(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new co,s=new tr,l={value:null,needsUpdate:!1};function u(e,n,r,i){const a=null!==e?e.length:0;let u=null;if(0!==a){if(u=l.value,!0!==i||null===u){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(u,l),u[l+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){const d=o.clippingPlanes,f=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!h)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(d,s,t,c);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}function To(e){let t=new WeakMap;function n(e,t){return t===he?e.mapping=de:t===pe&&(e.mapping=fe),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===he||a===pe){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new oo(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class Ao extends Ja{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Ro=[.125,.215,.35,.446,.526,.582],Io=20,Oo=new Ao,zo=new Zi;let Lo=null,Do=0,No=0,Uo=!1;const jo=(1+Math.sqrt(5))/2,Fo=1/jo,Bo=[new Ir(-jo,Fo,0),new Ir(jo,Fo,0),new Ir(-Fo,0,jo),new Ir(Fo,0,jo),new Ir(0,jo,-Fo),new Ir(0,jo,Fo),new Ir(-1,1,-1),new Ir(1,1,-1),new Ir(-1,1,1),new Ir(1,1,1)];class Vo{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Lo=this._renderer.getRenderTarget(),Do=this._renderer.getActiveCubeFace(),No=this._renderer.getActiveMipmapLevel(),Uo=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=qo(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Go(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Lo,Do,No),this._renderer.xr.enabled=Uo,e.scissorTest=!1,Wo(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===de||e.mapping===fe?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Lo=this._renderer.getRenderTarget(),Do=this._renderer.getActiveCubeFace(),No=this._renderer.getActiveMipmapLevel(),Uo=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ee,minFilter:Ee,generateMipmaps:!1,type:De,format:He,colorSpace:Zt,depthBuffer:!1},r=Ho(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ho(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+Ro.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=Ro[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),u=-l,c=1+l,d=[u,u,c,u,c,c,u,u,c,c,u,c],f=6,h=6,p=3,m=2,g=1,v=new Float32Array(p*h*f),y=new Float32Array(m*h*f),b=new Float32Array(g*h*f);for(let e=0;e<f;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*h*e),y.set(d,m*h*e);const i=[e,e,e,e,e,e];b.set(i,g*h*e)}const w=new Ca;w.setAttribute("position",new ua(v,p)),w.setAttribute("uv",new ua(y,m)),w.setAttribute("faceIndex",new ua(b,g)),t.push(w),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Io),i=new Ir(0,1,0),a=new Za({name:"SphericalGaussianBlur",defines:{n:Io,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new Wa(this._lodPlanes[0],e);this._renderer.compile(t,Oo)}_sceneToCubeUV(e,t,n,r){const i=new no(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(zo),s.toneMapping=ee,s.autoClear=!1;const c=new ta({name:"PMREM.Background",side:m,depthWrite:!1,depthTest:!1}),d=new Wa(new qa,c);let f=!1;const h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,f=!0):(c.color.copy(zo),f=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===t?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));const n=this._cubeSize;Wo(r,t*n,p>2?n:0,n,n),s.setRenderTarget(r),f&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=h}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===de||e.mapping===fe;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=qo()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Go());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new Wa(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;Wo(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Oo)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Bo[(r-i-1)%Bo.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new Wa(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/f,p=isFinite(i)?1+Math.floor(3*h):Io;p>Io&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Io));const m=[];let g=0;for(let b=0;b<Io;++b){const e=b/h,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);const{_lodMax:v}=this;c.dTheta.value=f,c.mipInt.value=v-n;const y=this._sizeLods[r];Wo(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(u,Oo)}}function Ho(e,t,n){const r=new Cr(e,t,n);return r.texture.mapping=me,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Wo(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Go(){return new Za({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function qo(){return new Za({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:v,depthTest:!1,depthWrite:!1})}function Xo(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===he||a===pe,s=a===de||a===fe;if(o||s){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Vo(e)),a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Vo(e)),a=o?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Ko(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&ur("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Yo(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);for(const n in s.morphAttributes){const e=s.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(rr(n)?ga:pa)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const a in r)t.update(r[a],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const a in i){const n=i[a];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Qo(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,o,s){if(0===s)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<s;t++)this.render(e[t]/a,o[t]);else{l.multiDrawElementsWEBGL(r,o,0,i,e,0,s);let t=0;for(let e=0;e<s;e++)t+=o[e];n.update(t,r,1)}},this.renderMultiDrawInstances=function(e,s,l,u){if(0===l)return;const c=t.get("WEBGL_multi_draw");if(null===c)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],u[t]);else{c.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,u,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e];for(let e=0;e<u.length;e++)n.update(t,r,u[e])}}}function Zo(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Jo(e,t,n){const r=new WeakMap,i=new Er;return{update:function(a,o,s){const l=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=void 0!==u?u.length:0;let d=r.get(o);if(void 0===d||d.count!==c){void 0!==d&&d.texture.dispose();const f=void 0!==o.morphAttributes.position,h=void 0!==o.morphAttributes.normal,p=void 0!==o.morphAttributes.color,m=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],v=o.morphAttributes.color||[];let y=0;!0===f&&(y=1),!0===h&&(y=2),!0===p&&(y=3);let b=o.attributes.position.count*y,w=1;b>t.maxTextureSize&&(w=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const x=new Float32Array(b*w*4*c),_=new Mr(x,b,w,c);_.type=Le,_.needsUpdate=!0;const S=4*y;for(let k=0;k<c;k++){const C=m[k],M=g[k],P=v[k],T=b*w*4*k;for(let A=0;A<C.count;A++){const R=A*S;!0===f&&(i.fromBufferAttribute(C,A),x[T+R+0]=i.x,x[T+R+1]=i.y,x[T+R+2]=i.z,x[T+R+3]=0),!0===h&&(i.fromBufferAttribute(M,A),x[T+R+4]=i.x,x[T+R+5]=i.y,x[T+R+6]=i.z,x[T+R+7]=0),!0===p&&(i.fromBufferAttribute(P,A),x[T+R+8]=i.x,x[T+R+9]=i.y,x[T+R+10]=i.z,x[T+R+11]=4===P.itemSize?i.w:1)}}function E(){_.dispose(),r.delete(o),o.removeEventListener("dispose",E)}d={count:c,texture:_,size:new er(b,w)},r.set(o,d),o.addEventListener("dispose",E)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let I=0;for(let z=0;z<l.length;z++)I+=l[z];const O=o.morphTargetsRelative?1:1-I;s.getUniforms().setValue(e,"morphTargetBaseInfluence",O),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function $o(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return u},dispose:function(){i=new WeakMap}}}class es extends Sr{constructor(e,t,n,r,i,a,o,s,l){let u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:qe;if(u!==qe&&u!==Xe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===qe&&(n=ze),void 0===n&&u===Xe&&(n=je),super(null,r,i,a,o,s,u,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:be,this.minFilter=void 0!==s?s:be,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const ts=new Sr,ns=new es(1,1);ns.compareFunction=En;const rs=new Mr,is=new Tr,as=new ao,os=[],ss=[],ls=new Float32Array(16),us=new Float32Array(9),cs=new Float32Array(4);function ds(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=os[i];if(void 0===a&&(a=new Float32Array(i),os[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function fs(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function hs(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function ps(e,t){let n=ss[t];void 0===n&&(n=new Int32Array(t),ss[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ms(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function gs(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(fs(n,t))return;e.uniform2fv(this.addr,t),hs(n,t)}}function vs(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(fs(n,t))return;e.uniform3fv(this.addr,t),hs(n,t)}}function ys(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(fs(n,t))return;e.uniform4fv(this.addr,t),hs(n,t)}}function bs(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(fs(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),hs(n,t)}else{if(fs(n,r))return;cs.set(r),e.uniformMatrix2fv(this.addr,!1,cs),hs(n,r)}}function ws(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(fs(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),hs(n,t)}else{if(fs(n,r))return;us.set(r),e.uniformMatrix3fv(this.addr,!1,us),hs(n,r)}}function xs(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(fs(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),hs(n,t)}else{if(fs(n,r))return;ls.set(r),e.uniformMatrix4fv(this.addr,!1,ls),hs(n,r)}}function _s(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ss(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(fs(n,t))return;e.uniform2iv(this.addr,t),hs(n,t)}}function Es(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(fs(n,t))return;e.uniform3iv(this.addr,t),hs(n,t)}}function ks(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(fs(n,t))return;e.uniform4iv(this.addr,t),hs(n,t)}}function Cs(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ms(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(fs(n,t))return;e.uniform2uiv(this.addr,t),hs(n,t)}}function Ps(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(fs(n,t))return;e.uniform3uiv(this.addr,t),hs(n,t)}}function Ts(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(fs(n,t))return;e.uniform4uiv(this.addr,t),hs(n,t)}}function As(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);const a=this.type===e.SAMPLER_2D_SHADOW?ns:ts;n.setTexture2D(t||a,i)}function Rs(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||is,i)}function Is(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||as,i)}function Os(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||rs,i)}function zs(e,t){e.uniform1fv(this.addr,t)}function Ls(e,t){const n=ds(t,this.size,2);e.uniform2fv(this.addr,n)}function Ds(e,t){const n=ds(t,this.size,3);e.uniform3fv(this.addr,n)}function Ns(e,t){const n=ds(t,this.size,4);e.uniform4fv(this.addr,n)}function Us(e,t){const n=ds(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function js(e,t){const n=ds(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Fs(e,t){const n=ds(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Bs(e,t){e.uniform1iv(this.addr,t)}function Vs(e,t){e.uniform2iv(this.addr,t)}function Hs(e,t){e.uniform3iv(this.addr,t)}function Ws(e,t){e.uniform4iv(this.addr,t)}function Gs(e,t){e.uniform1uiv(this.addr,t)}function qs(e,t){e.uniform2uiv(this.addr,t)}function Xs(e,t){e.uniform3uiv(this.addr,t)}function Ks(e,t){e.uniform4uiv(this.addr,t)}function Ys(e,t,n){const r=this.cache,i=t.length,a=ps(n,i);fs(r,a)||(e.uniform1iv(this.addr,a),hs(r,a));for(let o=0;o!==i;++o)n.setTexture2D(t[o]||ts,a[o])}function Qs(e,t,n){const r=this.cache,i=t.length,a=ps(n,i);fs(r,a)||(e.uniform1iv(this.addr,a),hs(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||is,a[o])}function Zs(e,t,n){const r=this.cache,i=t.length,a=ps(n,i);fs(r,a)||(e.uniform1iv(this.addr,a),hs(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||as,a[o])}function Js(e,t,n){const r=this.cache,i=t.length,a=ps(n,i);fs(r,a)||(e.uniform1iv(this.addr,a),hs(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||rs,a[o])}class $s{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return ms;case 35664:return gs;case 35665:return vs;case 35666:return ys;case 35674:return bs;case 35675:return ws;case 35676:return xs;case 5124:case 35670:return _s;case 35667:case 35671:return Ss;case 35668:case 35672:return Es;case 35669:case 35673:return ks;case 5125:return Cs;case 36294:return Ms;case 36295:return Ps;case 36296:return Ts;case 35678:case 36198:case 36298:case 36306:case 35682:return As;case 35679:case 36299:case 36307:return Rs;case 35680:case 36300:case 36308:case 36293:return Is;case 36289:case 36303:case 36311:case 36292:return Os}}(t.type)}}class el{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return zs;case 35664:return Ls;case 35665:return Ds;case 35666:return Ns;case 35674:return Us;case 35675:return js;case 35676:return Fs;case 5124:case 35670:return Bs;case 35667:case 35671:return Vs;case 35668:case 35672:return Hs;case 35669:case 35673:return Ws;case 5125:return Gs;case 36294:return qs;case 36295:return Xs;case 36296:return Ks;case 35678:case 36198:case 36298:case 36306:case 35682:return Ys;case 35679:case 36299:case 36307:return Qs;case 35680:case 36300:case 36308:case 36293:return Zs;case 36289:case 36303:case 36311:case 36292:return Js}}(t.type)}}class tl{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const nl=/(\w+)(\])?(\[|\.)?/g;function rl(e,t){e.seq.push(t),e.map[t.id]=t}function il(e,t,n){const r=e.name,i=r.length;for(nl.lastIndex=0;;){const a=nl.exec(r),o=nl.lastIndex;let s=a[1];const l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){rl(n,void 0===u?new $s(s,e,t):new el(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new tl(s),rl(n,e)),n=e}}}class al{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);il(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function ol(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const sl=37297;let ll=0;function ul(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function cl(e,t){const n=function(e){const t=pr.getPrimaries(pr.workingColorSpace),n=pr.getPrimaries(e);let r;switch(t===n?r="":t===rn&&n===nn?r="LinearDisplayP3ToLinearSRGB":t===nn&&n===rn&&(r="LinearSRGBToLinearDisplayP3"),e){case Zt:case $t:return[r,"LinearTransferOETF"];case Qt:case Jt:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function dl(e,t){let n;switch(t){case te:n="Linear";break;case ne:n="Reinhard";break;case re:n="OptimizedCineon";break;case ie:n="ACESFilmic";break;case oe:n="AgX";break;case se:n="Neutral";break;case ae:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function fl(e){return""!==e}function hl(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function pl(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ml=/^[ \t]*#include +<([\w\d./]+)>/gm;function gl(e){return e.replace(ml,yl)}const vl=new Map;function yl(e,t){let n=yo[t];if(void 0===n){const e=vl.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=yo[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return gl(n)}const bl=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wl(e){return e.replace(bl,xl)}function xl(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function _l(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Sl(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===f?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===h&&(t="SHADOWMAP_TYPE_VSM"),t}(n),u=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case de:case fe:t="ENVMAP_TYPE_CUBE";break;case me:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),c=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===fe&&(t="ENVMAP_MODE_REFRACTION");return t}(n),p=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Z:t="ENVMAP_BLENDING_MULTIPLY";break;case J:t="ENVMAP_BLENDING_MIX";break;case $:t="ENVMAP_BLENDING_ADD"}return t}(n),m=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),g=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(fl).join("\n")}(n),v=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),y=i.createProgram();let b,w,x=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(fl).join("\n"),b.length>0&&(b+="\n"),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(fl).join("\n"),w.length>0&&(w+="\n")):(b=[_l(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(fl).join("\n"),w=[_l(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ee?"#define TONE_MAPPING":"",n.toneMapping!==ee?yo.tonemapping_pars_fragment:"",n.toneMapping!==ee?dl("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",yo.colorspace_pars_fragment,cl("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(fl).join("\n")),o=gl(o),o=hl(o,n),o=pl(o,n),s=gl(s),s=hl(s,n),s=pl(s,n),o=wl(o),s=wl(s),!0!==n.isRawShaderMaterial&&(x="#version 300 es\n",b=[g,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,w=["#define varying in",n.glslVersion===jn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w);const _=x+b+o,S=x+w+s,E=ol(i,i.VERTEX_SHADER,_),k=ol(i,i.FRAGMENT_SHADER,S);function C(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(y).trim(),r=i.getShaderInfoLog(E).trim(),a=i.getShaderInfoLog(k).trim();let o=!0,s=!0;if(!1===i.getProgramParameter(y,i.LINK_STATUS))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,y,E,k);else{const e=ul(i,E,"vertex"),r=ul(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==a||(s=!1);s&&(t.diagnostics={runnable:o,programLog:n,vertexShader:{log:r,prefix:b},fragmentShader:{log:a,prefix:w}})}i.deleteShader(E),i.deleteShader(k),M=new al(i,y),P=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,y)}let M,P;i.attachShader(y,E),i.attachShader(y,k),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),this.getUniforms=function(){return void 0===M&&C(this),M},this.getAttributes=function(){return void 0===P&&C(this),P};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(y,sl)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ll++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=k,this}let El=0;class kl{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Cl(e),t.set(e,n)),n}}class Cl{constructor(e){this.id=El++,this.code=e,this.usedTimes=0}}function Ml(e,t,n,r,i,a,o){const s=new bi,l=new kl,u=new Set,c=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return u.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,c,b,w){const x=b.fog,_=w.geometry,S=a.isMeshStandardMaterial?b.environment:null,E=(a.isMeshStandardMaterial?n:t).get(a.envMap||S),k=E&&E.mapping===me?E.image.height:null,C=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision),h!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead."));const M=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,P=void 0!==M?M.length:0;let T,A,R,I,O=0;if(void 0!==_.morphAttributes.position&&(O=1),void 0!==_.morphAttributes.normal&&(O=2),void 0!==_.morphAttributes.color&&(O=3),C){const e=wo[C];T=e.vertexShader,A=e.fragmentShader}else T=a.vertexShader,A=a.fragmentShader,l.update(a),R=l.getVertexShaderID(a),I=l.getFragmentShaderID(a);const z=e.getRenderTarget(),L=!0===w.isInstancedMesh,D=!0===w.isBatchedMesh,N=!!a.map,U=!!a.matcap,j=!!E,F=!!a.aoMap,B=!!a.lightMap,V=!!a.bumpMap,H=!!a.normalMap,W=!!a.displacementMap,G=!!a.emissiveMap,q=!!a.metalnessMap,X=!!a.roughnessMap,K=a.anisotropy>0,Y=a.clearcoat>0,Q=a.dispersion>0,Z=a.iridescence>0,J=a.sheen>0,$=a.transmission>0,te=K&&!!a.anisotropyMap,ne=Y&&!!a.clearcoatMap,re=Y&&!!a.clearcoatNormalMap,ie=Y&&!!a.clearcoatRoughnessMap,ae=Z&&!!a.iridescenceMap,oe=Z&&!!a.iridescenceThicknessMap,se=J&&!!a.sheenColorMap,le=J&&!!a.sheenRoughnessMap,ue=!!a.specularMap,ce=!!a.specularColorMap,de=!!a.specularIntensityMap,fe=$&&!!a.transmissionMap,he=$&&!!a.thicknessMap,pe=!!a.gradientMap,ge=!!a.alphaMap,ve=a.alphaTest>0,ye=!!a.alphaHash,be=!!a.extensions;let we=ee;a.toneMapped&&(null!==z&&!0!==z.isXRRenderTarget||(we=e.toneMapping));const xe={shaderID:C,shaderType:a.type,shaderName:a.name,vertexShader:T,fragmentShader:A,defines:a.defines,customVertexShaderID:R,customFragmentShaderID:I,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,batching:D,batchingColor:D&&null!==w._colorsTexture,instancing:L,instancingColor:L&&null!==w.instanceColor,instancingMorph:L&&null!==w.morphTexture,supportsVertexTextures:f,outputColorSpace:null===z?e.outputColorSpace:!0===z.isXRRenderTarget?z.texture.colorSpace:Zt,alphaToCoverage:!!a.alphaToCoverage,map:N,matcap:U,envMap:j,envMapMode:j&&E.mapping,envMapCubeUVHeight:k,aoMap:F,lightMap:B,bumpMap:V,normalMap:H,displacementMap:f&&W,emissiveMap:G,normalMapObjectSpace:H&&a.normalMapType===Kt,normalMapTangentSpace:H&&a.normalMapType===Xt,metalnessMap:q,roughnessMap:X,anisotropy:K,anisotropyMap:te,clearcoat:Y,clearcoatMap:ne,clearcoatNormalMap:re,clearcoatRoughnessMap:ie,dispersion:Q,iridescence:Z,iridescenceMap:ae,iridescenceThicknessMap:oe,sheen:J,sheenColorMap:se,sheenRoughnessMap:le,specularMap:ue,specularColorMap:ce,specularIntensityMap:de,transmission:$,transmissionMap:fe,thicknessMap:he,gradientMap:pe,opaque:!1===a.transparent&&a.blending===y&&!1===a.alphaToCoverage,alphaMap:ge,alphaTest:ve,alphaHash:ye,combine:a.combine,mapUv:N&&v(a.map.channel),aoMapUv:F&&v(a.aoMap.channel),lightMapUv:B&&v(a.lightMap.channel),bumpMapUv:V&&v(a.bumpMap.channel),normalMapUv:H&&v(a.normalMap.channel),displacementMapUv:W&&v(a.displacementMap.channel),emissiveMapUv:G&&v(a.emissiveMap.channel),metalnessMapUv:q&&v(a.metalnessMap.channel),roughnessMapUv:X&&v(a.roughnessMap.channel),anisotropyMapUv:te&&v(a.anisotropyMap.channel),clearcoatMapUv:ne&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:re&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ie&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ae&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:oe&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:se&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:le&&v(a.sheenRoughnessMap.channel),specularMapUv:ue&&v(a.specularMap.channel),specularColorMapUv:ce&&v(a.specularColorMap.channel),specularIntensityMapUv:de&&v(a.specularIntensityMap.channel),transmissionMapUv:fe&&v(a.transmissionMap.channel),thicknessMapUv:he&&v(a.thicknessMap.channel),alphaMapUv:ge&&v(a.alphaMap.channel),vertexTangents:!!_.attributes.tangent&&(H||K),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,pointsUvs:!0===w.isPoints&&!!_.attributes.uv&&(N||ge),fog:!!x,useFog:!0===a.fog,fogExp2:!!x&&x.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===w.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:P,morphTextureStride:O,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:we,decodeVideoTexture:N&&!0===a.map.isVideoTexture&&pr.getTransfer(a.map.colorSpace)===tn,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===g,flipSided:a.side===m,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:be&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:be&&!0===a.extensions.multiDraw&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return xe.vertexUv1s=u.has(1),xe.vertexUv2s=u.has(2),xe.vertexUv3s=u.has(3),u.clear(),xe},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.doubleSided&&s.enable(10);t.flipSided&&s.enable(11);t.useDepthPacking&&s.enable(12);t.dithering&&s.enable(13);t.transmission&&s.enable(14);t.sheen&&s.enable(15);t.opaque&&s.enable(16);t.pointsUvs&&s.enable(17);t.decodeVideoTexture&&s.enable(18);t.alphaToCoverage&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=wo[t];n=Qa.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Sl(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Pl(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Tl(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Al(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rl(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Tl),r.length>1&&r.sort(t||Al),i.length>1&&i.sort(t||Al)}}}function Il(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Rl,e.set(t,[i])):n>=r.length?(i=new Rl,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Ol(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Ir,color:new Zi};break;case"SpotLight":n={position:new Ir,direction:new Ir,color:new Zi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ir,color:new Zi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ir,skyColor:new Zi,groundColor:new Zi};break;case"RectAreaLight":n={color:new Zi,position:new Ir,halfWidth:new Ir,halfHeight:new Ir}}return e[t.id]=n,n}}}let zl=0;function Ll(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Dl(e){const t=new Ol,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new er};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new er,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)r.probe.push(new Ir);const i=new Ir,a=new li,o=new li;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0;i.sort(Ll);for(let e=0,w=i.length;e<w;e++){const b=i[e],w=b.color,x=b.intensity,_=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)a+=w.r*x,o+=w.g*x,s+=w.b*x;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],x);y++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=b.shadow.matrix,h++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(w).multiplyScalar(x),e.distance=_,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[c]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[c]=i.matrix,b.castShadow){const e=n.get(b);e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[c]=e,r.spotShadowMap[c]=S,m++}c++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(w).multiplyScalar(x),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[d]=e,d++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[u]=t,r.pointShadowMap[u]=S,r.pointShadowMatrix[u]=b.shadow.matrix,p++}r.point[u]=e,u++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(x),e.groundColor.copy(b.groundColor).multiplyScalar(x),r.hemi[f]=e,f++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=bo.LTC_FLOAT_1,r.rectAreaLTC2=bo.LTC_FLOAT_2):(r.rectAreaLTC1=bo.LTC_HALF_1,r.rectAreaLTC2=bo.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const b=r.hash;b.directionalLength===l&&b.pointLength===u&&b.spotLength===c&&b.rectAreaLength===d&&b.hemiLength===f&&b.numDirectionalShadows===h&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=c,r.rectArea.length=d,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=h,r.directionalShadowMap.length=h,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=h,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=u,b.spotLength=c,b.rectAreaLength=d,b.hemiLength=f,b.numDirectionalShadows=h,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=zl++)},setupView:function(e,t){let n=0,s=0,l=0,u=0,c=0;const d=t.matrixWorldInverse;for(let f=0,h=e.length;f<h;f++){const t=e[f];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=r.rectArea[u];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),u++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=r.hemi[c];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),c++}}},state:r}}function Nl(e){const t=new Dl(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Ul(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let a;return void 0===i?(a=new Nl(e),t.set(n,[a])):r>=i.length?(a=new Nl(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}class jl extends ea{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Gt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Fl extends ea{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Bl(e,t,n){let r=new po;const i=new er,a=new er,o=new Er,s=new jl({depthPacking:qt}),l=new Fl,u={},c=n.maxTextureSize,f={[p]:m,[m]:p,[g]:g},y=new Za({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new er},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const w=new Ca;w.setAttribute("position",new ua(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Wa(w,y),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=d;let S=this.type;function E(n,r){const a=t.update(x);y.defines.VSM_SAMPLES!==n.blurSamples&&(y.defines.VSM_SAMPLES=n.blurSamples,b.defines.VSM_SAMPLES=n.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Cr(i.x,i.y)),y.uniforms.shadow_pass.value=n.map.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,y,x,null),b.uniforms.shadow_pass.value=n.mapPass.texture,b.uniforms.resolution.value=n.mapSize,b.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,b,x,null)}function k(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=a.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",M)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function C(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===h)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let u=0,c=t.length;u<c;u++){const c=t[u],d=l[c.materialIndex];if(d&&d.visible){const t=k(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,c),e.renderBufferDirect(a,null,r,t,n,c),n.onAfterShadow(e,n,i,a,r,t,c)}}}else if(l.visible){const t=k(n,l,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)C(l[e],i,a,o,s)}function M(e){e.target.removeEventListener("dispose",M);for(const t in u){const n=u[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,s){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.state;f.setBlending(v),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);const p=S!==h&&this.type===h,m=S===h&&this.type!==h;for(let g=0,v=t.length;g<v;g++){const l=t[g],u=l.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;i.copy(u.mapSize);const d=u.getFrameExtents();if(i.multiply(d),a.copy(u.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/d.x),i.x=a.x*d.x,u.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/d.y),i.y=a.y*d.y,u.mapSize.y=a.y)),null===u.map||!0===p||!0===m){const e=this.type!==h?{minFilter:be,magFilter:be}:{};null!==u.map&&u.map.dispose(),u.map=new Cr(i.x,i.y,e),u.map.texture.name=l.name+".shadowMap",u.camera.updateProjectionMatrix()}e.setRenderTarget(u.map),e.clear();const v=u.getViewportCount();for(let e=0;e<v;e++){const t=u.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),f.viewport(o),u.updateMatrices(l,e),r=u.getFrustum(),C(n,s,u.camera,l,this.type)}!0!==u.isPointLightShadow&&this.type===h&&E(u,s),u.needsUpdate=!1}S=this.type,_.needsUpdate=!1,e.setRenderTarget(l,u,d)}}function Vl(e){const t=new function(){let t=!1;const n=new Er;let r=null;const i=new Er(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?Ee(e.DEPTH_TEST):ke(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case H:e.depthFunc(e.NEVER);break;case W:e.depthFunc(e.ALWAYS);break;case G:e.depthFunc(e.LESS);break;case q:e.depthFunc(e.LEQUAL);break;case X:e.depthFunc(e.EQUAL);break;case K:e.depthFunc(e.GEQUAL);break;case Y:e.depthFunc(e.GREATER);break;case Q:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},r=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?Ee(e.STENCIL_TEST):ke(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},i=new WeakMap,a=new WeakMap;let u={},c={},d=new WeakMap,f=[],h=null,p=!1,Z=null,J=null,$=null,ee=null,te=null,ne=null,re=null,ie=new Zi(0,0,0),ae=0,oe=!1,se=null,le=null,ue=null,ce=null,de=null;const fe=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,pe=0;const me=e.getParameter(e.VERSION);-1!==me.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(me)[1]),he=pe>=1):-1!==me.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),he=pe>=2);let ge=null,ve={};const ye=e.getParameter(e.SCISSOR_BOX),be=e.getParameter(e.VIEWPORT),we=(new Er).fromArray(ye),xe=(new Er).fromArray(be);function _e(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const Se={};function Ee(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function ke(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}Se[e.TEXTURE_2D]=_e(e.TEXTURE_2D,e.TEXTURE_2D,1),Se[e.TEXTURE_CUBE_MAP]=_e(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),Se[e.TEXTURE_2D_ARRAY]=_e(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Se[e.TEXTURE_3D]=_e(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),r.setClear(0),Ee(e.DEPTH_TEST),n.setFunc(q),Te(!1),Ae(s),Ee(e.CULL_FACE),Pe(v);const Ce={[S]:e.FUNC_ADD,[E]:e.FUNC_SUBTRACT,[k]:e.FUNC_REVERSE_SUBTRACT};Ce[C]=e.MIN,Ce[M]=e.MAX;const Me={[P]:e.ZERO,[T]:e.ONE,[A]:e.SRC_COLOR,[I]:e.SRC_ALPHA,[U]:e.SRC_ALPHA_SATURATE,[D]:e.DST_COLOR,[z]:e.DST_ALPHA,[R]:e.ONE_MINUS_SRC_COLOR,[O]:e.ONE_MINUS_SRC_ALPHA,[N]:e.ONE_MINUS_DST_COLOR,[L]:e.ONE_MINUS_DST_ALPHA,[j]:e.CONSTANT_COLOR,[F]:e.ONE_MINUS_CONSTANT_COLOR,[B]:e.CONSTANT_ALPHA,[V]:e.ONE_MINUS_CONSTANT_ALPHA};function Pe(t,n,r,i,a,o,s,l,u,c){if(t!==v){if(!1===p&&(Ee(e.BLEND),p=!0),t===_)a=a||n,o=o||r,s=s||i,n===J&&a===te||(e.blendEquationSeparate(Ce[n],Ce[a]),J=n,te=a),r===$&&i===ee&&o===ne&&s===re||(e.blendFuncSeparate(Me[r],Me[i],Me[o],Me[s]),$=r,ee=i,ne=o,re=s),!1!==l.equals(ie)&&u===ae||(e.blendColor(l.r,l.g,l.b,u),ie.copy(l),ae=u),Z=t,oe=!1;else if(t!==Z||c!==oe){if(J===S&&te===S||(e.blendEquation(e.FUNC_ADD),J=S,te=S),c)switch(t){case y:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case b:e.blendFunc(e.ONE,e.ONE);break;case w:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case x:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case y:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case b:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case w:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case x:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}$=null,ee=null,ne=null,re=null,ie.set(0,0,0),ae=0,Z=t,oe=c}}else!0===p&&(ke(e.BLEND),p=!1)}function Te(t){se!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),se=t)}function Ae(t){t!==o?(Ee(e.CULL_FACE),t!==le&&(t===s?e.cullFace(e.BACK):t===l?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):ke(e.CULL_FACE),le=t}function Re(t,n,r){t?(Ee(e.POLYGON_OFFSET_FILL),ce===n&&de===r||(e.polygonOffset(n,r),ce=n,de=r)):ke(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:r},enable:Ee,disable:ke,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=f,i=!1;if(t){r=d.get(n),void 0===r&&(r=[],d.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:Pe,setMaterial:function(i,a){i.side===g?ke(e.CULL_FACE):Ee(e.CULL_FACE);let o=i.side===m;a&&(o=!o),Te(o),i.blending===y&&!1===i.transparent?Pe(v):Pe(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.blendColor,i.blendAlpha,i.premultipliedAlpha),n.setFunc(i.depthFunc),n.setTest(i.depthTest),n.setMask(i.depthWrite),t.setMask(i.colorWrite);const s=i.stencilWrite;r.setTest(s),s&&(r.setMask(i.stencilWriteMask),r.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),r.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),Re(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?Ee(e.SAMPLE_ALPHA_TO_COVERAGE):ke(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Te,setCullFace:Ae,setLineWidth:function(t){t!==ue&&(he&&e.lineWidth(t),ue=t)},setPolygonOffset:Re,setScissorTest:function(t){t?Ee(e.SCISSOR_TEST):ke(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+fe-1),ge!==t&&(e.activeTexture(t),ge=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===ge?e.TEXTURE0+fe-1:ge);let i=ve[r];void 0===i&&(i={type:void 0,texture:void 0},ve[r]=i),i.type===t&&i.texture===n||(ge!==r&&(e.activeTexture(r),ge=r),e.bindTexture(t,n||Se[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=ve[ge];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=a.get(n);void 0===r&&(r=new WeakMap,a.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=a.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===we.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),we.copy(t))},viewport:function(t){!1===xe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),xe.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},ge=null,ve={},c={},d=new WeakMap,f=[],h=null,p=!1,Z=null,J=null,$=null,ee=null,te=null,ne=null,re=null,ie=new Zi(0,0,0),ae=0,oe=!1,se=null,le=null,ue=null,ce=null,de=null,we.set(0,0,e.canvas.width,e.canvas.height),xe.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),r.reset()}}}function Hl(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=new er,c=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(B){}function p(e,t){return h?new OffscreenCanvas(e,t):or("canvas")}function m(e,t,n){let r=1;const i=F(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===d&&(d=p(n,a));const o=t?p(n,a):d;o.width=n,o.height=a;return o.getContext("2d").drawImage(e,0,0,n,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps&&e.minFilter!==be&&e.minFilter!==Ee}function v(t){e.generateMipmap(t)}function y(n,r,i,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.RGBA){const t=o?en:pr.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===tn?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function b(t,n){let r;return t?null===n||n===ze||n===je?r=e.DEPTH24_STENCIL8:n===Le?r=e.DEPTH32F_STENCIL8:n===Ie&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===ze||n===je?r=e.DEPTH_COMPONENT24:n===Le?r=e.DEPTH_COMPONENT32F:n===Ie&&(r=e.DEPTH_COMPONENT16),r}function w(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==be&&e.minFilter!==Ee?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&S(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&c.delete(t)}function _(t){const n=t.target;n.removeEventListener("dispose",_),function(t){const n=r.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let a=0,s=i.length;a<s;a++){const t=r.get(i[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(i[a])}r.remove(t)}(n)}function S(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],o.memory.textures--}let E=0;function k(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void R(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const C={[ge]:e.REPEAT,[ve]:e.CLAMP_TO_EDGE,[ye]:e.MIRRORED_REPEAT},M={[be]:e.NEAREST,[we]:e.NEAREST_MIPMAP_NEAREST,[_e]:e.NEAREST_MIPMAP_LINEAR,[Ee]:e.LINEAR,[ke]:e.LINEAR_MIPMAP_NEAREST,[Me]:e.LINEAR_MIPMAP_LINEAR},P={[xn]:e.NEVER,[Pn]:e.ALWAYS,[_n]:e.LESS,[En]:e.LEQUAL,[Sn]:e.EQUAL,[Mn]:e.GEQUAL,[kn]:e.GREATER,[Cn]:e.NOTEQUAL};function T(n,a){if(a.type!==Le||!1!==t.has("OES_texture_float_linear")||a.magFilter!==Ee&&a.magFilter!==ke&&a.magFilter!==_e&&a.magFilter!==Me&&a.minFilter!==Ee&&a.minFilter!==ke&&a.minFilter!==_e&&a.minFilter!==Me||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,C[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,C[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,C[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,P[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===be)return;if(a.minFilter!==_e&&a.minFilter!==Me)return;if(a.type===Le&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function A(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const i=n.source;let a=f.get(i);void 0===a&&(a={},f.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&S(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function R(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const u=A(t,o),c=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(c);if(c.version!==d.__version||!0===u){n.activeTexture(e.TEXTURE0+s);const t=pr.getPrimaries(pr.workingColorSpace),r=o.colorSpace===Yt?null:pr.getPrimaries(o.colorSpace),f=o.colorSpace===Yt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let h=m(o.image,!1,i.maxTextureSize);h=j(o,h);const p=a.convert(o.format,o.colorSpace),x=a.convert(o.type);let _,S=y(o.internalFormat,p,x,o.colorSpace,o.isVideoTexture);T(l,o);const E=o.mipmaps,k=!0!==o.isVideoTexture,C=void 0===d.__version||!0===u,M=c.dataReady,P=w(o,h);if(o.isDepthTexture)S=b(o.format===Xe,o.type),C&&(k?n.texStorage2D(e.TEXTURE_2D,1,S,h.width,h.height):n.texImage2D(e.TEXTURE_2D,0,S,h.width,h.height,0,p,x,null));else if(o.isDataTexture)if(E.length>0){k&&C&&n.texStorage2D(e.TEXTURE_2D,P,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,x,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,x,_.data);o.generateMipmaps=!1}else k?(C&&n.texStorage2D(e.TEXTURE_2D,P,S,h.width,h.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,h.width,h.height,p,x,h.data)):n.texImage2D(e.TEXTURE_2D,0,S,h.width,h.height,0,p,x,h.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){k&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,S,E[0].width,E[0].height,h.depth);for(let t=0,r=E.length;t<r;t++)if(_=E[t],o.format!==He)if(null!==p)if(k){if(M)if(o.layerUpdates.size>0){for(const r of o.layerUpdates){const i=_.width*_.height;n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,r,_.width,_.height,1,p,_.data.slice(i*r,i*(r+1)),0,0)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,h.depth,p,_.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,h.depth,0,_.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else k?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,h.depth,p,x,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,h.depth,0,p,x,_.data)}else{k&&C&&n.texStorage2D(e.TEXTURE_2D,P,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)_=E[t],o.format!==He?null!==p?k?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,x,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,x,_.data)}else if(o.isDataArrayTexture)if(k){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,S,h.width,h.height,h.depth),M)if(o.layerUpdates.size>0){let t;switch(x){case e.UNSIGNED_BYTE:switch(p){case e.ALPHA:case e.LUMINANCE:t=1;break;case e.LUMINANCE_ALPHA:t=2;break;case e.RGB:t=3;break;case e.RGBA:t=4;break;default:throw new Error("Unknown texel size for format ".concat(p,"."))}break;case e.UNSIGNED_SHORT_4_4_4_4:case e.UNSIGNED_SHORT_5_5_5_1:case e.UNSIGNED_SHORT_5_6_5:t=1;break;default:throw new Error("Unknown texel size for type ".concat(x,"."))}const r=h.width*h.height*t;for(const i of o.layerUpdates)n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,i,h.width,h.height,1,p,x,h.data.slice(r*i,r*(i+1)));o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,h.width,h.height,h.depth,p,x,h.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,h.width,h.height,h.depth,0,p,x,h.data);else if(o.isData3DTexture)k?(C&&n.texStorage3D(e.TEXTURE_3D,P,S,h.width,h.height,h.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,h.width,h.height,h.depth,p,x,h.data)):n.texImage3D(e.TEXTURE_3D,0,S,h.width,h.height,h.depth,0,p,x,h.data);else if(o.isFramebufferTexture){if(C)if(k)n.texStorage2D(e.TEXTURE_2D,P,S,h.width,h.height);else{let t=h.width,r=h.height;for(let i=0;i<P;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,x,null),t>>=1,r>>=1}}else if(E.length>0){if(k&&C){const t=F(E[0]);n.texStorage2D(e.TEXTURE_2D,P,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)_=E[t],k?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,x,_):n.texImage2D(e.TEXTURE_2D,t,S,p,x,_);o.generateMipmaps=!1}else if(k){if(C){const t=F(h);n.texStorage2D(e.TEXTURE_2D,P,S,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,x,h)}else n.texImage2D(e.TEXTURE_2D,0,S,p,x,h);g(o)&&v(l),d.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function I(t,i,o,l,u,c){const d=a.convert(o.format,o.colorSpace),f=a.convert(o.type),h=y(o.internalFormat,d,f,o.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,c,h,t,r,i.depth,0,d,f,null):n.texImage2D(u,c,h,t,r,0,d,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,u,r.get(o).__webglTexture,0,N(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,u,r.get(o).__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function O(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=b(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=N(n);U(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],l=a.convert(o.format,o.colorSpace),u=a.convert(o.type),c=y(o.internalFormat,l,u,o.colorSpace),d=N(n);r&&!1===U(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,c,n.width,n.height):U(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function z(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),k(i.depthTexture,0);const a=r.get(i.depthTexture).__webglTexture,o=N(i);if(i.depthTexture.format===qe)U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==Xe)throw new Error("Unknown depthTexture format");U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),O(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),O(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}const L=[],D=[];function N(e){return Math.min(i.maxSamples,e.samples)}function U(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function j(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Zt&&n!==Yt&&(pr.getTransfer(n)===tn?r===He&&i===Te||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function F(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(u.width=e.naturalWidth||e.width,u.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(u.width=e.displayWidth,u.height=e.displayHeight):(u.width=e.width,u.height=e.height),u}this.allocateTextureUnit=function(){const e=E;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=k,this.setTexture2DArray=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=A(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=pr.getPrimaries(pr.workingColorSpace),r=o.colorSpace===Yt?null:pr.getPrimaries(o.colorSpace),d=o.colorSpace===Yt||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const f=o.isCompressedTexture||o.image[0].isCompressedTexture,h=o.image[0]&&o.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=f||h?h?o.image[e].image:o.image[e]:m(o.image[e],!0,i.maxCubemapSize),p[e]=j(o,p[e]);const b=p[0],x=a.convert(o.format,o.colorSpace),_=a.convert(o.type),S=y(o.internalFormat,x,_,o.colorSpace),E=!0!==o.isVideoTexture,k=void 0===c.__version||!0===l,C=u.dataReady;let M,P=w(o,b);if(T(e.TEXTURE_CUBE_MAP,o),f){E&&k&&n.texStorage2D(e.TEXTURE_CUBE_MAP,P,S,b.width,b.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const i=M[r];o.format!==He?null!==x?E?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,_,i.data)}}}else{if(M=o.mipmaps,E&&k){M.length>0&&P++;const t=F(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,P,S,t.width,t.height)}for(let t=0;t<6;t++)if(h){E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,_,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,_,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,_,i.data)}}else{E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,_,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,_,p[t]);for(let r=0;r<M.length;r++){const i=M[r];E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,_,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,_,i.image[t])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),c.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&I(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&z(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",_);const u=t.textures,c=!0===t.isWebGLCubeRenderTarget,d=u.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),c){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=u.length;t<n;t++){const n=r.get(u[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===U(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<u.length;n++){const r=u[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=y(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),c=N(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),O(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),T(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)I(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=u.length;i<a;i++){const a=u[i],o=r.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),T(e.TEXTURE_2D,a),I(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(a)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),T(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else I(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&z(t)},this.updateRenderTargetMipmap=function(t){const i=t.textures;for(let a=0,o=i.length;a<o;a++){const o=i[a];if(g(o)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(o).__webglTexture;n.bindTexture(i,a),v(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===U(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(L.length=0,D.length=0,L.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(L.push(u),D.push(u),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,D)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,L))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=I,this.useMultisampledRTT=U}function Wl(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt;const a=pr.getTransfer(i);if(n===Te)return e.UNSIGNED_BYTE;if(n===Ne)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ue)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Fe)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===Ae)return e.BYTE;if(n===Re)return e.SHORT;if(n===Ie)return e.UNSIGNED_SHORT;if(n===Oe)return e.INT;if(n===ze)return e.UNSIGNED_INT;if(n===Le)return e.FLOAT;if(n===De)return e.HALF_FLOAT;if(n===Be)return e.ALPHA;if(n===Ve)return e.RGB;if(n===He)return e.RGBA;if(n===We)return e.LUMINANCE;if(n===Ge)return e.LUMINANCE_ALPHA;if(n===qe)return e.DEPTH_COMPONENT;if(n===Xe)return e.DEPTH_STENCIL;if(n===Ke)return e.RED;if(n===Ye)return e.RED_INTEGER;if(n===Qe)return e.RG;if(n===Ze)return e.RG_INTEGER;if(n===Je)return e.RGBA_INTEGER;if(n===$e||n===et||n===tt||n===nt)if(a===tn){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===$e)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===et)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===tt)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===nt)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===$e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===et)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===tt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===nt)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===rt||n===it||n===at||n===ot){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===rt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===it)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===at)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ot)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===st||n===lt||n===ut){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===st||n===lt)return a===tn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===ut)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===ct||n===dt||n===ft||n===ht||n===pt||n===mt||n===gt||n===vt||n===yt||n===bt||n===wt||n===xt||n===_t||n===St){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===ct)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===dt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ft)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ht)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===pt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===mt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===gt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===vt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===yt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===bt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===wt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===xt)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===_t)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===St)return a===tn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Et||n===kt||n===Ct){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===Et)return a===tn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===kt)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Ct)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Mt||n===Pt||n===Tt||n===At){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===Et)return r.COMPRESSED_RED_RGTC1_EXT;if(n===Pt)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Tt)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===At)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===je?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Gl extends no{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class ql extends Li{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Xl={type:"move"};class Kl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ql,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ql,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ir,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ir),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ql,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ir,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ir),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,u=.005;l.inputState.pinching&&o>s+u?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-u&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Xl)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new ql;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Yl{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new Sr;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Za({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Wa(new vo(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class Ql extends Vn{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,u=null,c=null,d=null,f=null,h=null;const p=new Yl,m=t.getContextAttributes();let g=null,v=null;const y=[],b=[],w=new er;let x=null;const _=new no;_.layers.enable(1),_.viewport=new Er;const S=new no;S.layers.enable(2),S.viewport=new Er;const E=[_,S],k=new Gl;k.layers.enable(1),k.layers.enable(2);let C=null,M=null;function P(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function T(){r.removeEventListener("select",P),r.removeEventListener("selectstart",P),r.removeEventListener("selectend",P),r.removeEventListener("squeeze",P),r.removeEventListener("squeezestart",P),r.removeEventListener("squeezeend",P),r.removeEventListener("end",T),r.removeEventListener("inputsourceschange",A);for(let e=0;e<y.length;e++){const t=b[e];null!==t&&(b[e]=null,y[e].disconnect(t))}C=null,M=null,p.reset(),e.setRenderTarget(g),f=null,d=null,c=null,r=null,v=null,L.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function A(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=b.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++){if(e>=b.length){b.push(n),r=e;break}if(null===b[e]){b[e]=n,r=e;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new Kl,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new Kl,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new Kl,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:f},this.getBinding=function(){return c},this.getFrame=function(){return h},this.getSession=function(){return r},this.setSession=async function(u){if(r=u,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",P),r.addEventListener("selectstart",P),r.addEventListener("selectend",P),r.addEventListener("squeeze",P),r.addEventListener("squeezestart",P),r.addEventListener("squeezeend",P),r.addEventListener("end",T),r.addEventListener("inputsourceschange",A),!0!==m.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(w),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),v=new Cr(f.framebufferWidth,f.framebufferHeight,{format:He,type:Te,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,a=null,o=null;m.depth&&(o=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?Xe:qe,a=m.stencil?je:ze);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};c=new XRWebGLBinding(r,t),d=c.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),v=new Cr(d.textureWidth,d.textureHeight,{format:He,type:Te,depthTexture:new es(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),L.setContext(r),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const R=new Ir,I=new Ir;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;null!==p.texture&&(e.near=p.depthNear,e.far=p.depthFar),k.near=S.near=_.near=e.near,k.far=S.far=_.far=e.far,C===k.near&&M===k.far||(r.updateRenderState({depthNear:k.near,depthFar:k.far}),C=k.near,M=k.far,_.near=C,_.far=M,S.near=C,S.far=M,_.updateProjectionMatrix(),S.updateProjectionMatrix(),e.updateProjectionMatrix());const t=e.parent,n=k.cameras;O(k,t);for(let r=0;r<n.length;r++)O(n[r],t);2===n.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const r=R.distanceTo(I),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*c,h=o*d,p=r/(-c+d),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=o+p,v=s+p,y=f-m,b=h+(r-m),w=l*s/v*g,x=u*s/v*g;e.projectionMatrix.makePerspective(y,b,w,x,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(k,_,S):k.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*qn*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,k,t)},this.getCamera=function(){return k},this.getFoveation=function(){if(null!==d||null!==f)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(k)};let z=null;const L=new mo;L.setAnimationLoop((function(t,i){if(u=i.getViewerPose(l||a),h=i,null!==u){const t=u.views;null!==f&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==k.cameras.length&&(k.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==f)a=f.getViewport(i);else{const t=c.getViewSubImage(d,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}let o=E[r];void 0===o&&(o=new no,o.layers.enable(r),o.viewport=new Er,E[r]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(k.matrix.copy(o.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),!0===n&&k.cameras.push(o)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=c.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<y.length;e++){const t=b[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}z&&z(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),h=null})),this.setAnimationLoop=function(e){z=e},this.dispose=function(){}}}const Zl=new yi,Jl=new li;function $l(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===m&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===m&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,Zl.copy(o),Zl.x*=-1,Zl.y*=-1,Zl.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Zl.y*=-1,Zl.z*=-1),e.envMapRotation.value.setFromMatrix4(Jl.makeRotationFromEuler(Zl)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Ya(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===m&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function eu(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[a];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function u(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){const n=t.target;n.removeEventListener("dispose",c);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let f=i[n.id];void 0===f&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,i=e.length;t<i;t++){const i=e[t],a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=u(a[e]),o=n%r;0!==o&&r-o<t.boundary&&(n+=r-o),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));const h=d.program;r.updateUBOMapping(n,h);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,o=r.length;i<o;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,a)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const o=n[a],s=u(o);"number"===typeof o||"boolean"===typeof o?(r.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):o.isMatrix3?(r.__data[0]=o.elements[0],r.__data[1]=o.elements[1],r.__data[2]=o.elements[2],r.__data[3]=0,r.__data[4]=o.elements[3],r.__data[5]=o.elements[4],r.__data[6]=o.elements[5],r.__data[7]=0,r.__data[8]=o.elements[6],r.__data[9]=o.elements[7],r.__data[10]=o.elements[8],r.__data[11]=0):(o.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}class tu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=sr(),context:n=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1}=e;let f;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=o;const h=new Uint32Array(4),v=new Int32Array(4);let y=null,b=null;const w=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Qt,this.toneMapping=ee,this.toneMappingExposure=1;const _=this;let S=!1,E=0,k=0,C=null,M=-1,P=null;const T=new Er,A=new Er;let R=null;const I=new Zi(0);let O=0,z=t.width,L=t.height,D=1,N=null,U=null;const j=new Er(0,0,z,L),F=new Er(0,0,z,L);let B=!1;const V=new po;let H=!1,W=!1;const G=new li,q=new Ir,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let K=!1;function Y(){return null===C?D:1}let Q,Z,J,$,te,ne,re,ie,ae,oe,se,le,ue,ce,de,fe,he,pe,me,ge,ve,ye,be,we,xe=n;function _e(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(r)),t.addEventListener("webglcontextlost",ke,!1),t.addEventListener("webglcontextrestored",Ce,!1),t.addEventListener("webglcontextcreationerror",Pe,!1),null===xe){const t="webgl2";if(xe=_e(t,e),null===xe)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($e){throw console.error("THREE.WebGLRenderer: "+$e.message),$e}function Se(){Q=new Ko(xe),Q.init(),ye=new Wl(xe,Q),Z=new Mo(xe,Q,e,ye),J=new Vl(xe),$=new Zo(xe),te=new Pl,ne=new Hl(xe,Q,J,te,Z,ye,$),re=new To(_),ie=new Xo(_),ae=new go(xe),be=new ko(xe,ae),oe=new Yo(xe,ae,$,be),se=new $o(xe,oe,ae,$),me=new Jo(xe,Z,ne),fe=new Po(te),le=new Ml(_,re,ie,Q,Z,be,fe),ue=new $l(_,te),ce=new Il,de=new Ul(Q),pe=new Eo(_,re,ie,J,se,f,l),he=new Bl(_,se,Z),we=new eu(xe,$,Z,J),ge=new Co(xe,Q,$),ve=new Qo(xe,Q,$),$.programs=le.programs,_.capabilities=Z,_.extensions=Q,_.properties=te,_.renderLists=ce,_.shadowMap=he,_.state=J,_.info=$}Se();const Ee=new Ql(_,xe);function ke(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ce(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const e=$.autoReset,t=he.enabled,n=he.autoUpdate,r=he.needsUpdate,i=he.type;Se(),$.autoReset=e,he.enabled=t,he.autoUpdate=n,he.needsUpdate=r,he.type=i}function Pe(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ae(e){const t=e.target;t.removeEventListener("dispose",Ae),function(e){(function(e){const t=te.get(e).programs;void 0!==t&&(t.forEach((function(e){le.releaseProgram(e)})),e.isShaderMaterial&&le.releaseShaderCache(e))})(e),te.remove(e)}(t)}function Re(e,t,n){!0===e.transparent&&e.side===g&&!1===e.forceSinglePass?(e.side=m,e.needsUpdate=!0,Xe(e,t,n),e.side=p,e.needsUpdate=!0,Xe(e,t,n),e.side=g):Xe(e,t,n)}this.xr=Ee,this.getContext=function(){return xe},this.getContextAttributes=function(){return xe.getContextAttributes()},this.forceContextLoss=function(){const e=Q.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=Q.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(e){void 0!==e&&(D=e,this.setSize(z,L,!1))},this.getSize=function(e){return e.set(z,L)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ee.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(z=e,L=n,t.width=Math.floor(e*D),t.height=Math.floor(n*D),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(z*D,L*D).floor()},this.setDrawingBufferSize=function(e,n,r){z=e,L=n,D=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(j)},this.setViewport=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),J.viewport(T.copy(j).multiplyScalar(D).round())},this.getScissor=function(e){return e.copy(F)},this.setScissor=function(e,t,n,r){e.isVector4?F.set(e.x,e.y,e.z,e.w):F.set(e,t,n,r),J.scissor(A.copy(F).multiplyScalar(D).round())},this.getScissorTest=function(){return B},this.setScissorTest=function(e){J.setScissorTest(B=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==C){const t=C.texture.format;e=t===Je||t===Ze||t===Ye}if(e){const e=C.texture.type,t=e===Te||e===ze||e===Ie||e===je||e===Ne||e===Ue,n=pe.getClearColor(),r=pe.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(h[0]=i,h[1]=a,h[2]=o,h[3]=r,xe.clearBufferuiv(xe.COLOR,0,h)):(v[0]=i,v[1]=a,v[2]=o,v[3]=r,xe.clearBufferiv(xe.COLOR,0,v))}else n|=xe.COLOR_BUFFER_BIT}e&&(n|=xe.DEPTH_BUFFER_BIT),t&&(n|=xe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),xe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ke,!1),t.removeEventListener("webglcontextrestored",Ce,!1),t.removeEventListener("webglcontextcreationerror",Pe,!1),ce.dispose(),de.dispose(),te.dispose(),re.dispose(),ie.dispose(),se.dispose(),be.dispose(),we.dispose(),le.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Le),Ee.removeEventListener("sessionend",Fe),Be.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=X);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=X);ne.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===C?_.outputColorSpace:!0===C.isXRRenderTarget?C.texture.colorSpace:Zt,l=(r.isMeshStandardMaterial?ie:re).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,h=!!n.morphAttributes.color;let p=ee;r.toneMapped&&(null!==C&&!0!==C.isXRRenderTarget||(p=_.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,v=te.get(r),y=b.state.lights;if(!0===H&&(!0===W||e!==P)){const t=e===P&&r.id===M;fe.setState(r,e,t)}let w=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==s||i.isBatchedMesh&&!1===v.batching?w=!0:i.isBatchedMesh||!0!==v.batching?i.isBatchedMesh&&!0===v.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===v.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===v.instancing?w=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?w=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===v.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===v.instancingMorph&&null!==i.morphTexture||v.envMap!==l||!0===r.fog&&v.fog!==a?w=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===fe.numPlanes&&v.numIntersection===fe.numIntersection?(v.vertexAlphas!==u||v.vertexTangents!==c||v.morphTargets!==d||v.morphNormals!==f||v.morphColors!==h||v.toneMapping!==p||v.morphTargetsCount!==g)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,v.__version=r.version);let x=v.currentProgram;!0===w&&(x=Xe(r,t,i));let S=!1,E=!1,k=!1;const T=x.getUniforms(),A=v.uniforms;J.useProgram(x.program)&&(S=!0,E=!0,k=!0);r.id!==M&&(M=r.id,E=!0);if(S||P!==e){T.setValue(xe,"projectionMatrix",e.projectionMatrix),T.setValue(xe,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(xe,q.setFromMatrixPosition(e.matrixWorld)),Z.logarithmicDepthBuffer&&T.setValue(xe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(xe,"isOrthographic",!0===e.isOrthographicCamera),P!==e&&(P=e,E=!0,k=!0)}if(i.isSkinnedMesh){T.setOptional(xe,i,"bindMatrix"),T.setOptional(xe,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(xe,"boneTexture",e.boneTexture,ne))}i.isBatchedMesh&&(T.setOptional(xe,i,"batchingTexture"),T.setValue(xe,"batchingTexture",i._matricesTexture,ne),T.setOptional(xe,i,"batchingColorTexture"),null!==i._colorsTexture&&T.setValue(xe,"batchingColorTexture",i._colorsTexture,ne));const R=n.morphAttributes;void 0===R.position&&void 0===R.normal&&void 0===R.color||me.update(i,n,x);(E||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,T.setValue(xe,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(A.envMap.value=l,A.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(A.envMapIntensity.value=t.environmentIntensity);E&&(T.setValue(xe,"toneMappingExposure",_.toneMappingExposure),v.needsLights&&(O=k,(I=A).ambientLightColor.needsUpdate=O,I.lightProbe.needsUpdate=O,I.directionalLights.needsUpdate=O,I.directionalLightShadows.needsUpdate=O,I.pointLights.needsUpdate=O,I.pointLightShadows.needsUpdate=O,I.spotLights.needsUpdate=O,I.spotLightShadows.needsUpdate=O,I.rectAreaLights.needsUpdate=O,I.hemisphereLights.needsUpdate=O),a&&!0===r.fog&&ue.refreshFogUniforms(A,a),ue.refreshMaterialUniforms(A,r,D,L,b.state.transmissionRenderTarget[e.id]),al.upload(xe,Ke(v),A,ne));var I,O;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(al.upload(xe,Ke(v),A,ne),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&T.setValue(xe,"center",i.center);if(T.setValue(xe,"modelViewMatrix",i.modelViewMatrix),T.setValue(xe,"normalMatrix",i.normalMatrix),T.setValue(xe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];we.update(n,x),we.bind(n,x)}}return x}(e,t,n,r,i);J.setMaterial(r,o);let l=n.index,u=1;if(!0===r.wireframe){if(l=oe.getWireframeAttribute(n),void 0===l)return;u=2}const c=n.drawRange,d=n.attributes.position;let f=c.start*u,h=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),h=Math.min(h,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),h=Math.min(h,l.count)):void 0!==d&&null!==d&&(f=Math.max(f,0),h=Math.min(h,d.count));const p=h-f;if(p<0||p===1/0)return;let m;be.setup(i,r,s,n,l);let g=ge;if(null!==l&&(m=ae.get(l),g=ve,g.setIndex(m)),i.isMesh)!0===r.wireframe?(J.setLineWidth(r.wireframeLinewidth*Y()),g.setMode(xe.LINES)):g.setMode(xe.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),J.setLineWidth(e*Y()),i.isLineSegments?g.setMode(xe.LINES):i.isLineLoop?g.setMode(xe.LINE_LOOP):g.setMode(xe.LINE_STRIP)}else i.isPoints?g.setMode(xe.POINTS):i.isSprite&&g.setMode(xe.TRIANGLES);if(i.isBatchedMesh)null!==i._multiDrawInstances?g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances):g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else if(i.isInstancedMesh)g.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(f,p,t)}else g.render(f,p)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),b=de.get(n),b.init(t),x.push(b),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(b.pushLight(e),e.castShadow&&b.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(b.pushLight(e),e.castShadow&&b.pushShadow(e))})),b.setupLights();const r=new Set;return e.traverse((function(e){const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Re(a,n,e),r.add(a)}else Re(t,n,e),r.add(t)})),x.pop(),b=null,r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){te.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==Q.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Oe=null;function Le(){Be.stop()}function Fe(){Be.start()}const Be=new mo;function Ve(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)b.pushLight(e),e.castShadow&&b.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||V.intersectsSprite(e)){r&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G);const t=se.update(e),i=e.material;i.visible&&y.push(e,t,i,n,q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||V.intersectsObject(e))){const t=se.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),q.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),q.copy(t.boundingSphere.center)),q.applyMatrix4(e.matrixWorld).applyMatrix4(G)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&y.push(e,t,s,n,q.z,o)}}else i.visible&&y.push(e,t,i,n,q.z,null)}const i=e.children;for(let a=0,o=i.length;a<o;a++)Ve(i[a],t,n,r)}function He(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;b.setupLightsView(n),!0===H&&fe.setGlobalState(_.clippingPlanes,n),r&&J.viewport(T.copy(r)),i.length>0&&Ge(i,t,n),a.length>0&&Ge(a,t,n),o.length>0&&Ge(o,t,n),J.buffers.depth.setTest(!0),J.buffers.depth.setMask(!0),J.buffers.color.setMask(!0),J.setPolygonOffset(!1)}function We(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===b.state.transmissionRenderTarget[r.id]&&(b.state.transmissionRenderTarget[r.id]=new Cr(1,1,{generateMipmaps:!0,type:Q.has("EXT_color_buffer_half_float")||Q.has("EXT_color_buffer_float")?De:Te,minFilter:Me,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:pr.workingColorSpace}));const i=b.state.transmissionRenderTarget[r.id],o=r.viewport||T;i.setSize(o.z,o.w);const s=_.getRenderTarget();_.setRenderTarget(i),_.getClearColor(I),O=_.getClearAlpha(),O<1&&_.setClearColor(16777215,.5),K?pe.render(n):_.clear();const l=_.toneMapping;_.toneMapping=ee;const u=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),b.setupLightsView(r),!0===H&&fe.setGlobalState(_.clippingPlanes,r),Ge(e,n,r),ne.updateMultisampleRenderTarget(i),ne.updateRenderTargetMipmap(i),!1===Q.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],o=a.object,s=a.geometry,l=a.material,u=a.group;if(l.side===g&&o.layers.test(r.layers)){const t=l.side;l.side=m,l.needsUpdate=!0,qe(o,n,r,s,l,u),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ne.updateMultisampleRenderTarget(i),ne.updateRenderTargetMipmap(i))}_.setRenderTarget(s),_.setClearColor(I,O),void 0!==u&&(r.viewport=u),_.toneMapping=l}function Ge(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,u=a.group;o.layers.test(n.layers)&&qe(o,t,n,s,l,u)}}function qe(e,t,n,r,i,a){e.onBeforeRender(_,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(_,t,n,r,e,a),!0===i.transparent&&i.side===g&&!1===i.forceSinglePass?(i.side=m,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,a),i.side=p,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,a),i.side=g):_.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(_,t,n,r,i,a)}function Xe(e,t,n){!0!==t.isScene&&(t=X);const r=te.get(e),i=b.state.lights,a=b.state.shadowsArray,o=i.state.version,s=le.getParameters(e,i.state,a,t,n),l=le.getProgramCacheKey(s);let u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ie:re).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===u&&(e.addEventListener("dispose",Ae),u=new Map,r.programs=u);let c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Qe(e,s),c}else s.uniforms=le.getUniforms(e),e.onBuild(n,s,_),e.onBeforeCompile(s,_),c=le.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=fe.uniform),Qe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function Ke(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=al.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Qe(e,t){const n=te.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Be.setAnimationLoop((function(e){Oe&&Oe(e)})),"undefined"!==typeof self&&Be.setContext(self),this.setAnimationLoop=function(e){Oe=e,Ee.setAnimationLoop(e),null===e?Be.stop():Be.start()},Ee.addEventListener("sessionstart",Le),Ee.addEventListener("sessionend",Fe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===S)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ee.enabled&&!0===Ee.isPresenting&&(!0===Ee.cameraAutoUpdate&&Ee.updateCamera(t),t=Ee.getCamera()),!0===e.isScene&&e.onBeforeRender(_,e,t,C),b=de.get(e,x.length),b.init(t),x.push(b),G.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),V.setFromProjectionMatrix(G),W=this.localClippingEnabled,H=fe.init(this.clippingPlanes,W),y=ce.get(e,w.length),y.init(),w.push(y),!0===Ee.enabled&&!0===Ee.isPresenting){const e=_.xr.getDepthSensingMesh();null!==e&&Ve(e,t,-1/0,_.sortObjects)}Ve(e,t,0,_.sortObjects),y.finish(),!0===_.sortObjects&&y.sort(N,U),K=!1===Ee.enabled||!1===Ee.isPresenting||!1===Ee.hasDepthSensing(),K&&pe.addToRenderList(y,e),this.info.render.frame++,!0===H&&fe.beginShadows();const n=b.state.shadowsArray;he.render(n,e,t),!0===H&&fe.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=y.opaque,i=y.transmissive;if(b.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){We(r,i,e,n[t])}K&&pe.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];He(y,e,r,r.viewport)}}else i.length>0&&We(r,i,e,t),K&&pe.render(e),He(y,e,t);null!==C&&(ne.updateMultisampleRenderTarget(C),ne.updateRenderTargetMipmap(C)),!0===e.isScene&&e.onAfterRender(_,e,t),be.resetDefaultState(),M=-1,P=null,x.pop(),x.length>0?(b=x[x.length-1],!0===H&&fe.setGlobalState(_.clippingPlanes,b.state.camera)):b=null,w.pop(),y=w.length>0?w[w.length-1]:null},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(e,t,n){te.get(e.texture).__webglTexture=t,te.get(e.depthTexture).__webglTexture=n;const r=te.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Q.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=te.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;C=e,E=t,k=n;let r=!0,i=null,a=!1,o=!1;if(e){const s=te.get(e);void 0!==s.__useDefaultFramebuffer?(J.bindFramebuffer(xe.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ne.setupRenderTarget(e):s.__hasExternalTextures&&ne.rebindTextures(e,te.get(e.texture).__webglTexture,te.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const u=te.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(u[t])?u[t][n]:u[t],a=!0):i=e.samples>0&&!1===ne.useMultisampledRTT(e)?te.get(e).__webglMultisampledFramebuffer:Array.isArray(u)?u[n]:u,T.copy(e.viewport),A.copy(e.scissor),R=e.scissorTest}else T.copy(j).multiplyScalar(D).floor(),A.copy(F).multiplyScalar(D).floor(),R=B;if(J.bindFramebuffer(xe.FRAMEBUFFER,i)&&r&&J.drawBuffers(e,i),J.viewport(T),J.scissor(A),J.setScissorTest(R),a){const r=te.get(e.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){const r=te.get(e.texture),i=t||0;xe.framebufferTextureLayer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}M=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=te.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){J.bindFramebuffer(xe.FRAMEBUFFER,s);try{const o=e.texture,s=o.format,l=o.type;if(!Z.textureFormatReadable(s))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&xe.readPixels(t,n,r,i,ye.convert(s),ye.convert(l),a)}finally{const e=null!==C?te.get(C).__webglFramebuffer:null;J.bindFramebuffer(xe.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=te.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){J.bindFramebuffer(xe.FRAMEBUFFER,s);try{const o=e.texture,s=o.format,l=o.type;if(!Z.textureFormatReadable(s))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){const e=xe.createBuffer();xe.bindBuffer(xe.PIXEL_PACK_BUFFER,e),xe.bufferData(xe.PIXEL_PACK_BUFFER,a.byteLength,xe.STREAM_READ),xe.readPixels(t,n,r,i,ye.convert(s),ye.convert(l),0),xe.flush();const o=xe.fenceSync(xe.SYNC_GPU_COMMANDS_COMPLETE,0);await function(e,t,n){return new Promise((function(r,i){setTimeout((function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}),n)}))}(xe,o,4);try{xe.bindBuffer(xe.PIXEL_PACK_BUFFER,e),xe.getBufferSubData(xe.PIXEL_PACK_BUFFER,0,a)}finally{xe.deleteBuffer(e),xe.deleteSync(o)}return a}}finally{const e=null!==C?te.get(C).__webglFramebuffer:null;J.bindFramebuffer(xe.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!0!==e.isTexture&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;ne.setTexture2D(e,0),xe.copyTexSubImage2D(xe.TEXTURE_2D,n,0,0,o,s,i,a),J.unbindTexture()},this.copyTextureToTexture=function(e,t){let n,r,i,a,o,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==e.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),u=arguments[0]||null,e=arguments[1],t=arguments[2],c=arguments[3]||0,l=null),null!==l?(n=l.max.x-l.min.x,r=l.max.y-l.min.y,i=l.min.x,a=l.min.y):(n=e.image.width,r=e.image.height,i=0,a=0),null!==u?(o=u.x,s=u.y):(o=0,s=0);const d=ye.convert(t.format),f=ye.convert(t.type);ne.setTexture2D(t,0),xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,t.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,t.unpackAlignment);const h=xe.getParameter(xe.UNPACK_ROW_LENGTH),p=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),m=xe.getParameter(xe.UNPACK_SKIP_PIXELS),g=xe.getParameter(xe.UNPACK_SKIP_ROWS),v=xe.getParameter(xe.UNPACK_SKIP_IMAGES),y=e.isCompressedTexture?e.mipmaps[c]:e.image;xe.pixelStorei(xe.UNPACK_ROW_LENGTH,y.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,y.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,i),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,a),e.isDataTexture?xe.texSubImage2D(xe.TEXTURE_2D,c,o,s,n,r,d,f,y.data):e.isCompressedTexture?xe.compressedTexSubImage2D(xe.TEXTURE_2D,c,o,s,y.width,y.height,d,y.data):xe.texSubImage2D(xe.TEXTURE_2D,c,o,s,d,f,y),xe.pixelStorei(xe.UNPACK_ROW_LENGTH,h),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,p),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,m),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,g),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,v),0===c&&t.generateMipmaps&&xe.generateMipmap(xe.TEXTURE_2D),J.unbindTexture()},this.copyTextureToTexture3D=function(e,t){let n,r,i,a,o,s,l,u,c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==e.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),d=arguments[0]||null,f=arguments[1]||null,e=arguments[2],t=arguments[3],h=arguments[4]||0);const p=e.isCompressedTexture?e.mipmaps[h]:e.image;null!==d?(n=d.max.x-d.min.x,r=d.max.y-d.min.y,i=d.max.z-d.min.z,a=d.min.x,o=d.min.y,s=d.min.z):(n=p.width,r=p.height,i=p.depth,a=0,o=0,s=0),null!==f?(l=f.x,u=f.y,c=f.z):(l=0,u=0,c=0);const m=ye.convert(t.format),g=ye.convert(t.type);let v;if(t.isData3DTexture)ne.setTexture3D(t,0),v=xe.TEXTURE_3D;else{if(!t.isDataArrayTexture&&!t.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ne.setTexture2DArray(t,0),v=xe.TEXTURE_2D_ARRAY}xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,t.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,t.unpackAlignment);const y=xe.getParameter(xe.UNPACK_ROW_LENGTH),b=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),w=xe.getParameter(xe.UNPACK_SKIP_PIXELS),x=xe.getParameter(xe.UNPACK_SKIP_ROWS),_=xe.getParameter(xe.UNPACK_SKIP_IMAGES);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,p.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,p.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,a),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,o),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,s),e.isDataTexture||e.isData3DTexture?xe.texSubImage3D(v,h,l,u,c,n,r,i,m,g,p.data):t.isCompressedArrayTexture?xe.compressedTexSubImage3D(v,h,l,u,c,n,r,i,m,p.data):xe.texSubImage3D(v,h,l,u,c,n,r,i,m,g,p),xe.pixelStorei(xe.UNPACK_ROW_LENGTH,y),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,b),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,w),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,x),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,_),0===h&&t.generateMipmaps&&xe.generateMipmap(v),J.unbindTexture()},this.initRenderTarget=function(e){void 0===te.get(e).__webglFramebuffer&&ne.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ne.setTextureCube(e,0):e.isData3DTexture?ne.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ne.setTexture2DArray(e,0):ne.setTexture2D(e,0),J.unbindTexture()},this.resetState=function(){E=0,k=0,C=null,J.reset(),be.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Jt?"display-p3":"srgb",t.unpackColorSpace=pr.workingColorSpace===$t?"display-p3":"srgb"}}class nu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Zi(e),this.density=t}clone(){return new nu(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Zi(e),this.near=t,this.far=n}clone(){return new ru(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class iu extends Li{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new yi,this.environmentIntensity=1,this.environmentRotation=new yi,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class au{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Tn,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Xn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ur("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Xn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ou=new Ir;class su{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ou.fromBufferAttribute(this,t),ou.applyMatrix4(e),this.setXYZ(t,ou.x,ou.y,ou.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ou.fromBufferAttribute(this,t),ou.applyNormalMatrix(e),this.setXYZ(t,ou.x,ou.y,ou.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ou.fromBufferAttribute(this,t),ou.transformDirection(e),this.setXYZ(t,ou.x,ou.y,ou.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Zn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Zn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Zn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Zn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Zn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new ua(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new su(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class lu extends ea{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Zi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uu;const cu=new Ir,du=new Ir,fu=new Ir,hu=new er,pu=new er,mu=new li,gu=new Ir,vu=new Ir,yu=new Ir,bu=new er,wu=new er,xu=new er;class _u extends Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lu;if(super(),this.isSprite=!0,this.type="Sprite",void 0===uu){uu=new Ca;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new au(e,5);uu.setIndex([0,1,2,0,2,3]),uu.setAttribute("position",new su(t,3,0,!1)),uu.setAttribute("uv",new su(t,2,3,!1))}this.geometry=uu,this.material=e,this.center=new er(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),du.setFromMatrixScale(this.matrixWorld),mu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&du.multiplyScalar(-fu.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;Su(gu.set(-.5,-.5,0),fu,a,du,r,i),Su(vu.set(.5,-.5,0),fu,a,du,r,i),Su(yu.set(.5,.5,0),fu,a,du,r,i),bu.set(0,0),wu.set(1,0),xu.set(1,1);let o=e.ray.intersectTriangle(gu,vu,yu,!1,cu);if(null===o&&(Su(vu.set(-.5,.5,0),fu,a,du,r,i),wu.set(0,1),o=e.ray.intersectTriangle(gu,yu,vu,!1,cu),null===o))return;const s=e.ray.origin.distanceTo(cu);s<e.near||s>e.far||t.push({distance:s,point:cu.clone(),uv:qi.getInterpolation(cu,gu,vu,yu,bu,wu,xu,new er),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Su(e,t,n,r,i,a){hu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(pu.x=a*hu.x-i*hu.y,pu.y=i*hu.x+a*hu.y):pu.copy(hu),e.copy(t),e.x+=pu.x,e.y+=pu.y,e.applyMatrix4(mu)}const Eu=new Ir,ku=new Ir;class Cu extends Li{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Eu.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Eu);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Eu.setFromMatrixPosition(e.matrixWorld),ku.setFromMatrixPosition(this.matrixWorld);const n=Eu.distanceTo(ku)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const Mu=new Ir,Pu=new Er,Tu=new Er,Au=new Ir,Ru=new li,Iu=new Ir,Ou=new $r,zu=new li,Lu=new si;class Du extends Wa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=le,this.bindMatrix=new li,this.bindMatrixInverse=new li,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Lr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Iu),this.boundingBox.expandByPoint(Iu)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new $r),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Iu),this.boundingSphere.expandByPoint(Iu)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ou.copy(this.boundingSphere),Ou.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ou)&&(zu.copy(r).invert(),Lu.copy(e.ray).applyMatrix4(zu),null!==this.boundingBox&&!1===Lu.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Lu)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Er,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===le?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ue?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Pu.fromBufferAttribute(r.attributes.skinIndex,e),Tu.fromBufferAttribute(r.attributes.skinWeight,e),Mu.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Tu.getComponent(i);if(0!==e){const r=Pu.getComponent(i);Ru.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Au.copy(Mu).applyMatrix4(Ru),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Nu extends Li{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Uu extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:be,arguments.length>9&&void 0!==arguments[9]?arguments[9]:be,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ju=new li,Fu=new li;class Bu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Xn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new li)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new li;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:Fu;ju.multiplyMatrices(r,t[i]),ju.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Bu(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Uu(t,e,e,He,Le);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Nu),this.bones.push(i),this.boneInverses.push((new li).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Vu extends ua{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hu=new li,Wu=new li,Gu=[],qu=new Lr,Xu=new li,Ku=new Wa,Yu=new $r;class Qu extends Wa{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Vu(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Xu)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Lr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hu),qu.copy(e.boundingBox).applyMatrix4(Hu),this.boundingBox.union(qu)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new $r),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hu),Yu.copy(e.boundingSphere).applyMatrix4(Hu),this.boundingSphere.union(Yu)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=r[i+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Ku.geometry=this.geometry,Ku.material=this.material,void 0!==Ku.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Yu.copy(this.boundingSphere),Yu.applyMatrix4(n),!1!==e.ray.intersectsSphere(Yu)))for(let i=0;i<r;i++){this.getMatrixAt(i,Hu),Wu.multiplyMatrices(n,Hu),Ku.matrixWorld=Wu,Ku.raycast(e,Gu);for(let e=0,n=Gu.length;e<n;e++){const n=Gu[e];n.instanceId=i,n.object=this,t.push(n)}Gu.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Vu(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new Uu(new Float32Array(r*this.count),r,this.count,Ke,Le));const i=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const o=this.geometry.morphTargetsRelative?1:1-a,s=r*e;i[s]=o,i.set(n,s+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Zu(e,t){return e.z-t.z}function Ju(e,t){return t.z-e.z}class $u{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const n=this.pool,r=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1});const i=n[this.index];r.push(i),this.index++,i.start=e.start,i.count=e.count,i.z=t}reset(){this.list.length=0,this.index=0}}const ec="batchId",tc=new li,nc=new li,rc=new li,ic=new Zi(1,1,1),ac=new li,oc=new po,sc=new Lr,lc=new $r,uc=new Ir,cc=new Ir,dc=new Ir,fc=new $u,hc=new Wa,pc=[];function mc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let a=0;a<i;a++)for(let i=0;i<r;i++)t.setComponent(a+n,i,e.getComponent(a,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}class gc extends Wa{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,r=arguments.length>3?arguments[3]:void 0;super(new Ca,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(4*this._maxGeometryCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Uu(t,e,e,He,Le);this._matricesTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Uu(t,e,e,He,Le);n.colorSpace=pr.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxGeometryCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:a,itemSize:o,normalized:s}=i,l=new a.constructor(n*o),u=new ua(l,o,s);t.setAttribute(r,u)}if(null!==e.getIndex()){const e=n>65536?new Uint32Array(i):new Uint16Array(i);t.setIndex(new ua(e,1))}const a=r>65536?new Uint32Array(n):new Uint16Array(n);t.setAttribute(ec,new ua(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ec))throw new Error('BatchedMesh: Geometry cannot use attribute "'.concat(ec,'"'));const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(n===ec)continue;if(!e.hasAttribute(n))throw new Error('BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Lr);const e=this._geometryCount,t=this.boundingBox,n=this._active;t.makeEmpty();for(let r=0;r<e;r++)!1!==n[r]&&(this.getMatrixAt(r,tc),this.getBoundingBoxAt(r,sc).applyMatrix4(tc),t.union(sc))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $r);const e=this._geometryCount,t=this.boundingSphere,n=this._active;t.makeEmpty();for(let r=0;r<e;r++)!1!==n[r]&&(this.getMatrixAt(r,tc),this.getBoundingSphereAt(r,lc).applyMatrix4(tc),t.union(lc))}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const a=this._reservedRanges,o=this._drawRanges,s=this._bounds;0!==this._geometryCount&&(i=a[a.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const l=e.getIndex(),u=null!==l;if(u&&(r.indexCount=-1===n?l.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const c=this._visibility,d=this._active,f=this._matricesTexture,h=this._matricesTexture.image.data,p=this._colorsTexture;c.push(!0),d.push(!0);const m=this._geometryCount;this._geometryCount++,rc.toArray(h,16*m),f.needsUpdate=!0,null!==p&&(ic.toArray(p.image.data,4*m),p.needsUpdate=!0),a.push(r),o.push({start:u?r.indexStart:r.vertexStart,count:-1}),s.push({boxInitialized:!1,box:new Lr,sphereInitialized:!1,sphere:new $r});const g=this.geometry.getAttribute(ec);for(let v=0;v<r.vertexCount;v++)g.setX(r.vertexStart+v,m);return g.needsUpdate=!0,this.setGeometryAt(m,e),m}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._reservedRanges[e];if(r&&a.count>o.indexCount||t.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.vertexCount;for(const f in n.attributes){if(f===ec)continue;const e=t.getAttribute(f),r=n.getAttribute(f);mc(e,r,s);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(s*i,l*i)}if(r){const e=o.indexStart;for(let t=0;t<a.count;t++)i.setX(e+t,s+a.getX(t));for(let t=a.count,n=o.indexCount;t<n;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,o.indexCount)}const u=this._bounds[e];null!==t.boundingBox?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,null!==t.boundingSphere?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const c=this._drawRanges[e],d=t.getAttribute("position");return c.count=r?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||!1===t[e]||(t[e]=!1,this._visibilityChanged=!0),this}getInstanceCountAt(e){return null===this._multiDrawInstances?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return null===this._multiDrawInstances&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();const t=i.index,a=i.attributes.position,o=this._drawRanges[e];for(let e=o.start,n=o.start+o.count;e<n;e++){let n=e;t&&(n=t.getX(n)),r.expandByPoint(uc.fromBufferAttribute(a,n))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,sc),sc.getCenter(r.center);const t=i.index,a=i.attributes.position,o=this._drawRanges[e];let s=0;for(let e=o.start,n=o.start+o.count;e<n;e++){let n=e;t&&(n=t.getX(n)),uc.fromBufferAttribute(a,n),s=Math.max(s,r.center.distanceToSquared(uc))}r.radius=Math.sqrt(s),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._active,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]||(t.toArray(i,16*e),r.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._active,r=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]?null:t.fromArray(r,16*e)}setColorAt(e,t){null===this._colorsTexture&&this._initColorsTexture();const n=this._active,r=this._colorsTexture,i=this._colorsTexture.image.data;return e>=this._geometryCount||!1===n[e]||(t.toArray(i,4*e),r.needsUpdate=!0),this}getColorAt(e,t){const n=this._active,r=this._colorsTexture.image.data;return e>=this._geometryCount||!1===n[e]?null:t.fromArray(r,4*e)}setVisibleAt(e,t){const n=this._visibility,r=this._active;return e>=this._geometryCount||!1===r[e]||n[e]===t||(n[e]=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._visibility,n=this._active;return!(e>=this._geometryCount||!1===n[e])&&t[e]}raycast(e,t){const n=this._visibility,r=this._active,i=this._drawRanges,a=this._geometryCount,o=this.matrixWorld,s=this.geometry;hc.material=this.material,hc.geometry.index=s.index,hc.geometry.attributes=s.attributes,null===hc.geometry.boundingBox&&(hc.geometry.boundingBox=new Lr),null===hc.geometry.boundingSphere&&(hc.geometry.boundingSphere=new $r);for(let l=0;l<a;l++){if(!n[l]||!r[l])continue;const a=i[l];hc.geometry.setDrawRange(a.start,a.count),this.getMatrixAt(l,hc.matrixWorld).premultiply(o),this.getBoundingBoxAt(l,hc.geometry.boundingBox),this.getBoundingSphereAt(l,hc.geometry.boundingSphere),hc.raycast(e,pc);for(let e=0,n=pc.length;e<n;e++){const n=pc[e];n.object=this,n.batchId=l,t.push(n)}pc.length=0}hc.material=null,hc.geometry.index=null,hc.geometry.attributes={},hc.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map((e=>({...e}))),this._reservedRanges=e._reservedRanges.map((e=>({...e}))),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map((e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()}))),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._active,l=this._visibility,u=this._multiDrawStarts,c=this._multiDrawCounts,d=this._drawRanges,f=this.perObjectFrustumCulled;f&&(ac.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),oc.setFromProjectionMatrix(ac,e.coordinateSystem));let h=0;if(this.sortObjects){nc.copy(this.matrixWorld).invert(),uc.setFromMatrixPosition(n.matrixWorld).applyMatrix4(nc),cc.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(nc);for(let n=0,r=l.length;n<r;n++)if(l[n]&&s[n]){this.getMatrixAt(n,tc),this.getBoundingSphereAt(n,lc).applyMatrix4(tc);let e=!1;if(f&&(e=!oc.intersectsSphere(lc)),!e){const e=dc.subVectors(lc.center,uc).dot(cc);fc.push(d[n],e)}}const e=fc.list,t=this.customSort;null===t?e.sort(i.transparent?Ju:Zu):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];u[h]=t.start*o,c[h]=t.count,h++}fc.reset()}else for(let p=0,m=l.length;p<m;p++)if(l[p]&&s[p]){let e=!1;if(f&&(this.getMatrixAt(p,tc),this.getBoundingSphereAt(p,lc).applyMatrix4(tc),e=!oc.intersectsSphere(lc)),!e){const e=d[p];u[h]=e.start*o,c[h]=e.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}class vc extends ea{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Zi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yc=new Ir,bc=new Ir,wc=new li,xc=new si,_c=new $r,Sc=new Ir,Ec=new Ir;class kc extends Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ca,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vc;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)yc.fromBufferAttribute(t,e-1),bc.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=yc.distanceTo(bc);e.setAttribute("lineDistance",new ya(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_c.copy(n.boundingSphere),_c.applyMatrix4(r),_c.radius+=i,!1===e.ray.intersectsSphere(_c))return;wc.copy(r).invert(),xc.copy(e.ray).applyMatrix4(wc);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,u=n.index,c=n.attributes.position;if(null!==u){const n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=u.getX(i),r=u.getX(i+1),a=Cc(this,e,xc,s,n,r);a&&t.push(a)}if(this.isLineLoop){const i=u.getX(r-1),a=u.getX(n),o=Cc(this,e,xc,s,i,a);o&&t.push(o)}}else{const n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=Cc(this,e,xc,s,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=Cc(this,e,xc,s,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Cc(e,t,n,r,i,a){const o=e.geometry.attributes.position;yc.fromBufferAttribute(o,i),bc.fromBufferAttribute(o,a);if(n.distanceSqToSegment(yc,bc,Sc,Ec)>r)return;Sc.applyMatrix4(e.matrixWorld);const s=t.ray.origin.distanceTo(Sc);return s<t.near||s>t.far?void 0:{distance:s,point:Ec.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,object:e}}const Mc=new Ir,Pc=new Ir;class Tc extends kc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Mc.fromBufferAttribute(t,e),Pc.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Mc.distanceTo(Pc);e.setAttribute("lineDistance",new ya(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ac extends kc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Rc extends ea{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Zi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Ic=new li,Oc=new si,zc=new $r,Lc=new Ir;class Dc extends Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ca,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rc;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),zc.copy(n.boundingSphere),zc.applyMatrix4(r),zc.radius+=i,!1===e.ray.intersectsSphere(zc))return;Ic.copy(r).invert(),Oc.copy(e.ray).applyMatrix4(Ic);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);Lc.fromBufferAttribute(u,i),Nc(Lc,i,s,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);n<i;n++)Lc.fromBufferAttribute(u,n),Nc(Lc,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Nc(e,t,n,r,i,a,o){const s=Oc.distanceSqToPoint(e);if(s<n){const n=new Ir;Oc.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class Uc extends Sr{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:Ee,this.magFilter=void 0!==i?i:Ee,this.generateMipmaps=!1;const u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jc extends Sr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=be,this.minFilter=be,this.generateMipmaps=!1,this.needsUpdate=!0}}class Fc extends Sr{constructor(e,t,n,r,i,a,o,s,l,u,c,d){super(null,a,o,s,l,u,r,i,c,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Bc extends Fc{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ve,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Vc extends Fc{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,de),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Hc extends Sr{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Wc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const u=n[r];return(r+(a-u)/(n[r+1]-u))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new er:new Ir);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Ir,r=[],i=[],a=[],o=new Ir,s=new li;for(let f=0;f<=e;f++){const t=f/e;r[f]=this.getTangentAt(t,new Ir)}i[0]=new Ir,a[0]=new Ir;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),c=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let f=1;f<=e;f++){if(i[f]=i[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(r[f-1],r[f]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Kn(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(o,e))}a[f].crossVectors(r[f],i[f])}if(!0===t){let t=Math.acos(Kn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gc extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,r=s-this.aY;o=n*e-r*t+this.aX,s=n*t+r*e+this.aY}return t.set(o,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class qc extends Gc{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function Xc(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,u*=o,i(t,n,l,u)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const Kc=new Ir,Yc=new Xc,Qc=new Xc,Zc=new Xc;class Jc extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let a,o,s=Math.floor(i),l=i-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===l&&s===r-1&&(s=r-2,l=1),this.closed||s>0?a=n[(s-1)%r]:(Kc.subVectors(n[0],n[1]).add(n[0]),a=Kc);const u=n[s%r],c=n[(s+1)%r];if(this.closed||s+2<r?o=n[(s+2)%r]:(Kc.subVectors(n[r-1],n[r-2]).add(n[r-1]),o=Kc),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(c),e),r=Math.pow(c.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Yc.initNonuniformCatmullRom(a.x,u.x,c.x,o.x,t,n,r),Qc.initNonuniformCatmullRom(a.y,u.y,c.y,o.y,t,n,r),Zc.initNonuniformCatmullRom(a.z,u.z,c.z,o.z,t,n,r)}else"catmullrom"===this.curveType&&(Yc.initCatmullRom(a.x,u.x,c.x,o.x,this.tension),Qc.initCatmullRom(a.y,u.y,c.y,o.y,this.tension),Zc.initCatmullRom(a.z,u.z,c.z,o.z,this.tension));return t.set(Yc.calc(l),Qc.calc(l),Zc.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Ir).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $c(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function ed(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function td(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class nd extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new er,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new er;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(td(e,n.x,r.x,i.x,a.x),td(e,n.y,r.y,i.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rd extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ir;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(td(e,n.x,r.x,i.x,a.x),td(e,n.y,r.y,i.y,a.y),td(e,n.z,r.z,i.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class id extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ad extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class od extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new er;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.v0,r=this.v1,i=this.v2;return t.set(ed(e,n.x,r.x,i.x),ed(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sd extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=this.v0,r=this.v1,i=this.v2;return t.set(ed(e,n.x,r.x,i.x),ed(e,n.y,r.y,i.y),ed(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ld extends Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set($c(a,o.x,s.x,l.x,u.x),$c(a,o.y,s.y,l.y,u.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new er).fromArray(n))}return this}}var ud=Object.freeze({__proto__:null,ArcCurve:qc,CatmullRomCurve3:Jc,CubicBezierCurve:nd,CubicBezierCurve3:rd,EllipseCurve:Gc,LineCurve:id,LineCurve3:ad,QuadraticBezierCurve:od,QuadraticBezierCurve3:sd,SplineCurve:ld});class cd extends Wc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new ud[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new ud[n.type]).fromJSON(n))}return this}}class dd extends cd{constructor(e){super(),this.type="Path",this.currentPoint=new er,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new id(this.currentPoint.clone(),new er(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new od(this.currentPoint.clone(),new er(e,t),new er(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new nd(this.currentPoint.clone(),new er(e,t),new er(n,r),new er(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new ld(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new Gc(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class fd extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new er(0,-.5),new er(.5,0),new er(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Kn(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],u=1/t,c=new Ir,d=new er,f=new Ir,h=new Ir,p=new Ir;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,p.copy(f),f.normalize(),s.push(f.x,f.y,f.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,h.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),s.push(f.x,f.y,f.z),p.copy(h)}for(let v=0;v<=t;v++){const i=n+v*u*r,f=Math.sin(i),h=Math.cos(i);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*f,c.y=e[n].y,c.z=e[n].x*h,a.push(c.x,c.y,c.z),d.x=v/t,d.y=n/(e.length-1),o.push(d.x,d.y);const r=s[3*n+0]*f,i=s[3*n+1],u=s[3*n+0]*h;l.push(r,i,u)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,a=n+e.length,o=n+e.length+1,s=n+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new ya(a,3)),this.setAttribute("uv",new ya(o,2)),this.setAttribute("normal",new ya(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fd(e.points,e.segments,e.phiStart,e.phiLength)}}class hd extends fd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new dd;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new hd(e.radius,e.length,e.capSegments,e.radialSegments)}}class pd extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new Ir,u=new er;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let c=0,d=3;c<=t;c++,d+=3){const i=n+c/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,s.push(u.x,u.y)}for(let c=1;c<=t;c++)i.push(c,c+1,0);this.setIndex(i),this.setAttribute("position",new ya(a,3)),this.setAttribute("normal",new ya(o,3)),this.setAttribute("uv",new ya(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class md extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const u=[],c=[],d=[],f=[];let h=0;const p=[],m=n/2;let g=0;function v(n){const i=h,a=new er,p=new Ir;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,m*b,0),d.push(0,b,0),f.push(.5,.5),h++;const w=h;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,c.push(p.x,p.y,p.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,f.push(a.x,a.y),h++}for(let e=0;e<r;e++){const t=i+e,r=w+e;!0===n?u.push(r,r+1,t):u.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new Ir,v=new Ir;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const u=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,c.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),d.push(a.x,a.y,a.z),f.push(t,1-g),u.push(h++)}p.push(u)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];u.push(n,r,a),u.push(r,i,a),y+=6}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new ya(c,3)),this.setAttribute("normal",new ya(d,3)),this.setAttribute("uv",new ya(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new md(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gd extends md{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new gd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vd extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let o=0;o<=i;o++){a[o]=[];const r=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===i?r:r.clone().lerp(s,e/l)}for(let o=0;o<i;o++)for(let e=0;e<2*(i-o)-1;e++){const t=Math.floor(e/2);e%2===0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new Ir,r=new Ir,i=new Ir;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new Ir;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Ir;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=c(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(r,1-o)}var t;(function(){const e=new Ir,t=new Ir,n=new Ir,r=new Ir,o=new er,s=new er,l=new er;for(let d=0,f=0;d<i.length;d+=9,f+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[f+0],a[f+1]),s.set(a[f+2],a[f+3]),l.set(a[f+4],a[f+5]),r.copy(e).add(t).add(n).divideScalar(3);const h=c(r);u(o,f+0,e,h),u(s,f+2,t,h),u(l,f+4,n,h)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new ya(i,3)),this.setAttribute("normal",new ya(i.slice(),3)),this.setAttribute("uv",new ya(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vd(e.vertices,e.indices,e.radius,e.details)}}class yd extends vd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yd(e.radius,e.detail)}}const bd=new Ir,wd=new Ir,xd=new Ir,_d=new qi;class Sd extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Gn*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],u=["a","b","c"],c=new Array(3),d={},f=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=_d;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),_d.getNormal(xd),c[0]="".concat(Math.round(t.x*r),",").concat(Math.round(t.y*r),",").concat(Math.round(t.z*r)),c[1]="".concat(Math.round(n.x*r),",").concat(Math.round(n.y*r),",").concat(Math.round(n.z*r)),c[2]="".concat(Math.round(s.x*r),",").concat(Math.round(s.y*r),",").concat(Math.round(s.z*r)),c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=c[e],r=c[t],a=_d[u[e]],o=_d[u[t]],s="".concat(n,"_").concat(r),h="".concat(r,"_").concat(n);h in d&&d[h]?(xd.dot(d[h].normal)<=i&&(f.push(a.x,a.y,a.z),f.push(o.x,o.y,o.z)),d[h]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:xd.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];bd.fromBufferAttribute(o,t),wd.fromBufferAttribute(o,n),f.push(bd.x,bd.y,bd.z),f.push(wd.x,wd.y,wd.z)}this.setAttribute("position",new ya(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ed extends dd{constructor(e){super(e),this.uuid=Xn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new dd).fromJSON(n))}return this}}const kd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let a=Cd(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,d,f,h;if(r&&(a=function(e,t,n,r){const i=[];let a,o,s,l,u;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,u=Cd(e,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Nd(u));for(i.sort(Od),a=0;a<i.length;a++)n=zd(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(let t=n;t<i;t+=n)d=e[t],f=e[t+1],d<s&&(s=d),f<l&&(l=f),d>u&&(u=d),f>c&&(c=f);h=Math.max(u-s,c-l),h=0!==h?32767/h:0}return Pd(a,o,n,s,l,h,0),o};function Cd(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Xd(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Xd(a,e[a],e[a+1],o);return o&&Bd(o,o.next)&&(Kd(o),o=o.next),o}function Md(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Bd(r,r.next)&&0!==Fd(r.prev,r,r.next))r=r.next;else{if(Kd(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Pd(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Dd(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ,r);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);let s,l,u=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Ad(e,r,i,a):Td(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Kd(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Pd(e=Rd(Md(e),t,n),t,n,r,i,a,2):2===o&&Id(e,t,n,r,i,a):Pd(Md(e),t,n,r,i,a,1);break}}function Td(e){const t=e.prev,n=e,r=e.next;if(Fd(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>u?s:u:l>u?l:u;let p=r.next;for(;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=d&&p.y<=h&&Ud(i,s,a,l,o,u,p.x,p.y)&&Fd(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ad(e,t,n,r){const i=e.prev,a=e,o=e.next;if(Fd(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,f=o.y,h=s<l?s<u?s:u:l<u?l:u,p=c<d?c<f?c:f:d<f?d:f,m=s>l?s>u?s:u:l>u?l:u,g=c>d?c>f?c:f:d>f?d:f,v=Dd(h,p,t,n,r),y=Dd(m,g,t,n,r);let b=e.prevZ,w=e.nextZ;for(;b&&b.z>=v&&w&&w.z<=y;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Ud(s,c,l,d,u,f,b.x,b.y)&&Fd(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=h&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&Ud(s,c,l,d,u,f,w.x,w.y)&&Fd(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=v;){if(b.x>=h&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&Ud(s,c,l,d,u,f,b.x,b.y)&&Fd(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=h&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&Ud(s,c,l,d,u,f,w.x,w.y)&&Fd(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Rd(e,t,n){let r=e;do{const i=r.prev,a=r.next.next;!Bd(i,a)&&Vd(i,r,r.next,a)&&Gd(i,a)&&Gd(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Kd(r),Kd(r.next),r=e=a),r=r.next}while(r!==e);return Md(r)}function Id(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&jd(o,e)){let s=qd(o,e);return o=Md(o,o.next),s=Md(s,s.next),Pd(o,t,n,r,i,a,0),void Pd(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function Od(e,t){return e.x-t.x}function zd(e,t){const n=function(e,t){let n,r=t,i=-1/0;const a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){const e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=a&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===a))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,u=n.y;let c,d=1/0;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&Ud(o<u?a:i,o,l,u,o<u?i:a,o,r.x,r.y)&&(c=Math.abs(o-r.y)/(a-r.x),Gd(r,e)&&(c<d||c===d&&(r.x>n.x||r.x===n.x&&Ld(n,r)))&&(n=r,d=c)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=qd(n,e);return Md(r,r.next),Md(n,n.next)}function Ld(e,t){return Fd(e.prev,e,t.prev)<0&&Fd(t.next,e,e.next)<0}function Dd(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Nd(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ud(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function jd(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Vd(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Gd(e,t)&&Gd(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Fd(e.prev,e,t.prev)||Fd(e,t.prev,t))||Bd(e,t)&&Fd(e.prev,e,e.next)>0&&Fd(t.prev,t,t.next)>0)}function Fd(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Bd(e,t){return e.x===t.x&&e.y===t.y}function Vd(e,t,n,r){const i=Wd(Fd(e,t,n)),a=Wd(Fd(e,t,r)),o=Wd(Fd(n,r,e)),s=Wd(Fd(n,r,t));return i!==a&&o!==s||(!(0!==i||!Hd(e,n,t))||(!(0!==a||!Hd(e,r,t))||(!(0!==o||!Hd(n,e,r))||!(0!==s||!Hd(n,t,r)))))}function Hd(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Wd(e){return e>0?1:e<0?-1:0}function Gd(e,t){return Fd(e.prev,e,e.next)<0?Fd(e,t,e.next)>=0&&Fd(e,e.prev,t)>=0:Fd(e,t,e.prev)<0||Fd(e,e.next,t)<0}function qd(e,t){const n=new Yd(e.i,e.x,e.y),r=new Yd(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Xd(e,t,n,r){const i=new Yd(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Kd(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Yd(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Qd{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Qd.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Zd(e),Jd(n,e);let a=e.length;t.forEach(Zd);for(let s=0;s<t.length;s++)r.push(a),a+=t[s].length,Jd(n,t[s]);const o=kd(n,r);for(let s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}function Zd(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Jd(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class $d extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ed([new er(.5,.5),new er(-.5,.5),new er(-.5,-.5),new er(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let o=0,s=e.length;o<s;o++){a(e[o])}function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let u=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:c-.1,f=void 0!==t.bevelOffset?t.bevelOffset:0,h=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:ef;let g,v,y,b,w,x=!1;p&&(g=p.getSpacedPoints(s),x=!0,u=!1,v=p.computeFrenetFrames(s,!1),y=new Ir,b=new Ir,w=new Ir),u||(h=0,c=0,d=0,f=0);const _=e.extractPoints(o);let S=_.shape;const E=_.holes;if(!Qd.isClockWise(S)){S=S.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];Qd.isClockWise(t)&&(E[e]=t.reverse())}}const k=Qd.triangulateShape(S,E),C=S;for(let t=0,n=E.length;t<n;t++){const e=E[t];S=S.concat(e)}function M(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const P=S.length,T=k.length;function A(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(c),f=Math.sqrt(l*l+u*u),h=t.x-s/d,p=t.y+o/d,m=((n.x-u/f-h)*u-(n.y+l/f-p)*l)/(o*u-s*l);r=h+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new er(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(u)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new er(r/a,i/a)}const R=[];for(let t=0,n=C.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),R[t]=A(C[t],C[r],C[i]);const I=[];let O,z=R.concat();for(let t=0,n=E.length;t<n;t++){const e=E[t];O=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),O[t]=A(e[t],e[r],e[i]);I.push(O),z=z.concat(O)}for(let t=0;t<h;t++){const e=t/h,n=c*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+f;for(let t=0,i=C.length;t<i;t++){const e=M(C[t],R[t],r);N(e.x,e.y,-n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];O=I[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],O[t],r);N(i.x,i.y,-n)}}}const L=d+f;for(let t=0;t<P;t++){const e=u?M(S[t],z[t],L):S[t];x?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),w.copy(g[0]).add(b).add(y),N(w.x,w.y,w.z)):N(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<P;e++){const n=u?M(S[e],z[e],L):S[e];x?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),w.copy(g[t]).add(b).add(y),N(w.x,w.y,w.z)):N(n.x,n.y,l/s*t)}for(let t=h-1;t>=0;t--){const e=t/h,n=c*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+f;for(let t=0,i=C.length;t<i;t++){const e=M(C[t],R[t],r);N(e.x,e.y,l+n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];O=I[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],O[t],r);x?N(i.x,i.y+g[s-1].y,g[s-1].x+n):N(i.x,i.y,l+n)}}}function D(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*h;e<n;e++){const n=P*e,a=P*(e+1);j(t+r+n,t+i+n,t+i+a,t+r+a)}}}function N(e,t,n){a.push(e),a.push(t),a.push(n)}function U(e,t,i){F(e),F(t),F(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);B(o[0]),B(o[1]),B(o[2])}function j(e,t,i,a){F(e),F(t),F(a),F(t),F(i),F(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);B(s[0]),B(s[1]),B(s[3]),B(s[1]),B(s[2]),B(s[3])}function F(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function B(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(u){let e=0,t=P*e;for(let n=0;n<T;n++){const e=k[n];U(e[2]+t,e[1]+t,e[0]+t)}e=s+2*h,t=P*e;for(let n=0;n<T;n++){const e=k[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<T;e++){const t=k[e];U(t[2],t[1],t[0])}for(let e=0;e<T;e++){const t=k[e];U(t[0]+P*s,t[1]+P*s,t[2]+P*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;D(C,t),t+=C.length;for(let n=0,r=E.length;n<r;n++){const e=E[n];D(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new ya(r,3)),this.setAttribute("uv",new ya(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new ud[r.type]).fromJSON(r)),new $d(n,e.options)}}const ef={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new er(a,o),new er(s,l),new er(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],f=t[3*i],h=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new er(o,1-l),new er(u,1-d),new er(f,1-p),new er(m,1-v)]:[new er(s,1-l),new er(c,1-d),new er(h,1-p),new er(g,1-v)]}};class tf extends vd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tf(e.radius,e.detail)}}class nf extends vd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nf(e.radius,e.detail)}}class rf extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const o=[],s=[],l=[],u=[];let c=e;const d=(t-e)/r,f=new Ir,h=new er;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;f.x=c*Math.cos(r),f.y=c*Math.sin(r),s.push(f.x,f.y,f.z),l.push(0,0,1),h.x=(f.x/t+1)/2,h.y=(f.y/t+1)/2,u.push(h.x,h.y)}c+=d}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new ya(s,3)),this.setAttribute("normal",new ya(l,3)),this.setAttribute("uv",new ya(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class af extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ed([new er(0,.5),new er(-.5,-.5),new er(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let u=0;u<e.length;u++)l(e[u]),this.addGroup(o,s,u),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let u=l.shape;const c=l.holes;!1===Qd.isClockWise(u)&&(u=u.reverse());for(let t=0,n=c.length;t<n;t++){const e=c[t];!0===Qd.isClockWise(e)&&(c[t]=e.reverse())}const d=Qd.triangulateShape(u,c);for(let t=0,n=c.length;t<n;t++){const e=c[t];u=u.concat(e)}for(let t=0,n=u.length;t<n;t++){const e=u[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+o,i=e[1]+o,a=e[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new ya(r,3)),this.setAttribute("normal",new ya(i,3)),this.setAttribute("uv",new ya(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new af(n,e.curveSegments)}}class of extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const u=[],c=new Ir,d=new Ir,f=[],h=[],p=[],m=[];for(let g=0;g<=n;g++){const f=[],v=g/n;let y=0;0===g&&0===a?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;c.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),c.y=e*Math.cos(a+v*o),c.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),h.push(c.x,c.y,c.z),d.copy(c).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),f.push(l++)}u.push(f)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=u[g][e+1],r=u[g][e],i=u[g+1][e],o=u[g+1][e+1];(0!==g||a>0)&&f.push(t,r,o),(g!==n-1||s<Math.PI)&&f.push(r,i,o)}this.setIndex(f),this.setAttribute("position",new ya(h,3)),this.setAttribute("normal",new ya(p,3)),this.setAttribute("uv",new ya(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new of(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class sf extends vd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sf(e.radius,e.detail)}}class lf extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],u=new Ir,c=new Ir,d=new Ir;for(let f=0;f<=n;f++)for(let a=0;a<=r;a++){const h=a/r*i,p=f/n*Math.PI*2;c.x=(e+t*Math.cos(p))*Math.cos(h),c.y=(e+t*Math.cos(p))*Math.sin(h),c.z=t*Math.sin(p),o.push(c.x,c.y,c.z),u.x=e*Math.cos(h),u.y=e*Math.sin(h),d.subVectors(c,u).normalize(),s.push(d.x,d.y,d.z),l.push(a/r),l.push(f/n)}for(let f=1;f<=n;f++)for(let e=1;e<=r;e++){const t=(r+1)*f+e-1,n=(r+1)*(f-1)+e-1,i=(r+1)*(f-1)+e,o=(r+1)*f+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new ya(o,3)),this.setAttribute("normal",new ya(s,3)),this.setAttribute("uv",new ya(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class uf extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],u=[],c=new Ir,d=new Ir,f=new Ir,h=new Ir,p=new Ir,m=new Ir,g=new Ir;for(let y=0;y<=n;++y){const o=y/n*i*Math.PI*2;v(o,i,a,e,f),v(o+.01,i,a,e,h),m.subVectors(h,f),g.addVectors(h,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),o=t*Math.sin(i);c.x=f.x+(a*g.x+o*p.x),c.y=f.y+(a*g.y+o*p.y),c.z=f.z+(a*g.z+o*p.z),s.push(c.x,c.y,c.z),d.subVectors(c,f).normalize(),l.push(d.x,d.y,d.z),u.push(y/n),u.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,a=(r+1)*(y-1)+e;o.push(t,n,a),o.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new ya(s,3)),this.setAttribute("normal",new ya(l,3)),this.setAttribute("uv",new ya(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class cf extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sd(new Ir(-1,-1,0),new Ir(-1,1,0),new Ir(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Ir,s=new Ir,l=new er;let u=new Ir;const c=[],d=[],f=[],h=[];function p(i){u=e.getPointAt(i/t,u);const l=a.normals[i],f=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*f.x,s.y=a*l.y+i*f.y,s.z=a*l.z+i*f.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=u.x+n*s.x,o.y=u.y+n*s.y,o.z=u.z+n*s.z,c.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,f.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;h.push(n,i,o),h.push(i,a,o)}}()}(),this.setIndex(h),this.setAttribute("position",new ya(c,3)),this.setAttribute("normal",new ya(d,3)),this.setAttribute("uv",new ya(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new cf((new ud[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class df extends Ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Ir,i=new Ir;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],u=l.start;for(let e=u,s=u+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),u=o.getX(e+(l+1)%3);r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,u),!0===ff(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,l),!0===ff(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new ya(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function ff(e,t,n){const r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var hf=Object.freeze({__proto__:null,BoxGeometry:qa,CapsuleGeometry:hd,CircleGeometry:pd,ConeGeometry:gd,CylinderGeometry:md,DodecahedronGeometry:yd,EdgesGeometry:Sd,ExtrudeGeometry:$d,IcosahedronGeometry:tf,LatheGeometry:fd,OctahedronGeometry:nf,PlaneGeometry:vo,PolyhedronGeometry:vd,RingGeometry:rf,ShapeGeometry:af,SphereGeometry:of,TetrahedronGeometry:sf,TorusGeometry:lf,TorusKnotGeometry:uf,TubeGeometry:cf,WireframeGeometry:df});class pf extends ea{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Zi(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class mf extends Za{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gf extends ea{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Zi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vf extends gf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new er(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Zi(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Zi(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Zi(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yf extends ea{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Zi(16777215),this.specular=new Zi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yi,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bf extends ea{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Zi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wf extends ea{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xf extends ea{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Zi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Zi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yi,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _f extends ea{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Zi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Sf extends vc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ef(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function kf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cf(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Mf(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function Pf(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}const Tf={convertArray:Ef,isTypedArray:kf,getKeyframeOrder:Cf,sortedArray:Mf,flattenJSON:Pf,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],u=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*i;if(!(o<n||o>=r)){s.push(e.times[a]);for(let n=0;n<t;++n)u.push(e.values[a*t+n])}}0!==s.length&&(e.times=Ef(s,e.times.constructor),e.values=Ef(u,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let o=0;o<i;++o){const t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let u=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);const d=t.times.length-1;let f;if(a<=t.times[0]){const e=s,n=l-s;f=t.values.slice(e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;f=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(a),f=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new Rr).fromArray(f).normalize().conjugate().toArray(f)}const h=i.times.length;for(let e=0;e<h;++e){const t=e*c+u;if("quaternion"===r)Rr.multiplyQuaternionsFlat(i.values,t,f,0,i.values,t);else{const e=c-2*u;for(let n=0;n<e;++n)i.values[t+n]-=f[n]}}}return e.blendMode=Bt,e}};class Af{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Rf extends Af{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nt,endingEnd:Nt}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ut:i=e,o=2*t-n;break;case jt:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ut:a=e,s=2*n-t;break;case jt:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,f=this._weightNext,h=(n-t)/(r-t),p=h*h,m=p*h,g=-d*m+2*d*p-d*h,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*h+1,y=(-1-f)*m+(1.5+f)*p+.5*h,b=f*m-f*p;for(let w=0;w!==o;++w)i[w]=g*a[u+w]+v*a[l+w]+y*a[s+w]+b*a[c+w];return i}}class If extends Af{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u;for(let d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}class Of extends Af{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class zf{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ef(t,this.TimeBufferType),this.values=Ef(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ef(e.times,Array),values:Ef(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Of(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new If(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Rf(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zt:t=this.InterpolantFactoryMethodDiscrete;break;case Lt:t=this.InterpolantFactoryMethodLinear;break;case Dt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zt;case this.InterpolantFactoryMethodLinear:return Lt;case this.InterpolantFactoryMethodSmooth:return Dt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==r&&kf(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Dt,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}zf.prototype.TimeBufferType=Float32Array,zf.prototype.ValueBufferType=Float32Array,zf.prototype.DefaultInterpolation=Lt;class Lf extends zf{constructor(e,t,n){super(e,t,n)}}Lf.prototype.ValueTypeName="bool",Lf.prototype.ValueBufferType=Array,Lf.prototype.DefaultInterpolation=zt,Lf.prototype.InterpolantFactoryMethodLinear=void 0,Lf.prototype.InterpolantFactoryMethodSmooth=void 0;class Df extends zf{}Df.prototype.ValueTypeName="color";class Nf extends zf{}Nf.prototype.ValueTypeName="number";class Uf extends Af{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let u=l+o;l!==u;l+=4)Rr.slerpFlat(i,0,a,l-o,a,l,s);return i}}class jf extends zf{InterpolantFactoryMethodLinear(e){return new Uf(this.times,this.values,this.getValueSize(),e)}}jf.prototype.ValueTypeName="quaternion",jf.prototype.InterpolantFactoryMethodSmooth=void 0;class Ff extends zf{constructor(e,t,n){super(e,t,n)}}Ff.prototype.ValueTypeName="string",Ff.prototype.ValueBufferType=Array,Ff.prototype.DefaultInterpolation=zt,Ff.prototype.InterpolantFactoryMethodLinear=void 0,Ff.prototype.InterpolantFactoryMethodSmooth=void 0;class Bf extends zf{}Bf.prototype.ValueTypeName="vector";class Vf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Xn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(Hf(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,a=n.length;i!==a;++i)t.push(zf.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let o=0;o<i;o++){let e=[],s=[];e.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);const l=Cf(e);e=Mf(e,1,l),s=Mf(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),a.push(new Nf(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];Pf(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const e=l[u].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new Nf(".morphTargetInfluence["+i+"]",t,a))}s=t.length*a}else{const i=".bones["+t[u].name+"]";n(Bf,i+".position",e,"pos",r),n(jf,i+".quaternion",e,"rot",r),n(Bf,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Hf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Nf;case"vector":case"vector2":case"vector3":case"vector4":return Bf;case"color":return Df;case"quaternion":return jf;case"bool":case"boolean":return Lf;case"string":return Ff}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Pf(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Wf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Gf{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const qf=new Gf;class Xf{constructor(e){this.manager=void 0!==e?e:qf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Xf.DEFAULT_MATERIAL_NAME="__DEFAULT";const Kf={};class Yf extends Error{constructor(e,t){super(e),this.response=t}}class Qf extends Xf{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=Wf.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Kf[e])return void Kf[e].push({onLoad:t,onProgress:n,onError:r});Kf[e]=[],Kf[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Kf[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{s+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}),(t=>{e.error(t)}))}()}});return new Response(l)}throw new Yf('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{Wf.add(e,t);const n=Kf[e];delete Kf[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Kf[e];if(void 0===n)throw this.manager.itemError(e),t;delete Kf[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Zf extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Qf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Vf.parse(e[n]);t.push(r)}return t}}class Jf extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new Fc,s=new Qf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function u(u){s.load(e[u],(function(e){const n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=Ee),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(let c=0,d=e.length;c<d;++c)u(c);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Ee),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}class $f extends Xf{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Wf.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const o=or("img");function s(){u(),Wf.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class eh extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=new ao;i.colorSpace=Qt;const a=new $f(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class th extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Uu,o=new Qf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){let n;try{n=i.parse(e)}catch(o){if(void 0===r)return void console.error(o);r(o)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:ve,a.wrapT=void 0!==n.wrapT?n.wrapT:ve,a.magFilter=void 0!==n.magFilter?n.magFilter:Ee,a.minFilter=void 0!==n.minFilter?n.minFilter:Ee,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Me),1===n.mipmapCount&&(a.minFilter=Ee),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,r),a}}class nh extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=new Sr,a=new $f(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class rh extends Li{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Zi(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class ih extends rh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Li.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Zi(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ah=new li,oh=new Ir,sh=new Ir;class lh{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new er(512,512),this.map=null,this.mapPass=null,this.matrix=new li,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new po,this._frameExtents=new er(1,1),this._viewportCount=1,this._viewports=[new Er(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;oh.setFromMatrixPosition(e.matrixWorld),t.position.copy(oh),sh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sh),t.updateMatrixWorld(),ah.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ah),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(ah)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class uh extends lh{constructor(){super(new no(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*qn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ch extends rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Li.DEFAULT_UP),this.updateMatrix(),this.target=new Li,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new uh}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const dh=new li,fh=new Ir,hh=new Ir;class ph extends lh{constructor(){super(new no(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new er(4,2),this._viewportCount=6,this._viewports=[new Er(2,1,1,1),new Er(0,1,1,1),new Er(3,1,1,1),new Er(1,1,1,1),new Er(3,0,1,1),new Er(1,0,1,1)],this._cubeDirections=[new Ir(1,0,0),new Ir(-1,0,0),new Ir(0,0,1),new Ir(0,0,-1),new Ir(0,1,0),new Ir(0,-1,0)],this._cubeUps=[new Ir(0,1,0),new Ir(0,1,0),new Ir(0,1,0),new Ir(0,1,0),new Ir(0,0,1),new Ir(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),fh.setFromMatrixPosition(e.matrixWorld),n.position.copy(fh),hh.copy(n.position),hh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(hh),n.updateMatrixWorld(),r.makeTranslation(-fh.x,-fh.y,-fh.z),dh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dh)}}class mh extends rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new ph}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gh extends lh{constructor(){super(new Ao(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vh extends rh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Li.DEFAULT_UP),this.updateMatrix(),this.target=new Li,this.shadow=new gh}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yh extends rh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class bh extends rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class wh{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ir)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class xh extends rh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wh;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class _h extends Xf{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new Qf(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=_h.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Zi).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Zi).setHex(t.value);break;case"v2":r.uniforms[i].value=(new er).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Ir).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new Er).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new tr).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new li).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new er).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new er).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:pf,SpriteMaterial:lu,RawShaderMaterial:mf,ShaderMaterial:Za,PointsMaterial:Rc,MeshPhysicalMaterial:vf,MeshStandardMaterial:gf,MeshPhongMaterial:yf,MeshToonMaterial:bf,MeshNormalMaterial:wf,MeshLambertMaterial:xf,MeshDepthMaterial:jl,MeshDistanceMaterial:Fl,MeshBasicMaterial:ta,MeshMatcapMaterial:_f,LineDashedMaterial:Sf,LineBasicMaterial:vc,Material:ea}[e]}}class Sh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Eh extends Ca{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class kh extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Qf(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=ar(i.type,a),s=new au(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new Eh:new Ca,a=e.data.index;if(void 0!==a){const e=ar(a.type,a.array);i.setIndex(new ua(e,1))}const o=e.data.attributes;for(const c in o){const t=o[c];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new su(i,t.itemSize,t.offset,t.normalized)}else{const e=ar(t.type,t.array);n=new(t.isInstancedBufferAttribute?Vu:ua)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(c,n)}const s=e.data.morphAttributes;if(s)for(const c in s){const t=s[c],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let o;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);o=new su(t,a.itemSize,a.offset,a.normalized)}else{const e=ar(a.type,a.array);o=new ua(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}i.morphAttributes[c]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let c=0,d=l.length;c!==d;++c){const e=l[c];i.addGroup(e.start,e.count,e.materialIndex)}const u=e.data.boundingSphere;if(void 0!==u){const e=new Ir;void 0!==u.center&&e.fromArray(u.center),i.boundingSphere=new $r(e,u.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class Ch extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?Sh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Qf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?Sh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Qf(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Ed).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new Bu).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new kh;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in hf?a=hf[o.type].fromJSON(o,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(o.type,'"'))}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new _h;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=Vf.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:ar(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new Gf(t);i=new $f(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Uu(n.data,n.width,n.height)))}r[n.uuid]=new wr(e)}else{const e=a(n.url);r[n.uuid]=new wr(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:ar(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new $f(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Uu(r.data,r.width,r.height)))}n[r.uuid]=new wr(e)}else{const e=await i(r.url);n[r.uuid]=new wr(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new ao,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Uu:new Sr,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,Mh)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],Ph),l.wrapT=n(a.wrap[1],Ph)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,Th)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,Th)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new iu,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Zi(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ru(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new nu(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new no(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ao(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new yh(e.color,e.intensity);break;case"DirectionalLight":a=new vh(e.color,e.intensity);break;case"PointLight":a=new mh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new bh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new ch(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new ih(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new xh).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new Du(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new Wa(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new Qu(o,s,t),a.instanceMatrix=new Vu(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new Vu(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=u(e.material),a=new gc(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map((e=>{const t=new Lr;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new $r;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new Cu;break;case"Line":a=new kc(l(e.geometry),u(e.material));break;case"LineLoop":a=new Ac(l(e.geometry),u(e.material));break;case"LineSegments":a=new Tc(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new Dc(l(e.geometry),u(e.material));break;case"Sprite":a=new _u(u(e.material));break;case"Group":a=new ql;break;case"Bone":a=new Nu;break;default:a=new Li}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const Mh={UVMapping:ce,CubeReflectionMapping:de,CubeRefractionMapping:fe,EquirectangularReflectionMapping:he,EquirectangularRefractionMapping:pe,CubeUVReflectionMapping:me},Ph={RepeatWrapping:ge,ClampToEdgeWrapping:ve,MirroredRepeatWrapping:ye},Th={NearestFilter:be,NearestMipmapNearestFilter:we,NearestMipmapLinearFilter:_e,LinearFilter:Ee,LinearMipmapNearestFilter:ke,LinearMipmapLinearFilter:Me};class Ah extends Xf{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Wf.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then((n=>{t&&t(n),i.manager.itemEnd(e)})).catch((e=>{r&&r(e)})):(setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;const s=fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return Wf.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),Wf.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));Wf.add(e,s),i.manager.itemStart(e)}}let Rh;class Ih{static getContext(){return void 0===Rh&&(Rh=new(window.AudioContext||window.webkitAudioContext)),Rh}static setContext(e){Rh=e}}class Oh extends Xf{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Qf(this.manager);function o(t){r?r(t):console.error(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{const n=e.slice(0);Ih.getContext().decodeAudioData(n,(function(e){t(e)})).catch(o)}catch(n){o(n)}}),n,r)}}const zh=new li,Lh=new li,Dh=new li;class Nh{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new no,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new no,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Dh.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Gn*t.fov*.5)/t.zoom;let a,o;Lh.elements[12]=-n,zh.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,Dh.elements[0]=2*t.near/(o-a),Dh.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(Dh),a=-i*t.aspect-r,o=i*t.aspect-r,Dh.elements[0]=2*t.near/(o-a),Dh.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(Dh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Lh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zh)}}class Uh{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jh(){return("undefined"===typeof performance?Date:performance).now()}const Fh=new Ir,Bh=new Rr,Vh=new Ir,Hh=new Ir;class Wh extends Li{constructor(){super(),this.type="AudioListener",this.context=Ih.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Uh}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fh,Bh,Vh),Hh.set(0,0,-1).applyQuaternion(Bh),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Fh.x,e),t.positionY.linearRampToValueAtTime(Fh.y,e),t.positionZ.linearRampToValueAtTime(Fh.z,e),t.forwardX.linearRampToValueAtTime(Hh.x,e),t.forwardY.linearRampToValueAtTime(Hh.y,e),t.forwardZ.linearRampToValueAtTime(Hh.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(Fh.x,Fh.y,Fh.z),t.setOrientation(Hh.x,Hh.y,Hh.z,n.x,n.y,n.z)}}class Gh extends Li{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const qh=new Ir,Xh=new Rr,Kh=new Ir,Yh=new Ir;class Qh extends Gh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(qh,Xh,Kh),Yh.set(0,0,1).applyQuaternion(Xh);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(qh.x,e),t.positionY.linearRampToValueAtTime(qh.y,e),t.positionZ.linearRampToValueAtTime(qh.z,e),t.orientationX.linearRampToValueAtTime(Yh.x,e),t.orientationY.linearRampToValueAtTime(Yh.y,e),t.orientationZ.linearRampToValueAtTime(Yh.z,e)}else t.setPosition(qh.x,qh.y,qh.z),t.setOrientation(Yh.x,Yh.y,Yh.z)}}class Zh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Jh{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){Rr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;Rr.multiplyQuaternionsFlat(e,a,e,t,e,n),Rr.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const $h="\\[\\]\\.:\\/",ep=new RegExp("["+$h+"]","g"),tp="[^"+$h+"]",np="[^"+$h.replace("\\.","")+"]",rp=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",tp)+/(WCOD+)?/.source.replace("WCOD",np)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tp)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tp)+"$"),ip=["material","materials","bones","map"];class ap{constructor(e,t,n){this.path=t,this.parsedPath=n||ap.parseTrackName(t),this.node=ap.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ap.Composite(e,t,n):new ap(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ep,"")}static parseTrackName(e){const t=rp.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==ip.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=ap.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ap.Composite=class{constructor(e,t,n){const r=n||ap.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},ap.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ap.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ap.prototype.GetterByBindingType=[ap.prototype._getValue_direct,ap.prototype._getValue_array,ap.prototype._getValue_arrayElement,ap.prototype._getValue_toArray],ap.prototype.SetterByBindingTypeAndVersioning=[[ap.prototype._setValue_direct,ap.prototype._setValue_direct_setNeedsUpdate,ap.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ap.prototype._setValue_array,ap.prototype._setValue_array_setNeedsUpdate,ap.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ap.prototype._setValue_arrayElement,ap.prototype._setValue_arrayElement_setNeedsUpdate,ap.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ap.prototype._setValue_fromArray,ap.prototype._setValue_fromArray_setNeedsUpdate,ap.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class op{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){const c=arguments[u],d=c.uuid;let f=t[d];if(void 0===f){f=s++,t[d]=f,e.push(c);for(let e=0,t=a;e!==t;++e)i[e].push(new ap(c,n[e],r[e]))}else if(f<l){o=e[f];const s=--l,u=e[s];t[u.uuid]=f,e[f]=u,t[d]=s,e[s]=c;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[f];t[f]=a,void 0===o&&(o=new ap(c,n[e],r[e])),t[s]=o}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,u=e[a];t[u.uuid]=l,e[l]=u,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],u=--a,c=e[u];t[s.uuid]=l,e[l]=s,t[c.uuid]=o,e[o]=c,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[u];t[l]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(let d=u,f=s.length;d!==f;++d){const n=s[d];c[d]=new ap(n,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}class sp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:Nt,endingEnd:Nt};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=It,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Bt)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=n===Ot;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Rt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Ut,r.endingEnd=Ut):(r.endingStart=e?this.zeroSlopeAtStart?Ut:Nt:jt,r.endingEnd=t?this.zeroSlopeAtEnd?Ut:Nt:jt)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const lp=new Float32Array(1);class up extends Vn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let u=l[s];void 0===u&&(u={},l[s]=u);for(let c=0;c!==i;++c){const e=r[c],i=e.name;let l=u[i];if(void 0!==l)++l.referenceCount,a[c]=l;else{if(l=a[c],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[c].binding.parsedPath;l=new Jh(ap.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),a[c]=l}o[c].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new If(new Float32Array(2),new Float32Array(2),1,lp),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"===typeof e?Vf.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:Ft),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const u=new sp(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?Vf.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,a)}const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class cp{constructor(e){this.value=e}clone(){return new cp(void 0===this.value.clone?this.value:this.value.clone())}}let dp=0;class fp extends Vn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dp++}),this.name="",this.usage=Tn,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class hp extends au{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class pp{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const mp=new li;class gp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new si(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new bi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return mp.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(mp),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return yp(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(vp),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)yp(e[r],this,n,t);return n.sort(vp),n}}function vp(e,t){return e.distance-t.distance}function yp(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)yp(r[e],t,n,!0)}}class bp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Kn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class wp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const xp=new er;class _p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=xp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xp).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Sp=new Ir,Ep=new Ir;class kp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Sp.subVectors(e,this.start),Ep.subVectors(this.end,this.start);const n=Ep.dot(Ep);let r=Ep.dot(Sp)/n;return t&&(r=Kn(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Cp=new Ir;class Mp extends Li{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Ca,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new ya(r,3));const i=new vc({fog:!1,toneMapped:!1});this.cone=new Tc(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Cp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Cp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pp=new Ir,Tp=new li,Ap=new li;class Rp extends Tc{constructor(e){const t=Ip(e),n=new Ca,r=[],i=[],a=new Zi(0,0,1),o=new Zi(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new ya(r,3)),n.setAttribute("color",new ya(i,3));super(n,new vc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Ap.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Tp.multiplyMatrices(Ap,e.matrixWorld),Pp.setFromMatrixPosition(Tp),r.setXYZ(a,Pp.x,Pp.y,Pp.z),Tp.multiplyMatrices(Ap,e.parent.matrixWorld),Pp.setFromMatrixPosition(Tp),r.setXYZ(a+1,Pp.x,Pp.y,Pp.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ip(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Ip(e.children[n]));return t}class Op extends Wa{constructor(e,t,n){super(new of(t,4,2),new ta({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zp=new Ir,Lp=new Zi,Dp=new Zi;class Np extends Li{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new nf(t);r.rotateY(.5*Math.PI),this.material=new ta({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new ua(a,3)),this.add(new Wa(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Lp.copy(this.light.color),Dp.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Lp:Dp;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zp.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Up extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Zi(n),r=new Zi(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let c=0,d=0,f=-o;c<=t;c++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);const e=c===i?n:r;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const u=new Ca;u.setAttribute("position",new ya(s,3)),u.setAttribute("color",new ya(l,3));super(u,new vc({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jp extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new Zi(i),a=new Zi(a);const o=[],s=[];if(t>1)for(let u=0;u<t;u++){const n=u/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(r,0,l);const c=1&u?i:a;s.push(c.r,c.g,c.b),s.push(c.r,c.g,c.b)}for(let u=0;u<n;u++){const t=1&u?i:a,l=e-e/n*u;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;o.push(i,0,a),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,o.push(i,0,a),s.push(t.r,t.g,t.b)}}const l=new Ca;l.setAttribute("position",new ya(o,3)),l.setAttribute("color",new ya(s,3));super(l,new vc({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Fp=new Ir,Bp=new Ir,Vp=new Ir;class Hp extends Li{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new Ca;r.setAttribute("position",new ya([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new vc({fog:!1,toneMapped:!1});this.lightPlane=new kc(r,i),this.add(this.lightPlane),r=new Ca,r.setAttribute("position",new ya([0,0,0,0,0,1],3)),this.targetLine=new kc(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Fp.setFromMatrixPosition(this.light.matrixWorld),Bp.setFromMatrixPosition(this.light.target.matrixWorld),Vp.subVectors(Bp,Fp),this.lightPlane.lookAt(Bp),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bp),this.targetLine.scale.z=Vp.length()}}const Wp=new Ir,Gp=new Ja;class qp extends Tc{constructor(e){const t=new Ca,n=new vc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new ya(r,3)),t.setAttribute("color",new ya(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Zi(16755200),u=new Zi(16711680),c=new Zi(43775),d=new Zi(16777215),f=new Zi(3355443);this.setColors(l,u,c,d,f)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Gp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xp("c",t,e,Gp,0,0,-1),Xp("t",t,e,Gp,0,0,1),Xp("n1",t,e,Gp,-1,-1,-1),Xp("n2",t,e,Gp,1,-1,-1),Xp("n3",t,e,Gp,-1,1,-1),Xp("n4",t,e,Gp,1,1,-1),Xp("f1",t,e,Gp,-1,-1,1),Xp("f2",t,e,Gp,1,-1,1),Xp("f3",t,e,Gp,-1,1,1),Xp("f4",t,e,Gp,1,1,1),Xp("u1",t,e,Gp,.7,1.1,-1),Xp("u2",t,e,Gp,-.7,1.1,-1),Xp("u3",t,e,Gp,0,2,-1),Xp("cf1",t,e,Gp,-1,0,1),Xp("cf2",t,e,Gp,1,0,1),Xp("cf3",t,e,Gp,0,-1,1),Xp("cf4",t,e,Gp,0,1,1),Xp("cn1",t,e,Gp,-1,0,-1),Xp("cn2",t,e,Gp,1,0,-1),Xp("cn3",t,e,Gp,0,-1,-1),Xp("cn4",t,e,Gp,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xp(e,t,n,r,i,a,o){Wp.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],Wp.x,Wp.y,Wp.z)}}const Kp=new Lr;class Yp extends Tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ca;i.setIndex(new ua(n,1)),i.setAttribute("position",new ua(r,3)),super(i,new vc({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Kp.setFromObject(this.object),Kp.isEmpty())return;const t=Kp.min,n=Kp.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qp extends Tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Ca;r.setIndex(new ua(n,1)),r.setAttribute("position",new ya([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new vc({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zp extends kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new Ca;r.setAttribute("position",new ya([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new vc({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new Ca;i.setAttribute("position",new ya([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Wa(i,new ta({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Jp=new Ir;let $p,em;class tm extends Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===$p&&($p=new Ca,$p.setAttribute("position",new ya([0,0,0,0,1,0],3)),em=new md(0,.5,1,5,1),em.translate(0,-.5,0)),this.position.copy(t),this.line=new kc($p,new vc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wa(em,new ta({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Jp.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Jp,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nm extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Ca;n.setAttribute("position",new ya(t,3)),n.setAttribute("color",new ya([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new vc({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Zi,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rm{constructor(){this.type="ShapePath",this.color=new Zi,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new dd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=Qd.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new Ed,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const u=[],c=[];let d,f,h=[],p=0;c[p]=void 0,h[p]=[];for(let m=0,g=r.length;m<g;m++)a=r[m],d=a.getPoints(),i=n(d),i=e?!i:i,i?(!l&&c[p]&&p++,c[p]={s:new Ed,p:d},c[p].s.curves=a.curves,l&&p++,h[p]=[]):h[p].push({h:a,p:d[0]});if(!c[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Ed;i.curves=r.curves,t.push(i)}return t}(r);if(c.length>1){let e=!1,n=0;for(let t=0,r=c.length;t<r;t++)u[t]=[];for(let r=0,i=c.length;r<i;r++){const i=h[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<c.length;i++)t(o.p,c[i].p)&&(r!==i&&n++,s?(s=!1,u[i].push(o)):e=!0);s&&u[r].push(o)}}n>0&&!1===e&&(h=u)}for(let m=0,g=c.length;m<g;m++){o=c[m].s,s.push(o),f=h[m];for(let e=0,t=f.length;e<t;e++)o.holes.push(f[e].h)}return s}}class im extends Cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/streamiverse-landing/",n.nc=void 0,(()=>{"use strict";var e=n(5043),t=n(4391),r=n(3195),i=n.n(r),a=n(8507),o=n(3746),s=n(9408),l=n(4695),u=n.n(l);function c(t){let{debounce:n,scroll:r,polyfill:i,offsetSize:a}=void 0===t?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=i||("undefined"===typeof window?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=(0,e.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,e.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),f=n?"number"===typeof n?n:n.scroll:null,p=n?"number"===typeof n?n:n.resize:null,m=(0,e.useRef)(!1);(0,e.useEffect)((()=>(m.current=!0,()=>{m.current=!1})));const[g,v,y]=(0,e.useMemo)((()=>{const e=()=>{if(!c.current.element)return;const{left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:u}=c.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:u};c.current.element instanceof HTMLElement&&a&&(d.height=c.current.element.offsetHeight,d.width=c.current.element.offsetWidth),Object.freeze(d),m.current&&!h(c.current.lastBounds,d)&&l(c.current.lastBounds=d)};return[e,p?u()(e,p):e,f?u()(e,f):e]}),[l,a,f,p]);function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",y,!0))),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function w(){c.current.element&&(c.current.resizeObserver=new o(y),c.current.resizeObserver.observe(c.current.element),r&&c.current.scrollContainers&&c.current.scrollContainers.forEach((e=>e.addEventListener("scroll",y,{capture:!0,passive:!0}))))}var x,_,S;return x=y,_=Boolean(r),(0,e.useEffect)((()=>{if(_){const e=x;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[x,_]),S=v,(0,e.useEffect)((()=>{const e=S;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[S]),(0,e.useEffect)((()=>{b(),w()}),[r,y,v]),(0,e.useEffect)((()=>b),[]),[e=>{e&&e!==c.current.element&&(b(),c.current.element=e,c.current.scrollContainers=d(e),w())},s,g]}function d(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...d(e.parentElement)]}const f=["x","y","top","bottom","left","right","width","height"],h=(e,t)=>f.every((n=>e[n]===t[n]));var p,m,g=Object.defineProperty,v=Object.defineProperties,y=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&_(e,n,t[n]);if(b)for(var n of b(t))x.call(t,n)&&_(e,n,t[n]);return e};"undefined"===typeof window||!(null==(p=window.document)?void 0:p.createElement)&&"ReactNative"!==(null==(m=window.navigator)?void 0:m.product)?e.useEffect:e.useLayoutEffect;function E(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=E(r,t,n);if(e)return e;r=t?null:r.sibling}}function k(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const C=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return C.apply(this,arguments);console.error=C};const M=k(e.createContext(null));class P extends e.Component{render(){return e.createElement(M.Provider,{value:this._reactInternals},this.props.children)}}function T(){const t=e.useContext(M);if(null===t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=e.useId();return e.useMemo((()=>{for(const e of[t,null==t?void 0:t.alternate]){if(!e)continue;const t=E(e,!1,(e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(t)return t}}),[t,n])}function A(){const t=function(){const t=T(),[n]=e.useState((()=>new Map));n.clear();let r=t;for(;r;){if(r.type&&"object"===typeof r.type){const t=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;t&&t!==M&&!n.has(t)&&n.set(t,e.useContext(k(t)))}r=r.return}return n}();return e.useMemo((()=>Array.from(t.keys()).reduce(((n,r)=>i=>{return e.createElement(n,null,e.createElement(r.Provider,(a=S({},i),o={value:t.get(r)},v(a,y(o)))));var a,o}),(t=>e.createElement(P,S({},t))))),[t])}var R=n(579);n(7205),n(2016),n(8784);const I={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O(e){const{handlePointer:t}=(0,o.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(I).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[i,a]=I[n];t.addEventListener(i,r,{passive:a})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=I[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const z=e.forwardRef((function(t,n){let{children:r,fallback:i,resize:a,style:l,gl:u,events:d=O,eventSource:f,eventPrefix:h,shadows:p,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:w,performance:x,raycaster:_,camera:S,scene:E,onPointerMissed:k,onCreated:C,...M}=t;e.useMemo((()=>(0,o.e)(s)),[]);const P=A(),[T,I]=c({scroll:!0,debounce:{scroll:50,resize:0},...a}),z=e.useRef(null),L=e.useRef(null);e.useImperativeHandle(n,(()=>z.current));const D=(0,o.u)(k),[N,U]=e.useState(!1),[j,F]=e.useState(!1);if(N)throw N;if(j)throw j;const B=e.useRef(null);(0,o.a)((()=>{const t=z.current;I.width>0&&I.height>0&&t&&(B.current||(B.current=(0,o.b)(t)),B.current.configure({gl:u,events:d,shadows:p,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:w,performance:x,raycaster:_,camera:S,scene:E,size:I,onPointerMissed:function(){return null==D.current?void 0:D.current(...arguments)},onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,o.i)(f)?f.current:f:L.current),h&&e.setEvents({compute:(e,t)=>{const n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),B.current.render((0,R.jsx)(P,{children:(0,R.jsx)(o.E,{set:F,children:(0,R.jsx)(e.Suspense,{fallback:(0,R.jsx)(o.B,{set:U}),children:r})})})))})),e.useEffect((()=>{const e=z.current;if(e)return()=>(0,o.d)(e)}),[]);const V=f?"none":"auto";return(0,R.jsx)("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...l},...M,children:(0,R.jsx)("div",{ref:T,style:{width:"100%",height:"100%"},children:(0,R.jsx)("canvas",{ref:z,style:{display:"block"},children:i})})})})),L=e.forwardRef((function(e,t){return(0,R.jsx)(P,{children:(0,R.jsx)(z,{...e,ref:t})})}));function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(null,arguments)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function V(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}new s.Vector2,new s.Vector2;function H(e,t,n){return Math.max(t,Math.min(n,e))}function W(e,t){return H(e-Math.floor(e/t)*t,0,t)}function G(e,t){var n=W(t-e,2*Math.PI);return n>Math.PI&&(n-=2*Math.PI),n}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var X=function e(t,n,r){var i=this;q(this,e),N(this,"dot2",(function(e,t){return i.x*e+i.y*t})),N(this,"dot3",(function(e,t,n){return i.x*e+i.y*t+i.z*n})),this.x=t,this.y=n,this.z=r},K=[new X(1,1,0),new X(-1,1,0),new X(1,-1,0),new X(-1,-1,0),new X(1,0,1),new X(-1,0,1),new X(1,0,-1),new X(-1,0,-1),new X(0,1,1),new X(0,-1,1),new X(0,1,-1),new X(0,-1,-1)],Y=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Q=new Array(512),Z=new Array(512),J=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?Y[t]^255&e:Y[t]^e>>8&255,Q[t]=Q[t+256]=n,Z[t]=Z[t+256]=K[n%12]}};J(0);Math.sqrt(3),Math.sqrt(3),Math.PI;function $(e){var t=function(e){if("number"===typeof e)e=Math.abs(e);else if("string"===typeof e){var t=e;e=0;for(var n=0;n<t.length;n++)e=(e+(n+1)*(t.charCodeAt(n)%96))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}var ee=function e(t){var n=this;q(this,e),N(this,"seed",0),N(this,"init",(function(e){n.seed=e,n.value=$(e)})),N(this,"value",$(this.seed)),this.init(t)};new ee(Math.random());var te=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},ne={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},re={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},ie={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},ae={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},oe={in:function(e){return 0===e?0:Math.pow(2,10*e-10)},out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function se(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:te,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,l="velocity_"+t;if(void 0===e.__damp&&(e.__damp={}),void 0===e.__damp[l]&&(e.__damp[l]=0),Math.abs(e[t]-n)<=s)return e[t]=n,!1;var u=2/(r=Math.max(1e-4,r)),c=o(u*i),d=e[t]-n,f=n,h=a*r;d=Math.min(Math.max(d,-h),h),n=e[t]-d;var p=(e.__damp[l]+u*d)*i;e.__damp[l]=(e.__damp[l]-u*p)*c;var m=n+(d+p)*c;return f-e[t]>0===m>f&&(m=f,e.__damp[l]=(m-f)/i),e[t]=m,!0}var le=new s.Vector3,ue=new s.Quaternion,ce=new s.Quaternion,de=new s.Matrix4,fe=new s.Vector3;function he(e,t,n,r,i,a,o,s){return se(e,t,e[t]+G(e[t],n),r,i,a,o,s)}var pe,me,ge=new s.Vector2;var ve,ye,be,we=new s.Vector3;function xe(e,t,n,r,i,a,o){return"number"===typeof t?we.setScalar(t):Array.isArray(t)?we.set(t[0],t[1],t[2]):we.copy(t),ve=se(e,"x",we.x,n,r,i,a,o),ye=se(e,"y",we.y,n,r,i,a,o),be=se(e,"z",we.z,n,r,i,a,o),ve||ye||be}var _e,Se,Ee,ke,Ce=new s.Vector4;var Me,Pe,Te,Ae=new s.Euler;var Re,Ie,Oe,ze=new s.Color;var Le,De,Ne,Ue,je=new s.Quaternion,Fe=new s.Vector4,Be=new s.Vector4,Ve=new s.Vector4;function He(e,t,n,r,i,a,o){var s=e;Array.isArray(t)?je.set(t[0],t[1],t[2],t[3]):je.copy(t);var l=e.dot(je)>0?1:-1;return je.x*=l,je.y*=l,je.z*=l,je.w*=l,Le=se(e,"x",je.x,n,r,i,a,o),De=se(e,"y",je.y,n,r,i,a,o),Ne=se(e,"z",je.z,n,r,i,a,o),Ue=se(e,"w",je.w,n,r,i,a,o),Fe.set(e.x,e.y,e.z,e.w).normalize(),Be.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),Ve.copy(Fe).multiplyScalar(Be.dot(Fe)/Fe.dot(Fe)),s.__damp.velocity_x-=Ve.x,s.__damp.velocity_y-=Ve.y,s.__damp.velocity_z-=Ve.z,s.__damp.velocity_w-=Ve.w,e.set(Fe.x,Fe.y,Fe.z,Fe.w),Le||De||Ne||Ue}var We,Ge,qe,Xe=new s.Spherical;var Ke,Ye,Qe,Ze=new s.Matrix4,Je=new s.Vector3,$e=new s.Quaternion,et=new s.Vector3;var tt=Object.freeze({__proto__:null,rsqw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return n/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*r)/t)},exp:te,linear:function(e){return e},sine:ne,cubic:re,quint:ie,circ:ae,quart:{in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},expo:oe,damp:se,dampLookAt:function(e,t,n,r,i,a,o){"number"===typeof t?le.setScalar(t):Array.isArray(t)?le.set(t[0],t[1],t[2]):le.copy(t);var s,l=e.parent;e.updateWorldMatrix(!0,!1),fe.setFromMatrixPosition(e.matrixWorld),(s=e)&&s.isCamera||function(e){return e&&e.isLight}(e)?de.lookAt(fe,le,e.up):de.lookAt(le,fe,e.up),He(e.quaternion,ce.setFromRotationMatrix(de),n,r,i,a,o),l&&(de.extractRotation(l.matrixWorld),ue.setFromRotationMatrix(de),He(e.quaternion,ce.copy(e.quaternion).premultiply(ue.invert()),n,r,i,a,o))},dampAngle:he,damp2:function(e,t,n,r,i,a,o){return"number"===typeof t?ge.setScalar(t):Array.isArray(t)?ge.set(t[0],t[1]):ge.copy(t),pe=se(e,"x",ge.x,n,r,i,a,o),me=se(e,"y",ge.y,n,r,i,a,o),pe||me},damp3:xe,damp4:function(e,t,n,r,i,a,o){return"number"===typeof t?Ce.setScalar(t):Array.isArray(t)?Ce.set(t[0],t[1],t[2],t[3]):Ce.copy(t),_e=se(e,"x",Ce.x,n,r,i,a,o),Se=se(e,"y",Ce.y,n,r,i,a,o),Ee=se(e,"z",Ce.z,n,r,i,a,o),ke=se(e,"w",Ce.w,n,r,i,a,o),_e||Se||Ee||ke},dampE:function(e,t,n,r,i,a,o){return Array.isArray(t)?Ae.set(t[0],t[1],t[2],t[3]):Ae.copy(t),Me=he(e,"x",Ae.x,n,r,i,a,o),Pe=he(e,"y",Ae.y,n,r,i,a,o),Te=he(e,"z",Ae.z,n,r,i,a,o),Me||Pe||Te},dampC:function(e,t,n,r,i,a,o){return t instanceof s.Color?ze.copy(t):Array.isArray(t)?ze.setRGB(t[0],t[1],t[2]):ze.set(t),Re=se(e,"r",ze.r,n,r,i,a,o),Ie=se(e,"g",ze.g,n,r,i,a,o),Oe=se(e,"b",ze.b,n,r,i,a,o),Re||Ie||Oe},dampQ:He,dampS:function(e,t,n,r,i,a,o){return Array.isArray(t)?Xe.set(t[0],t[1],t[2]):Xe.copy(t),We=se(e,"radius",Xe.radius,n,r,i,a,o),Ge=he(e,"phi",Xe.phi,n,r,i,a,o),qe=he(e,"theta",Xe.theta,n,r,i,a,o),We||Ge||qe},dampM:function(e,t,n,r,i,a,o){var l=e;return void 0===l.__damp&&(l.__damp={position:new s.Vector3,rotation:new s.Quaternion,scale:new s.Vector3},e.decompose(l.__damp.position,l.__damp.rotation,l.__damp.scale)),Array.isArray(t)?Ze.set.apply(Ze,V(t)):Ze.copy(t),Ze.decompose(Je,$e,et),Ke=xe(l.__damp.position,Je,n,r,i,a,o),Ye=He(l.__damp.rotation,$e,n,r,i,a,o),Qe=xe(l.__damp.scale,et,n,r,i,a,o),e.compose(l.__damp.position,l.__damp.rotation,l.__damp.scale),Ke||Ye||Qe}});function nt(e){return Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}function rt(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}s.BufferGeometry;const it=e.createContext(null);function at(){return e.useContext(it)}function ot(t){let{eps:n=1e-5,enabled:r=!0,infinite:i,horizontal:a,pages:s=1,distance:l=1,damping:u=.25,maxSpeed:c=1/0,prepend:d=!1,style:f={},children:h}=t;const{get:p,setEvents:m,gl:g,size:v,invalidate:y,events:b}=(0,o.A)(),[w]=e.useState((()=>document.createElement("div"))),[x]=e.useState((()=>document.createElement("div"))),[_]=e.useState((()=>document.createElement("div"))),S=g.domElement.parentNode,E=e.useRef(0),k=e.useMemo((()=>{const e={el:w,eps:n,fill:x,fixed:_,horizontal:a,damping:u,offset:0,delta:0,scroll:E,pages:s,range(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e-n,i=r+t+2*n;return this.offset<r?0:this.offset>i?1:(this.offset-r)/(i-r)},curve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.sin(this.range(e,t,n)*Math.PI)},visible(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e-n,i=r+t+2*n;return this.offset>=r&&this.offset<=i}};return e}),[n,u,a,s]);e.useEffect((()=>{w.style.position="absolute",w.style.width="100%",w.style.height="100%",w.style[a?"overflowX":"overflowY"]="auto",w.style[a?"overflowY":"overflowX"]="hidden",w.style.top="0px",w.style.left="0px";for(const n in f)w.style[n]=f[n];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",w.appendChild(_),x.style.height=a?"100%":"".concat(s*l*100,"%"),x.style.width=a?"".concat(s*l*100,"%"):"100%",x.style.pointerEvents="none",w.appendChild(x),d?S.prepend(w):S.appendChild(w),w[a?"scrollLeft":"scrollTop"]=1;const e=b.connected||g.domElement;requestAnimationFrame((()=>null==b.connect?void 0:b.connect(w)));const t=p().events.compute;return m({compute(e,t){const{left:n,top:r}=S.getBoundingClientRect(),i=e.clientX-n,a=e.clientY-r;t.pointer.set(i/t.size.width*2-1,-a/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),()=>{S.removeChild(w),m({compute:t}),null==b.connect||b.connect(e)}}),[s,l,a,w,x,_,S]),e.useEffect((()=>{if(b.connected===w){const e=v[a?"width":"height"],t=w[a?"scrollWidth":"scrollHeight"],n=t-e;let o=0,s=!0,l=!0;const u=()=>{if(r&&!l&&(y(),o=w[a?"scrollLeft":"scrollTop"],E.current=o/n,i)){if(!s)if(o>=n){const e=1-k.offset;w[a?"scrollLeft":"scrollTop"]=1,E.current=k.offset=-e,s=!0}else if(o<=0){const e=1+k.offset;w[a?"scrollLeft":"scrollTop"]=t,E.current=k.offset=e,s=!0}s&&setTimeout((()=>s=!1),40)}};w.addEventListener("scroll",u,{passive:!0}),requestAnimationFrame((()=>l=!1));const c=e=>w.scrollLeft+=e.deltaY/2;return a&&w.addEventListener("wheel",c,{passive:!0}),()=>{w.removeEventListener("scroll",u),a&&w.removeEventListener("wheel",c)}}}),[w,b,v,i,k,y,a,r]);let C=0;return(0,o.C)(((e,t)=>{C=k.offset,tt.damp(k,"offset",E.current,u,t,c,void 0,n),tt.damp(k,"delta",Math.abs(C-k.offset),u,t,c,void 0,n),k.delta>n&&y()})),e.createElement(it.Provider,{value:k},h)}const st=e.forwardRef(((t,n)=>{let{children:r}=t;const i=e.useRef(null);e.useImperativeHandle(n,(()=>i.current),[]);const a=at(),{width:s,height:l}=(0,o.A)((e=>e.viewport));return(0,o.C)((()=>{i.current.position.x=a.horizontal?-s*(a.pages-1)*a.offset:0,i.current.position.y=a.horizontal?0:l*(a.pages-1)*a.offset})),e.createElement("group",{ref:i},r)})),lt=e.forwardRef(((n,r)=>{let{children:i,style:a,...s}=n;const l=at(),u=e.useRef(null);e.useImperativeHandle(r,(()=>u.current),[]);const{width:c,height:d}=(0,o.A)((e=>e.size)),f=e.useContext(o.f),h=e.useMemo((()=>t.createRoot(l.fixed)),[l.fixed]);return(0,o.C)((()=>{l.delta>l.eps&&(u.current.style.transform="translate3d(".concat(l.horizontal?-c*(l.pages-1)*l.offset:0,"px,").concat(l.horizontal?0:d*(l.pages-1)*-l.offset,"px,0)"))})),h.render(e.createElement("div",D({ref:u,style:{...a,position:"absolute",top:0,left:0,willChange:"transform"}},s),e.createElement(it.Provider,{value:l},e.createElement(o.f.Provider,{value:f},i)))),null})),ut=e.forwardRef(((t,n)=>{let{html:r,...i}=t;const a=r?lt:st;return e.createElement(a,D({ref:n},i))})),ct=new s.Vector3,dt=new s.Vector3,ft=new s.Vector3,ht=new s.Vector2;function pt(e,t,n){const r=ct.setFromMatrixPosition(e.matrixWorld);r.project(t);const i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}const mt=e=>Math.abs(e)<1e-10?0:e;function gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let i=0;16!==i;i++)r+=mt(t[i]*e.elements[i])+(15!==i?",":")");return n+r}const vt=(yt=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>gt(e,yt));var yt;const bt=(e,t)=>{return gt(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};const wt=e.forwardRef(((n,r)=>{let{children:i,eps:a=.001,style:l,className:u,prepend:c,center:d,fullscreen:f,portal:h,distanceFactor:p,sprite:m=!1,transform:g=!1,occlude:v,onOcclude:y,castShadow:b,receiveShadow:w,material:x,geometry:_,zIndexRange:S=[16777271,0],calculatePosition:E=pt,as:k="div",wrapperClass:C,pointerEvents:M="auto",...P}=n;const{gl:T,camera:A,scene:R,size:I,raycaster:O,events:z,viewport:L}=(0,o.A)(),[N]=e.useState((()=>document.createElement(k))),U=e.useRef(),j=e.useRef(null),F=e.useRef(0),B=e.useRef([0,0]),V=e.useRef(null),H=e.useRef(null),W=(null==h?void 0:h.current)||z.connected||T.domElement.parentNode,G=e.useRef(null),q=e.useRef(!1),X=e.useMemo((()=>v&&"blending"!==v||Array.isArray(v)&&v.length&&function(e){return e&&"object"===typeof e&&"current"in e}(v[0])),[v]);e.useLayoutEffect((()=>{const e=T.domElement;v&&"blending"===v?(e.style.zIndex="".concat(Math.floor(S[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[v]),e.useLayoutEffect((()=>{if(j.current){const e=U.current=t.createRoot(N);if(R.updateMatrixWorld(),g)N.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=E(j.current,A,I);N.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return W&&(c?W.prepend(N):W.appendChild(N)),()=>{W&&W.removeChild(N),e.unmount()}}}),[W,g]),e.useLayoutEffect((()=>{C&&(N.className=C)}),[C]);const K=e.useMemo((()=>g?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:d?"translate3d(-50%,-50%,0)":"none",...f&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...l}),[l,d,f,I,g]),Y=e.useMemo((()=>({position:"absolute",pointerEvents:M})),[M]);e.useLayoutEffect((()=>{var t,n;(q.current=!1,g)?null==(t=U.current)||t.render(e.createElement("div",{ref:V,style:K},e.createElement("div",{ref:H,style:Y},e.createElement("div",{ref:r,className:u,style:l,children:i})))):null==(n=U.current)||n.render(e.createElement("div",{ref:r,style:K,className:u,children:i}))}));const Q=e.useRef(!0);(0,o.C)((e=>{if(j.current){A.updateMatrixWorld(),j.current.updateWorldMatrix(!0,!1);const e=g?B.current:E(j.current,A,I);if(g||Math.abs(F.current-A.zoom)>a||Math.abs(B.current[0]-e[0])>a||Math.abs(B.current[1]-e[1])>a){const t=function(e,t){const n=ct.setFromMatrixPosition(e.matrixWorld),r=dt.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(ft);return i.angleTo(a)>Math.PI/2}(j.current,A);let n=!1;X&&(Array.isArray(v)?n=v.map((e=>e.current)):"blending"!==v&&(n=[R]));const r=Q.current;if(n){const e=function(e,t,n,r){const i=ct.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),ht.set(a.x,a.y),n.setFromCamera(ht,t);const o=n.intersectObjects(r,!0);if(o.length){const e=o[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(j.current,A,O,n);Q.current=e&&!t}else Q.current=!t;r!==Q.current&&(y?y(!Q.current):N.style.display=Q.current?"block":"none");const i=Math.floor(S[0]/2),a=v?X?[S[0],i]:[i-1,0]:S;if(N.style.zIndex="".concat(function(e,t,n){if(t instanceof s.PerspectiveCamera||t instanceof s.OrthographicCamera){const r=ct.setFromMatrixPosition(e.matrixWorld),i=dt.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(j.current,A,a)),g){const[e,t]=[I.width/2,I.height/2],n=A.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:a,bottom:o,right:s}=A,l=vt(A.matrixWorldInverse),u=r?"scale(".concat(n,")translate(").concat(mt(-(s+a)/2),"px,").concat(mt((i+o)/2),"px)"):"translateZ(".concat(n,"px)");let c=j.current.matrixWorld;m&&(c=A.matrixWorldInverse.clone().transpose().copyPosition(c).scale(j.current.scale),c.elements[3]=c.elements[7]=c.elements[11]=0,c.elements[15]=1),N.style.width=I.width+"px",N.style.height=I.height+"px",N.style.perspective=r?"":"".concat(n,"px"),V.current&&H.current&&(V.current.style.transform="".concat(u).concat(l,"translate(").concat(e,"px,").concat(t,"px)"),H.current.style.transform=bt(c,1/((p||10)/400)))}else{const t=void 0===p?1:function(e,t){if(t instanceof s.OrthographicCamera)return t.zoom;if(t instanceof s.PerspectiveCamera){const n=ct.setFromMatrixPosition(e.matrixWorld),r=dt.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(j.current,A)*p;N.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(t,")")}B.current=e,F.current=A.zoom}}if(!X&&G.current&&!q.current)if(g){if(V.current){const e=V.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=A;if(t||_)P.scale&&(Array.isArray(P.scale)?P.scale instanceof s.Vector3?G.current.scale.copy(P.scale.clone().divideScalar(1)):G.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):G.current.scale.setScalar(1/P.scale));else{const t=(p||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;G.current.scale.set(n,r,1)}q.current=!0}}}else{const t=N.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/L.factor,n=t.clientWidth*e,r=t.clientHeight*e;G.current.scale.set(n,r,1),q.current=!0}G.current.lookAt(e.camera.position)}}));const Z=e.useMemo((()=>({vertexShader:g?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[g]);return e.createElement("group",D({},P,{ref:j}),v&&!X&&e.createElement("mesh",{castShadow:b,receiveShadow:w,ref:G},_||e.createElement("planeGeometry",null),x||e.createElement("shaderMaterial",{side:s.DoubleSide,vertexShader:Z.vertexShader,fragmentShader:Z.fragmentShader})))}));var xt=n(5345),_t=n(4871);const St=JSON.parse('{"sheetsById":{"Scene":{"staticOverrides":{"byObject":{"Camera":{"fov":30,"position":{"x":0,"y":0,"z":0},"far":1000,"rotation":{"x":0,"y":0,"z":0}},"Camera Group":{"rotation":{"y":1.5},"position":{"x":-100,"y":0,"z":-100},"scale":{"x":1,"y":1,"z":1}}}},"sequence":{"subUnitsPerUnit":30,"length":5,"type":"PositionalSequence","tracksByObject":{"Camera":{"trackData":{"aFATPYBvT3":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"position\\",\\"x\\"]","keyframes":[{"id":"ItJq9g5N5D","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"s_gu0wXPEa","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"y8Q-tHXQem","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":-0.7},{"id":"6FMW_ixdLr","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-3.1994136247001363},{"id":"kdG-XGL37O","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-7.284191573487586},{"id":"F0bZCdl88N","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-13.4},{"id":"z9aDPtSfsE","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-21.9917359581451},{"id":"NlO7Q2YMx1","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-34.005507091828015},{"id":"nlzrsbaeRz","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":-51.6028846541177},{"id":"zfTfvAN-Xn","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":-99.99629373589329},{"id":"sRb30Vmbiq","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":-199.99423301716126},{"id":"jg3Fq4Owfd","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":-199.99423301716126},{"id":"0CYXVT7Ywe","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"T8Oo4rCfFz","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"Ep-_C6-tEk","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"kYOK3Q30DF","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"9uLvcHKjJ6","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"uU3NrxdvAs","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-199.99423301716126},{"id":"sZrn2b8d3J","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":-199.99423301716126},{"id":"OUSAAc-nRc","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":-199.99423301716126},{"id":"GdAW8KE5KB","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":-199.99423301716126}]},"TBcKDHsYJx":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"position\\",\\"y\\"]","keyframes":[{"id":"Z_VlFBVbWi","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"uH_aO-e1E9","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"qSRGEjeDg3","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0},{"id":"ciQQgSFNsT","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"mWiErCAFz6","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"-f9n_hYdPV","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"Qcf_T7i1LG","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"hpZNbyRvSZ","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"ldTI9r8-KS","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0},{"id":"vXTSEwS-rf","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":0},{"id":"UwprhmEaAo","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":0},{"id":"-skIB-e_19","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"RSBnZXZ79S","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.7965267644569743},{"id":"DiRlhOP8PQ","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":3.1994136247001363},{"id":"7CN5s_dWrZ","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":7.284191573487586},{"id":"mdl7Yd1J2Y","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":13.4},{"id":"UjDlw9k0Z2","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":21.9917359581451},{"id":"XAc3OU0mJM","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":34.005507091828015},{"id":"EJnQ09w0IU","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":51.6028846541177},{"id":"J85yaM96te","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":99.99629373589329},{"id":"7g6xEYUfT2","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":100}]},"_zs0fkmAKM":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"position\\",\\"z\\"]","keyframes":[{"id":"0X9OtvFkLs","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"6WH8vvurK3","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":-100},{"id":"S9vLK5hHjH","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":-114},{"id":"YhoMw7zPPQ","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-124.99541894296982},{"id":"2pwdlWXC1I","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-137.451792808975},{"id":"S2g0bqXc0U","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-150},{"id":"f_HREQf52a","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-162.48798831125742},{"id":"k1GzyCRMI5","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-175.0399065839643},{"id":"I8X2Kp9xWp","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":-187.50074506069964},{"id":"cuO7vWDE8-","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":-200},{"id":"ETs5KfQ0mr","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":-300},{"id":"yiHCIExm1t","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":-500},{"id":"bKkzvwRJgn","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":-512.5},{"id":"lDaijwUUIi","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-525},{"id":"5LS5hcXWtN","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-537.5},{"id":"Ez_RJWCHjr","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-550},{"id":"EfHk86eRHU","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-562.5},{"id":"Xx9ddcPfQG","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":-575},{"id":"HMxRiV5nd2","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":-587.5},{"id":"I4X57cEWx3","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":-600},{"id":"Cn1_u7aCFg","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":-800}]},"FueJlpqS0o":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"rotation\\",\\"x\\"]","keyframes":[{"id":"3iTX2QiP5X","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"f4LQs3ntNJ","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"y6t2xb_5OH","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0},{"id":"2ROKGeDp4h","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"s5MAW8aOIi","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"8AoYePyBUT","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"BFLMuR6cQI","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"cp6K9sfuO3","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"7sKIcFdaGt","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0},{"id":"7x5v5rQ6LX","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":0},{"id":"tAMyn0NanI","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":0},{"id":"jZIFGmBilq","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"5oCz0iZQjE","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.1963},{"id":"megXW1dyCL","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.3926},{"id":"XzdSIk-NFw","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.589},{"id":"KPhSsceTzy","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.785},{"id":"t9V8foVOeq","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.9817},{"id":"KVZWyIblXh","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1.178},{"id":"OaqxhQ4No-","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1.374},{"id":"57aWPYZ_fm","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1.5709417745908836},{"id":"eI3Vug6lQj","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1.5807}]},"LsxQE06gOW":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"rotation\\",\\"y\\"]","keyframes":[{"id":"XKn1PXaRts","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"oHmDw0gPJK","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"MKFeDkSS4s","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.1963},{"id":"aTQ900Razr","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.3926},{"id":"N_Zp4uiSE-","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.589},{"id":"JwTSEd8cjA","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.785},{"id":"9nywYBrwEc","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.9817},{"id":"9OCDpP4cDU","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1.178},{"id":"TB_43cmQdL","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1.374},{"id":"MaI0R7nU_z","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1.5709417745908836},{"id":"4NnWQ4GgS8","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":0.00009059258494659161},{"id":"58Px04kOif","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0.00009059258494659161},{"id":"4aRUcG8Z4L","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"VxQWy_ZnOR","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"G14zjyp_54","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"otoCoLQwof","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"jBtk324Pyf","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"Jv9KOLowTZ","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.00009059258494659161},{"id":"bvjxvmS6Ra","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0.00009059258494659161},{"id":"cGGf-UEYrL","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":0.00009059258494659161},{"id":"C22ojqIaZz","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":0.00009059258494659161}]},"QV_UOnknf-":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"rotation\\",\\"z\\"]","keyframes":[{"id":"ZJii1kETBr","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0},{"id":"qVrMjsibiU","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"Ac0nRl9xWs","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0},{"id":"pPiLRKCYgT","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"oHAh0LL_Ud","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"xmW-BW1NVr","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"wEkaC6BjXS","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"DWUcf9qrZI","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"kHJnyXjoGU","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0},{"id":"2gDQDcCrvD","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":0},{"id":"k-fi0Swp05","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":0},{"id":"_iJnfOwspZ","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0},{"id":"3omdbonlb_","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0},{"id":"3HglMTeYXn","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"Y91y03sd_x","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"Npfb4PrYTZ","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"bNJt_JzvXI","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"bYQHshjBwt","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0},{"id":"BivBnmSMf3","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0},{"id":"5tGkg-S8Sp","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":0},{"id":"mokeNylkm6","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":0}]},"G2yyq3dw9o":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"scale\\",\\"x\\"]","keyframes":[{"id":"o1n3lVqj3X","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":1},{"id":"_PDsHj880h","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"yRzooevLMA","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"zbbT4QWNIU","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"sJU1ye8Gog","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"XJz-Pt9UDI","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"Gpo0i1tFGL","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"m1N7VIfeEX","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"PtjPfZ7J1U","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"ikcZnIyTrl","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1},{"id":"QqX3Yr4DDw","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":1},{"id":"ZDzLUDVBij","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"cLtN_sbsmY","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"mDgM4XOlf3","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"QWzvbZXNRh","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"NA4zlz_fFI","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"WFuIKELlq8","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"s-lKrT45_V","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"X6P4hLd8u0","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"jC5HYdv9Vi","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1},{"id":"F8KRhbH5pT","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1}]},"jJeJtHvxgh":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"scale\\",\\"y\\"]","keyframes":[{"id":"1Oa5xZgX3n","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":1},{"id":"402DAgKOrY","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"eLz8NpROdO","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"kwImmTiUyI","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"gLbuoVkVnS","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"-tmf5Q5ekm","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"uYETX0d5mq","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"GVMs9xdfQj","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"h0ur8f_Zw3","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"5LURXH0TJv","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1},{"id":"4KyjWqCFaa","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":1},{"id":"JkWwLx5ZV-","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"7DrjzphnIA","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"pAOhP2xzRA","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"ldqiU74ag-","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"yaNmA5GDo0","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"n9KTsK5U9D","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"tiI26YJwfz","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"fLmGGq_OJX","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"3NzGRQwntT","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1},{"id":"UKZwWTknfq","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1}]},"rPJe1dyBNB":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"scale\\",\\"z\\"]","keyframes":[{"id":"9_UIwT4jsH","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":1},{"id":"cblvvelcQz","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"WhpZM-Aih5","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"ZQfNKAgib6","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"sohgt-V6wF","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"HDIhDkIw4i","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"3uC_fLujj_","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"GYko35RVPj","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"nzYBcisQ-n","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"gGihzTo_-X","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1},{"id":"LEgl568LjM","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":1},{"id":"EwcOvvlTug","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"7knZQiQjmR","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"ewg3LtucQj","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"yhT-TdFgx5","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"ENGGwJMR-p","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"wsVSu9Xw2m","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"ZNjzV-O9lF","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"C7AR53yPAC","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"fersjANzft","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1},{"id":"OnFVNA-K86","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1}]},"lSOotGQaqC":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"near\\"]","keyframes":[{"id":"xhyMzK4Ldv","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":0.1},{"id":"15Lha_7AcX","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0.1},{"id":"0yLEVKyie6","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.1},{"id":"GdzEklSMj1","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"rSlBKPACHI","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"XXEZlyNxU3","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"YswfQ7CVQ2","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"bEms-0jAlr","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"ITE5bY0LyO","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0.1},{"id":"abNCEGI0BB","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":0.1},{"id":"BJ7wbTb4ue","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":0.1},{"id":"h02xnF2P5p","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":0.1},{"id":"_-nigDesw8","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":0.1},{"id":"FFUbYE6FQo","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"qt_6zbufaL","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"uVLVFY3wWO","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"eIfY89cBOC","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"FD2j4yBviC","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":0.1},{"id":"xhM_CQ7hUU","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":0.1},{"id":"iY0K6BzLkg","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":0.1},{"id":"goioO3OXwF","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":0.1}]},"iFWvYYMUoa":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"far\\"]","keyframes":[{"id":"GSr7Rekh-L","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":1000},{"id":"2qSFzWA8tt","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1000},{"id":"xLcaz93--b","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1000},{"id":"21MIOzl7gX","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"CWnBDx6uCx","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"_935Cbqho9","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"wcrlzDlcoS","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"WqIQPHwUY3","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"Aw8WYinqrK","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1000},{"id":"7E-QpHTILv","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1000},{"id":"NWRUtcg_I-","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":1000},{"id":"Xxmf5n0y80","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1000},{"id":"KB_oOXRqQt","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1000},{"id":"phA69JVIkC","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"9yxRuY-99D","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"AkFvR5MJqz","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"sDyKizDrV2","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"qDqgL5-7R5","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1000},{"id":"DQhHio74ni","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1000},{"id":"HXwWkaloBW","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1000},{"id":"KhVG9a8KbS","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1000}]},"WYb0BenQd9":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"fov\\"]","keyframes":[{"id":"4ZBKG5JgkN","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":30},{"id":"LI9BwYcr78","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":30},{"id":"t_Xo0y9uVN","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":30},{"id":"XlF1hymsJz","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"a40LSO6ojf","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"ZKukS9WYYV","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"UqXxlQIlN6","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"pvLKv33MR_","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"bYnTczpIzI","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":30},{"id":"-ikC28l1gX","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":30},{"id":"FluE53ZqMO","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":30},{"id":"REqMuH-GrW","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":30},{"id":"3lI7YqW_Iy","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":30},{"id":"CYvvyZXRAJ","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"ppgy5WqKCO","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"Bn0GQHBgbl","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"zwM9aUco_g","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"iOSM6ba5M2","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":30},{"id":"Z5MUlJ9Dqd","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":30},{"id":"hpmRxFgDC3","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":30},{"id":"XraIRqttaH","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":30}]},"rt5Qazk3CS":{"type":"BasicKeyframedTrack","__debugName":"Camera:[\\"zoom\\"]","keyframes":[{"id":"HraJ_GFzmt","position":0,"connectedRight":true,"handles":[0.5,1,0.645,0.045],"type":"bezier","value":1},{"id":"9xet-4dYRN","position":0.5,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"oAZnPpBlU0","position":0.633,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"S_Yjbfm1Pp","position":0.667,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"WQox3LkcGZ","position":0.7,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"J8P34xZ9Hp","position":0.733,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"6q_VDchBNw","position":0.767,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"Ou5PEZYXkP","position":0.8,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"EV5Vx6lNte","position":0.833,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"P6tqvpJ4na","position":1,"connectedRight":true,"handles":[0.45,0.94,0.645,0.045],"type":"bezier","value":1},{"id":"D1lmhqEDfz","position":1.5,"connectedRight":true,"handles":[0.355,1,0.645,0.045],"type":"bezier","value":1},{"id":"gSor8foH_0","position":2,"connectedRight":true,"handles":[0.355,1,0.55,0.085],"type":"bezier","value":1},{"id":"lqjybH8F3O","position":2.167,"connectedRight":true,"handles":[0.68,0.53,0.5,0.5],"type":"bezier","value":1},{"id":"dvMyGNpE5-","position":2.2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"vZMJvhZH3c","position":2.233,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"pVQL9Nkg3V","position":2.267,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"Duu4hZQfOv","position":2.3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"6EP9UKr3cy","position":2.333,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":1},{"id":"ASsaPiFsqg","position":2.367,"connectedRight":true,"handles":[0.5,0.5,0.25,0.46],"type":"bezier","value":1},{"id":"pds79GXGaj","position":2.5,"connectedRight":true,"handles":[0.45,0.94,0.47,0],"type":"bezier","value":1},{"id":"kOmQditHBF","position":5,"connectedRight":true,"handles":[0.745,0.715,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"aFATPYBvT3","[\\"position\\",\\"y\\"]":"TBcKDHsYJx","[\\"position\\",\\"z\\"]":"_zs0fkmAKM","[\\"rotation\\",\\"x\\"]":"FueJlpqS0o","[\\"rotation\\",\\"y\\"]":"LsxQE06gOW","[\\"rotation\\",\\"z\\"]":"QV_UOnknf-","[\\"scale\\",\\"x\\"]":"G2yyq3dw9o","[\\"scale\\",\\"y\\"]":"jJeJtHvxgh","[\\"scale\\",\\"z\\"]":"rPJe1dyBNB","[\\"near\\"]":"lSOotGQaqC","[\\"far\\"]":"iFWvYYMUoa","[\\"fov\\"]":"WYb0BenQd9","[\\"zoom\\"]":"rt5Qazk3CS"}},"Camera Group":{"trackData":{"YqxNv5-LJW":{"type":"BasicKeyframedTrack","__debugName":"Camera Group:[\\"rotation\\",\\"x\\"]","keyframes":[]},"Msp4dqzZCj":{"type":"BasicKeyframedTrack","__debugName":"Camera Group:[\\"rotation\\",\\"y\\"]","keyframes":[]},"MWEczkqUA0":{"type":"BasicKeyframedTrack","__debugName":"Camera Group:[\\"rotation\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"rotation\\",\\"x\\"]":"YqxNv5-LJW","[\\"rotation\\",\\"y\\"]":"Msp4dqzZCj","[\\"rotation\\",\\"z\\"]":"MWEczkqUA0"}},"Camera Group 2":{"trackData":{"Q3s70ixEWk":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"position\\",\\"x\\"]","keyframes":[]},"vcEzXygRkp":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"position\\",\\"y\\"]","keyframes":[]},"0pwaGdK94s":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"position\\",\\"z\\"]","keyframes":[]},"dOm_kUadTP":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"rotation\\",\\"x\\"]","keyframes":[]},"uF3WZD0VIe":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"rotation\\",\\"y\\"]","keyframes":[]},"4WLRRt8qyG":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"rotation\\",\\"z\\"]","keyframes":[]},"3qEDyOatts":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"scale\\",\\"x\\"]","keyframes":[]},"yuDfZY1-P5":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"scale\\",\\"y\\"]","keyframes":[]},"KuBWuLyWkm":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 2:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"Q3s70ixEWk","[\\"position\\",\\"y\\"]":"vcEzXygRkp","[\\"position\\",\\"z\\"]":"0pwaGdK94s","[\\"rotation\\",\\"x\\"]":"dOm_kUadTP","[\\"rotation\\",\\"y\\"]":"uF3WZD0VIe","[\\"rotation\\",\\"z\\"]":"4WLRRt8qyG","[\\"scale\\",\\"x\\"]":"3qEDyOatts","[\\"scale\\",\\"y\\"]":"yuDfZY1-P5","[\\"scale\\",\\"z\\"]":"KuBWuLyWkm"}},"Camera Group 1":{"trackData":{"_kfQTEIf0W":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"position\\",\\"x\\"]","keyframes":[]},"ddrt-CORND":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"position\\",\\"y\\"]","keyframes":[]},"Rs_NeR67jz":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"position\\",\\"z\\"]","keyframes":[]},"4-qXNA8k7T":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"rotation\\",\\"x\\"]","keyframes":[]},"Lc7H7m2HCK":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"rotation\\",\\"y\\"]","keyframes":[]},"tbmzR-kmbi":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"rotation\\",\\"z\\"]","keyframes":[]},"akhTwG_WcG":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"scale\\",\\"x\\"]","keyframes":[]},"_RVTVSAK_d":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"scale\\",\\"y\\"]","keyframes":[]},"fIWALjw3H1":{"type":"BasicKeyframedTrack","__debugName":"Camera Group 1:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"_kfQTEIf0W","[\\"position\\",\\"y\\"]":"ddrt-CORND","[\\"position\\",\\"z\\"]":"Rs_NeR67jz","[\\"rotation\\",\\"x\\"]":"4-qXNA8k7T","[\\"rotation\\",\\"y\\"]":"Lc7H7m2HCK","[\\"rotation\\",\\"z\\"]":"tbmzR-kmbi","[\\"scale\\",\\"x\\"]":"akhTwG_WcG","[\\"scale\\",\\"y\\"]":"_RVTVSAK_d","[\\"scale\\",\\"z\\"]":"fIWALjw3H1"}},"Camera Pivot Group 1":{"trackData":{"GjjeDcktij":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"position\\",\\"x\\"]","keyframes":[]},"qB4avAmqT1":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"position\\",\\"y\\"]","keyframes":[]},"Imi41ORUst":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"position\\",\\"z\\"]","keyframes":[]},"tH7swDlx8N":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"rotation\\",\\"x\\"]","keyframes":[]},"uCIVQvMjMw":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"rotation\\",\\"y\\"]","keyframes":[{"id":"6HTLmEaVMr","position":0,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":100},{"id":"zNQme3TCPA","position":5.067,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":0}]},"I_rPehNniG":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"rotation\\",\\"z\\"]","keyframes":[]},"7ptYeSEeFr":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"scale\\",\\"x\\"]","keyframes":[]},"h2-zDux7d1":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"scale\\",\\"y\\"]","keyframes":[]},"ncqaM6jpO5":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 1:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"GjjeDcktij","[\\"position\\",\\"y\\"]":"qB4avAmqT1","[\\"position\\",\\"z\\"]":"Imi41ORUst","[\\"rotation\\",\\"x\\"]":"tH7swDlx8N","[\\"rotation\\",\\"y\\"]":"uCIVQvMjMw","[\\"rotation\\",\\"z\\"]":"I_rPehNniG","[\\"scale\\",\\"x\\"]":"7ptYeSEeFr","[\\"scale\\",\\"y\\"]":"h2-zDux7d1","[\\"scale\\",\\"z\\"]":"ncqaM6jpO5"}},"Camera Pivot Group 2":{"trackData":{"jINxqtmX2P":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"position\\",\\"x\\"]","keyframes":[]},"0_qMJsSfZM":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"position\\",\\"y\\"]","keyframes":[]},"AF4SvdN3Cj":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"position\\",\\"z\\"]","keyframes":[]},"8MQBW0Efhu":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"rotation\\",\\"x\\"]","keyframes":[]},"MEo7KDeQl5":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"rotation\\",\\"y\\"]","keyframes":[]},"5svfngX2Oi":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"rotation\\",\\"z\\"]","keyframes":[]},"S-ALzLuaS3":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"scale\\",\\"x\\"]","keyframes":[]},"yaphnJcaJY":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"scale\\",\\"y\\"]","keyframes":[]},"7_dITvgNb5":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 2:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"jINxqtmX2P","[\\"position\\",\\"y\\"]":"0_qMJsSfZM","[\\"position\\",\\"z\\"]":"AF4SvdN3Cj","[\\"rotation\\",\\"x\\"]":"8MQBW0Efhu","[\\"rotation\\",\\"y\\"]":"MEo7KDeQl5","[\\"rotation\\",\\"z\\"]":"5svfngX2Oi","[\\"scale\\",\\"x\\"]":"S-ALzLuaS3","[\\"scale\\",\\"y\\"]":"yaphnJcaJY","[\\"scale\\",\\"z\\"]":"7_dITvgNb5"}},"Camera Pivot Group 3":{"trackData":{"ZxKjMOlNq_":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"position\\",\\"x\\"]","keyframes":[]},"CDgDLw6TZ1":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"position\\",\\"y\\"]","keyframes":[]},"x6lVYMIYQe":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"position\\",\\"z\\"]","keyframes":[]},"VuHGdw9fzN":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"rotation\\",\\"x\\"]","keyframes":[]},"hxk7OsMW03":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"rotation\\",\\"y\\"]","keyframes":[]},"TRTjTguLlC":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"rotation\\",\\"z\\"]","keyframes":[]},"BwWTG-tRoC":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"scale\\",\\"x\\"]","keyframes":[]},"XCkKGRV6rx":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"scale\\",\\"y\\"]","keyframes":[]},"_S_g_v08P2":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 3:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"ZxKjMOlNq_","[\\"position\\",\\"y\\"]":"CDgDLw6TZ1","[\\"position\\",\\"z\\"]":"x6lVYMIYQe","[\\"rotation\\",\\"x\\"]":"VuHGdw9fzN","[\\"rotation\\",\\"y\\"]":"hxk7OsMW03","[\\"rotation\\",\\"z\\"]":"TRTjTguLlC","[\\"scale\\",\\"x\\"]":"BwWTG-tRoC","[\\"scale\\",\\"y\\"]":"XCkKGRV6rx","[\\"scale\\",\\"z\\"]":"_S_g_v08P2"}},"Camera Pivot Group 4":{"trackData":{"JOoshzIiZV":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"position\\",\\"x\\"]","keyframes":[]},"8Q-00XRt3y":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"position\\",\\"y\\"]","keyframes":[]},"ClZDZlmRg3":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"position\\",\\"z\\"]","keyframes":[]},"F6jzlFqK41":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"rotation\\",\\"x\\"]","keyframes":[]},"i1CrvKVeL4":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"rotation\\",\\"y\\"]","keyframes":[]},"XKGbxo8g9l":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"rotation\\",\\"z\\"]","keyframes":[]},"t6N4ikySm2":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"scale\\",\\"x\\"]","keyframes":[]},"bmx4fL4Ina":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"scale\\",\\"y\\"]","keyframes":[]},"TtafZQ2zeP":{"type":"BasicKeyframedTrack","__debugName":"Camera Pivot Group 4:[\\"scale\\",\\"z\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"position\\",\\"x\\"]":"JOoshzIiZV","[\\"position\\",\\"y\\"]":"8Q-00XRt3y","[\\"position\\",\\"z\\"]":"ClZDZlmRg3","[\\"rotation\\",\\"x\\"]":"F6jzlFqK41","[\\"rotation\\",\\"y\\"]":"i1CrvKVeL4","[\\"rotation\\",\\"z\\"]":"XKGbxo8g9l","[\\"scale\\",\\"x\\"]":"t6N4ikySm2","[\\"scale\\",\\"y\\"]":"bmx4fL4Ina","[\\"scale\\",\\"z\\"]":"TtafZQ2zeP"}}}}}},"definitionVersion":"0.4.0","revisionHistory":["oAzK7hsTwoFrYASi","RHLyRpRr30zTZGLt","h-lAun_05KRMU9es","btSUG08mAMbkp519","wM8Sfh3TUUdZLk-T","dd6IsLPcLVUOhM-i","QxPRu56PGUoaYgkY","RrdfM56n9CC_Pevj","8ZuHrMq-hpgowU2B","VKHq-aCwExMU5mvx","roea-SuCymoQm2PB","oYelzQwelPDx7nzA","yXayLxw0MYsqVdIK","ZKd2BLHhF_mXduc6","oQ0aFzVipvlQ7ZWz","DVqkzRm0wu4wpVCZ","A3duSAArgzTR1LG0","yHwAKlgcfvZZrzGZ","7aX-V95MU3QNNVl2","8ME3K4hhd25ZlUMp","rxvA8_sT0MymJRmT","PsggCGYPxnF2nHBy","7UkTz_nZ6aS3j0KV","ZVRF-ti9v5o6QlbT","QYEqC-IPi0jHB2Vj","CiX4phQUEoBaiNcW","5I78FaSrf3wpf1aC","PFkY89t7RmzYqwnB","6dRsTPDMmC7i6A0j","zONwCGcEvae3VQjA","hnbE_31gWaJ69tYh"]}');function Et(t,n){const r=t+"Geometry";return e.forwardRef(((t,i)=>{let{args:a,children:o,...s}=t;const l=e.useRef(null);return e.useImperativeHandle(i,(()=>l.current)),e.useLayoutEffect((()=>{null==n||n(l.current)})),e.createElement("mesh",D({ref:l},s),e.createElement(r,{attach:"geometry",args:a}),o)}))}const kt=Et("sphere"),Ct=Et("plane");const Mt=n.p+"static/media/hero-logo.a1e656662b8333403794b32b9b01191d.svg",Pt=n.p+"static/media/IBMPlexMono-Medium.e44b6da17070f5fecd5b.ttf",Tt=1680/213,At="Empowering Streamers with Next-Gen Tools and Payment Solutions";const Rt=function(){const[t,n]=(0,e.useState)(0),[r,i]=(0,e.useState)(""),[a,l]=(0,e.useState)(window.innerWidth>=1040);(0,e.useEffect)((()=>{const e=()=>{l(window.innerWidth>=1040)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const u=window.innerWidth<1920?window.innerWidth/window.innerHeight*(7.05-(1920-window.innerWidth)/1920*1.4):1920/window.innerHeight*7.05,c=u/Tt;return window.innerHeight,window.innerHeight,window.innerHeight,(0,e.useEffect)((()=>{let e=0,t=performance.now();const n=r=>{r-t>30&&(e=Math.min(e+1,62),i(At.substring(0,e)),t=r),e<62&&requestAnimationFrame(n)};return requestAnimationFrame(n),()=>cancelAnimationFrame(n)}),[]),(0,e.useEffect)((()=>{const e=setInterval((()=>{t<1?n((e=>e+.03)):clearInterval(e)}),50);return()=>clearInterval(e)}),[t]),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(Ct,{args:[u,c,1,1],position:[0,-2.5,-15],children:(0,R.jsx)("meshStandardMaterial",{map:(0,o.F)(s.TextureLoader,Mt),transparent:!0,opacity:t})})})},It=()=>{const t=(0,e.useRef)(),n=400;const r=(0,e.useMemo)((()=>{const e=new Float32Array(3e3);for(let t=0;t<1e3;t++){let r=2*Math.random()*n-400,i=2*Math.random()*n-400,a=2*Math.random()*n-400;e.set([r,i,a],3*t)}return e}),[]);return(0,o.C)(((e,n)=>{t.current&&(t.current.rotation.y+=.004*n)})),(0,R.jsxs)("points",{ref:t,position:[0,0,-400],children:[(0,R.jsx)("bufferGeometry",{children:(0,R.jsx)("bufferAttribute",{attach:"attributes-position",count:r.length/3,array:r,itemSize:3})}),(0,R.jsx)("pointsMaterial",{map:function(e){let t=document.createElement("canvas");t.width=t.height=256;let n=t.getContext("2d"),r=new s.Texture(t);n.fillStyle="rgba(255,255,255,0)",n.fillRect(0,0,e,e),n.fillStyle="#ffffff";let i=e/2;return n.beginPath(),n.arc(i,i,e/2,0,2*Math.PI,!1),n.closePath(),n.fill(),r.needsUpdate=!0,r}(256),size:4,sizeAttenuation:!0,depthWrite:!1,transparent:!0,alphaTest:.5})]})};function Ot(){var e=Object.create(null);function t(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"===typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(d){d&&d.noLog||console.error(d),i(d)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&t(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(l){n(l)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){console.error(l),n(l)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}}))}var zt=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return zt=function(){return e},e},Lt=0,Dt=0,Nt=!1,Ut=Object.create(null),jt=Object.create(null),Ft=Object.create(null);function Bt(e){if((!e||"function"!==typeof e.init)&&!Nt)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId;if(!zt())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"===typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var i=Promise.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return i},i},t}(e);null==i&&(i="#default");var a="workerModule"+ ++Lt,o=e.name||a,s=null;function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=Ht(i,"registerModule",l.workerModuleData);var n=function(){s=null,jt[i].delete(n)};(jt[i]||(jt[i]=new Set)).add(n)}return s.then((function(t){if(t.isCallable)return Ht(i,"callModule",{id:a,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(Nt=!0,e=Bt({workerId:i,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+Vt(e)+"\n)}"}),Nt=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),l.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:t,init:Vt(n),getTransferables:r&&Vt(r)},l}function Vt(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function Ht(e,t,n){return new Promise((function(r,i){var a=++Dt;Ft[a]=function(e){e.success?r(e.result):i(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=Ut[e];if(!t){var n=Vt(Ot);(t=Ut[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=Ft[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete Ft[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n})}))}function Wt(){var e=function(e){function t(e,t,n,r,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*i,s.y=l*l*t+2*l*o*r+o*o*a}function n(e,t,n,r,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*a+l*l*l*s}function r(e,t){for(var n,r,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":a=r=l[0],o=i=l[1];break;case"L":l[0]===a&&l[1]===o||t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":a===r&&o===i||t("L",a,o,r,i)}}}function i(e,i,a){void 0===a&&(a=16);var o={x:0,y:0};r(e,(function(e,r,s,l,u,c,d,f,h){switch(e){case"L":i(r,s,l,u);break;case"Q":for(var p=r,m=s,g=1;g<a;g++)t(r,s,c,d,l,u,g/(a-1),o),i(p,m,o.x,o.y),p=o.x,m=o.y;break;case"C":for(var v=r,y=s,b=1;b<a;b++)n(r,s,c,d,f,h,l,u,b/(a-1),o),i(v,y,o.x,o.y),v=o.x,y=o.y}}))}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",s=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(e,t){var n=e.getContext?e.getContext("webgl",l):e,r=s.get(n);if(!r){var i="undefined"!==typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,a={},o={},u={},c=-1,d=[];function f(e){var t=a[e];if(!t&&!(t=a[e]=n.getExtension(e)))throw new Error(e+" not supported");return t}function h(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function p(e,t,r,a){if(!o[e]){var s={},l={},u=n.createProgram();n.attachShader(u,h(t,n.VERTEX_SHADER)),n.attachShader(u,h(r,n.FRAGMENT_SHADER)),n.linkProgram(u),o[e]={program:u,transaction:function(e){n.useProgram(u),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=l[t]||(l[t]=n.getUniformLocation(u,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,a,o){var l=s[e];l||(l=s[e]={buf:n.createBuffer(),loc:n.getAttribLocation(u,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),i?n.vertexAttribDivisor(l.loc,a):f("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,a),o!==l.data&&(n.bufferData(n.ARRAY_BUFFER,o,r),l.data=o)}})}}}o[e].transaction(a)}function m(e,t){c++;try{n.activeTexture(n.TEXTURE0+c);var r=u[e];r||(r=u[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,c)}finally{c--}}function g(e,t,r){var i=n.createFramebuffer();d.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}}function v(){a={},o={},u={},c=-1,d.length=0}n.canvas.addEventListener("webglcontextlost",(function(e){v(),e.preventDefault()}),!1),s.set(n,r={gl:n,isWebGL2:i,getExtension:f,withProgram:p,withTexture:m,withTextureFramebuffer:g,handleContextLoss:v})}t(r)}function c(e,t,n,r,i,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),u(e,(function(e){var u=e.gl,d=e.withProgram;(0,e.withTexture)("copy",(function(e,f){u.texImage2D(u.TEXTURE_2D,0,u.RGBA,i,s,0,u.RGBA,u.UNSIGNED_BYTE,t),d("copy",a,o,(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,u.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),u.bindFramebuffer(u.FRAMEBUFFER,c||null),u.disable(u.BLEND),u.colorMask(8&l,4&l,2&l,1&l),u.viewport(n,r,i,s),u.scissor(n,r,i,s),u.drawArrays(u.TRIANGLES,0,3)}))}))}))}var d=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:c,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;u(e,(function(a){var o=a.gl,s=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,c(o,s,0,0,r,i)}))}});function f(e,t,n,r,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=r[2]-r[0],u=r[3]-r[1],c=[];i(n,(function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var d=0;d<e;d++)for(var f=0;f<t;f++){var h=g(r[0]+l*(d+.5)/e,r[1]+u*(f+.5)/t),p=Math.pow(1-Math.abs(h)/a,o)/2;h<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[f*e+d]=p}return s;function g(e,t){for(var n=1/0,r=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=m(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!==i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function h(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),p(e,t,n,r,i,a,o,null,s,l,u)}function p(e,t,n,r,i,a,o,s,l,u,d){void 0===a&&(a=1),void 0===l&&(l=0),void 0===u&&(u=0),void 0===d&&(d=0);for(var h=f(e,t,n,r,i,a),p=new Uint8Array(4*h.length),m=0;m<h.length;m++)p[4*m+d]=h[m];c(o,p,l,u,e,t,1<<3-d,s)}function m(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}var g=Object.freeze({__proto__:null,generate:f,generateIntoCanvas:h,generateIntoFramebuffer:p}),v="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",y="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",w=new Float32Array([0,0,2,0,0,2]),x=null,_=!1,S={},E=new WeakMap;function k(e){if(!_&&!T(e))throw new Error("WebGL generation not supported")}function C(e,t,n,r,i,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),!o&&!(o=x)){var s="function"===typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!==typeof document?document.createElement("canvas"):null;if(!s)throw new Error("OffscreenCanvas or DOM canvas not supported");o=x=s.getContext("webgl",{depth:!1})}k(o);var l=new Uint8Array(e*t*4);u(o,(function(o){var s=o.gl,u=o.withTexture,c=o.withTextureFramebuffer;u("readable",(function(o,u){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,u,(function(o){P(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,l)}))}))}));for(var c=new Uint8Array(e*t),d=0,f=0;d<l.length;d+=4)c[f++]=l[d];return c}function M(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),P(e,t,n,r,i,a,o,null,s,l,u)}function P(e,t,n,r,o,s,l,c,d,f,h){void 0===s&&(s=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===h&&(h=0),k(l);var p=[];i(n,(function(e,t,n,r){p.push(e,t,n,r)})),p=new Float32Array(p),u(l,(function(n){var i=n.gl,l=n.isWebGL2,u=n.getExtension,m=n.withProgram,g=n.withTexture,x=n.withTextureFramebuffer,_=n.handleContextLoss;if(g("rawDistances",(function(n,g){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),m("main",v,y,(function(a){var c=a.setAttribute,d=a.setUniform,f=!l&&u("ANGLE_instanced_arrays"),h=!l&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,w),c("aLineSegment",4,i.DYNAMIC_DRAW,1,p),d.apply(void 0,["4f","uGlyphBounds"].concat(r)),d("1f","uMaxDistance",o),d("1f","uExponent",s),x(n,g,(function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,l?i.MAX:h.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),l?i.drawArraysInstanced(i.TRIANGLES,0,3,p.length/4):f.drawArraysInstancedANGLE(i.TRIANGLES,0,3,p.length/4)}))})),m("post",a,b,(function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,w),n.setUniform("1i","tex",g),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===h,1===h,2===h,3===h),i.viewport(d,f,e,t),i.scissor(d,f,e,t),i.drawArrays(i.TRIANGLES,0,3)}))})),i.isContextLost())throw _(),new Error("webgl context lost")}))}function T(e){var t=e&&e!==x?e.canvas||e:S,n=E.get(t);if(void 0===n){_=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=C(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=a&&i.length===a.length&&a.every((function(e,t){return e===i[t]})))||(r="bad trial run results",console.info(i,a))}catch(o){n=!1,r=o.message}r&&console.warn("WebGL SDF generation not supported:",r),_=!1,E.set(t,n)}return n}var A=Object.freeze({__proto__:null,generate:C,generateIntoCanvas:M,generateIntoFramebuffer:P,isSupported:T});return e.forEachPathCommand=r,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return C.apply(A,arguments)}catch(o){return console.info("WebGL SDF generation failed, falling back to JS",o),f.apply(g,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,s,l,u){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return M.apply(A,arguments)}catch(c){return console.info("WebGL SDF generation failed, falling back to JS",c),h.apply(g,arguments)}},e.javascript=g,e.pathToLineSegments=i,e.webgl=A,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const Gt=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var i=n.LRI|n.RLI|n.FSI,a=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|i|n.PDI|s,u=null;function c(e){return function(){if(!u){u=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var i=t.split("+"),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,u.set(r+=a,n[e]);for(var s=0;s<o;s++)u.set(++r,n[e])}))}};for(var r in t)e(r)}}(),u.get(e.codePointAt(0))||n.L}var d,f,h,p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function m(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}})),{map:i,reverseMap:a}}function g(){if(!d){var e=m(p.pairs,!0),t=e.map,n=e.reverseMap;d=t,f=n,h=m(p.canonical,!1).map}}function v(e){return g(),d.get(e)||null}function y(e){return g(),f.get(e)||null}function b(e){return g(),h.get(e)||null}var w=n.L,x=n.R,_=n.EN,S=n.ES,E=n.ET,k=n.AN,C=n.CS,M=n.B,P=n.S,T=n.ON,A=n.BN,R=n.NSM,I=n.AL,O=n.LRO,z=n.RLO,L=n.LRE,D=n.RLE,N=n.PDF,U=n.LRI,j=n.RLI,F=n.FSI,B=n.PDI;var V,H="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1";function W(e){return function(){if(!V){var e=m(H,!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),V=t}}(),V.get(e)||null}function G(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach((function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var u=t.levels.slice(o,s+1),d=s;d>=o&&c(e[d])&l;d--)u[d]=i.level;for(var f=i.level,h=1/0,p=0;p<u.length;p++){var m=u[p];m>f&&(f=m),m<h&&(h=1|m)}for(var g=f;g>=h;g--)for(var v=0;v<u.length;v++)if(u[v]>=g){for(var y=v;v+1<u.length&&u[v+1]>=g;)v++;v>y&&a.push([y+o,v+o])}}})),a}function q(e,t,n,r){for(var i=G(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach((function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]})),a}return e.closingToOpeningBracket=y,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return r[c(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=c(e[r]);var u=new Map;function d(e,t){var r=n[e];n[e]=t,u.set(r,u.get(r)-1),r&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var f=new Uint8Array(e.length),h=new Map,p=[],m=null,g=0;g<e.length;g++)m||p.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Bt(g,!1)}),n[g]&M&&(m.end=g,m=null);for(var V=D|L|z|O|i|B|N|M,H=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},G=0;G<p.length;G++){var q=[{_level:(m=p[G]).level,_override:0,_isolate:0}],X=void 0,K=0,Y=0,Q=0;u.clear();for(var Z=m.start;Z<=m.end;Z++){var J=n[Z];if(X=q[q.length-1],u.set(J,(u.get(J)||0)+1),J&o&&u.set(o,(u.get(o)||0)+1),J&V)if(J&(D|L)){f[Z]=X._level;var $=(J===D?W:H)(X._level);$<=125&&!K&&!Y?q.push({_level:$,_override:0,_isolate:0}):K||Y++}else if(J&(z|O)){f[Z]=X._level;var ee=(J===z?W:H)(X._level);ee<=125&&!K&&!Y?q.push({_level:ee,_override:J&z?x:w,_isolate:0}):K||Y++}else if(J&i){J&F&&(J=1===Bt(Z+1,!0)?j:U),f[Z]=X._level,X._override&&d(Z,X._override);var te=(J===j?W:H)(X._level);te<=125&&0===K&&0===Y?(Q++,q.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Z})):K++}else if(J&B){if(K>0)K--;else if(Q>0){for(Y=0;!q[q.length-1]._isolate;)q.pop();var ne=q[q.length-1]._isolInitIndex;null!=ne&&(h.set(ne,Z),h.set(Z,ne)),q.pop(),Q--}X=q[q.length-1],f[Z]=X._level,X._override&&d(Z,X._override)}else J&N?(0===K&&(Y>0?Y--:!X._isolate&&q.length>1&&(q.pop(),X=q[q.length-1])),f[Z]=X._level):J&M&&(f[Z]=m.level);else f[Z]=X._level,X._override&&J!==A&&d(Z,X._override)}for(var re=[],ie=null,ae=m.start;ae<=m.end;ae++){var oe=n[ae];if(!(oe&s)){var se=f[ae],le=oe&i,ue=oe===B;ie&&se===ie._level?(ie._end=ae,ie._endsWithIsolInit=le):re.push(ie={_start:ae,_end:ae,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],de=0;de<re.length;de++){var fe=re[de];if(!fe._startsWithPDI||fe._startsWithPDI&&!h.has(fe._start)){for(var he=[ie=fe],pe=void 0;ie&&ie._endsWithIsolInit&&null!=(pe=h.get(ie._end));)for(var me=de+1;me<re.length;me++)if(re[me]._start===pe){he.push(ie=re[me]);break}for(var ge=[],ve=0;ve<he.length;ve++)for(var ye=he[ve],be=ye._start;be<=ye._end;be++)ge.push(be);for(var we=f[ge[0]],xe=m.level,_e=ge[0]-1;_e>=0;_e--)if(!(n[_e]&s)){xe=f[_e];break}var Se=ge[ge.length-1],Ee=f[Se],ke=m.level;if(!(n[Se]&i))for(var Ce=Se+1;Ce<=m.end;Ce++)if(!(n[Ce]&s)){ke=f[Ce];break}ce.push({_seqIndices:ge,_sosType:Math.max(xe,we)%2?x:w,_eosType:Math.max(ke,Ee)%2?x:w})}}for(var Me=0;Me<ce.length;Me++){var Pe=ce[Me],Te=Pe._seqIndices,Ae=Pe._sosType,Re=Pe._eosType,Ie=1&f[Te[0]]?x:w;if(u.get(R))for(var Oe=0;Oe<Te.length;Oe++){var ze=Te[Oe];if(n[ze]&R){for(var Le=Ae,De=Oe-1;De>=0;De--)if(!(n[Te[De]]&s)){Le=n[Te[De]];break}d(ze,Le&(i|B)?T:Le)}}if(u.get(_))for(var Ne=0;Ne<Te.length;Ne++){var Ue=Te[Ne];if(n[Ue]&_)for(var je=Ne-1;je>=-1;je--){var Fe=-1===je?Ae:n[Te[je]];if(Fe&a){Fe===I&&d(Ue,k);break}}}if(u.get(I))for(var Be=0;Be<Te.length;Be++){var Ve=Te[Be];n[Ve]&I&&d(Ve,x)}if(u.get(S)||u.get(C))for(var He=1;He<Te.length-1;He++){var We=Te[He];if(n[We]&(S|C)){for(var Ge=0,qe=0,Xe=He-1;Xe>=0&&(Ge=n[Te[Xe]])&s;Xe--);for(var Ke=He+1;Ke<Te.length&&(qe=n[Te[Ke]])&s;Ke++);Ge===qe&&(n[We]===S?Ge===_:Ge&(_|k))&&d(We,Ge)}}if(u.get(_))for(var Ye=0;Ye<Te.length;Ye++){var Qe=Te[Ye];if(n[Qe]&_){for(var Ze=Ye-1;Ze>=0&&n[Te[Ze]]&(E|s);Ze--)d(Te[Ze],_);for(Ye++;Ye<Te.length&&n[Te[Ye]]&(E|s|_);Ye++)n[Te[Ye]]!==_&&d(Te[Ye],_)}}if(u.get(E)||u.get(S)||u.get(C))for(var Je=0;Je<Te.length;Je++){var $e=Te[Je];if(n[$e]&(E|S|C)){d($e,T);for(var et=Je-1;et>=0&&n[Te[et]]&s;et--)d(Te[et],T);for(var tt=Je+1;tt<Te.length&&n[Te[tt]]&s;tt++)d(Te[tt],T)}}if(u.get(_))for(var nt=0,rt=Ae;nt<Te.length;nt++){var it=Te[nt],at=n[it];at&_?rt===w&&d(it,w):at&a&&(rt=at)}if(u.get(o)){for(var ot=x|_|k,st=ot|w,lt=[],ut=[],ct=0;ct<Te.length;ct++)if(n[Te[ct]]&o){var dt=e[Te[ct]],ft=void 0;if(null!==v(dt)){if(!(ut.length<63))break;ut.push({char:dt,seqIndex:ct})}else if(null!==(ft=y(dt)))for(var ht=ut.length-1;ht>=0;ht--){var pt=ut[ht].char;if(pt===ft||pt===y(b(dt))||v(b(pt))===dt){lt.push([ut[ht].seqIndex,ct]),ut.length=ht;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var gt=lt[mt],vt=gt[0],yt=gt[1],bt=!1,wt=0,xt=vt+1;xt<yt;xt++){var _t=Te[xt];if(n[_t]&st){bt=!0;var St=n[_t]&ot?x:w;if(St===Ie){wt=St;break}}}if(bt&&!wt){wt=Ae;for(var Et=vt-1;Et>=0;Et--){var kt=Te[Et];if(n[kt]&st){var Ct=n[kt]&ot?x:w;wt=Ct!==Ie?Ct:Ie;break}}}if(wt){if(n[Te[vt]]=n[Te[yt]]=wt,wt!==Ie)for(var Mt=vt+1;Mt<Te.length;Mt++)if(!(n[Te[Mt]]&s)){c(e[Te[Mt]])&R&&(n[Te[Mt]]=wt);break}if(wt!==Ie)for(var Pt=yt+1;Pt<Te.length;Pt++)if(!(n[Te[Pt]]&s)){c(e[Te[Pt]])&R&&(n[Te[Pt]]=wt);break}}}for(var Tt=0;Tt<Te.length;Tt++)if(n[Te[Tt]]&o){for(var At=Tt,Rt=Tt,It=Ae,Ot=Tt-1;Ot>=0;Ot--){if(!(n[Te[Ot]]&s)){It=n[Te[Ot]]&ot?x:w;break}At=Ot}for(var zt=Re,Lt=Tt+1;Lt<Te.length;Lt++){if(!(n[Te[Lt]]&(o|s))){zt=n[Te[Lt]]&ot?x:w;break}Rt=Lt}for(var Dt=At;Dt<=Rt;Dt++)n[Te[Dt]]=It===zt?It:Ie;Tt=Rt}}}for(var Nt=m.start;Nt<=m.end;Nt++){var Ut=f[Nt],jt=n[Nt];if(1&Ut?jt&(w|_|k)&&f[Nt]++:jt&x?f[Nt]++:jt&(k|_)&&(f[Nt]+=2),jt&s&&(f[Nt]=0===Nt?m.level:f[Nt-1]),Nt===m.end||c(e[Nt])&(P|M))for(var Ft=Nt;Ft>=0&&c(e[Ft])&l;Ft--)f[Ft]=m.level}}return{levels:f,paragraphs:p};function Bt(t,r){for(var a=t;a<e.length;a++){var o=n[a];if(o&(x|I))return 1;if(o&(M|w)||r&&o===B)return 0;if(o&i){var s=Vt(a);a=-1===s?e.length:s}}return 0}function Vt(t){for(var r=1,a=t+1;a<e.length;a++){var o=n[a];if(o&M)break;if(o&B){if(0===--r)return a}else o&i&&r++}return-1}},e.getMirroredCharacter=W,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var s=W(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=G,e.getReorderedIndices=q,e.getReorderedString=function(e,t,n,r){var i=q(e,t,n,r),a=[].concat(e);return i.forEach((function(n,r){a[r]=(1&t.levels[n]?W(e[n]):null)||e[n]})),a.join("")},e.openingToClosingBracket=v,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},qt=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Xt(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=s.ShaderChunk[t];return n?Xt(n):e}))}const Kt=[];for(let n=0;n<256;n++)Kt[n]=(n<16?"0":"")+n.toString(16);const Yt=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Qt=Date.now(),Zt=new WeakMap,Jt=new Map;let $t=1e10;function en(e,t){const n=function(e){const t=JSON.stringify(e,nn);let n=an.get(t);null==n&&an.set(t,n=++rn);return n}(t);let r=Zt.get(e);if(r||Zt.set(e,r=Object.create(null)),r[n])return new r[n];const i="_onBeforeCompile".concat(n),a=function(r,a){e.onBeforeCompile.call(this,r,a);const o=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let s=Jt[o];if(!s){const e=function(e,t,n,r){let{vertexShader:i,fragmentShader:a}=t,{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:l,vertexTransform:u,fragmentDefs:c,fragmentMainIntro:d,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:p,timeUniform:m}=n;o=o||"",s=s||"",l=l||"",c=c||"",d=d||"",f=f||"",(u||p)&&(i=Xt(i));(h||p)&&(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"),a=Xt(a));if(p){let e=p({vertexShader:i,fragmentShader:a});i=e.vertexShader,a=e.fragmentShader}if(h){let e=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),f="".concat(h,"\n").concat(e.join("\n"),"\n").concat(f)}if(m){const e="\nuniform float ".concat(m,";\n");o=e+o,c=e+c}u&&(i="vec3 troika_position_".concat(r,";\nvec3 troika_normal_").concat(r,";\nvec2 troika_uv_").concat(r,";\n").concat(i,"\n"),o="".concat(o,"\nvoid troikaVertexTransform").concat(r,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(u,"\n}\n"),s="\ntroika_position_".concat(r," = vec3(position);\ntroika_normal_").concat(r," = vec3(normal);\ntroika_uv_").concat(r," = vec2(uv);\ntroikaVertexTransform").concat(r,"(troika_position_").concat(r,", troika_normal_").concat(r,", troika_uv_").concat(r,");\n").concat(s,"\n"),i=i.replace(/\b(position|normal|uv)\b/g,((e,t,n,i)=>/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:"troika_".concat(t,"_").concat(r))),e.map&&e.map.channel>0||(i=i.replace(/\bMAP_UV\b/g,"troika_uv_".concat(r))));return i=tn(i,r,o,s,l),a=tn(a,r,c,d,f),{vertexShader:i,fragmentShader:a}}(this,r,t,n);s=Jt[o]=e}r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,Yt(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-Qt}}),this[i]&&this[i](r)},o=function(){return l(t.chained?e:e.clone())},l=function(r){const i=Object.create(r,u);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:$t++}),i.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Kt[255&e]+Kt[e>>8&255]+Kt[e>>16&255]+Kt[e>>24&255]+"-"+Kt[255&t]+Kt[t>>8&255]+"-"+Kt[t>>16&15|64]+Kt[t>>24&255]+"-"+Kt[63&n|128]+Kt[n>>8&255]+"-"+Kt[n>>16&255]+Kt[n>>24&255]+Kt[255&r]+Kt[r>>8&255]+Kt[r>>16&255]+Kt[r>>24&255]).toUpperCase()}(),i.uniforms=Yt({},r.uniforms,t.uniforms),i.defines=Yt({},r.defines,t.defines),i.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",i.extensions=Yt({},r.extensions,t.extensions),i._listeners=void 0,i},u={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>a,set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(Yt(this.extensions,t.extensions),Yt(this.defines,t.defines),Yt(this.uniforms,s.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return l(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=en(e.isDerivedMaterial?e.getDepthMaterial():new s.MeshDepthMaterial({depthPacking:s.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=en(e.isDerivedMaterial?e.getDistanceMaterial():new s.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function tn(e,t,n,r,i){return(r||i||n)&&(e=e.replace(qt,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(i,"\n}")),e}function nn(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}let rn=0;const an=new Map;s.DoubleSide;s.Mesh;const on=Bt({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var f=r.readUint(e,n);n+=4,l[c]={offset:d,length:f}}for(u=0;u<o.length;u++){var h=o[u];l[h]&&(s[h.trim()]=t[h.trim()].parse(e,l[h].offset,l[h].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var u=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var d=r(e,l,a+c,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,i+u);c.tag=l.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var l=0;l<s;l++)a.tab.push(r.readUshort(e,n+2*l));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.default=t._lctf.readLangSysTable(e,i+o));var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=h}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,f),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=i.readUshort(e,n);for(n+=2,s=0;s<v+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,f),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<a.length-1;l++)r.Subrs.push(i.readBytes(e,n+a[l],a[l+1]-a[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=256*-(a-251)-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s&&(d=a.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),u=3),29==s&&(d=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s)throw d=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var f=[];for(u=1;;){var h=e[n+u];u++;var p=h>>4,m=15&h;if(15!=p&&f.push(p),15!=m&&f.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<f.length;y++)g+=v[f[y]];d=parseFloat(g)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var f="p"+u+"e"+c,h=s.indexOf(d);if(-1==h){var p;h=a.tables.length,s.push(d);var m=i.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.debug("unknown format: "+m,u,c,d),a.tables.push(p)}if(null!=a[f])throw"multiple tables for one platform+encoding";a[f]=h}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,a.startCount=r.readUshorts(e,n,l),n+=2*l,a.idDelta=[];for(var u=0;u<l;u++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var l=r.readUshort(i,a);if(a+=2,i.length-a<l)return null;o.instructions=r.readBytes(i,a,l),a+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var d=i[a];a++;for(var f=0;f<d;f++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var h=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);h?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<u;s++)h=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),h?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var m=0,g=0;for(s=0;s<u;s++)m+=o.xs[s],g+=o.ys[s],o.xs[s]=m,o.ys[s]=g}else{var v;o.parts=[];do{v=r.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(i,a),a+=2,1&v){var b=r.readShort(i,a);a+=2;var w=r.readShort(i,a);a+=2}else b=r.readInt8(i,a),a++,w=r.readInt8(i,a),a++;2&v?(y.m.tx=b,y.m.ty=w):(y.p1=b,y.p2=w),8&v?(y.m.a=y.m.d=r.readF2dot14(i,a),a+=2):64&v?(y.m.a=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2):128&v&&(y.m.a=r.readF2dot14(i,a),a+=2,y.m.b=r.readF2dot14(i,a),a+=2,y.m.c=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2)}while(32&v);if(256&v){var x=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<x;s++)o.instr.push(i[a]),a++}}return o},t.GDEF={},t.GDEF.parse=function(e,n,r,i){var a=n;n+=4;var o=t._bin.readUshort(e,n);return{glyphClassDef:0===o?null:t._lctf.readClassDef(e,a+o)}},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=a.readUshort(e,r);r+=2,0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=a.readUshort(e,r),r+=2;var c=a.readUshort(e,r);r+=2;var d=t._lctf.numOfOnes(u),f=t._lctf.numOfOnes(c);if(1==s.fmt){s.pairsets=[];var h=a.readUshort(e,r);r+=2;for(var p=0;p<h;p++){var m=o+a.readUshort(e,r);r+=2;var g=a.readUshort(e,m);m+=2;for(var v=[],y=0;y<g;y++){var b=a.readUshort(e,m);m+=2,0!=u&&(k=t.GPOS.readValueRecord(e,m,u),m+=2*d),0!=c&&(C=t.GPOS.readValueRecord(e,m,c),m+=2*f),v.push({gid2:b,val1:k,val2:C})}s.pairsets.push(v)}}if(2==s.fmt){var w=a.readUshort(e,r);r+=2;var x=a.readUshort(e,r);r+=2;var _=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+w),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<_;p++){var E=[];for(y=0;y<S;y++){var k=null,C=null;0!=u&&(k=t.GPOS.readValueRecord(e,r,u),r+=2*d),0!=c&&(C=t.GPOS.readValueRecord(e,r,c),r+=2*f),E.push({val1:k,val2:C})}s.matrix.push(E)}}}else if(4==n&&1==s.fmt)s.markCoverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.baseCoverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.markArray=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.baseArray=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else if(6==n&&1==s.fmt)s.mark1Coverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.mark2Coverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.mark1Array=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else{if(9==n&&1==s.fmt){var M=a.readUshort(e,r);r+=2;var P=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=M;else if(i.ltype!=M)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+P)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GPOS.readBaseArray=function(e,n,r){var i=t._bin,a=[],o=n,s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){for(var u=[],c=0;c<r;c++)u.push(t.GPOS.readAnchorRecord(e,o+i.readUshort(e,n))),n+=2;a.push(u)}return a},t.GPOS.readMarkArray=function(e,n){var r=t._bin,i=[],a=n,o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=t.GPOS.readAnchorRecord(e,r.readUshort(e,n+2)+a);l.markClass=r.readUshort(e,n),i.push(l),n+=4}return i},t.GPOS.readAnchorRecord=function(e,n){var r=t._bin,i={};return i.fmt=r.readUshort(e,n),i.x=r.readShort(e,n+2),i.y=r.readShort(e,n+4),i},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1!=n&&2!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||2==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,r),r+=2;else if(2==s.fmt){var u=a.readUshort(e,r);r+=2,s.newg=a.readUshorts(e,r,u),r+=2*s.newg.length}}else if(2==n&&1==s.fmt){u=a.readUshort(e,r),r+=2,s.seqs=[];for(var c=0;c<u;c++){var d=a.readUshort(e,r)+o;r+=2;var f=a.readUshort(e,d);s.seqs.push(a.readUshorts(e,d+2,f))}}else if(4==n)for(s.vals=[],u=a.readUshort(e,r),r+=2,c=0;c<u;c++){var h=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+h))}else if(5==n&&2==s.fmt){if(2==s.fmt){var p=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+p),s.scset=[];var m=a.readUshort(e,r);for(r+=2,c=0;c<m;c++){var g=a.readUshort(e,r);r+=2,s.scset.push(0==g?null:t.GSUB.readSubClassSet(e,o+g))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=a.readUshort(e,r),r+=2;for(var v=[],y=0;y<u;y++)v.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*y)));r+=2*u,0==c&&(s.backCvg=v),1==c&&(s.inptCvg=v),2==c&&(s.ahedCvg=v)}u=a.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var b=a.readUshort(e,r);r+=2;var w=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=b;else if(i.ltype!=b)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+w)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,l=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n),n+=4;var u=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var g=i.readUshort(e,n);n+=2;var v,y=l[p],b=u+12*o+g;if(0==d)v=i.readUnicode(e,b,m/2);else if(3==d&&0==f)v=i.readUnicode(e,b,m/2);else if(0==f)v=i.readASCII(e,b,m);else if(1==f)v=i.readUnicode(e,b,m/2);else if(3==f)v=i.readUnicode(e,b,m/2);else{if(1!=d)throw"unknown encoding "+f+", platformID: "+d;v=i.readASCII(e,b,m),console.debug("reading unknown MAC encoding "+f+" as ASCII")}var w="p"+d+","+h.toString(16);null==a[w]&&(a[w]={}),a[w][void 0!==y?y:p]=v,a[w]._lang=h}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],f=e.xs[o],h=e.ys[o];if(o==i)if(u){if(!c){t.U.P.moveTo(n,f,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+f)/2,(e.ys[s]+h)/2);u?c&&t.U.P.lineTo(n,f,h):d?t.U.P.qcurveTo(n,f,h,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,f,h,(f+e.xs[l])/2,(h+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],f=d.chain.length;if(!(f>a)){for(var h=!0,p=0,m=0;m<f;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(h=!1)}if(h){for(e[n]=d.nglyph,m=0;m<f+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.cDef[g+2],y=l.scset[v],b=0;b<y.length;b++){var w=y[b],x=w.input;if(!(x.length>a)){for(h=!0,m=0;m<x.length;m++){var _=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[_+2]!=x[m]){h=!1;break}}if(h){var S=w.substLookupRecords;for(c=0;c<S.length;c+=2)S[c],S[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var E=l.lookupRec;for(b=0;b<E.length;b+=2){g=E[b];var k=i[E[b+1]];t.U._applySubs(e,n+g,k,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,f=n.x,h=n.y,p=0,m=0,g=0,v=0,y=0,b=0,w=0,x=0,_=0,S=0,E={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,E);var k=E.val;if(d+=E.size,"o1"==k||"o18"==k)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==k||"o23"==k)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==k)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),h+=o.pop(),t.U.P.moveTo(a,f,h),c=!0;else if("o5"==k)for(;o.length>0;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);else if("o6"==k||"o7"==k)for(var C=o.length,M="o6"==k,P=0;P<C;P++){var T=o.shift();M?f+=T:h+=T,M=!M,t.U.P.lineTo(a,f,h)}else if("o8"==k||"o24"==k){C=o.length;for(var A=0;A+6<=C;)p=f+o.shift(),m=h+o.shift(),g=p+o.shift(),v=m+o.shift(),f=g+o.shift(),h=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,f,h),A+=6;"o24"==k&&(f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h))}else{if("o11"==k)break;if("o1234"==k||"o1235"==k||"o1236"==k||"o1237"==k)"o1234"==k&&(m=h,g=(p=f+o.shift())+o.shift(),S=v=m+o.shift(),b=v,x=h,f=(w=(y=(_=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,_,S),t.U.P.curveTo(a,y,b,w,x,f,h)),"o1235"==k&&(p=f+o.shift(),m=h+o.shift(),g=p+o.shift(),v=m+o.shift(),_=g+o.shift(),S=v+o.shift(),y=_+o.shift(),b=S+o.shift(),w=y+o.shift(),x=b+o.shift(),f=w+o.shift(),h=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,g,v,_,S),t.U.P.curveTo(a,y,b,w,x,f,h)),"o1236"==k&&(p=f+o.shift(),m=h+o.shift(),g=p+o.shift(),S=v=m+o.shift(),b=v,w=(y=(_=g+o.shift())+o.shift())+o.shift(),x=b+o.shift(),f=w+o.shift(),t.U.P.curveTo(a,p,m,g,v,_,S),t.U.P.curveTo(a,y,b,w,x,f,h)),"o1237"==k&&(p=f+o.shift(),m=h+o.shift(),g=p+o.shift(),v=m+o.shift(),_=g+o.shift(),S=v+o.shift(),y=_+o.shift(),b=S+o.shift(),w=y+o.shift(),x=b+o.shift(),Math.abs(w-f)>Math.abs(x-h)?f=w+o.shift():h=x+o.shift(),t.U.P.curveTo(a,p,m,g,v,_,S),t.U.P.curveTo(a,y,b,w,x,f,h));else if("o14"==k){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var R=o.shift(),I=o.shift(),O=o.shift(),z=o.shift(),L=t.CFF.glyphBySE(r,O),D=t.CFF.glyphBySE(r,z);t.U._drawCFF(r.CharStrings[L],n,r,i,a),n.x=R,n.y=I,t.U._drawCFF(r.CharStrings[D],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==k||"o20"==k)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==k)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),h+=o.pop(),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o22"==k)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o25"==k){for(;o.length>6;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);p=f+o.shift(),m=h+o.shift(),g=p+o.shift(),v=m+o.shift(),f=g+o.shift(),h=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,f,h)}else if("o26"==k)for(o.length%2&&(f+=o.shift());o.length>0;)p=f,m=h+o.shift(),f=g=p+o.shift(),h=(v=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,f,h);else if("o27"==k)for(o.length%2&&(h+=o.shift());o.length>0;)m=h,g=(p=f+o.shift())+o.shift(),v=m+o.shift(),f=g+o.shift(),h=v,t.U.P.curveTo(a,p,m,g,v,f,h);else if("o10"==k||"o29"==k){var N="o10"==k?i:r;if(0==o.length)console.debug("error: empty stack");else{var U=o.pop(),j=N.Subrs[U+N.Bias];n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(j,n,r,i,a),f=n.x,h=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==k||"o31"==k){var F=o.length,B=(A=0,"o31"==k);for(A+=F-(C=-3&F);A<C;)B?(m=h,g=(p=f+o.shift())+o.shift(),h=(v=m+o.shift())+o.shift(),C-A==5?(f=g+o.shift(),A++):f=g,B=!1):(p=f,m=h+o.shift(),g=p+o.shift(),v=m+o.shift(),f=g+o.shift(),C-A==5?(h=v+o.shift(),A++):h=v,B=!0),t.U.P.curveTo(a,p,m,g,v,f,h),A+=4}else{if("o"==(k+"").charAt(0))throw console.debug("Unknown operation: "+k,e),k;o.push(k)}}}n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=s(a,0)[0],f=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,f[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],h=l[e[a]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)s[f[h]>>>u]=c}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=f[l[e[a]-1]++]>>>15-e[a]);return s},g=new t(288);for(h=0;h<144;++h)g[h]=8;for(h=144;h<256;++h)g[h]=9;for(h=256;h<280;++h)g[h]=7;for(h=280;h<288;++h)g[h]=8;var v=new t(32);for(h=0;h<32;++h)v[h]=5;var y=m(g,9,1),b=m(v,5,1),w=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=new Error(t||S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},k=function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var f=!s||l,h=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,g=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},v=l.f||0,S=l.p||0,k=l.b||0,C=l.l,M=l.d,P=l.m,T=l.n,A=8*c;do{if(!C){l.f=v=x(e,S,1);var R=x(e,S+1,3);if(S+=3,!R){var I=e[(H=((p=S)/8|0)+(7&p&&1)+4)-4]|e[H-3]<<8,O=H+I;if(O>c){h&&E(0);break}f&&g(k+I),s.set(e.subarray(H,O),k),l.b=k+=I,l.p=S=8*O;continue}if(1==R)C=y,M=b,P=9,T=5;else if(2==R){var z=x(e,S,31)+257,L=x(e,S+10,15)+4,D=z+x(e,S+5,31)+1;S+=14;for(var N=new t(D),U=new t(19),j=0;j<L;++j)U[o[j]]=x(e,S+3*j,7);S+=3*L;var F=w(U),B=(1<<F)-1,V=m(U,F,1);for(j=0;j<D;){var H,W=V[x(e,S,B)];if(S+=15&W,(H=W>>>4)<16)N[j++]=H;else{var G=0,q=0;for(16==H?(q=3+x(e,S,3),S+=2,G=N[j-1]):17==H?(q=3+x(e,S,7),S+=3):18==H&&(q=11+x(e,S,127),S+=7);q--;)N[j++]=G}}var X=N.subarray(0,z),K=N.subarray(z);P=w(X),T=w(K),C=m(X,P,1),M=m(K,T,1)}else E(1);if(S>A){h&&E(0);break}}f&&g(k+131072);for(var Y=(1<<P)-1,Q=(1<<T)-1,Z=S;;Z=S){var J=(G=C[_(e,S)&Y])>>>4;if((S+=15&G)>A){h&&E(0);break}if(G||E(2),J<256)s[k++]=J;else{if(256==J){Z=S,C=null;break}var $=J-254;if(J>264){var ee=i[j=J-257];$=x(e,S,(1<<ee)-1)+u[j],S+=ee}var te=M[_(e,S)&Q],ne=te>>>4;if(te||E(3),S+=15&te,K=d[ne],ne>3&&(ee=a[ne],K+=_(e,S)&(1<<ee)-1,S+=ee),S>A){h&&E(0);break}f&&g(k+131072);for(var re=k+$;k<re;k+=4)s[k]=s[k-K],s[k+1]=s[k+1-K],s[k+2]=s[k+2-K],s[k+3]=s[k+3-K];k=re}}l.l=C,l.p=Z,l.b=k,C&&(v=1,l.m=P,l.d=M,l.n=T)}while(!v);return k==s.length?s:function(e,i,a){(null==i||i<0)&&(i=0),(null==a||a>e.length)&&(a=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(a-i);return o.set(e.subarray(i,a)),o}(s,0,k)},C=new t(0),M="undefined"!=typeof TextDecoder&&new TextDecoder;try{M.decode(C,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){v.setUint16(y,e),y+=2}function o(e){v.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,d=12,f=[],h=0;h<s.numTables;h++)f.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),d+=16;var p,m=new Uint8Array(12+16*f.length+f.reduce((function(e,t){return e+t.origLength+4}),0)),g=m.buffer,v=new DataView(g),y=0;return o(s.flavor),a(s.numTables),a(u),a(l),a(c),f.forEach((function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),f.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),k(n,i)}else i=new Uint8Array(r);m.set(i,t.outOffset);var a=0;(d=t.outOffset+t.origLength)%4!=0&&(a=4-d%4),m.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=d+a})),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,o=4,s=8,l=16,u=32;let c;function d(e){if(!c){const e={R:a,L:i,D:o,C:l,U:u,T:s};c=new Map;for(let t in r){let n=0;r[t].split(",").forEach((r=>{let[i,a]=r.split("+");i=parseInt(i,36),a=a?parseInt(a,36):0,c.set(n+=i,e[t]);for(let o=a;o--;)c.set(++n,e[t])}))}}return c.get(e)||u}const f=1,h=2,p=3,m=4,g=[null,"isol","init","fina","medi"];function v(e){const t=new Uint8Array(e.length);let n=u,r=f,c=-1;for(let g=0;g<e.length;g++){const v=e.codePointAt(g);let y=0|d(v),b=f;y&s||(n&(i|o|l)?y&(a|o|l)?(b=p,r!==f&&r!==p||t[c]++):y&(i|u)&&(r!==h&&r!==m||t[c]--):n&(a|u)&&(r!==h&&r!==m||t[c]--),r=t[g]=b,n=y,c=g,v>65535&&g++)}return t}function y(t,n){const r=t.GDEF&&t.GDEF.glyphClassDef;return r?e.U._getGlyphClass(n,r):0}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)if("number"===typeof t[r])return t[r]}function w(t){const r=Object.create(null),i=t["OS/2"],a=t.hhea,o=t.head.unitsPerEm,s=b(i&&i.sTypoAscender,a&&a.ascender,o),l={unitsPerEm:o,ascender:s,descender:b(i&&i.sTypoDescender,a&&a.descender,0),capHeight:b(i&&i.sCapHeight,s),xHeight:b(i&&i.sxHeight,s),lineGap:b(i&&i.sTypoLineGap,a&&a.lineGap),supportsCodePoint:n=>e.U.codeToGlyph(t,n)>0,forEachGlyph(i,a,o,s){let u=0;const c=1/l.unitsPerEm*a,d=function(t,n){const r=[];for(let a=0;a<n.length;a++){const i=n.codePointAt(a);i>65535&&a++,r.push(e.U.codeToGlyph(t,i))}const i=t.GSUB;if(i){const{lookupList:t,featureList:a}=i;let o;const s=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,l=[];a.forEach((i=>{if(s.test(i.tag))for(let a=0;a<i.tab.length;a++){if(l[i.tab[a]])continue;l[i.tab[a]]=!0;const s=t[i.tab[a]],u=/^(isol|init|fina|medi)$/.test(i.tag);u&&!o&&(o=v(n));for(let n=0;n<r.length;n++)o&&u&&g[o[n]]!==i.tag||e.U._applySubs(r,n,s,t)}}))}return r}(t,i);let f=0;const h=function(t,n){const r=new Int16Array(3*n.length);let i=0;for(;i<n.length;i++){const l=n[i];if(-1===l)continue;r[3*i+2]=t.hmtx.aWidth[l];const u=t.GPOS;if(u){const c=u.lookupList;for(let u=0;u<c.length;u++){const d=c[u];for(let u=0;u<d.tabs.length;u++){const c=d.tabs[u];if(1===d.ltype){if(-1!==e._lctf.coverageIndex(c.coverage,l)&&c.pos){s(c.pos,i);break}}else if(2===d.ltype){let t=null,r=a();if(-1!==r){const a=e._lctf.coverageIndex(c.coverage,n[r]);if(-1!==a){if(1===c.fmt){const e=c.pairsets[a];for(let n=0;n<e.length;n++)e[n].gid2===l&&(t=e[n])}else if(2===c.fmt){const i=e.U._getGlyphClass(n[r],c.classDef1),a=e.U._getGlyphClass(l,c.classDef2);t=c.matrix[i][a]}if(t){t.val1&&s(t.val1,r),t.val2&&s(t.val2,i);break}}}}else if(4===d.ltype){const t=e._lctf.coverageIndex(c.markCoverage,l);if(-1!==t){const s=a(o),l=-1===s?-1:e._lctf.coverageIndex(c.baseCoverage,n[s]);if(-1!==l){const e=c.markArray[t],n=c.baseArray[l][e.markClass];r[3*i]=n.x-e.x+r[3*s]-r[3*s+2],r[3*i+1]=n.y-e.y+r[3*s+1];break}}}else if(6===d.ltype){const o=e._lctf.coverageIndex(c.mark1Coverage,l);if(-1!==o){const s=a();if(-1!==s){const a=n[s];if(3===y(t,a)){const t=e._lctf.coverageIndex(c.mark2Coverage,a);if(-1!==t){const e=c.mark1Array[o],n=c.mark2Array[t][e.markClass];r[3*i]=n.x-e.x+r[3*s]-r[3*s+2],r[3*i+1]=n.y-e.y+r[3*s+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=a();if(-1!==e){const i=t.kern.glyph1.indexOf(n[e]);if(-1!==i){const n=t.kern.rval[i].glyph2.indexOf(l);-1!==n&&(r[3*e+2]+=t.kern.rval[i].vals[n])}}}}return r;function a(e){for(let t=i-1;t>=0;t--)if(-1!==n[t]&&(!e||e(n[t])))return t;return-1}function o(e){return 1===y(t,e)}function s(e,t){for(let n=0;n<3;n++)r[3*t+n]+=e[n]||0}}(t,d);return d.forEach(((l,d)=>{if(-1!==l){let i=r[l];if(!i){const{cmds:a,crds:o}=e.U.glyphToPath(t,l);let s,u,c,d,f="",h=0;for(let e=0,t=a.length;e<t;e++){const t=n[a[e]];f+=a[e];for(let e=1;e<=t;e++)f+=(e>1?",":"")+o[h++]}if(o.length){s=u=1/0,c=d=-1/0;for(let e=0,t=o.length;e<t;e+=2){let t=o[e],n=o[e+1];t<s&&(s=t),n<u&&(u=n),t>c&&(c=t),n>d&&(d=n)}}else s=c=u=d=0;i=r[l]={index:l,advanceWidth:t.hmtx.aWidth[l],xMin:s,yMin:u,xMax:c,yMax:d,path:f}}s.call(null,i,u+h[3*d]*c,h[3*d+1]*c,f),u+=h[3*d+2]*c,o&&(u+=o*a)}f+=i.codePointAt(f)>65535?2:1})),u}};return l}return function(n){const r=new Uint8Array(n,0,4),i=e._bin.readASCII(r,0,4);if("wOFF"===i)n=t(n);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return w(e.parse(n)[0])}}],init:(e,t,n)=>n(e(),t())});const sn=Bt({name:"FontResolver",dependencies:[function(e,t){const n=Object.create(null),r=Object.create(null);function i(t,i){let a=n[t];a?i(a):r[t]?r[t].push(i):(r[t]=[i],function(t,n){const r=e=>{console.error("Failure loading font ".concat(t),e)};try{const i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="arraybuffer",i.onload=function(){if(i.status>=400)r(new Error(i.statusText));else if(i.status>0)try{const r=e(i.response);r.src=t,n(r)}catch(a){r(a)}},i.onerror=r,i.send()}catch(i){r(i)}}(t,(e=>{e.src=t,n[t]=e,r[t].forEach((t=>t(e))),delete r[t]})))}return function(e,r){let{lang:a,fonts:o=[],style:s="normal",weight:l="normal",unicodeFontsURL:u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=new Uint8Array(e.length),d=[];e.length||m();const f=new Map,h=[];if("italic"!==s&&(s="normal"),"number"!==typeof l&&(l="bold"===l?700:400),o&&!Array.isArray(o)&&(o=[o]),o=o.slice().filter((e=>!e.lang||e.lang.test(a))).reverse(),o.length){const t=1,r=2;let a=0;!function s(){for(let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=e.length;l<u;l++){const p=e.codePointAt(l);if(a===t&&d[c[l-1]].supportsCodePoint(p)||/\s/.test(e[l]))c[l]=c[l-1],a===r&&(h[h.length-1][1]=l);else for(let e=c[l],u=o.length;e<=u;e++)if(e===u){(a===r?h[h.length-1]:h[h.length]=[l,l])[1]=l,a=r}else{c[l]=e;const{src:r,unicodeRange:u}=o[e];if(!u||g(p,u)){const e=n[r];if(!e)return void i(r,(()=>{s(l)}));if(e.supportsCodePoint(p)){let n=f.get(e);"number"!==typeof n&&(n=d.length,d.push(e),f.set(e,n)),c[l]=n,a=t;break}}}p>65535&&l+1<u&&(c[l+1]=c[l],l++,a===r&&(h[h.length-1][1]=l))}p()}()}else h.push([0,e.length-1]),p();function p(){if(h.length){const n=h.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(n,{lang:a||void 0,style:s,weight:l,dataUrl:u}).then((e=>{let{fontUrls:t,chars:n}=e;const r=d.length;let a=0;h.forEach((e=>{for(let t=0,i=e[1]-e[0];t<=i;t++)c[e[0]+t]=n[a++]+r;a++}));let o=0;t.forEach(((e,n)=>{i(e,(e=>{d[n+r]=e,++o===t.length&&m()}))}))}))}else m()}function m(){r({chars:c,fonts:d})}function g(e,t){for(let n=0;n<t.length;n++){const[r,i=r]=t[n];if(r<=e&&e<=i)return!0}return!1}}},on,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&0!=(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,n){e.push((+n).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var n=e.split(":");t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))}))};var n=Math.pow(2,8),r=n-1,i=~r;function a(e){var t=function(e){return e&i}(e).toString(16),r=function(e){return(e&i)+n-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+r+".json"}function o(e,t){var n=e&r,i=t.codePointAt(n/6|0);return 0!=((i=(i||48)-48)&1<<n%6)}function s(e,t){!function(e,t){var n;(n=e,n.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var n=e[0],r=e[1];void 0===r&&(r=n),t(n,r)}))}(e,(function(e,n){for(var r=e;r<=n;r++)t(r)}))}var l={},u={},c=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function f(e){var n=c.get(e);return n||(n=new t,s(e.ranges,(function(e){return n.add(e)})),c.set(e,n)),n}var h,p=new Map;function m(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}function g(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var r=0;r<e.length;r++)Math.abs(e[r]-t)<Math.abs(n-t)&&(n=e[r])}return n}function v(e){return h||(h=new Set,s("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){h.add(e)}))),h.has(e)}return e.CodePointSet=t,e.clearCache=function(){l={},u={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var n,r=t.lang;void 0===r&&(r=/\p{Script=Hangul}/u.test(n=e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(n)?"ja":"en");var i=t.category;void 0===i&&(i="sans-serif");var s=t.style;void 0===s&&(s="normal");var c=t.weight;void 0===c&&(c=400);var h=(t.dataUrl||d).replace(/\/$/g,""),y=new Map,b=new Uint8Array(e.length),w={},x={},_=new Array(e.length),S=new Map,E=!1;function k(e){var t=p.get(e);return t||(t=fetch(h+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(h!==d)return E||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+h+'", trying default CDN. '+t.message),E=!0),h=d,p.delete(e),k(e);throw t})),p.set(e,t)),t}for(var C=function(t){var n=e.codePointAt(t),r=a(n);_[t]=r,l[r]||S.has(r)||S.set(r,k(r).then((function(e){l[r]=e}))),n>65535&&(t++,M=t)},M=0;M<e.length;M++)C(M);return Promise.all(S.values()).then((function(){S.clear();for(var t=function(t){var i=e.codePointAt(t),a=null,s=l[_[t]],c=void 0;for(var d in s){var f=x[d];if(void 0===f&&(f=x[d]=new RegExp(d).test(r||"en")),f){for(var h in c=d,s[d])if(o(i,s[d][h])){a=h;break}break}}if(!a)e:for(var p in s)if(p!==c)for(var m in s[p])if(o(i,s[p][m])){a=m;break e}a||(console.debug("No font coverage for U+"+i.toString(16)),a="latin"),_[t]=a,u[a]||S.has(a)||S.set(a,k("font-meta/"+a+".json").then((function(e){u[a]=e}))),i>65535&&(t++,n=t)},n=0;n<e.length;n++)t(n);return Promise.all(S.values())})).then((function(){for(var t,n=null,r=0;r<e.length;r++){var a=e.codePointAt(r);if(n&&(v(a)||f(n).has(a)))b[r]=b[r-1];else{n=u[_[r]];var o=w[n.id];if(!o){var l=n.typeforms,d=m(l,i,"sans-serif"),p=m(l[d],s,"normal"),x=g(null===(t=l[d])||void 0===t?void 0:t[p],c);o=w[n.id]=h+"/font-files/"+n.id+"/"+d+"."+p+"."+x+".woff"}var S=y.get(o);null==S&&(S=y.size,y.set(o,S)),b[r]=S}a>65535&&(r++,b[r]=b[r-1])}return{fontUrls:Array.from(y.keys()),chars:b}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,n)=>e(t,n())});const ln=()=>(self.performance||Date).now(),un=Wt();let cn;const dn=[];let fn=0;function hn(){const e=ln();for(;dn.length&&ln()-e<5;)dn.shift()();fn=dn.length?setTimeout(hn,0):0}const pn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(((e,n)=>{dn.push((()=>{const r=ln();try{un.webgl.generateIntoCanvas(...t),e({timing:ln()-r})}catch(i){n(i)}})),fn||(fn=setTimeout(hn,0))}))},mn=4,gn=2e3,vn={};let yn=0;function bn(e,t,n,r,i,a,o,s,l,u){const c="TroikaTextSDFGenerator_JS_"+yn++%mn;let d=vn[c];return d||(d=vn[c]={workerModule:Bt({name:c,workerId:c,dependencies:[Wt,ln],init(e,t){const n=e().javascript.generate;return function(){const e=t();return{textureData:n(...arguments),timing:t()-e}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(e,t,n,r,i,a).then((n=>{let{textureData:r,timing:i}=n;const a=ln(),f=new Uint8Array(4*r.length);for(let e=0;e<r.length;e++)f[4*e+u]=r[e];return un.webglUtils.renderImageData(o,f,s,l,e,t,1<<3-u),i+=ln()-a,0===--d.requests&&(d.idleTimer=setTimeout((()=>{!function(e){jt[e]&&jt[e].forEach((function(e){e()})),Ut[e]&&(Ut[e].terminate(),delete Ut[e])}(c)}),gn)),{timing:i}}))}const wn=un.webglUtils.resizeWebGLCanvasWithoutClearing,xn={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},_n=new s.Color;let Sn=!1;function En(){return(self.performance||Date).now()}const kn=Object.create(null);function Cn(e,t){Sn=!0,e=Pn({},e);const n=En(),{defaultFontURL:r}=xn,i=[];if(r&&i.push({label:"default",src:An(r)}),e.font&&i.push({label:"user",src:An(e.font)}),e.font=i,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||xn.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||xn.unicodeFontsURL,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!==typeof r&&(r=_n.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);const{textureWidth:a,sdfExponent:o}=xn,{sdfGlyphSize:l}=e,u=a/l*4;let c=kn[l];if(!c){const e=document.createElement("canvas");e.width=a,e.height=256*l/u,c=kn[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:e,sdfTexture:new s.Texture(e,void 0,void 0,void 0,s.LinearFilter,s.LinearFilter),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{console.log("Context Restored",t),e.contextLost=!1;const n=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{n.push(Mn(t,e,!0))}))})),Promise.all(n).then((()=>{Rn(e),e.sdfTexture.needsUpdate=!0}))}))}(c)}const{sdfTexture:d,sdfCanvas:f}=c;On(e).then((r=>{const{glyphIds:i,glyphFontIndices:s,fontData:h,glyphPositions:p,fontSize:m,timings:g}=r,v=[],y=new Float32Array(4*i.length);let b=0,w=0;const x=En(),_=h.map((e=>{let t=c.glyphsByFont.get(e.src);return t||c.glyphsByFont.set(e.src,t=new Map),t}));i.forEach(((e,t)=>{const n=s[t],{src:a,unitsPerEm:o}=h[n];let u=_[n].get(e);if(!u){const{path:t,pathBounds:i}=r.glyphData[a][e],o=Math.max(i[2]-i[0],i[3]-i[1])/l*(xn.sdfMargin*l+.5),s=c.glyphCount++,d=[i[0]-o,i[1]-o,i[2]+o,i[3]+o];_[n].set(e,u={path:t,atlasIndex:s,sdfViewBox:d}),v.push(u)}const{sdfViewBox:d}=u,f=p[w++],g=p[w++],x=m/o;y[b++]=f+d[0]*x,y[b++]=g+d[1]*x,y[b++]=f+d[2]*x,y[b++]=g+d[3]*x,i[t]=u.atlasIndex})),g.quads=(g.quads||0)+(En()-x);const S=En();g.sdf={};const E=f.height,k=Math.ceil(c.glyphCount/u),C=Math.pow(2,Math.ceil(Math.log2(k*l)));C>E&&(console.info("Increasing SDF texture size ".concat(E,"->").concat(C)),wn(f,a,C),d.dispose()),Promise.all(v.map((t=>Mn(t,c,e.gpuAccelerateSDF).then((e=>{let{timing:n}=e;g.sdf[t.atlasIndex]=n}))))).then((()=>{v.length&&!c.contextLost&&(Rn(c),d.needsUpdate=!0),g.sdfTotal=En()-S,g.total=En()-n,t(Object.freeze({parameters:e,sdfTexture:d,sdfGlyphSize:l,sdfExponent:o,glyphBounds:y,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))}))})),Promise.resolve().then((()=>{var e;c.contextLost||(e=f)._warm||(un.webgl.isSupported(e),e._warm=!0)}))}function Mn(e,t,n){let{path:r,atlasIndex:i,sdfViewBox:a}=e,{sdfGlyphSize:o,sdfCanvas:s,contextLost:l}=t;if(l)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:c}=xn,d=Math.max(a[2]-a[0],a[3]-a[1]),f=Math.floor(i/4);return function(e,t,n,r,i,a,o,s,l,u){return arguments.length>10&&void 0!==arguments[10]&&!arguments[10]?bn(e,t,n,r,i,a,o,s,l,u):pn(e,t,n,r,i,a,o,s,l,u).then(null,(c=>(cn||(console.warn("WebGL SDF generation failed, falling back to JS",c),cn=!0),bn(e,t,n,r,i,a,o,s,l,u))))}(o,o,r,a,d,c,s,f%(u/o)*o,Math.floor(f/(u/o))*o,i%4,n)}function Pn(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}let Tn;function An(e){return Tn||(Tn="undefined"===typeof document?{}:document.createElement("a")),Tn.href=e,Tn.href}function Rn(e){if("function"!==typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,a=e.sdfCanvas.getContext("webgl");let o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const In=Bt({name:"Typesetter",dependencies:[function(e,t){const n=1/0,r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp("".concat(i,"|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]"));function o(o,d){let{text:f="",font:h,lang:p,sdfGlyphSize:m=64,fontSize:g=400,fontWeight:v=1,fontStyle:y="normal",letterSpacing:b=0,lineHeight:w="normal",maxWidth:x=n,direction:_,textAlign:S="left",textIndent:E=0,whiteSpace:k="normal",overflowWrap:C="normal",anchorX:M=0,anchorY:P=0,metricsOnly:T=!1,unicodeFontsURL:A,preResolvedFonts:R=null,includeCaretPositions:I=!1,chunkedBoundsSize:O=8192,colorRanges:z=null}=o;const L=u(),D={fontLoad:0,typesetting:0};f.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),f=f.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),g=+g,b=+b,x=+x,w=w||"normal",E=+E,function(t,n){let{text:r,lang:i,fonts:a,style:o,weight:s,preResolvedFonts:l,unicodeFontsURL:u}=t;const c=e=>{let t,r,{chars:i,fonts:a}=e;const o=[];for(let n=0;n<i.length;n++)i[n]!==r?(r=i[n],o.push(t={start:n,end:n,fontObj:a[i[n]]})):t.end=n;n(o)};l?c(l):e(r,c,{lang:i,fonts:a,style:o,weight:s,unicodeFontsURL:u})}({text:f,lang:p,style:y,weight:v,fonts:"string"===typeof h?[{src:h}]:h,unicodeFontsURL:A,preResolvedFonts:R},(e=>{D.fontLoad=u()-L;const o=isFinite(x);let h=null,p=null,m=null,v=null,y=null,A=null,R=null,N=null,U=0,j=0,F="nowrap"!==k;const B=new Map,V=u();let H=E,W=0,G=new c;const q=[G];e.forEach((e=>{const{fontObj:t}=e,{ascender:n,descender:s,unitsPerEm:l,lineGap:u,capHeight:d,xHeight:h}=t;let p=B.get(t);if(!p){const e=g/l,r="normal"===w?(n-s+u)*e:w*g,i=(r-(n-s)*e)/2,a=Math.min(r,(n-s)*e),o=(n+s)/2*e+a/2;p={index:B.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:l,ascender:n*e,descender:s*e,capHeight:d*e,xHeight:h*e,lineHeight:r,baseline:-i-n*e,caretTop:o,caretBottom:o-a},B.set(t,p)}const{fontSizeMult:m}=p,v=f.slice(e.start,e.end+1);let y,_;t.forEachGlyph(v,g,b,((t,n,s,l)=>{n+=W,l+=e.start,y=n,_=t;const u=f.charAt(l),d=t.advanceWidth*m,h=G.count;let v;if("isEmpty"in t||(t.isWhitespace=!!u&&new RegExp(i).test(u),t.canBreakAfter=!!u&&a.test(u),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||r.test(u)),t.isWhitespace||t.isEmpty||j++,F&&o&&!t.isWhitespace&&n+d+H>x&&h){if(G.glyphAt(h-1).glyphObj.canBreakAfter)v=new c,H=-n;else for(let e=h;e--;){if(0===e&&"break-word"===C){v=new c,H=-n;break}if(G.glyphAt(e).glyphObj.canBreakAfter){v=G.splitAt(e+1);const t=v.glyphAt(0).x;H-=t;for(let e=v.count;e--;)v.glyphAt(e).x-=t;break}}v&&(G.isSoftWrapped=!0,G=v,q.push(G),U=x)}let w=G.glyphAt(G.count);w.glyphObj=t,w.x=n+H,w.y=s,w.width=d,w.charIndex=l,w.fontData=p,"\n"===u&&(G=new c,q.push(G),H=-(n+d+b*g)+E)})),W=y+_.advanceWidth*m+b*g}));let X=0;q.forEach((e=>{let t=!0;for(let n=e.count;n--;){const r=e.glyphAt(n);t&&!r.glyphObj.isWhitespace&&(e.width=r.x+r.width,e.width>U&&(U=e.width),t=!1);let{lineHeight:i,capHeight:a,xHeight:o,baseline:s}=r.fontData;i>e.lineHeight&&(e.lineHeight=i);const l=s-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+a),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=X,e.cap-=X,e.ex-=X,X+=e.lineHeight}));let K=0,Y=0;if(M&&("number"===typeof M?K=-M:"string"===typeof M&&(K=-U*("left"===M?0:"center"===M?.5:"right"===M?1:s(M)))),P&&("number"===typeof P?Y=-P:"string"===typeof P&&(Y="top"===P?0:"top-baseline"===P?-q[0].baseline:"top-cap"===P?-q[0].cap:"top-ex"===P?-q[0].ex:"middle"===P?X/2:"bottom"===P?X:"bottom-baseline"===P?-q[q.length-1].baseline:s(P)*X)),!T){const e=t.getEmbeddingLevels(f,_);h=new Uint16Array(j),p=new Uint8Array(j),m=new Float32Array(2*j),v={},R=[n,n,-n,-n],N=[],I&&(A=new Float32Array(4*f.length)),z&&(y=new Uint8Array(3*j));let r,i,a=0,o=-1,s=-1;if(q.forEach(((u,c)=>{let{count:d,width:g}=u;if(d>0){let c=0;for(let e=d;e--&&u.glyphAt(e).glyphObj.isWhitespace;)c++;let b=0,w=0;if("center"===S)b=(U-g)/2;else if("right"===S)b=U-g;else if("justify"===S&&u.isSoftWrapped){let e=0;for(let t=d-c;t--;)u.glyphAt(t).glyphObj.isWhitespace&&e++;w=(U-g)/e}if(w||b){let e=0;for(let t=0;t<d;t++){let n=u.glyphAt(t);const r=n.glyphObj;n.x+=b+e,0!==w&&r.isWhitespace&&t<d-c&&(e+=w,n.width+=w)}}const x=t.getReorderSegments(f,e,u.glyphAt(0).charIndex,u.glyphAt(u.count-1).charIndex);for(let e=0;e<x.length;e++){const[t,n]=x[e];let r=1/0,i=-1/0;for(let e=0;e<d;e++)if(u.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<d;a++){let e=u.glyphAt(a);if(e.charIndex>n)break;a<d-c&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){const t=u.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let _;const E=e=>_=e;for(let g=0;g<d;g++){const c=u.glyphAt(g);_=c.glyphObj;const d=_.index,b=1&e.levels[c.charIndex];if(b){const e=t.getMirroredCharacter(f[c.charIndex]);e&&c.fontData.fontObj.forEachGlyph(e,0,0,E)}if(I){const{charIndex:e,fontData:t}=c,n=c.x+K,r=c.x+c.width+K;A[4*e]=b?r:n,A[4*e+1]=b?n:r,A[4*e+2]=u.baseline+t.caretBottom+Y,A[4*e+3]=u.baseline+t.caretTop+Y;const i=e-o;i>1&&l(A,o,i),o=e}if(z){const{charIndex:e}=c;for(;e>s;)s++,z.hasOwnProperty(s)&&(i=z[s])}if(!_.isWhitespace&&!_.isEmpty){const e=a++,{fontSizeMult:t,src:o,index:s}=c.fontData,l=v[o]||(v[o]={});l[d]||(l[d]={path:_.path,pathBounds:[_.xMin,_.yMin,_.xMax,_.yMax]});const f=c.x+K,g=c.y+u.baseline+Y;m[2*e]=f,m[2*e+1]=g;const b=f+_.xMin*t,w=g+_.yMin*t,x=f+_.xMax*t,S=g+_.yMax*t;b<R[0]&&(R[0]=b),w<R[1]&&(R[1]=w),x>R[2]&&(R[2]=x),S>R[3]&&(R[3]=S),e%O===0&&(r={start:e,end:e,rect:[n,n,-n,-n]},N.push(r)),r.end++;const E=r.rect;if(b<E[0]&&(E[0]=b),w<E[1]&&(E[1]=w),x>E[2]&&(E[2]=x),S>E[3]&&(E[3]=S),h[e]=d,p[e]=s,z){const t=3*e;y[t]=i>>16&255,y[t+1]=i>>8&255,y[t+2]=255&i}}}}})),A){const e=f.length-o;e>1&&l(A,o,e)}}const Q=[];B.forEach((e=>{let{index:t,src:n,unitsPerEm:r,ascender:i,descender:a,lineHeight:o,capHeight:s,xHeight:l}=e;Q[t]={src:n,unitsPerEm:r,ascender:i,descender:a,lineHeight:o,capHeight:s,xHeight:l}})),D.typesetting=u()-V,d({glyphIds:h,glyphFontIndices:p,glyphPositions:m,glyphData:v,fontData:Q,caretPositions:A,glyphColors:y,chunkedBounds:N,fontSize:g,topBaseline:Y+q[0].baseline,blockBounds:[K,Y-X,K+U,Y],visibleBounds:R,timings:D})}))}function s(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){const r=e[4*t],i=e[4*t+1],a=e[4*t+2],o=e[4*t+3],s=(i-r)/n;for(let l=0;l<n;l++){const n=4*(t+l);e[n]=r+s*l,e[n+1]=r+s*(l+1),e[n+2]=a,e[n+3]=o}}function u(){return(self.performance||Date).now()}function c(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return c.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(e){let t=c.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new c;return t.data=this.data.splice(e*d.length),t}},c.flyweight=d.reduce(((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*d.length+n]},set(e){this.data[this.index*d.length+n]=e}}),e)),{data:null,index:0}),{typeset:o,measure:function(e,t){o({...e,metricsOnly:!0},(e=>{const[n,r,i,a]=e.blockBounds;t({width:i-n,height:a-r})}))}}},sn,Gt],init:(e,t,n)=>e(t,n())}),On=Bt({name:"Typesetter",dependencies:[In],init:e=>function(t){return new Promise((n=>{e.typeset(t,n)}))},getTransferables(e){const t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}});const zn={};const Ln="aTroikaGlyphIndex";class Dn extends s.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new s.Sphere,this.boundingBox=new s.Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===s.BackSide?t/2:0,e===s.DoubleSide?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);let t=function(e){let t=zn[e];if(!t){const n=new s.PlaneGeometry(1,1,e,e),r=n.clone(),i=n.attributes,a=r.attributes,o=new s.BufferGeometry,l=i.uv.count;for(let e=0;e<l;e++)a.position.array[3*e]*=-1,a.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach((e=>{o.setAttribute(e,new s.Float32BufferAttribute([...i[e].array,...a[e].array],i[e].itemSize))})),o.setIndex([...n.index.array,...r.index.array.map((e=>e+l))]),o.translate(.5,.5,0),t=zn[e]=o}return t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,i){Nn(this,"aTroikaGlyphBounds",e,4),Nn(this,Ln,t,1),Nn(this,"aTroikaGlyphColor",i,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:i,min:a,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,d=Math.abs(t),f=e[0]/d,h=e[2]/d,p=i((f+u)/c)!==i((h+u)/c)?-d:a(s(f)*d,s(h)*d),m=i((f-u)/c)!==i((h-u)/c)?d:o(s(f)*d,s(h)*d),g=i((f+r)/c)!==i((h+r)/c)?2*d:o(d-l(f)*d,d-l(h)*d);n.min.set(p,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Ln).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}}function Nn(e,t,n,r){const i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new s.InstancedBufferAttribute(n,r)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}const Un="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),jn="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");const Fn=new s.MeshBasicMaterial({color:16777215,side:s.DoubleSide,transparent:!0}),Bn=8421504,Vn=new s.Matrix4,Hn=new s.Vector3,Wn=new s.Vector3,Gn=[],qn=new s.Vector3,Xn="+x+y";function Kn(e){return Array.isArray(e)?e[0]:e}let Yn=()=>{const e=new s.Mesh(new s.PlaneGeometry(1,1),Fn);return Yn=()=>e,e},Qn=()=>{const e=new s.Mesh(new s.PlaneGeometry(1,1,32,1),Fn);return Qn=()=>e,e};const Zn={type:"syncstart"},Jn={type:"synccomplete"},$n=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],er=$n.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class tr extends s.Mesh{constructor(){super(new Dn,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Bn,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Xn,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Zn),Cn({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{n.forEach((e=>e&&e()))}))),this.dispatchEvent(Jn),e&&e()}))))}onBeforeRender(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=s.FrontSide}onAfterRender(e,t,n,r,i,a){i._hadOwnSide?i.side=i._actualSide:delete i.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Fn.clone());if(e&&e.baseMaterial===t||(e=this._derivedMaterial=function(e){const t=en(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new s.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new s.Vector4(0,0,0,0)},uTroikaClipRect:{value:new s.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new s.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new s.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new s.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:Un,fragmentDefs:jn,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter(e){let{vertexShader:t,fragmentShader:n}=e,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(qt,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function n(){e.removeEventListener("dispose",n),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Kn(this.material).getDepthMaterial()}get customDistanceMaterial(){return Kn(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:e,blockBounds:i}=r;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(i),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let a,o,s,l=0,u=0,c=0,d=0,f=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:r,outlineOpacity:i}=this;l=this._parsePercent(e)||0,u=Math.max(0,this._parsePercent(r)||0),a=i,d=this._parsePercent(t)||0,f=this._parsePercent(n)||0}else c=Math.max(0,this._parsePercent(this.strokeWidth)||0),c&&(s=this.strokeColor,n.uTroikaStrokeColor.value.set(null==s?Bn:s),o=this.strokeOpacity,null==o&&(o=1)),a=this.fillOpacity;n.uTroikaDistanceOffset.value=l,n.uTroikaPositionOffset.value.set(d,f),n.uTroikaBlurRadius.value=u,n.uTroikaStrokeWidth.value=c,n.uTroikaStrokeOpacity.value=o,n.uTroikaFillOpacity.value=null==a?1:a,n.uTroikaCurveRadius.value=this.curveRadius||0;let h=this.clipRect;if(h&&Array.isArray(h)&&4===h.length)n.uTroikaClipRect.value.fromArray(h);else{const e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(i[0]-e,i[1]-e,i[2]+e,i[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const i=t?this.outlineColor||0:this.color;if(null==i)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new s.Color;i===t._input&&"object"!==typeof i||t.set(t._input=i)}let a=this.orientation||Xn;if(a!==e._orientation){let t=n.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let r=a!==Xn&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(r){let[,e,n,i,a]=r;Hn.set(0,0,0)[n]="-"===e?1:-1,Wn.set(0,0,0)[a]="-"===i?-1:1,Vn.lookAt(qn,Hn.cross(Wn),Wn),t.setFromMatrix4(Vn)}else t.identity();e._orientation=a}}_parsePercent(e){if("string"===typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Vector2;t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Vector2;return Hn.copy(e),this.localPositionToTextCoords(this.worldToLocal(Hn),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const i=n.blockBounds,a=r?Qn():Yn(),o=a.geometry,{position:s,uv:l}=o.attributes;for(let e=0;e<l.count;e++){let t=i[0]+l.getX(e)*(i[2]-i[0]);const n=i[1]+l.getY(e)*(i[3]-i[1]);let a=0;r&&(a=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),s.setXYZ(e,t,n,a)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,Gn.length=0,a.raycast(e,Gn);for(let e=0;e<Gn.length;e++)Gn[e].object=this,t.push(Gn[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,er.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}$n.forEach((e=>{const t="_private_"+e;Object.defineProperty(tr.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new WeakMap;new WeakMap;var nr=n(2906);const rr=e.forwardRef(((t,n)=>{let{sdfGlyphSize:r=64,anchorX:i="center",anchorY:a="middle",font:s,fontSize:l=1,children:u,characters:c,onSync:d,...f}=t;const h=(0,o.A)((e=>{let{invalidate:t}=e;return t})),[p]=e.useState((()=>new tr)),[m,g]=e.useMemo((()=>{const t=[];let n="";return e.Children.forEach(u,(e=>{"string"===typeof e||"number"===typeof e?n+=e:t.push(e)})),[t,n]}),[u]);return(0,nr.DY)((()=>new Promise((e=>function(e,t){let{font:n,characters:r,sdfGlyphSize:i}=e;Cn({font:n,sdfGlyphSize:i,text:Array.isArray(r)?r.join("\n"):""+r},t)}({font:s,characters:c},e)))),["troika-text",s,c]),e.useLayoutEffect((()=>{p.sync((()=>{h(),d&&d(p)}))})),e.useEffect((()=>()=>p.dispose()),[p]),e.createElement("primitive",D({object:p,ref:n,font:s,text:g,anchorX:i,anchorY:a,fontSize:l,sdfGlyphSize:r},f),m)})),ir=t=>{let{position:n,rotation:r,fontSize:i,offsetStart:a,offsetEnd:s,children:l}=t;const u=at(),[c,d]=(0,e.useState)(0);return(0,o.C)((()=>{const e=u.offset,t=(e-a)/(s-a);d(e>=a&&e<=s?Math.min(1,Math.max(0,t)):e<a?0:1)})),(0,R.jsx)(rr,{position:n,rotation:r,font:Pt,fontSize:i,"material-toneMapped":!1,"material-opacity":c,children:l})};const ar=n.p+"static/media/planet-1.9ff5b449a69873310c117d7caa1b53a7.svg";const or=n.p+"static/media/planet-2.71ddd8d6045d314de4f0c81bf7d7cd0e.svg";const sr=n.p+"static/media/planet-3.0b392e3b93eb3061368e08c4b0a3f62f.svg";const lr=n.p+"static/media/planet-4.917e40c2551f51104bee0a30d7ab8536.svg",ur=t=>{let{position:n,args:r,offsetStart:i,offsetEnd:a,texture:l,...u}=t;const c=at(),[d,f]=(0,e.useState)(0),h=(0,e.useRef)(),p=(0,o.F)(s.TextureLoader,l);return(0,o.C)((()=>{const e=c.offset,t=(e-i)/(a-i);f(e>=i&&e<=a?Math.min(1,Math.max(0,t)):e<i?0:1),h.current&&(h.current.material.opacity=d,h.current.material.transparent=!0)})),(0,R.jsx)(kt,{ref:h,position:n,args:r,...u,children:(0,R.jsx)("meshBasicMaterial",{map:p,transparent:!0,opacity:0})})};const cr=function(){const[t,n]=(0,e.useState)("desktop"),r=()=>{window.innerWidth>=1170?n("desktop"):window.innerWidth>=690?n("tablet"):n("mobile")};return(0,e.useEffect)((()=>(window.addEventListener("resize",r),r(),()=>{window.removeEventListener("resize",r)})),[]),(0,R.jsxs)(R.Fragment,{children:["mobile"===t&&(0,R.jsxs)("group",{position:[0,0,-147.5],children:[(0,R.jsx)(ir,{position:"desktop"===t?[0,0,0]:"tablet"===t?[0,0,20]:[0,0,-7],fontSize:"desktop"===t?1.5:.75,offsetStart:.03,offsetEnd:.1,children:"The Streamiverse Universe"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-2,0]:"tablet"===t?[0,-1,20]:[0,-1,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"Streamiverse is like a vast, interconnected space for"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-4.4,0]:"tablet"===t?[0,-2,20]:[0,-2,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"this universe, working together to create a seamless and"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-5.6,0]:"tablet"===t?[0,-2.5,20]:[0,-2.5,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"powerful platform for streamers"})]}),"mobile"!==t&&(0,R.jsxs)("group",{position:[0,0,-147.5],children:[(0,R.jsx)(ir,{position:"desktop"===t?[0,0,0]:"tablet"===t?[0,0,20]:[0,0,-7],fontSize:"desktop"===t?1.5:.75,offsetStart:.03,offsetEnd:.1,children:"The Streamiverse Universe"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-2,0]:"tablet"===t?[0,-1,20]:[0,-1,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"Streamiverse is like a vast, interconnected space for"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-3.2,0]:"tablet"===t?[0,-1.5,20]:[0,-1.5,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"streamers. Each tool and feature is an orbiting body within"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-4.4,0]:"tablet"===t?[0,-2,20]:[0,-2,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"this universe, working together to create a seamless and"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-5.6,0]:"tablet"===t?[0,-2.5,20]:[0,-2.5,-7],fontSize:"desktop"===t?.75:.35,offsetStart:.03,offsetEnd:.1,children:"powerful platform for streamers"})]}),(0,R.jsxs)("group",{position:[-140,0,-200],children:[(0,R.jsx)(ur,{position:"desktop"===t?[0,0,-9]:"tablet"===t?[0,0,-4.5]:[0,3,0],args:"desktop"===t?[5,32,32]:"tablet"===t?[4,32,32]:[3,32,32],texture:ar,offsetStart:.14,offsetEnd:.2}),(0,R.jsx)(ir,{position:"desktop"===t?[0,3,2]:"tablet"===t?[0,2,3]:[0,-1.5,0],fontSize:"desktop"===t?1:.5,rotation:[0,1.5708,0],offsetStart:.14,offsetEnd:.2,children:"#1"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,1,8]:"tablet"===t?[0,1,6]:[0,-2.5,0],fontSize:"desktop"===t?1.5:.75,rotation:[0,1.5708,0],offsetStart:.14,offsetEnd:.2,children:"Streaming Tools"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-1,6.5]:"tablet"===t?[0,0,5.1]:[0,-3.5,0],fontSize:"desktop"===t?.75:.35,rotation:[0,1.5708,0],offsetStart:.14,offsetEnd:.2,children:"Tools for enhancing the"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-2,6.9]:"tablet"===t?[0,-.5,5.3]:[0,-4,0],fontSize:"desktop"===t?.75:.35,rotation:[0,1.5708,0],offsetStart:.14,offsetEnd:.2,children:"streaming experience with"}),(0,R.jsx)(ir,{position:"desktop"===t?[0,-3,7.1]:"tablet"===t?[0,-1,5.35]:[0,-4.5,0],fontSize:"desktop"===t?.75:.35,rotation:[0,1.5708,0],offsetStart:.14,offsetEnd:.2,children:"alerts, overlays, and more"})]}),(0,R.jsxs)("group",{position:[-210,0,-340],children:[(0,R.jsx)(ur,{position:"desktop"===t?[1.6,0,0]:"tablet"===t?[5,0,0]:[10,4,0],args:"desktop"===t?[5,32,32]:"tablet"===t?[4,32,32]:[3,32,32],texture:or,offsetStart:.24,offsetEnd:.29}),(0,R.jsx)(ir,{position:"desktop"===t?[11.8,3,0]:"tablet"===t?[13.8,1,0]:[10,-.8,0],fontSize:"desktop"===t?1:.5,offsetStart:.24,offsetEnd:.29,children:"#2"}),(0,R.jsx)(ir,{position:"desktop"===t?[15.2,1,0]:"tablet"===t?[15.5,0,0]:[10,-1.8,0],fontSize:"desktop"===t?1.5:.75,offsetStart:.24,offsetEnd:.29,children:"Donations"}),(0,R.jsx)(ir,{position:"desktop"===t?[16,-1,0]:"tablet"===t?[15.7,-1,0]:[10,-2.8,0],fontSize:"desktop"===t?.75:.35,offsetStart:.24,offsetEnd:.29,children:"Accept donations from"}),(0,R.jsx)(ir,{position:"desktop"===t?[16,-2,0]:"tablet"===t?[15.7,-1.5,0]:[10,-3.3,0],fontSize:"desktop"===t?.75:.35,offsetStart:.24,offsetEnd:.29,children:"around the world with"}),(0,R.jsx)(ir,{position:"desktop"===t?[16.75,-3,0]:"tablet"===t?[16.05,-2,0]:[10,-3.8,0],fontSize:"desktop"===t?.75:.35,offsetStart:.24,offsetEnd:.29,children:"multiple payment options"})]}),(0,R.jsxs)("group",{position:[-200,0,-530],children:[(0,R.jsx)(ur,{position:"desktop"===t?[7,0,-5]:"tablet"===t?[4.5,0,-5]:[0,3,-5],args:"desktop"===t?[4,32,32]:"tablet"===t?[3,32,32]:[2.3,32,32],texture:sr,offsetStart:.32,offsetEnd:.37}),(0,R.jsx)(ir,{position:"desktop"===t?[-1.4,3,-5]:"tablet"===t?[-1.4,2,-5]:[0,-1,-5],fontSize:"desktop"===t?1:.5,offsetStart:.32,offsetEnd:.37,children:"#3"}),(0,R.jsx)(ir,{position:"desktop"===t?[-3.5,1,-5]:"tablet"===t?[-2.5,1,-5]:[0,-2,-5],fontSize:"desktop"===t?1.5:.75,offsetStart:.32,offsetEnd:.37,children:"Wallet"}),(0,R.jsx)(ir,{position:"desktop"===t?[-7,-1,-5]:"tablet"===t?[-4,0,-5]:[0,-3,-5],fontSize:"desktop"===t?.75:.35,offsetStart:.32,offsetEnd:.37,children:"A digital wallet for easily"}),(0,R.jsx)(ir,{position:"desktop"===t?[-5.9,-2,-5]:"tablet"===t?[-3.5,-.5,-5]:[0,-3.5,-5],fontSize:"desktop"===t?.75:.35,offsetStart:.32,offsetEnd:.37,children:"managing donations and"}),(0,R.jsx)(ir,{position:"desktop"===t?[-6.8,-3,-5]:"tablet"===t?[-3.9,-1,-5]:[0,-4,-5],fontSize:"desktop"===t?.75:.35,offsetStart:.32,offsetEnd:.37,children:"payments. All in one place"})]}),(0,R.jsxs)("group",{position:[-200,140,-600],args:[1,32,32],children:[(0,R.jsx)(ur,{position:"desktop"===t?[-9,0,0]:"tablet"===t?[-4.5,0,0]:[0,0,3],args:"desktop"===t?[5,32,32]:"tablet"===t?[4,32,32]:[3,32,32],rotation:[1.2,3.3,0],texture:lr,offsetStart:.43,offsetEnd:.47}),(0,R.jsx)(ir,{position:"desktop"===t?[1.2,0,3]:"tablet"===t?[2.2,0,2]:[0,0,-1.5],fontSize:"desktop"===t?1:.5,rotation:[1.5807,0,0],offsetStart:.43,offsetEnd:.47,children:"#4"}),(0,R.jsx)(ir,{position:"desktop"===t?[6,0,1]:"tablet"===t?[4.6,0,1]:[0,0,-2.5],fontSize:"desktop"===t?1.5:.75,rotation:[1.5807,0,0],offsetStart:.43,offsetEnd:.47,children:"Monetization"}),(0,R.jsx)(ir,{position:"desktop"===t?[7.85,0,-1]:"tablet"===t?[5.3,0,0]:[0,0,-3.5],fontSize:"desktop"===t?.75:.35,rotation:[1.5807,0,0],offsetStart:.43,offsetEnd:.47,children:"Innovative ways to monetize your"}),(0,R.jsx)(ir,{position:"desktop"===t?[6.75,0,-2]:"tablet"===t?[4.8,0,-.5]:[0,0,-4],fontSize:"desktop"===t?.75:.35,rotation:[1.5807,0,0],offsetStart:.43,offsetEnd:.47,children:"brand and community through"}),(0,R.jsx)(ir,{position:"desktop"===t?[6.33,0,-3]:"tablet"===t?[4.6,0,-1]:[0,0,-4.5],fontSize:"desktop"===t?.75:.35,rotation:[1.5807,0,0],offsetStart:.43,offsetEnd:.47,children:"tokens and digital assets"})]})]})};const dr=function(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("ambientLight",{intensity:Math.PI/2}),(0,R.jsx)(Rt,{}),(0,R.jsx)(It,{}),(0,R.jsx)(cr,{})]})};const fr=function(){const t=(0,xt.ue)(),n=at(),r=(0,e.useRef)();(0,o.C)((()=>{const e=(0,_t.val)(t.sequence.pointer.length);t.sequence.position=n.offset*e}));const i=document.getElementById("features-anchor");return(0,e.useEffect)((()=>{const e=()=>{n.el.scrollTop=5e3,console.log(n.el.scrollTop)},t=setTimeout((()=>(i&&i.addEventListener("click",e),()=>{i&&i.removeEventListener("click",e)})),0);return()=>clearTimeout(t)}),[n.el]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(dr,{}),(0,R.jsx)(xt.ub,{ref:r,theatreKey:"Camera",makeDefault:!0,near:.1,far:900,fov:30,position:[-100,0,100]})]})},hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAABICAYAAAAalee+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABy2SURBVHgB7Z3tedtIDsdBOV8vlis4poLYFaxSQZwKolQQZxuI0sDaqSBKBeutwNwK4qvA3Aos++7jWjz8KdBLUxSJGQ4pKcbveRTFEsXXGWCAwQARNXBOWZwRvY2IJvzncemrlD//D7/f8Hd/fqLomnaQ29vbMb8dj0aj17SkV1EU/Zv/HhffZ1n2nyUtE/5vcnR0tCDDMAzD+EmI6j5kxT7ht8+0UuwaUn4l/Pq6bWUPpc4K/X2URacZZRiUjBU/W4yi0cXfy7+/mqI3DEOMgzHLg5QMY09ZU/C/UfaZP5yRPwlb9/NfKfpOA8Id8vQgOviYrQYnvqTLbPnGOrVhPE9Yjkx5sP+R/vFYLtjzd/mwfPhicsHYN54o+ADKvQzc+LM+FT1G2S9GLz6yUj4jnaWuAUr+xCx5w3he3N/df+Npu+mGryEX3rFc2MnpSMOo41HBB1buZeb8+sKu+5QC0ZNif4T3i9H6jAzDeBb89+6/n7nfz1o2s8G/sVfkCh7BdPx2Qz0i1vwX6kDfir3Ego/xyjqyYTwP7hZ3kH9x23Y2+Df2iRH+yfqx3J8A7wAPJK5kMOEMK/cJz439kFF2n8qdZP9TMgzjpweyhRTKXTgmw9gTRlC4rHzf0zBM+HXF0wHq43Hni+8X91es3K9I3wk7ky+tMwzjORBrN2Q5ZHLB2BteLIlOR26/Sfj1lV9FsEm+nIT3M+H9/ELtS+swoJifr5awYW5+oxtc5sXOMsr6ttjXyZ7vSB0rEqjdS3JpUxjGT0Kq3ZBlkXpbw9g2L0Qpa4FCnm34LsE/5ytlDAUBK31Cm8E8OpTom+oXrGCOeaT8jZX7NpXs8IOKHUGz3JCfTcJvpuCNnwEYK2jLrX0+y7I/yTD2BBjvWkWWNCj3R2CR82vOLyjuVzy/v2mZXMKvd9UP2Wr/iLl2srkuwzAGAJ4oHrB+VWya0mpVkGHsBVDwsXLblBzB0rhfKZrSykpPS1/BE/Cm7J4v5tq5o13QbmDWqWE8EyQyvmmNOwYBnyzZjbFPvKABYEWe8Nsrdt/P+D2FhV/+XiLkv2WeEfZA5sYW8hpHFHXyAPD+TMEbxjPicHx4wrJoxrII04tx8TnLgoRd858syY2xb0DBaxUZ5tU/UAfqXPzKBBN1YEQN9/8lv66rAV/wCBACCKMRcuo7z6ejEA0ZhvGsEEt+hjgg+Si1YFJjX3mBqnCRbr57jCI0Yo13BklrDkYH56ykpy6/k9E0kk0kTduJK+2Cj3Mpc/quSj4lwzCeJWatGz8Do6x53qnKZwoArGusa2/I+7xORHNklxuPx2/alHsZKHr+nY/nwTq4YRiGsbeMRm6KbMJW/Cl1QJbAIWmNao4cFjsU++Hh4QffABf+Hdz4Lm62hcsgwjAMwzB2jRdwuZ+vAtRi5W++8fbXPsVjJJjud9K5y3PLO5Si5X39IcEzmm33eq2r1LKOqf4+L/bR/SgxFUWN7oQCUd6vfLQz96eoSU5P++aunV9MT9tZ2keked1zooDz43ItbUbH2r2XNLetdGmzEg+gkpmh7v2Gtne9K/EI5bbXpzG24T4UBO2LlWMFad95FP2S6PtI737HCSCn/ElTFroq/7v/3/uH5cNcs62sSZ0FbkypdsODg4Pfac/IB080OuWpjLfUMFiDR4RqkgvtGmjso9HofZRFE0m6Uwi4lF+vyJPSfk+zVTbFNcF5t7jD23UURdfcZr8P6c0pPUckoKpVODi/iAfmCARd0nI+lMIXATQ5GB285WNPaEM74/Nb8Pld04jmDw8Pf/oonYbnXz1WKse6fPnyZZfS1IVncSN1fQerf0hhHPH1vPJVvmIUxW3bwdNJHdDIkBDP1vPcmtpDRAEZSpYqZVF+vx+yBxidc9f7XVSTw45vyC0QLeXXG40l7xApH9RqLyPLX1SDGD6Ho32InPWprodGiTiGpm2Qj0CRye5VX5Yad66ZdK66a0oPx4fOggyd9iA6+Nx2XRtIo1E066hAGuHzm3L7/Eh+CZ6u+fwu+jq/rlUceaA054HSF017UTz/JlI+VqI9VuW4E42Cr/YdeW7fqAUYLXxOZ+SIdv+IUcI0Jjky5LP1QdrDGV8fvK+158fyoLOC70uWbjiWtyzCwB6DK21fz9PQiyXuWso1ppUlHzdtpFXufLGXUms5oX7QNd4oHyXtg3Ifsrpe76CD3d/dn/M13TR15g77vfJU7iDOltkcJUXv7++DFmbCc+T9/hAh7qPcwbGc3w9xZQdDMkvedGlnCKbFPvAcxAuwBj6HrOj4/GM51hXvz1mZ+sCyYk4K7yCmBzdde8vvdEbJcukqv4PIkNKz/dZD2/ucr4CK6CP1KOOGkqXlwmm+sgi/c+nrj3VmWMlfkOSTdyCmlZI/rfsSN06j3JEhikdC7/pUrDxi+rdmO+4ovVlpoSgUFg1YXa9PZFXFDxYWQYWyBHSG3G+u6HH/KQCiPNUBpwpwvTchlFs+MFrc/y6ZJYMIPTwHPI+qYCpW1Xjmw6gD+zuHMA2tdOpAjXjFZriHTs8F1jtp+njk7roNLUNKA6vObRnPDApsCONlKFmKAl65LPI3Mqqo+voT14ZY414Xi5ryv1K01tDxsNiN841dC5OanyFZzbsh5jhhfVH7dXm5f4cizx0QHfzepZFU3UrokLzP88o2rUE9kSIfwsvxy1b3VWlVhbYjq56RxHwEU041XHPbfeM7KIVgCT2gKcP3dPavw385W3WgULjUn9BbyL279nj+rqRyrLRpI18XfQHLl1tqv4aFTG2p2oxSZjlNl4WQIW3wdNHUd7rIp+35uOj7kKWb6JDMTUVTX39SKVbm01EAxllo8R2e8QDhpuqyR8PDTZC16Gnpq7Rnl/wjMqqM27bDPCvtMD11zHHu9im9SFNVq/KbulfbPvoS7hgtS0Bnn6P/Y7FYnI/Rt3IHECgQLOTIAModjHEMTHf0rNxBLM8pph5RFqtRW/ESnR+3buhovXecqlKRe7k8prIGans5fQ9yCvpW7qCpr6+Vgv+ECMlVZKCPZRLzC0r+W42in8PygqKXte1vjgaKwCSdCzTtM4iqK7lSGKBBDoV0Zu2SSdf9tgclheEY2RhdfoCO2LdyL0DHd3XXayO2AzCGIqBh4kfytuYzGHMA3qJWmSmBlK0gCEuzncvcu0wthZoOaoSf7YWLu35I5T6ULIWh0bdyL9jU10d1G3dU8mDKr6vfKFtrpFD0ko0upYHQdKpdtt4xFzeUUhgKFmCq5UWuDGARPgFzj1olCiE2VIcvQJCW1noVK2AQBbAFMBgLkomzDoeSs+M26xbPS6WAHKz3LciQscugKl85MYByH+o+yIAlSKyOFunrT/rvaNPGouRPyD8ne1y47VnRB408dkGEW5vQ2lnrXRqKj2BasJC4znP3l187UEQn72QeI2hUDMQ1bfpeFFRMfvtNZN/Og1rpWGPFdlfkzqJyfq6MZTDVyDYGH0MDwX6rTEzjicqKp2VuAG1ElF37bpTWeyAZ4tP2YlJMSeTBhKuVE060yYOa4wwmS30HLAH6+pNBRWO5WMzJs4KGJQ+3ne/IHop+jlKxEog3qCLVdJZdtt5fjF68Z8Ebq3+AnP3L5aDJWVxx7GSFZXTRFJzkoaBSvlcXcq8WlX1N+G2qzXxI/8ytzmjz+U3JocM3FVWC6y+Koo8bAlfr9jXBNTW1Ca1SKZ8fn8Ml378/CiuySIRDqyqOwQb1ci8gN5LSsSCPjvkc3mvvAxDXd0I9gHbE5/W1rX03PY/cINEoO1jvY5317qxsNsgQMZYmcn2xZlcy+G30NHjKA+eVA0PJ0lx+OAxYir5OlUyB0p9OXe432hY8RIXBqo4+lFruIVxcKa1KvH71SXfrgozYbpq2wUiJpwxOaAdxnJdKZUWC08hPEz3sS110qzpxB7llNLy7vZtrO5U26YicK0bEGjdjY4S0NiKaHJI9YWpAWw4Zqx42rWrQ9BPX8ws0p4qVCp8UxzqV5xSTAon/SSr76BRFX9rPWO5l6yqUuuehbcfayHmPZ9sqQ7BPWIqZsi5JU39zkQfIlcKK8IPPypUhZGmBJlGYsJC+dNm2oUuitnLbGpESqeWO5UkpdSOmlbVTBONNqCc0Vgk3mHe0u0xI3yDfHO1BjnltkBHWFkMoqDvzKrWrZr+flMp9vNptpL2nhRVft68JuT3HRLEtLMYLbE8Kt3BhNdZ952C9q88PyidfzpiRl8cOQsrhWJdyH1JSgPSg1BPaufi65yHW+9u23zpGzk+U27nIECx9Vk9nNSX54YGCdlD+pWOulAkNIEvV8RMr5X6iVO5IaYtlmKprL7cttYIHsLj5BSXvtb62himtEuXk8/RtWfFc0Li6ZGSZ0o6ibPyLgVckeKOMhygE2IyUwIIj3XphDBouGvYzvru7+yjZpm5gWbjECvDzqh1ksAKdkgKf5whBpEy0Aia1n+oGR6nP+R0eHU7JvfRy+pA9OAlzKQutCwzO6PR2ByLqayLl0Y5bz8slcl4pQ1qfbZ5x8fbuAp6oUlIi7T0cHxys9w2tMoTnxEUe1DGgLFV5NXha+Kzlfh8jpkhk0S3fBNecHvl5vCAPYM2zMp5jTp19sCFGw/k8Pf5zDjcMu/C7ztUrrJKUVh1xJ4EA0jR+UVop+XMtgvERcXcetxy3mtdAg86l5552c6LYJq0TEhAymJtD8ZT8fme5QCEfZOQ8XlNMGgXqMKdaBYMWFgRv29pL3QDEJUfE0Uu/84O708FNTL4JhNAP+Ho+KVy+EJS47oR6wHEuPi76r8q75dBOtDKk7tnKAAgrD9A3VAOPJh4eHiBj/qh8PNH8Fm556sCAshR97G2r/Ijqc8nfVorc8PmQL9yWsI8zLwUPZP58KnPz6FATCsMpK/tT2W9Cq7l613nl0zbrvYvAGoh2S3dVrrDTIEUEaVL+jJXFQqHkEtfOAAWjafyuio73+7ptv9VASpn7y4NXunSktXNZWSp/lI4DwRi3/c4nl3gZtni/8PVMmraRDIVVJtROp1UmaCeLxeKS3e6tAzyUde4iZLEMl61MTdxEbwpeQL/U5FA/w0sbhOnYTjQy5MmzLWV4w2/HrFwpBNw2f/E6vw4DX6fjBJClYEMfewI/wydTOPCMhKy/IcS5a586Im57jM7wSigcMa1c+D9Y2f8QF37rDZAgl+b1h5G+Gs8WaW8o+1e3XuN+dH4umk6F0paVj1SWqyt8nFc1x2lEXJApdUDmqtus3nHNmviY2oi692tWFJo14kFKNWvmwHlO8zX1iHYuvpifVgVQueec1yjQpPqRJlW1B3H1AwzM236ElRrUnUFkqfSttvuWVuf3+RpfU/j7DdwVPApQ1FUOYiWfiKJ/xWO+0MrzWFz4tVnyKsAdkzZ8n3a1lgZC88AT2iMyXYyFk7dGaLtXixrBGEJw1BG3/L1GwNwEqWKbuPJ3ewR+GCGreq48QApxL1qPxTLgiPpHMxc/1kZ3e8gtzYD6yf3GwCRy9Jhqz6WqMzKFwcbt4S/qzlCyNG7bgAcSa+1bar33gpOCz9NsUnZalAjE3zWKPuX58yn9o+hTCgce1JRWiv6qLoFOKfd9bVStRFGntPuolmbRftF6Ta5zr7e6LG1pzWfqKGANsMLZGjqjhrXwDQQ5jzrh0YamyiIL2TvqiPa5HoVZCdK6Dx60HFLPaK140geephSetefCCucPCsciX09eH7ymkQch2sPOyFKJhq+SUDgWhSzC/VYr+LpEIvgbo88mRS9R9wiSSCgsE0mgc7NB0SdF7nsSAS9BFH1ZbqHpw2WzbbZ1TWvHDWCpPHYkbldHGFQeHh5+7bCMpzPaksjGoGis+FYG9jom1AF4UDGwgVJnGXzE/UKV16FHdlqWKqfXmngcRCE/QiGL8IU6yK4hCUSh+OHyOqvbgJX8nFbKOJbIewRcxBSGcqa8C/7/dz7e481C0A2OjaQgIYIohgLCWhHollI/tC/xOcjnz1LaMhil3i1aDczaDg5LpS0wrQI60qXECVyHUuY8qg+imDUuT2NYtBH1jYQJNNtEXP0AVjP3KbRtdXuSbGxwNfflafBmQFmatm0QZVFc+zlPcWsTB4E8pW2WwdNy2TR4Uil4KXkXN2ySkmLJWRF5j/+f5yVFaRpomR2Aosc5nLFFv5YSd5+UO9AEjlFPbiVWfHcskJq3qV/2si1Sah4wjjekBk2oBW1HaqDdS5B1X4GizjFgbANtRH0tHaz3tG2DTbkbsJqhJd1wnp9d0hV/36bnqo0BZWnrPnAudUtpMQ/P9/u05bfFIOpSO3XR6qK/VeT49kkYg6A8mauH5R/ShR83ue73AVkyM9T8VB2t+23KTjU0Slf7WueR+7fWKaWc8Rdxd72SjHoJ+ZEqtolvuxdBmZCxkzjMxa/Tbe69tV8Ua/FrvkpqPitcwe/KruBdVu5DylK5D2nLZkj6U5et8LLms7VpQOTycDnXVgWvyFOedrGO4U6HC7+IwKdVlryUulMo+rao+51D487LH3x/JIpt0GnOaAfg0W9rcJkMSOLq57BUaHNHSovtfBWwzPUnbdtp63/X0aFKljEcXnPxXebeNw1gq2woo5srnA3z6ZeFUkfbUwa6boWhZalmuV22zGZV40hkDV7FIOrDpkFUW7nhMo0Knl3zcCvFTdsgKp0CIWvqZxKY9ybQcrspv27qatPvItqSpzxvO6ee0AoGZN6q1h/eEolim7w+dc3nszZrBP0AA12k6eTO1Z4rvIJmGQwsKXn2zgxVS9vwx8uKDxA5LwPYRrAqqqo05HxP2jxY6FNYUXV/d3++a4p+S7I0UWwT1w2qKoOo+QZZ9JkHCPO6pep1bFTw4ppvtNAkQccl9UDJhR9kuV0ktel32ZqXWIeZZtuaxC1BUQqjXGluu2ND+GisZOYYeRzKo2cI0KPmMrSnpWcSc+e61HauEnPNRjgOgkHJgVyIRcHiWIx+cbLiA0XOzzUbcbu+kJoOjzS5gtGH0A9I4j54kIDKhlcu1mWfbFGWQh+2z8Xz/aoO6NsGc+VrKi9Vb/rNaPMX7VaB1LDtldK6erjwu7rvY1oVtzmlHQLKAkUFtA2yxzWxZbTTLnAP/3BVTKHRrt1FpKqc76RpOxFg52L1P3GnSee60l4znpVyAJLXAdAMIJzbjLF1XKz4ril7S8dMSCcz88F63ZLnKlJa9wf6QeUrDICRKvjHtgb925aljs941rWv4zPxLNYOrKJNO1QUh7hmd8LgddTFAp9Sx9r0WK7HA4dB1pZueIBQGseocuRSsQxoa0F3hc/7QlveVUijKEoelrmyXUvJyA2xda1KXQ15DZLu8wc5uKrzpSlRdinZvFL5+JgHtxOH3NCqKmuaeuNr5xdF8+Je0soq8G4zBdUSrJra1UuHErZN9Pn8y2jkV7W2e6h68IpzU9WLD3XP5ZjqmuvCk35M0vbYlf1LlEWn2rbHx5z9vfz76yYPGRQTtfTXanvYB1mqfcZlWBZdslV9KZn7UvK4JpEXTwrm1Hamu9u7uaJYy3Sb+dxLa+q9XUJDKXmNYNMiKxYGsZZ9GmqZaufsW8D7KNFArGqft+AxYAqOKfgV21LwcqxZU/BXqOOU0TznPmjSEz4Kfl9kadsz7ovqNa256DV11JnFkModiqYhJe478nTbY15+X4LvhJT8UqF6Ie6mD7Qn5Eooo8HaZUG13G4DM9qB5EDG1mmci+9j6pOnsD7Q0Kmtd7uoV0o9ylIpTX1Nw5JS5ZrWFLyijjoeXC+BdXXIaPyqIff9pUTde3WKPVLyC9862V1AECXWhNOesKQ8MDSlgXCpbSADJgxIhxW0xk7RNE8rgcsJBQZtNOSKJwUo6jXk8VwYRJZKX09pGGqv6YmCV1rvoapLtVIod5JIzSL3fV1wE5bX0SoQLyVH9kDJLzTzvH2Rj0a3YBn7IMLTqx24IrUNtMGIOYhLGFjQGrtJrRXfZ+Ayll4NNFhPt2GMKBlMlsqgaghZtPGaRk//UFjvFKykYyNFpCbVlN9EpHHdmuRPq0hl3FBn14gso5vQ7lE8vKHdPU84PDqc7oslP0THEst9Rh6IoMX5mSX/TKmz4vuy3ivHnfXcj9PlFo2RFgaXpQPIosZrelTw+drgKC8C07rDvh9ekViEmoO7Yh5orEXxS7KcE88kOch65xVQ1geSMvVk28q9QITD8HN5HkjHOln6pgjdTCHAnCz3KhDkOD+yOfnnzBMrfohlx0D6cfC2JxnvTnZRuW9TlhZKnl9BvaCaaypb8KekWGKEAgPUE/na48X973zSrcJT3KOzTd9LAJ5rh4mp4/K7QGBU9klSpqa0Q4j1eRK6sfYBrCRElJZLBnehJMASCgCerZQ0DpGeGYpiJwaCho6yFT+E9V459rUonRAD4GLQe7aDbvmdkKWSUGsaSBapr+lRwWO9HW2Rx+QJiiQ0bcq9QOblXZX82bZc9Rg8FUVOjna4+l2psb4SRb/TFj0GJaJIP3jknV7IMznqS4CJRfXGp/OXcujj+nqfOjOCk/fzoaz3MtKPz0r9OHX5vViQ79C3hhycaNhVWVqRRU4Dcp9rysvFIpgt25JSg9WOvLxI3afZXuY+1Q8MSv43ymLH9fJYq5xQIFCwYcNXiyjKK6FdL5dhMlcNiZzvFP+XzHATvh7Uicc0R1zdvuE+DAI6F7/NZSXGhF/Hcr5xabO8IhQSfSABzlCCS+7lXM7vGElFuE9MaP1ebmwzd3d3t/yblBx4yB7+4v05/caXIZ+/4ljVgdrC4zedOVrVi/+0TQXZ0I9jejpNin6B6Pg/aVWytNP98GkPP4ssbZBFY/rnnqfSN72vKU8i4JjpSJXUQ4NY7ThurNg8X5N95JH7XubVH6PxlRyh0h0ZhmEYxh6Su+jZPe9SISvuWkGsyK0rgXSx4ifFHI+zcgeiqJ0StixlRGsYhmEY+0iu4F3d8+xS90q3CcWONLhIWuNwzDTE0gZW8tcZkTqghG/MazIMwzCMPWUk1rjT0jBUEXKpXQ1XvFjsNy6lLRH4EXLZRaQsnShMyDAMwzD2lAg1gKUkpvuPV9VrvlcDRCRwwLUq1xO0kfKu8Hw8kueophjY6u9c+MIwDMMwtgGi6L3n06Uu9vRucYc/U/m4HAXoQ56vuzpokOpxr3+lSFX3exO8j/9EHa7ZMAzDMPYBzMF3UcZlYlpfVuFEKTNPUv6clTsU8hUr5kv+/5XUhPeC93FIhmEYhvGTE1LBd2JTZp7fKENAXzkn/YRfN6zkv7kqelkup7XebYmcYRiGsbeMaPukYrU/SV4DZcyv80gyPdUwpZWih0V/Si2Icj8n3bI80Clq3zAMwzC2CebgU9oSkoP7YkNGpDHPlx8potwmeJ2vMhwl/MIcPf6/KO0HRXTOSK/c87l6MgzDMIw9JXLMYhcEzLVnWfZJs7adFfeUVgVgYhqWE6ydJ8MwDMPYQ6Dgx6zgb2kYFtEoOnv58qVTJTKJoJ855pPvQsLK/Q0ZhmEYxp6Se8CRhKbnYjNFWcSLLgUKpMqbNnd9F8x6NwzDMPaaotjMRPLChyaIYq/Cin5GK2s+pvB8kTKzhmEYhrG3PMawsZKfsZJXp59toRfFXqYnt/13Vu5TMgzDMIw950mQelclL8FzX4asbSxr4afU3aL/yspdVZPeMAzDMHadtVVoiKqPouhjRJEmIcwCSp23T5bL5fe+rHUtEnGP0ret6+JLJLRyyydkGIZhGD8JG5eZo8rcaDT6hRX3K35/TO/Kf/9Fq3Xm111LuPYJAvKWRJPRag18NT8+zhvr3BNT7IZhGMbPyP8B+B7gFItNfAEAAAAASUVORK5CYII=";const pr=function(){return(0,R.jsx)("div",{className:"section-wrapper",children:(0,R.jsxs)("div",{className:"header-wrapper",children:[(0,R.jsx)("img",{className:"header-logo",src:hr,alt:"streamiverse"}),(0,R.jsx)("button",{className:"button button-gradient header-button",children:(0,R.jsx)("span",{children:"Join the Waitlist"})})]})})},mr=n.p+"static/media/globe.dae7c55f1b4c17fcdf15.png",gr=n.p+"static/media/brick.ef47910bc114222aa265.png",vr=n.p+"static/media/money-jar.1d5177e720b313da0340.png",yr=n.p+"static/media/platform.180e9b6a7fb83058233c.png";const br=function(){return(0,R.jsxs)("div",{className:"section-wrapper",children:[(0,R.jsx)("div",{className:"section-header",children:"Why Streamiverse?"}),(0,R.jsxs)("div",{className:"features-content",children:[(0,R.jsxs)("div",{className:"feature-card background-gradient",id:"gradient-upper-right",children:[(0,R.jsx)("img",{id:"globe",src:mr,alt:""}),(0,R.jsxs)("div",{className:"feature-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Global Payment Methods"}),(0,R.jsx)("div",{className:"section-text",children:"150+ payment methods and 500+ cryptocurrencies"})]})]}),(0,R.jsxs)("div",{className:"feature-card background-gradient",id:"gradient-bottom",children:[(0,R.jsxs)("div",{className:"bricks-image",children:[(0,R.jsx)("img",{id:"brick-top",src:gr,alt:""}),(0,R.jsx)("img",{id:"brick-bottom",src:gr})]}),(0,R.jsxs)("div",{className:"feature-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Customizable Notifications"}),(0,R.jsx)("div",{className:"section-text",children:"In-stream alerts and notifications and overlays"})]})]}),(0,R.jsxs)("div",{className:"feature-card background-gradient",id:"gradient-upper-left",children:[(0,R.jsx)("img",{id:"money-jar",src:vr,alt:""}),(0,R.jsxs)("div",{className:"feature-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Digital Asset Wallet"}),(0,R.jsx)("div",{className:"section-text",children:"Donations are collected in place. No need for manual withdrawals"})]})]}),(0,R.jsxs)("div",{className:"feature-card background-gradient",id:"gradient-bottom",children:[(0,R.jsxs)("div",{className:"platform-image",children:[(0,R.jsx)("img",{id:"platform-bottom",src:yr,alt:""}),(0,R.jsx)("img",{id:"platform-mid",src:yr}),(0,R.jsx)("img",{id:"platform-top",src:yr})]}),(0,R.jsxs)("div",{className:"feature-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Integrated Platform"}),(0,R.jsx)("div",{className:"section-text",children:"Ultimate suite of tools for streamers"})]})]})]})]})},wr=n.p+"static/media/phone.499563f5fd9c980461c7.png",xr=n.p+"static/media/solution-card-integrate.77377341cf0daebbf382.png";const _r=n.p+"static/media/visa-logo.89094a227bdb86e26fed2677e2c244fb.svg";const Sr=n.p+"static/media/google-pay-logo.205f8ebc2a3c236a32390cd04f7a9d2c.svg";const Er=n.p+"static/media/apple-pay-logo.5b5bcf56f4660eaa05dc7916a6191a69.svg";const kr=n.p+"static/media/mastercard-logo.9de7f5da15f6a767365c9fa481b1c725.svg";const Cr=n.p+"static/media/tether-logo.2ad7106dd571d88f701e419c867b4580.svg";const Mr=n.p+"static/media/doge-logo.7008ccc79e0e6b2c87c5884c2d26b5f2.svg";const Pr=n.p+"static/media/shiba-inu-logo.50b0eb7fb784a38c711b11851a97aae5.svg";const Tr=n.p+"static/media/ethereum-logo.7e0f8f75960097dbe9e5880d287489b7.svg";const Ar=n.p+"static/media/bitcoin-logo.ef1043fc7be8b13cff54d423e8555752.svg";n(1577);const Rr=function(){return(0,R.jsxs)("div",{className:"section-wrapper",children:[(0,R.jsx)("div",{className:"section-header",children:"How Streamiverse Works"}),(0,R.jsxs)("div",{className:"solutions-content",children:[(0,R.jsx)("div",{className:"solution-card",id:"solution-card-1",children:(0,R.jsxs)("div",{className:"card-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Sign Up"}),(0,R.jsx)("div",{className:"section-text",children:"Create an account."}),(0,R.jsx)("button",{className:"button",id:"illustration-button-top",children:"Get started"}),(0,R.jsx)("button",{className:"button",id:"illustration-button-bottom",children:"Get started"})]})}),(0,R.jsxs)("div",{className:"solution-card",id:"solution-card-2",children:[(0,R.jsxs)("div",{className:"card-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Integrate Tools"}),(0,R.jsx)("div",{className:"section-text",children:"Customize your streaming setup"})]}),(0,R.jsx)("img",{src:xr,alt:"Illustration"})]}),(0,R.jsxs)("div",{className:"solution-card",id:"solution-card-3",children:[(0,R.jsxs)("div",{className:"card-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Start Accepting Donations"}),(0,R.jsx)("div",{className:"section-text",children:"Use multiple payment methods"})]}),(0,R.jsxs)("div",{className:"payment-methods-carousel",id:"carousel-set-1",children:[(0,R.jsx)("img",{src:Cr,alt:"Tether"}),(0,R.jsx)("img",{src:Ar,alt:"Bitcoin"}),(0,R.jsx)("img",{src:Tr,alt:"Ethereum"}),(0,R.jsx)("img",{src:Mr,alt:"Doge coin"}),(0,R.jsx)("img",{src:Pr,alt:"Shiba inu coin"})]}),(0,R.jsxs)("div",{className:"payment-methods-carousel",id:"carousel-set-2",children:[(0,R.jsx)("img",{src:Cr,alt:"Tether"}),(0,R.jsx)("img",{src:Ar,alt:"Bitcoin"}),(0,R.jsx)("img",{src:Tr,alt:"Ethereum"}),(0,R.jsx)("img",{src:Mr,alt:"Doge coin"}),(0,R.jsx)("img",{src:Pr,alt:"Shiba inu coin"})]}),(0,R.jsxs)("div",{className:"payment-methods-static",children:[(0,R.jsx)("img",{src:_r,alt:"Visa"}),(0,R.jsx)("img",{src:kr,alt:"Mastercard"}),(0,R.jsx)("img",{src:Sr,alt:"Google Pay"}),(0,R.jsx)("img",{src:Er,alt:"Apple Pay"})]})]}),(0,R.jsx)("div",{className:"solution-card",id:"solution-card-4",children:(0,R.jsxs)("div",{className:"card-text",children:[(0,R.jsx)("div",{className:"section-subheader",children:"Withdraw Funds Instantly"}),(0,R.jsx)("div",{className:"section-text",children:"Access your earnings in\xa0real-time."}),(0,R.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQUAAABSCAYAAABdasFqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB4HSURBVHgB7Z0JXJTV3sf/M8MiO4KAGwJuCG6US+6iZmp1U9R7szS1W7aopZZ1Kyux7NquvlY3u7ebZtcsc6vet65LLqXmdcNyX2BAEZRtQDaBmXn/v8M84zAMMAwwgvd8+5AszzzPmWfO+Z3/cp7/UdFNxt/fP0xDFOOiVocb+F9SqcJVROGmP4eTRHJrosOXkUirwvdGY4LeYEjQEyXodLpkuomoyMmwCPi7ajRj+SbEqlSqcfgVSSSSGxiNWhaLXWQw7Crlf50tEk4RBbMQEE3nC8aSRCKxGyEQev2qDJ1uNTmBBhUFiAG7BXPUKtVckhaBRFI3TBZEqcEQ35DWQ4OIgrAM1Oql7B5MJ4lEUu8YjcZVDSUO9SoK0jKQSJyLwWiMz8zOXkT1SL2JQgt//6FqtXoVsgckkUicB9wKthrqK+agoToC68DH03MJC8LHLAjSOpBInA2PO5VaPc7Tw8Pfzd39QDFDdaBOlgLrQbibWr1TWgcSSSOBrYYSgyG2LrEGNTlIoL//WDeN5qgUBImkEcHjkdP/CRif5CAOuQ9BAQFzRPyAqBlJJJJGBZv/zXh8TvLw8KDCoqLdVEtqLQotAgIWcnbhTZJIJI0alUoV64gw1EoUTIIQTxKJpEngiDDYLQpSECSSpgmEgTMTOhaGA3Ydb89BCFpoNJrNJJFImix6vX5clk63pabjahQFkXZElkGuUJRImjRGIl2pXh9TU7qy2pQkFiaJdQhSECSSJg9bABjPuzCuqzuuWlFwVasXynUIEsktBNYxYFxXd0hVfwjy95+m0mhWkUQiueUw6PWxmTqdzYxElZaCSq2Op/8yXFxcyNPTkzioWuOx7u7u5OXlRfWN0ga12uHFphJJjWDxYVVuhM3ej/SjqVRavYHOHhgQQF7c4Wv6wqAsKSkhZ9OmTRua9/Qcyr92jVIvX67yODc3N5r0pz/RXSPvop9/+YXqE6UN168XU8rFiySRNAgqlb9GpSousLF+wcX6F8g2NMR6BG8vb1qx/H/sOvb777+nL75cS7XB19eXukRG0rHffuMBdZ0cATN0927d6ODB/1R7HGbx8LAw6tSpM9U3ShuOHD1CEtvg/j/2+BPUJaoLvfTCC1RYWEiS2mNUqebyeF/O2Qid5e8riUJNQQhHKSwqpH+u+sz8MwsPxQ6NpbY8M37LIqDLvdGuiym1nyH73XEHPTL9YZo952nKcFAUJE0DHx8fiu4aTbfffju179CBThw/jkpENo+Nue02atmylfj+t2PH6PLlVLIXX18/enTGo9SiRQsqKCig9evX09kzZyodB8t2xJ13Uv/+/cX3Wq2Wvlizxqa1C9EfNXq0aLvBYKBffv6Zdu7cSWVlZeRskI1AhTT+9mHL31cQBVgJDVVCDTdo67Zt5p9x89q370BBfMP3/LyH0q9cIYmkOkJDQyn+tdfEAIQ7Cn7cupXSLqfR8mVLae2//iUGGsDS3hmPPUZz5s0jV1dXYV28vmgRrfz44xqvg2Pfevsdipswntz4tUVFReTKLuPjTzxBX61bR395/nnzdSAY777/vmiTQV/+O42Lhh7jY+NfeYV+/PFH83k7duxIKz78iLr36E5lpaXid4/MmEEnT56kCePG0TV2W50NxjuP+3mW1kIFUWgoK8FRMCO0447Qv18/CgkOoZSUZDqSkEBnzp41K2tIcDB16dKFRsTGio4yaNAgys7OpgsXLtCl1PJZAQHByM6dxXl8fXwpI+Mq7dm7l86dO1flDGMvCDj27NGDBg0cSBruTAf+c5AOHTlcyaS1bkNaejodPHSQLiQmkj01MdBRw9q1oz69erPb0ok7UB4dP3GSfv3PgQrXggXWiTufB89I586fp9tjYqhPnz6iE+7mWSkxKalS5+OOQe0jIoTb0jW6KxXyrHjgYPn7sJztcFzLkBCK6RlD3Ximhpt25GgCfyZHK7aB2zpowEDq1asXfbNhA128VPfYCO7fzNmzafiIEbT13/8W7eoSFUVbedD98f776Xl2I7Zv30HpaZdFO0fffTfNfvppSuL3m3rpkhi09nLvvffS/Q9Mory8PJr95Ey6yv0FIvNqfLy41g8//EA/7dgh3ucLL74kzr2XY0sfffghVg3S9OnTacw999Bz3KZdu3dTMYsK2vTWO+9Q125daQe/9h+ffCL63py5c6kfWxhzn3mGFrPg1bU/OoKbWj2H/zGXdKsQaPT28FjmrOpJuKG9udO0btWKfmLzKZ87YoWGQplZ6R9/dAZ3uCLKz88XnXbc2LGi02IwQa1jeEBOe2gqtWndhrx9vNnXb0fRUdGUqE3izniJ/DjWMPPJJzkweD/pcnR0veQ69ejegybGjRcd6+SpU+ZrQvVHjriTjnInh/BUBcRn4IABbJa2JE/uLKM54Jibl8vXDqd7uTN0aB9BBw/fGFA4/vln59MfJ040tyGKhWxCXBw1c3cTQmfdhmO/HaNTp0+b79XQwUPoRe5kfn5+lJWVJYRlwvjxbG1F0GHLa/HM9uifH6HBAwdRKLtm/fv1Z9Epoii+J+PuG0vBQUG0d98+8/VgsY3kTr3o1YXUmu/hlatXKCAgkP44YQI1b96cTpw4QSUsKOjU3bt2owUvvMjniqJ0FjWNiytNefBB8X4T+D0Um9y2Zu7NaPrUqTSMhTotPc38PupCRPv29Myzz9IFFrp5PJBgNeBezeWBv50t0KOHj3Abjop2xg4bRu++9x5dvXqVXn7pJdEHerMw7uEBevjQoWqvA6ti1uynKCo6mt5YvJi+Wf81paWlsUubIiySOP7MjGx3b2MLxZXff5cukeTt7U2zuI8dZzcGxx3//XeaOnWa6MP7ePK5zEFrtHchWypwLR5gYTnPE1IKH3uMXZo7R47ke9hetA8TmrPh2EKMm7v7SqVik9lSwLqExrJQCYPgPlbr/n3voCXvvC06PRQYA7Bvn7702KOPUjLf0AS+oYePHKETPLD/cM+9dC/PDjAvM3jQQJ0B/MmgFkG0+I036NSZ00JImjVrJiL8Y/9wH/3CH5qjrgs6G177yqJ4IVQepvbNnjmTBrBFsHX7dtNxfqIDW7dh1hNP8sCeQJu+/VYM9KpA58JMvurzz3lA7xWzsiIUEM4xo8eIGdlgNJhfg064fuMGWv3FGhahEvJo5kFznnqKhg8bTmu/+ooumjIbXbt2pRksIl9+tY5+4FkXsyOno9kS6CpmyR4suvv272fRbU0vsNl8nEVi5T/+Trm5ueyTqmjb9m00n2e5hyZPoU85ZoS2lZSW0PkL58XsftqGD25JT7Y6np47R1ggBw4coK082I7yZworBJYixA7fYwYtKy2DucImvVuFcyTxBKFli0ABIrxnzx76YMUKEW8YPnw42YsLD3QPTw/xfb6VRQXrDPcY1inapsvJYbdlGa1etarCYMbYKiwsEJ8RRAoM4fgZOMWuQgFPcApoN0QEwhDEgg3r1dmI2EL5viyixuMN90GjmU6NBAz+IYMG84A/TPt4VlNMqlyesfbu30eDBw2kOJ710EExO+Hrummm1HFntQymonPGv/6aCBQp5ynl8xw+epTN4J7CJHdUFNARtrMpWGryD0ss2jdq1GhOV+6lIp6ls7KzaNHrr1OOLqdCG3b89BON4A7bnNPF1YkCOtlaHrRwmZRrgf2//sqz/33Uii0WtUZNhrIbooBZCFaQYoGVmtp2R9++FM1WiiIKAzhAi9lxPYuKpRtzhO/Pe+ynJ5oG2zDu1BCnTVs2V2grPgPEimCFbGMRPH32jBDwNezfr/v662pTyzjfA5MfFC5BHn9u3fnzmMqmN9wDiBMssW/4HMhGpSQni5n47nvupqXLl4k2l/F1MPAgssp9xb+YxWHOO5KV0Ov5HptcU1+2yiyB6MOygui4mmIauLb17N6B3TdvFo2MjAxKZDcWdOzUUfybnpZe4Vi0F30X57S+npOZTpaiIAKMjWjnpsDAFsJE3bh5UyUfCx0X+fs7eEYOCAgQJmJ1oIPC9YBi40PFzYfv7+7mKn6nBKwcwcBtsxyklu0bwH5i69athJsDsnOyK7UBgwLY04Yik1/qzq/R8PF4DdK8mDnRUZUZSaGMOzfeuyUYzBDMZhwHUejDInHq9KlKcQ3cdwx4gHPHcGwilSP3aIe/VedF58c6mJCQYCEK4t7wYKkpNQzBeJcDevGvviquH8buF+IGAwYOoIDmAdzeTFI+fZxrHmeWAgIDOO4RTX6mdTen2c1btnQpff/d9yLmpOBomhJtSmBLBXGFBQtepgs8c+eyQMFFeJtjAgATTJHJErUmmK2Il/h1uGf//PRTs4DCpaoJxIFuFhj/WMyEgKPoja5EQ6kRAdPanmO87LiJmEkiOTA3atQoCmRfGQrvyoLg18CqDBMXHUkhKjKyUhvseZ8KGIhwkTpyCs7F1UUICq4BK+E8+9mOgNm2mZu7ORZQFejQODYiPFy4CtaD3d+vfIB6OtCpMzMzzN8nJ2vpL8/Np8jILhTMApN6KZV98BtuAQbitClTqFfv3vTwn/9MQzlmAVF8ccECDvaNpClsdRTVw5qF1atWUyxbcAM5eLz6iy/K3y+L5I8//CgyEpmZmWwBVg4O4zNBdqEbx75gqWzZtImaEooLUT5FqdWx1IiwnuFsHmPQi5m6JsZwTvipmbM48r6HzfUdwrLA6/py4ClubL0u2rRqn8H8PmCyI5C3a89u+u777yjP5KsiG9HZjgVQEJLXFi4sN413bDcHQb08PGn2rFnkKPZGuuFH455hledHH68UbpAt8muZUoPQxMYOo2fmP8tWVWtKZKtq3ZdfCvP/LFscwRxnQHbHclbG98jt9+V7igVrCHR++LePafSY0TRr1mx6l2NQdaWoqJAe4vPCikI8Apbmls1bOPX4nrAANqxfT3qrdQWdWfSXvPkm9WSL6os1n9MrL79coR/nmtbhuLm7VbqeYuMV3ISUpCUqozGWFFFobJu+5hfk8+xVzNHvAJt/R9AMJlx2NX44QKeDL5zMZuVnHAyyjB2041hCQ4H2wXzFjCI6PrfhQuIF+vSzz4SpreDu5m7X+SIiwqkzC8iCha/SQU4VKoPZk0Uh3yJoVVsQo8hif7i5n+2EE1wUdGy4SJjRQ9u0pUw26a1dNgwUfCm5e3uBFXdH/37C/0bqsDVnS15hV2LKQw9xTOEaBbYIpDWrV9O/eLbG+eGiIJ1qudAHs/iGDd8IUQgIaE71Bd4zMgf4ApPZQoFIYAHUrxzLsaRb9+4iwN2DYyJvLVlCX65dW2liQ7AcIH2O96J8hhA2uMFwn6wWFjodY/mjDQ+rOZgT3tgej0ZkOyHhGA0ZMpj95ooPHQUGBopZ/uy585XSmNag07myqY2UZklJRd/f29uH6goWtmDxla32XbyYQhksCsCdj0Nntvbb/f3tc2GUmEM++7aWszvck2YeHlQXYD11YsFBatgSxCmQ8uxlWnm3a/ceCmP34Tbu+JaggyNYOpxNeXe3G7NgC9wHNvOrcykwoJcvXSbWmCBgOpIDjphh8fnjGZA0tkzOmqyisLAwEbycw+5LC4t7rlgb4MiR2i8Nx/17gtOJQ4dW7UH3HzCQnuJsFVKTaJ+l+I3gNv/j03+KSQau1d8/+cSmUO/ft1+4NriHPS3uISwMrLpEliQ5OYVuJshCtPL3D9M0920+VK8vnUROprp1CpgJrvBsdBfn6yP5pl3Lv8YDqLlYp4D0GTri31auZDM8z/yaTuxrYxERZr5ADkbhA8A50bkG9h8gzE5YHwgE9WPF7xodRT4sDAUFhRwEzBEdEXGGwYMGicGLQXGZ89KWaT4FZZ0C1iXAjUHHh+JHsS8845FHxIBY8dFHwlJABwrndCLOW1J8XaxRQBswuHr36k3enl4ifZXLooE2YNZAfr8gv0B0eJjsRoORrY2hwnLK4oAlhLJd21B2jUZRcFCwEKeMjEwWoQxxb/B+PTmttofNbEshQtoPf8MKOsUFgXAhTjF0yBAepCXivUREhItceuyQobT/wK90mQcDMiiebAHdPWYMt8dAGhbbFhwQRhpY5N05yq6kW2EpzXzyCXpg0iTx2iSLdKE1JXw/lFkVInGaMybbtm6jDd+sp2+3bBF5fQA3oj/7+ONZqOImTBCpVIhZHP8M3x/Lj1/m2AKu7+PjK0z5yZwmjYsbzzN8H7Hmon379jzRDBW/y83NE+nA+c89J9Y/3MZ98et16yoEjnEv7+f3AOvFy9uLXmVBQKqTTMKMz+cNvg5iCFg0hqzDg+x2TJ482fyFuBHWIuC9IVsyjAUUQgKraPDgwfQkp6/RH9786xK2JqpfQ+EU1OpdLmzIxFAj5BR3juUfrOAON4mWLH5D3FQEcg4dOkQf/O0j7mwVn2I8+tsxups76NMcvcbgev2vbwiB2Lh5sxg4U/gDGh8XJz7o06dP0wo+x4RxcTSJOzTclWROeaWmptLevb/QOI419Op1u1hxWFZNeANpM6z8W4BFRb5+ouPCtH6fc9eJSYnm4zZu3CgG8VQ2iydyh0Yb0NmXf/iBiOhPnzpNpMFutGGveAITgck/jBtLaVfShQhifQZmbvi87hz8e5ej7r9ybn/+M8/StGlT6S8vvljrNfRIp338yUqxzuD5+fPFAIUgwpTFsypITQK4a3hIDff0EQ7yQdRhtUB01q3/mv73h/8zXxtC6uGOQLBjj5ZfsxB7hSvs+s2fN48emDJFLCDCug20Add85623adOmjebro58MHRYrUpqWhPJsHmpyG3ft2in+xeel5vfrYWVxufFnOXHiRHpt8WIxoTwzdy7t5BSy0cJKUIssVrl15MVWW3eelKzBGg+FtewGiYVO3Ecfe/xx8/ta9v779O23W27KakZrOHYUrgpr3XZT0fWihou41QNIT2E2xENV19g0c+TmebBiYxVgMc9MeVZmeF3BIMIMjw6DdRJVDUwvTiF680yMNsCdqK0PrlwHooLBXN8P0aB9yOgY2PqB9VRV+yBIvj7ePDuqKSMr0+ZxmEURA8jJ0XE7S6k+wWBExmEAW2uwRrDGoS7nOnrsN44T7KfHZ8wgZ4DJIySkJV9bJVY73owyAVViNK5yYUei0ddfRI6/riCFVFS3fTerBLOrZQCxKgrYIsFXQ1/HUextH2o9ZFyv/l7CDG/Itn7HrsX+vfvESlJHgRt4112jxJqONZ9/Ts4CVq/lmorGBE84sBTaJBVdLw4nieS/DLgMozlGAqsLzx00BvP9pmM0alVhbUNz2EeV1ZolEokQBUSLpCBIJJJy2H2Q1UElEkkFpChIJJIKSFGQSCQVQExBSxKJRELl+01KS0EikZhRGY061IvSkkQikZBYvKRVG0mKgkQiKafcfVCpEkjiNFB1CcVRJJJGidGY4GI0OC/QGNC8OQX42y6EkYn6gXmOP9jSVEBl6WD+OnnmlCj0KpE0Jth9SFBrDJpj5CTwlCJKi6G0l/KFJ/9QUwFP1f03gIe7klK05orBEkljQq3XJ7ho07Xa4MBA1IFyynJnVKVJtCjGiVkTdfSrsxKUqssuLCB6vUHsK6CADTnwlJvlwyxKGTH8TmWqdoyf8T2KYSilwfEzfu+icSmvQ2h6BFij1oiKTThlaVlphUeD8TcjlZ8XrgCugRnf+mEaXFMpAw4BUAqJ4Fg88mx5vErsZeBqrg9gSzBQug0Fm9H2MikokoZBm6bTJSu1xTdTed33BgVVg/KsCmgEBbagtPQrlUqlW9IhLEKULsNGHTgu5dJF8Rw/6BHdlU6fP0sFpiq+GFwdItqLLeOuFeSLMuhhbUPp0uVUCm3bVlQXOpd4nq2T1mTEAOOvViEhdCUjQxQzQd2FyI6dRM0A1EfAOS4kJZmFqB2fA49gY68GWD4QDLwuNe2yeaDjmh3Cw03VmlWictSZ8+eEMPj6+FBQQAu6kJxkFps23JaWLIwQHOwBkJJ6kXJ0OnE+iF5Yu1AK8GsuNmlB5SYUcMmrQ21GiaQKduF/QhS4K+9WOUEUrPcw9ONB5e3tRSfP2t5FCDNnuzZtyc/Pl87zQED9fRQZ7RARIUqtYaMVFB1BpR1FFDDr4rxpLuVFWl1cNKI8GsqmYQ/JwuLy8uTYcMaLv1BZGQM6P79AlBHr2iWKLqenie3TUJEnLDSUojpH0onTp4RFIkqvefvQebZ2MED9ff2pS6dOojoPRA97KnSLihJl1NL5emKfxnZhovKSNiVZlGX39fUx79MQ2rq12Cfz3IVzoiQbCspEdYqkU+fOClcjODhIlGw78vsxISIhQcEspEEsVgXyUV9JvWI0iYJYvFSq12+mmwBm2yIepIUFtmv1w/yGJXGJBxgqGmEQwM04y7Nubar54HVpPMjT2RqApaIMJhS7SOKBim3miq4Xi2pCRnYj0vlYlGiHVXI5PZ18+PfYSVghj2f+gsKC8mrIOVnl27KZynn5sWjBIsA58HpU1RHXyKxccARuTgse4JdSLwlBACifjn0pW/LgByj3hfPjWopVor2UIgVBUu+46PW7xL/4H3aFCQoM3OXMUu+YURFgxLZkmMVtAXcBpatgIShgYOTWsj6+KFNuo+QVNkGxjBf4ePuydaKhtq3bmH8HawVlx3y8vMyboFi2V6lTiOPEOdh1yGeRK7Mo8Y1Bfd3G9eHqwMXAvoRuFrs2YZNYBF7LayXmUhe2VKL5K4+tgwIWJF1e5RqGEkld4LG/C/EEfG+5Xxn2kYslJ+FvmlGzqthYpByj+M9ZqEU9fkOlQB5cl2t2+vB4vdUObtWCY0tNwUeFq2zR4HcQrJxcHf1+8rhwK3y9vakVxx7g8qBN9myaI5HYA0+Nq5TvzaIAF8JNo1lKTshCINqP4B7M9uoi6cg0lJXpxYxabFETECa1EvFHdgCze32AACJiDYgpKIiMBVsB9g5AWB8INFq/BrEEy6wJQJYB7gUKyWbn3tgIxDJ7AiBIiighvhDTo4eoZn2tDvUJJRILtDwWVys/mB+IggvBvXAZOQFE4F15kKC8dXW+MYQA9fMQ8ffhWRIDC9u/R0dGmcuH5+TkUJuWLUXWAGKBv2MHZkdAYA9By5ZBIeJcSAMiSxHduYsw5e1Bx4MbwUgs0sLr8dWudVtqHx5RaRNYUdyUhbFdaDvhdkD8kNHoEd2NAk27YyHQii+cB39H7EJvyppIJPXELssfKmx3XGIwLGdrIZ4aGETQEagrKKp5M9BkTs8h+o+sAKwKzMAZYoPP8v0FL3KqMbJjZ+rZtbsYKMgaOOpxoD3n2CyP7NCRQg1txR5/ZRw/SNRq7S7HjiwE1mF04nOUwZrh//Das4kXbArgRQ4yYo+EblHRwuqBFZWZncVxk/K4QQ4HWDu178ApyxAR/EQ2JSk5ucZNYSUSe9Ho9fGWP1fyfoMDAz8jJ6QnawsGi4YtAAx8W6Y8LAWY4/WxsEfZ8l3Zat6RSL+yIKncxSmr8RywRHA8ApK2BAhWEvYJwN9l5kFSj6y6mpX1sOUvKokC9qhnawFLDmVBV4nkFoethHAl66BQyfl2ZmxBIpHcRIzGeGtBADaTZyZrAZsIhpNEIrkV0bLbEGHrDzbD9LAWDCrVdJJIJLckHJWKr+pvVebZCgsLkzln788Bs34kkUhuGThQvSwjO/utqv5e7do76UZIJLcc2hK9/jYRO6yCalf54IVqvX4YviWJRNLU0XG2IbY6QQA1Lv1L1+m0Kr1+OkkkkiaNnsexrWyDNXat3S0oLj7D8QUdxxdGk0QiaXpw+jEzJ2elPYfa/SRRYVHRARQlIZUqliQSSdOBBeFqdvYiew+v1eOFBUVFu6UwSCRNiFoKAqj1M8dSGCSSpgGnHudWl3qsilqUA6lIiL//WKNGs4rkMxISSWNDh6Bilk63hRzAYVEALf39ww0azU6S6xgkksaCFmlHe7IMVVGnkkX5xcU6V3f31WqVqplc+SiR3FywUrHUYHggU6e7QnWgznXMihnOTPzb09NTy2ZHDEl3QiJxNlqemOOuZmWtxHikOlIn98EWwQEBCzkIGU8SiaShEWUOUDGtplWKtaHeRQGYYg0LqRFWcJJIbhFWlej18+pTDBQaRBQULMQhlmQwUiKpKw1iGVjToKJgSVBg4DQ1Ww5GJ+4tIZHcCmCjFv5aXazXb25IMbC4nnOB9aDXaIaadqPCVzhJJBJLYBFs5uDhbmcJgSVOFwVrTC5GDN+EnhygjFGVZy/CjeX/ykyG5JaE+7nW9K2WU4nI3CUYVapktV6fgCeT6Sby/9vbEia/aRF5AAAAAElFTkSuQmCC",alt:"Illustration"})]})}),(0,R.jsx)("div",{className:"solution-image",children:(0,R.jsx)("img",{src:wr,alt:"Phone"})})]})]})};const Ir=n.p+"static/media/logo.4d20c7de450b4354d68a4135a28d2f73.svg";const Or=n.p+"static/media/orbit-2-guy.20b25cba5d192399859bda2d7bf721e8.svg";const zr=n.p+"static/media/orbit-1-headphones-guy.31bbf7a085111ddd2b9a425241968e61.svg";const Lr=n.p+"static/media/orbit-1-girl.9460d1f89650ebba9c878647e5531fe7.svg";const Dr=n.p+"static/media/orbit-1-dot.76150e073d604a8be1208b375780294b.svg";const Nr=n.p+"static/media/orbit-2-red-girl.fa48c58c55efb875037e386754fee3e3.svg";const Ur=n.p+"static/media/orbit-2-blonde-girl.d72ab1aab23a01b29c03fddb8a05543c.svg";const jr=n.p+"static/media/orbit-3-guy.33abe51e9eeedf315099d8c3ac0927d1.svg";const Fr=n.p+"static/media/orbit-3-glasses-guy.609630532a2bb757ae38eccc64bb4e28.svg";const Br=function(){return(0,R.jsxs)("div",{className:"image-orbit-wrapper",children:[(0,R.jsx)("div",{id:"orbit-logo",children:(0,R.jsx)("img",{src:Ir,alt:"logo"})}),(0,R.jsx)("div",{className:"orbit backwards",id:"orbit-empty"}),(0,R.jsxs)("div",{className:"orbit forwards",id:"orbit-1",children:[(0,R.jsx)("img",{className:"planet backwards",id:"orbit-1-guy",src:Or,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-1-headphones-guy",src:zr,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-1-girl",src:Lr,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-dot-1",src:Dr,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-dot-2",src:Dr,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-dot-3",src:Dr,alt:""})]}),(0,R.jsxs)("div",{className:"orbit backwards",id:"orbit-2",children:[(0,R.jsx)("img",{className:"planet forwards",id:"orbit-2-red-girl",src:Nr,alt:""}),(0,R.jsx)("img",{className:"planet forwards",id:"orbit-2-blonde-girl",src:Ur,alt:""})]}),(0,R.jsxs)("div",{className:"orbit forwards",id:"orbit-3",children:[(0,R.jsx)("img",{className:"planet backwards",id:"orbit-3-guy",src:jr,alt:""}),(0,R.jsx)("img",{className:"planet backwards",id:"orbit-3-glasses-guy",src:Fr,alt:""})]})]})};const Vr=function(){return(0,R.jsxs)("div",{id:"community",className:"section-wrapper",children:[(0,R.jsx)("div",{className:"section-header",children:"Join our community"}),(0,R.jsxs)("div",{className:"community-content",children:[(0,R.jsx)(Br,{}),(0,R.jsxs)("div",{className:"cta",children:[(0,R.jsxs)("div",{className:"section-subheader",children:["Join the universe",(0,R.jsx)("br",{}),"of streamers"]}),(0,R.jsx)("button",{className:"button button-gradient community-button",children:(0,R.jsx)("span",{children:"Join the Waitlist"})})]})]})]})};const Hr=n.p+"static/media/twitter-logo.2322cd4aaf46a4c88aa79883c6876bc9.svg";const Wr=n.p+"static/media/discord-logo.5aade34dca1b709c21657934b32aaeca.svg";const Gr=function(){return(0,R.jsx)("div",{className:"background-neutral-500",children:(0,R.jsx)("div",{id:"contact",className:"section-wrapper",children:(0,R.jsxs)("div",{className:"footer-wrapper",children:[(0,R.jsx)("img",{className:"footer-logo",src:hr,alt:"streamiverse"}),(0,R.jsxs)("div",{className:"nav-list footer-nav-list",children:[(0,R.jsxs)("ul",{className:"nav-set-1",children:[(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"#",children:"Contact Us"})}),(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"#",children:"FAQ"})}),(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"#",children:"Follow Us"})})]}),(0,R.jsxs)("ul",{className:"nav-set-2",children:[(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"#",children:"Terms of Service"})}),(0,R.jsx)("li",{children:(0,R.jsx)("a",{href:"#",children:"Privacy Policy"})})]})]}),(0,R.jsxs)("div",{className:"social-media",children:[(0,R.jsx)("a",{href:"https://codepen.io/alandunning/pen/bNNRvQ",children:(0,R.jsx)("img",{src:Wr,alt:"Discord link"})}),(0,R.jsx)("a",{href:"#",children:(0,R.jsx)("img",{src:Hr,alt:"Twitter link"})})]})]})})})};const qr=function(){const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(0),[a,o]=(0,e.useState)({width:window.innerWidth,height:window.innerHeight}),s=()=>{const e={width:window.innerWidth,height:window.innerHeight};var t;e.width!==a.width&&(o(e),i(((t=e.width)>=1440?689:t>=861?1212:t>=621?1144:2190)+(t>=1440?874:t>=861?940:t>=710?872:t>=621?1160:1912)+(t>=1440?1154:t>=1200?950:t>=861?1100:t>=621?1010:t>=489?912:t>=410?722:770)+(t>=1440?151:t>=887?272:t>=428?429:557)))};return(0,e.useEffect)((()=>{const e=(0,_t.getProject)("Streamiverse",{state:St}).sheet("Scene");return n(e),window.addEventListener("resize",s),s(),()=>{window.removeEventListener("resize",s)}}),[s]),(0,R.jsx)("div",{className:"app background-neutral-900",children:(0,R.jsx)(L,{id:"canvas",gl:{preserveDrawingBuffer:!0},children:(0,R.jsx)(ot,{pages:a.width<=1024?4+r/a.height:6+r/a.height,children:(0,R.jsx)(ut,{children:(0,R.jsxs)(xt.DB,{sheet:t,children:[(0,R.jsx)(fr,{}),(0,R.jsx)(wt,{className:"canvas-html",children:(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:"sticky blur",children:(0,R.jsx)(pr,{})}),(0,R.jsxs)("div",{className:"background-neutral-900",style:{marginTop:"".concat(a.width<=1024?4*a.height+r:6*a.height+r,"px")},children:[(0,R.jsx)(br,{}),(0,R.jsx)(Rr,{}),(0,R.jsx)(Vr,{}),(0,R.jsx)(Gr,{})]})]})})]})})})})},window.innerWidth+window.innerHeight)};const Xr=function(){return(0,R.jsx)("div",{className:"loading-screen background-neutral-900"})},Kr=t.createRoot(document.getElementById("root"));i().extend(a.A),i().initialize(),Kr.render((0,R.jsx)(e.StrictMode,{children:(0,R.jsx)(e.Suspense,{fallback:(0,R.jsx)(Xr,{}),children:(0,R.jsx)(qr,{})})}))})()})();
//# sourceMappingURL=main.96136e41.js.map